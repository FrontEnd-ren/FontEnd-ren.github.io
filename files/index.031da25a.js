function __vite_legacy_guard(){import("data:text/javascript,")}const p$1=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};p$1();function makeMap(a,r){const n=Object.create(null),o=a.split(",");for(let s=0;s<o.length;s++)n[o[s]]=!0;return r?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(a){return!!a||a===""}function normalizeStyle$1(a){if(isArray$4(a)){const r={};for(let n=0;n<a.length;n++){const o=a[n],s=isString$3(o)?parseStringStyle(o):normalizeStyle$1(o);if(s)for(const l in s)r[l]=s[l]}return r}else{if(isString$3(a))return a;if(isObject$b(a))return a}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(a){const r={};return a.split(listDelimiterRE).forEach(n=>{if(n){const o=n.split(propertyDelimiterRE);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function normalizeClass(a){let r="";if(isString$3(a))r=a;else if(isArray$4(a))for(let n=0;n<a.length;n++){const o=normalizeClass(a[n]);o&&(r+=o+" ")}else if(isObject$b(a))for(const n in a)a[n]&&(r+=n+" ");return r.trim()}const toDisplayString=a=>isString$3(a)?a:a==null?"":isArray$4(a)||isObject$b(a)&&(a.toString===objectToString$1||!isFunction$6(a.toString))?JSON.stringify(a,replacer,2):String(a),replacer=(a,r)=>r&&r.__v_isRef?replacer(a,r.value):isMap(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((n,[o,s])=>(n[`${o} =>`]=s,n),{})}:isSet(r)?{[`Set(${r.size})`]:[...r.values()]}:isObject$b(r)&&!isArray$4(r)&&!isPlainObject$2(r)?String(r):r,EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=a=>onRE.test(a),isModelListener=a=>a.startsWith("onUpdate:"),extend$4=Object.assign,remove$6=(a,r)=>{const n=a.indexOf(r);n>-1&&a.splice(n,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(a,r)=>hasOwnProperty$2.call(a,r),isArray$4=Array.isArray,isMap=a=>toTypeString(a)==="[object Map]",isSet=a=>toTypeString(a)==="[object Set]",isFunction$6=a=>typeof a=="function",isString$3=a=>typeof a=="string",isSymbol$1=a=>typeof a=="symbol",isObject$b=a=>a!==null&&typeof a=="object",isPromise$1=a=>isObject$b(a)&&isFunction$6(a.then)&&isFunction$6(a.catch),objectToString$1=Object.prototype.toString,toTypeString=a=>objectToString$1.call(a),toRawType=a=>toTypeString(a).slice(8,-1),isPlainObject$2=a=>toTypeString(a)==="[object Object]",isIntegerKey=a=>isString$3(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=a=>{const r=Object.create(null);return n=>r[n]||(r[n]=a(n))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction(a=>a.replace(camelizeRE$1,(r,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(a=>a.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(a=>a.charAt(0).toUpperCase()+a.slice(1)),toHandlerKey=cacheStringFunction(a=>a?`on${capitalize(a)}`:""),hasChanged=(a,r)=>!Object.is(a,r),invokeArrayFns=(a,r)=>{for(let n=0;n<a.length;n++)a[n](r)},def=(a,r,n)=>{Object.defineProperty(a,r,{configurable:!0,enumerable:!1,value:n})},toNumber$1=a=>{const r=parseFloat(a);return isNaN(r)?a:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,r()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(this.parent&&!r){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function effectScope(a){return new EffectScope(a)}function recordEffectScope(a,r=activeEffectScope){r&&r.active&&r.effects.push(a)}const createDep=a=>{const r=new Set(a);return r.w=0,r.n=0,r},wasTracked=a=>(a.w&trackOpBit)>0,newTracked=a=>(a.n&trackOpBit)>0,initDepMarkers=({deps:a})=>{if(a.length)for(let r=0;r<a.length;r++)a[r].w|=trackOpBit},finalizeDepMarkers=a=>{const{deps:r}=a;if(r.length){let n=0;for(let o=0;o<r.length;o++){const s=r[o];wasTracked(s)&&!newTracked(s)?s.delete(a):r[n++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}r.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,n=null,o){this.fn=r,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,o)}run(){if(!this.active)return this.fn();let r=activeEffect,n=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(a){const{deps:r}=a;if(r.length){for(let n=0;n<r.length;n++)r[n].delete(a);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const a=trackStack.pop();shouldTrack=a===void 0?!0:a}function track(a,r,n){if(shouldTrack&&activeEffect){let o=targetMap.get(a);o||targetMap.set(a,o=new Map);let s=o.get(n);s||o.set(n,s=createDep()),trackEffects(s)}}function trackEffects(a,r){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(a)||(a.n|=trackOpBit,n=!wasTracked(a)):n=!a.has(activeEffect),n&&(a.add(activeEffect),activeEffect.deps.push(a))}function trigger$2(a,r,n,o,s,l){const u=targetMap.get(a);if(!u)return;let c=[];if(r==="clear")c=[...u.values()];else if(n==="length"&&isArray$4(a))u.forEach((d,v)=>{(v==="length"||v>=o)&&c.push(d)});else switch(n!==void 0&&c.push(u.get(n)),r){case"add":isArray$4(a)?isIntegerKey(n)&&c.push(u.get("length")):(c.push(u.get(ITERATE_KEY)),isMap(a)&&c.push(u.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(a)||(c.push(u.get(ITERATE_KEY)),isMap(a)&&c.push(u.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(a)&&c.push(u.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const d=[];for(const v of c)v&&d.push(...v);triggerEffects(createDep(d))}}function triggerEffects(a,r){const n=isArray$4(a)?a:[...a];for(const o of n)o.computed&&triggerEffect(o);for(const o of n)o.computed||triggerEffect(o)}function triggerEffect(a,r){(a!==activeEffect||a.allowRecurse)&&(a.scheduler?a.scheduler():a.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(isSymbol$1)),get$4=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const a={};return["includes","indexOf","lastIndexOf"].forEach(r=>{a[r]=function(...n){const o=toRaw(this);for(let l=0,u=this.length;l<u;l++)track(o,"get",l+"");const s=o[r](...n);return s===-1||s===!1?o[r](...n.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(r=>{a[r]=function(...n){pauseTracking();const o=toRaw(this)[r].apply(this,n);return resetTracking(),o}}),a}function createGetter(a=!1,r=!1){return function(o,s,l){if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return r;if(s==="__v_raw"&&l===(a?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(o))return o;const u=isArray$4(o);if(!a&&u&&hasOwn$1(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,l);const c=Reflect.get(o,s,l);return(isSymbol$1(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(a||track(o,"get",s),r)?c:isRef(c)?u&&isIntegerKey(s)?c:c.value:isObject$b(c)?a?readonly(c):reactive(c):c}}const set$4=createSetter(),shallowSet=createSetter(!0);function createSetter(a=!1){return function(n,o,s,l){let u=n[o];if(isReadonly(u)&&isRef(u)&&!isRef(s))return!1;if(!a&&!isReadonly(s)&&(isShallow(s)||(s=toRaw(s),u=toRaw(u)),!isArray$4(n)&&isRef(u)&&!isRef(s)))return u.value=s,!0;const c=isArray$4(n)&&isIntegerKey(o)?Number(o)<n.length:hasOwn$1(n,o),d=Reflect.set(n,o,s,l);return n===toRaw(l)&&(c?hasChanged(s,u)&&trigger$2(n,"set",o,s):trigger$2(n,"add",o,s)),d}}function deleteProperty(a,r){const n=hasOwn$1(a,r);a[r];const o=Reflect.deleteProperty(a,r);return o&&n&&trigger$2(a,"delete",r,void 0),o}function has$2(a,r){const n=Reflect.has(a,r);return(!isSymbol$1(r)||!builtInSymbols.has(r))&&track(a,"has",r),n}function ownKeys(a){return track(a,"iterate",isArray$4(a)?"length":ITERATE_KEY),Reflect.ownKeys(a)}const mutableHandlers={get:get$4,set:set$4,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(a,r){return!0},deleteProperty(a,r){return!0}},shallowReactiveHandlers=extend$4({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=a=>a,getProto=a=>Reflect.getPrototypeOf(a);function get$1$2(a,r,n=!1,o=!1){a=a.__v_raw;const s=toRaw(a),l=toRaw(r);n||(r!==l&&track(s,"get",r),track(s,"get",l));const{has:u}=getProto(s),c=o?toShallow:n?toReadonly:toReactive;if(u.call(s,r))return c(a.get(r));if(u.call(s,l))return c(a.get(l));a!==s&&a.get(r)}function has$1$1(a,r=!1){const n=this.__v_raw,o=toRaw(n),s=toRaw(a);return r||(a!==s&&track(o,"has",a),track(o,"has",s)),a===s?n.has(a):n.has(a)||n.has(s)}function size(a,r=!1){return a=a.__v_raw,!r&&track(toRaw(a),"iterate",ITERATE_KEY),Reflect.get(a,"size",a)}function add$2(a){a=toRaw(a);const r=toRaw(this);return getProto(r).has.call(r,a)||(r.add(a),trigger$2(r,"add",a,a)),this}function set$1$2(a,r){r=toRaw(r);const n=toRaw(this),{has:o,get:s}=getProto(n);let l=o.call(n,a);l||(a=toRaw(a),l=o.call(n,a));const u=s.call(n,a);return n.set(a,r),l?hasChanged(r,u)&&trigger$2(n,"set",a,r):trigger$2(n,"add",a,r),this}function deleteEntry(a){const r=toRaw(this),{has:n,get:o}=getProto(r);let s=n.call(r,a);s||(a=toRaw(a),s=n.call(r,a)),o&&o.call(r,a);const l=r.delete(a);return s&&trigger$2(r,"delete",a,void 0),l}function clear$2(){const a=toRaw(this),r=a.size!==0,n=a.clear();return r&&trigger$2(a,"clear",void 0,void 0),n}function createForEach(a,r){return function(o,s){const l=this,u=l.__v_raw,c=toRaw(u),d=r?toShallow:a?toReadonly:toReactive;return!a&&track(c,"iterate",ITERATE_KEY),u.forEach((v,g)=>o.call(s,d(v),d(g),l))}}function createIterableMethod(a,r,n){return function(...o){const s=this.__v_raw,l=toRaw(s),u=isMap(l),c=a==="entries"||a===Symbol.iterator&&u,d=a==="keys"&&u,v=s[a](...o),g=n?toShallow:r?toReadonly:toReactive;return!r&&track(l,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:y,done:_}=v.next();return _?{value:y,done:_}:{value:c?[g(y[0]),g(y[1])]:g(y),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(a){return function(...r){return a==="delete"?!1:this}}function createInstrumentations(){const a={get(l){return get$1$2(this,l)},get size(){return size(this)},has:has$1$1,add:add$2,set:set$1$2,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},r={get(l){return get$1$2(this,l,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$2,set:set$1$2,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},n={get(l){return get$1$2(this,l,!0)},get size(){return size(this,!0)},has(l){return has$1$1.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(l){return get$1$2(this,l,!0,!0)},get size(){return size(this,!0)},has(l){return has$1$1.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{a[l]=createIterableMethod(l,!1,!1),n[l]=createIterableMethod(l,!0,!1),r[l]=createIterableMethod(l,!1,!0),o[l]=createIterableMethod(l,!0,!0)}),[a,n,r,o]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(a,r){const n=r?a?shallowReadonlyInstrumentations:shallowInstrumentations:a?readonlyInstrumentations:mutableInstrumentations;return(o,s,l)=>s==="__v_isReactive"?!a:s==="__v_isReadonly"?a:s==="__v_raw"?o:Reflect.get(hasOwn$1(n,s)&&s in o?n:o,s,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(a){return a.__v_skip||!Object.isExtensible(a)?0:targetTypeMap(toRawType(a))}function reactive(a){return isReadonly(a)?a:createReactiveObject(a,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(a){return createReactiveObject(a,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(a){return createReactiveObject(a,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(a,r,n,o,s){if(!isObject$b(a)||a.__v_raw&&!(r&&a.__v_isReactive))return a;const l=s.get(a);if(l)return l;const u=getTargetType(a);if(u===0)return a;const c=new Proxy(a,u===2?o:n);return s.set(a,c),c}function isReactive(a){return isReadonly(a)?isReactive(a.__v_raw):!!(a&&a.__v_isReactive)}function isReadonly(a){return!!(a&&a.__v_isReadonly)}function isShallow(a){return!!(a&&a.__v_isShallow)}function isProxy(a){return isReactive(a)||isReadonly(a)}function toRaw(a){const r=a&&a.__v_raw;return r?toRaw(r):a}function markRaw(a){return def(a,"__v_skip",!0),a}const toReactive=a=>isObject$b(a)?reactive(a):a,toReadonly=a=>isObject$b(a)?readonly(a):a;function trackRefValue(a){shouldTrack&&activeEffect&&(a=toRaw(a),trackEffects(a.dep||(a.dep=createDep())))}function triggerRefValue(a,r){a=toRaw(a),a.dep&&triggerEffects(a.dep)}function isRef(a){return!!(a&&a.__v_isRef===!0)}function ref(a){return createRef(a,!1)}function shallowRef(a){return createRef(a,!0)}function createRef(a,r){return isRef(a)?a:new RefImpl(a,r)}class RefImpl{constructor(r,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?r:toRaw(r),this._value=n?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){r=this.__v_isShallow?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:toReactive(r),triggerRefValue(this))}}function unref(a){return isRef(a)?a.value:a}const shallowUnwrapHandlers={get:(a,r,n)=>unref(Reflect.get(a,r,n)),set:(a,r,n,o)=>{const s=a[r];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(a,r,n,o)}};function proxyRefs(a){return isReactive(a)?a:new Proxy(a,shallowUnwrapHandlers)}function toRefs(a){const r=isArray$4(a)?new Array(a.length):{};for(const n in a)r[n]=toRef(a,n);return r}class ObjectRefImpl{constructor(r,n,o){this._object=r,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}}function toRef(a,r,n){const o=a[r];return isRef(o)?o:new ObjectRefImpl(a,r,n)}class ComputedRefImpl{constructor(r,n,o,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function computed$1(a,r,n=!1){let o,s;const l=isFunction$6(a);return l?(o=a,s=NOOP):(o=a.get,s=a.set),new ComputedRefImpl(o,s,l||!s,n)}function callWithErrorHandling(a,r,n,o){let s;try{s=o?a(...o):a()}catch(l){handleError(l,r,n)}return s}function callWithAsyncErrorHandling(a,r,n,o){if(isFunction$6(a)){const l=callWithErrorHandling(a,r,n,o);return l&&isPromise$1(l)&&l.catch(u=>{handleError(u,r,n)}),l}const s=[];for(let l=0;l<a.length;l++)s.push(callWithAsyncErrorHandling(a[l],r,n,o));return s}function handleError(a,r,n,o=!0){const s=r?r.vnode:null;if(r){let l=r.parent;const u=r.proxy,c=n;for(;l;){const v=l.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](a,u,c)===!1)return}l=l.parent}const d=r.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[a,u,c]);return}}logError$1(a,n,s,o)}function logError$1(a,r,n,o=!0){console.error(a)}let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(a){const r=currentFlushPromise||resolvedPromise;return a?r.then(this?a.bind(this):a):r}function findInsertionIndex(a){let r=flushIndex+1,n=queue$1.length;for(;r<n;){const o=r+n>>>1;getId$2(queue$1[o])<a?r=o+1:n=o}return r}function queueJob(a){(!queue$1.length||!queue$1.includes(a,isFlushing&&a.allowRecurse?flushIndex+1:flushIndex))&&a!==currentPreFlushParentJob&&(a.id==null?queue$1.push(a):queue$1.splice(findInsertionIndex(a.id),0,a),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(a){const r=queue$1.indexOf(a);r>flushIndex&&queue$1.splice(r,1)}function queueCb(a,r,n,o){isArray$4(a)?n.push(...a):(!r||!r.includes(a,a.allowRecurse?o+1:o))&&n.push(a),queueFlush()}function queuePreFlushCb(a){queueCb(a,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(a){queueCb(a,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(a,r=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=r,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(a,r)}}function flushPostFlushCbs(a){if(flushPreFlushCbs(),pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((n,o)=>getId$2(n)-getId$2(o)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$2=a=>a.id==null?1/0:a.id;function flushJobs(a){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(a),queue$1.sort((n,o)=>getId$2(n)-getId$2(o));const r=NOOP;try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const n=queue$1[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(a)}}function emit$1(a,r,...n){if(a.isUnmounted)return;const o=a.vnode.props||EMPTY_OBJ$1;let s=n;const l=r.startsWith("update:"),u=l&&r.slice(7);if(u&&u in o){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:y,trim:_}=o[g]||EMPTY_OBJ$1;_&&(s=n.map(S=>S.trim())),y&&(s=n.map(toNumber$1))}let c,d=o[c=toHandlerKey(r)]||o[c=toHandlerKey(camelize$1(r))];!d&&l&&(d=o[c=toHandlerKey(hyphenate(r))]),d&&callWithAsyncErrorHandling(d,a,6,s);const v=o[c+"Once"];if(v){if(!a.emitted)a.emitted={};else if(a.emitted[c])return;a.emitted[c]=!0,callWithAsyncErrorHandling(v,a,6,s)}}function normalizeEmitsOptions(a,r,n=!1){const o=r.emitsCache,s=o.get(a);if(s!==void 0)return s;const l=a.emits;let u={},c=!1;if(!isFunction$6(a)){const d=v=>{const g=normalizeEmitsOptions(v,r,!0);g&&(c=!0,extend$4(u,g))};!n&&r.mixins.length&&r.mixins.forEach(d),a.extends&&d(a.extends),a.mixins&&a.mixins.forEach(d)}return!l&&!c?(o.set(a,null),null):(isArray$4(l)?l.forEach(d=>u[d]=null):extend$4(u,l),o.set(a,u),u)}function isEmitListener(a,r){return!a||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn$1(a,r[0].toLowerCase()+r.slice(1))||hasOwn$1(a,hyphenate(r))||hasOwn$1(a,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(a){const r=currentRenderingInstance;return currentRenderingInstance=a,currentScopeId=a&&a.type.__scopeId||null,r}function pushScopeId(a){currentScopeId=a}function popScopeId(){currentScopeId=null}function withCtx(a,r=currentRenderingInstance,n){if(!r||a._n)return a;const o=(...s)=>{o._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(r),u=a(...s);return setCurrentRenderingInstance(l),o._d&&setBlockTracking(1),u};return o._n=!0,o._c=!0,o._d=!0,o}function markAttrsAccessed(){}function renderComponentRoot(a){const{type:r,vnode:n,proxy:o,withProxy:s,props:l,propsOptions:[u],slots:c,attrs:d,emit:v,render:g,renderCache:y,data:_,setupState:S,ctx:x,inheritAttrs:T}=a;let b,A;const w=setCurrentRenderingInstance(a);try{if(n.shapeFlag&4){const C=s||o;b=normalizeVNode(g.call(C,C,y,l,S,_,x)),A=d}else{const C=r;b=normalizeVNode(C.length>1?C(l,{attrs:d,slots:c,emit:v}):C(l,null)),A=r.props?d:getFunctionalFallthrough(d)}}catch(C){blockStack.length=0,handleError(C,a,1),b=createVNode$1(Comment)}let $=b;if(A&&T!==!1){const C=Object.keys(A),{shapeFlag:P}=$;C.length&&P&7&&(u&&C.some(isModelListener)&&(A=filterModelListeners(A,u)),$=cloneVNode($,A))}return n.dirs&&($=cloneVNode($),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),b=$,setCurrentRenderingInstance(w),b}const getFunctionalFallthrough=a=>{let r;for(const n in a)(n==="class"||n==="style"||isOn(n))&&((r||(r={}))[n]=a[n]);return r},filterModelListeners=(a,r)=>{const n={};for(const o in a)(!isModelListener(o)||!(o.slice(9)in r))&&(n[o]=a[o]);return n};function shouldUpdateComponent(a,r,n){const{props:o,children:s,component:l}=a,{props:u,children:c,patchFlag:d}=r,v=l.emitsOptions;if(r.dirs||r.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return o?hasPropsChanged(o,u,v):!!u;if(d&8){const g=r.dynamicProps;for(let y=0;y<g.length;y++){const _=g[y];if(u[_]!==o[_]&&!isEmitListener(v,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:o===u?!1:o?u?hasPropsChanged(o,u,v):!0:!!u;return!1}function hasPropsChanged(a,r,n){const o=Object.keys(r);if(o.length!==Object.keys(a).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(r[l]!==a[l]&&!isEmitListener(n,l))return!0}return!1}function updateHOCHostEl({vnode:a,parent:r},n){for(;r&&r.subTree===a;)(a=r.vnode).el=n,r=r.parent}const isSuspense=a=>a.__isSuspense;function queueEffectWithSuspense(a,r){r&&r.pendingBranch?isArray$4(a)?r.effects.push(...a):r.effects.push(a):queuePostFlushCb(a)}function provide(a,r){if(currentInstance){let n=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===n&&(n=currentInstance.provides=Object.create(o)),n[a]=r}}function inject(a,r,n=!1){const o=currentInstance||currentRenderingInstance;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&a in s)return s[a];if(arguments.length>1)return n&&isFunction$6(r)?r.call(o.proxy):r}}const INITIAL_WATCHER_VALUE={};function watch(a,r,n){return doWatch(a,r,n)}function doWatch(a,r,{immediate:n,deep:o,flush:s,onTrack:l,onTrigger:u}=EMPTY_OBJ$1){const c=currentInstance;let d,v=!1,g=!1;if(isRef(a)?(d=()=>a.value,v=isShallow(a)):isReactive(a)?(d=()=>a,o=!0):isArray$4(a)?(g=!0,v=a.some(A=>isReactive(A)||isShallow(A)),d=()=>a.map(A=>{if(isRef(A))return A.value;if(isReactive(A))return traverse(A);if(isFunction$6(A))return callWithErrorHandling(A,c,2)})):isFunction$6(a)?r?d=()=>callWithErrorHandling(a,c,2):d=()=>{if(!(c&&c.isUnmounted))return y&&y(),callWithAsyncErrorHandling(a,c,3,[_])}:d=NOOP,r&&o){const A=d;d=()=>traverse(A())}let y,_=A=>{y=b.onStop=()=>{callWithErrorHandling(A,c,4)}};if(isInSSRComponentSetup)return _=NOOP,r?n&&callWithAsyncErrorHandling(r,c,3,[d(),g?[]:void 0,_]):d(),NOOP;let S=g?[]:INITIAL_WATCHER_VALUE;const x=()=>{if(!!b.active)if(r){const A=b.run();(o||v||(g?A.some((w,$)=>hasChanged(w,S[$])):hasChanged(A,S)))&&(y&&y(),callWithAsyncErrorHandling(r,c,3,[A,S===INITIAL_WATCHER_VALUE?void 0:S,_]),S=A)}else b.run()};x.allowRecurse=!!r;let T;s==="sync"?T=x:s==="post"?T=()=>queuePostRenderEffect(x,c&&c.suspense):T=()=>queuePreFlushCb(x);const b=new ReactiveEffect(d,T);return r?n?x():S=b.run():s==="post"?queuePostRenderEffect(b.run.bind(b),c&&c.suspense):b.run(),()=>{b.stop(),c&&c.scope&&remove$6(c.scope.effects,b)}}function instanceWatch(a,r,n){const o=this.proxy,s=isString$3(a)?a.includes(".")?createPathGetter(o,a):()=>o[a]:a.bind(o,o);let l;isFunction$6(r)?l=r:(l=r.handler,n=r);const u=currentInstance;setCurrentInstance(this);const c=doWatch(s,l.bind(o),n);return u?setCurrentInstance(u):unsetCurrentInstance(),c}function createPathGetter(a,r){const n=r.split(".");return()=>{let o=a;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}function traverse(a,r){if(!isObject$b(a)||a.__v_skip||(r=r||new Set,r.has(a)))return a;if(r.add(a),isRef(a))traverse(a.value,r);else if(isArray$4(a))for(let n=0;n<a.length;n++)traverse(a[n],r);else if(isSet(a)||isMap(a))a.forEach(n=>{traverse(n,r)});else if(isPlainObject$2(a))for(const n in a)traverse(a[n],r);return a}function useTransitionState(){const a={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{a.isMounted=!0}),onBeforeUnmount(()=>{a.isUnmounting=!0}),a}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(a,{slots:r}){const n=getCurrentInstance(),o=useTransitionState();let s;return()=>{const l=r.default&&getTransitionRawChildren(r.default(),!0);if(!l||!l.length)return;let u=l[0];if(l.length>1){for(const T of l)if(T.type!==Comment){u=T;break}}const c=toRaw(a),{mode:d}=c;if(o.isLeaving)return emptyPlaceholder(u);const v=getKeepAliveChild(u);if(!v)return emptyPlaceholder(u);const g=resolveTransitionHooks(v,c,o,n);setTransitionHooks(v,g);const y=n.subTree,_=y&&getKeepAliveChild(y);let S=!1;const{getTransitionKey:x}=v.type;if(x){const T=x();s===void 0?s=T:T!==s&&(s=T,S=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(v,_)||S)){const T=resolveTransitionHooks(_,c,o,n);if(setTransitionHooks(_,T),d==="out-in")return o.isLeaving=!0,T.afterLeave=()=>{o.isLeaving=!1,n.update()},emptyPlaceholder(u);d==="in-out"&&v.type!==Comment&&(T.delayLeave=(b,A,w)=>{const $=getLeavingNodesForType(o,_);$[String(_.key)]=_,b._leaveCb=()=>{A(),b._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=w})}return u}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(a,r){const{leavingVNodes:n}=a;let o=n.get(r.type);return o||(o=Object.create(null),n.set(r.type,o)),o}function resolveTransitionHooks(a,r,n,o){const{appear:s,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:v,onEnterCancelled:g,onBeforeLeave:y,onLeave:_,onAfterLeave:S,onLeaveCancelled:x,onBeforeAppear:T,onAppear:b,onAfterAppear:A,onAppearCancelled:w}=r,$=String(a.key),C=getLeavingNodesForType(n,a),P=(D,I)=>{D&&callWithAsyncErrorHandling(D,o,9,I)},M=(D,I)=>{const R=I[1];P(D,I),isArray$4(D)?D.every(L=>L.length<=1)&&R():D.length<=1&&R()},E={mode:l,persisted:u,beforeEnter(D){let I=c;if(!n.isMounted)if(s)I=T||c;else return;D._leaveCb&&D._leaveCb(!0);const R=C[$];R&&isSameVNodeType(a,R)&&R.el._leaveCb&&R.el._leaveCb(),P(I,[D])},enter(D){let I=d,R=v,L=g;if(!n.isMounted)if(s)I=b||d,R=A||v,L=w||g;else return;let O=!1;const N=D._enterCb=F=>{O||(O=!0,F?P(L,[D]):P(R,[D]),E.delayedLeave&&E.delayedLeave(),D._enterCb=void 0)};I?M(I,[D,N]):N()},leave(D,I){const R=String(a.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return I();P(y,[D]);let L=!1;const O=D._leaveCb=N=>{L||(L=!0,I(),N?P(x,[D]):P(S,[D]),D._leaveCb=void 0,C[R]===a&&delete C[R])};C[R]=a,_?M(_,[D,O]):O()},clone(D){return resolveTransitionHooks(D,r,n,o)}};return E}function emptyPlaceholder(a){if(isKeepAlive(a))return a=cloneVNode(a),a.children=null,a}function getKeepAliveChild(a){return isKeepAlive(a)?a.children?a.children[0]:void 0:a}function setTransitionHooks(a,r){a.shapeFlag&6&&a.component?setTransitionHooks(a.component.subTree,r):a.shapeFlag&128?(a.ssContent.transition=r.clone(a.ssContent),a.ssFallback.transition=r.clone(a.ssFallback)):a.transition=r}function getTransitionRawChildren(a,r=!1,n){let o=[],s=0;for(let l=0;l<a.length;l++){let u=a[l];const c=n==null?u.key:String(n)+String(u.key!=null?u.key:l);u.type===Fragment?(u.patchFlag&128&&s++,o=o.concat(getTransitionRawChildren(u.children,r,c))):(r||u.type!==Comment)&&o.push(c!=null?cloneVNode(u,{key:c}):u)}if(s>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function defineComponent(a){return isFunction$6(a)?{setup:a,name:a.name}:a}const isAsyncWrapper=a=>!!a.type.__asyncLoader,isKeepAlive=a=>a.type.__isKeepAlive;function onActivated(a,r){registerKeepAliveHook(a,"a",r)}function onDeactivated(a,r){registerKeepAliveHook(a,"da",r)}function registerKeepAliveHook(a,r,n=currentInstance){const o=a.__wdc||(a.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return a()});if(injectHook(r,o,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(o,r,n,s),s=s.parent}}function injectToKeepAliveRoot(a,r,n,o){const s=injectHook(r,a,o,!0);onUnmounted(()=>{remove$6(o[r],s)},n)}function injectHook(a,r,n=currentInstance,o=!1){if(n){const s=n[a]||(n[a]=[]),l=r.__weh||(r.__weh=(...u)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(r,n,a,u);return unsetCurrentInstance(),resetTracking(),c});return o?s.unshift(l):s.push(l),l}}const createHook=a=>(r,n=currentInstance)=>(!isInSSRComponentSetup||a==="sp")&&injectHook(a,r,n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(a,r=currentInstance){injectHook("ec",a,r)}function withDirectives(a,r){const n=currentRenderingInstance;if(n===null)return a;const o=getExposeProxy(n)||n.proxy,s=a.dirs||(a.dirs=[]);for(let l=0;l<r.length;l++){let[u,c,d,v=EMPTY_OBJ$1]=r[l];isFunction$6(u)&&(u={mounted:u,updated:u}),u.deep&&traverse(c),s.push({dir:u,instance:o,value:c,oldValue:void 0,arg:d,modifiers:v})}return a}function invokeDirectiveHook(a,r,n,o){const s=a.dirs,l=r&&r.dirs;for(let u=0;u<s.length;u++){const c=s[u];l&&(c.oldValue=l[u].value);let d=c.dir[o];d&&(pauseTracking(),callWithAsyncErrorHandling(d,n,8,[a.el,c,a,r]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(a,r){return resolveAsset(COMPONENTS,a,!0,r)||a}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDirective(a){return resolveAsset(DIRECTIVES,a)}function resolveAsset(a,r,n=!0,o=!1){const s=currentRenderingInstance||currentInstance;if(s){const l=s.type;if(a===COMPONENTS){const c=getComponentName(l,!1);if(c&&(c===r||c===camelize$1(r)||c===capitalize(camelize$1(r))))return l}const u=resolve(s[a]||l[a],r)||resolve(s.appContext[a],r);return!u&&o?l:u}}function resolve(a,r){return a&&(a[r]||a[camelize$1(r)]||a[capitalize(camelize$1(r))])}function renderList(a,r,n,o){let s;const l=n&&n[o];if(isArray$4(a)||isString$3(a)){s=new Array(a.length);for(let u=0,c=a.length;u<c;u++)s[u]=r(a[u],u,void 0,l&&l[u])}else if(typeof a=="number"){s=new Array(a);for(let u=0;u<a;u++)s[u]=r(u+1,u,void 0,l&&l[u])}else if(isObject$b(a))if(a[Symbol.iterator])s=Array.from(a,(u,c)=>r(u,c,void 0,l&&l[c]));else{const u=Object.keys(a);s=new Array(u.length);for(let c=0,d=u.length;c<d;c++){const v=u[c];s[c]=r(a[v],v,c,l&&l[c])}}else s=[];return n&&(n[o]=s),s}const getPublicInstance=a=>a?isStatefulComponent(a)?getExposeProxy(a)||a.proxy:getPublicInstance(a.parent):null,publicPropertiesMap=extend$4(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>getPublicInstance(a.parent),$root:a=>getPublicInstance(a.root),$emit:a=>a.emit,$options:a=>resolveMergedOptions(a),$forceUpdate:a=>a.f||(a.f=()=>queueJob(a.update)),$nextTick:a=>a.n||(a.n=nextTick.bind(a.proxy)),$watch:a=>instanceWatch.bind(a)}),PublicInstanceProxyHandlers={get({_:a},r){const{ctx:n,setupState:o,data:s,props:l,accessCache:u,type:c,appContext:d}=a;let v;if(r[0]!=="$"){const S=u[r];if(S!==void 0)switch(S){case 1:return o[r];case 2:return s[r];case 4:return n[r];case 3:return l[r]}else{if(o!==EMPTY_OBJ$1&&hasOwn$1(o,r))return u[r]=1,o[r];if(s!==EMPTY_OBJ$1&&hasOwn$1(s,r))return u[r]=2,s[r];if((v=a.propsOptions[0])&&hasOwn$1(v,r))return u[r]=3,l[r];if(n!==EMPTY_OBJ$1&&hasOwn$1(n,r))return u[r]=4,n[r];shouldCacheAccess&&(u[r]=0)}}const g=publicPropertiesMap[r];let y,_;if(g)return r==="$attrs"&&track(a,"get",r),g(a);if((y=c.__cssModules)&&(y=y[r]))return y;if(n!==EMPTY_OBJ$1&&hasOwn$1(n,r))return u[r]=4,n[r];if(_=d.config.globalProperties,hasOwn$1(_,r))return _[r]},set({_:a},r,n){const{data:o,setupState:s,ctx:l}=a;return s!==EMPTY_OBJ$1&&hasOwn$1(s,r)?(s[r]=n,!0):o!==EMPTY_OBJ$1&&hasOwn$1(o,r)?(o[r]=n,!0):hasOwn$1(a.props,r)||r[0]==="$"&&r.slice(1)in a?!1:(l[r]=n,!0)},has({_:{data:a,setupState:r,accessCache:n,ctx:o,appContext:s,propsOptions:l}},u){let c;return!!n[u]||a!==EMPTY_OBJ$1&&hasOwn$1(a,u)||r!==EMPTY_OBJ$1&&hasOwn$1(r,u)||(c=l[0])&&hasOwn$1(c,u)||hasOwn$1(o,u)||hasOwn$1(publicPropertiesMap,u)||hasOwn$1(s.config.globalProperties,u)},defineProperty(a,r,n){return n.get!=null?a._.accessCache[r]=0:hasOwn$1(n,"value")&&this.set(a,r,n.value,null),Reflect.defineProperty(a,r,n)}};let shouldCacheAccess=!0;function applyOptions(a){const r=resolveMergedOptions(a),n=a.proxy,o=a.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook$1(r.beforeCreate,a,"bc");const{data:s,computed:l,methods:u,watch:c,provide:d,inject:v,created:g,beforeMount:y,mounted:_,beforeUpdate:S,updated:x,activated:T,deactivated:b,beforeDestroy:A,beforeUnmount:w,destroyed:$,unmounted:C,render:P,renderTracked:M,renderTriggered:E,errorCaptured:D,serverPrefetch:I,expose:R,inheritAttrs:L,components:O,directives:N,filters:F}=r;if(v&&resolveInjections(v,o,null,a.appContext.config.unwrapInjectedRef),u)for(const U in u){const H=u[U];isFunction$6(H)&&(o[U]=H.bind(n))}if(s){const U=s.call(n,n);isObject$b(U)&&(a.data=reactive(U))}if(shouldCacheAccess=!0,l)for(const U in l){const H=l[U],Y=isFunction$6(H)?H.bind(n,n):isFunction$6(H.get)?H.get.bind(n,n):NOOP,X=!isFunction$6(H)&&isFunction$6(H.set)?H.set.bind(n):NOOP,te=computed({get:Y,set:X});Object.defineProperty(o,U,{enumerable:!0,configurable:!0,get:()=>te.value,set:oe=>te.value=oe})}if(c)for(const U in c)createWatcher(c[U],o,n,U);if(d){const U=isFunction$6(d)?d.call(n):d;Reflect.ownKeys(U).forEach(H=>{provide(H,U[H])})}g&&callHook$1(g,a,"c");function z(U,H){isArray$4(H)?H.forEach(Y=>U(Y.bind(n))):H&&U(H.bind(n))}if(z(onBeforeMount,y),z(onMounted,_),z(onBeforeUpdate,S),z(onUpdated,x),z(onActivated,T),z(onDeactivated,b),z(onErrorCaptured,D),z(onRenderTracked,M),z(onRenderTriggered,E),z(onBeforeUnmount,w),z(onUnmounted,C),z(onServerPrefetch,I),isArray$4(R))if(R.length){const U=a.exposed||(a.exposed={});R.forEach(H=>{Object.defineProperty(U,H,{get:()=>n[H],set:Y=>n[H]=Y})})}else a.exposed||(a.exposed={});P&&a.render===NOOP&&(a.render=P),L!=null&&(a.inheritAttrs=L),O&&(a.components=O),N&&(a.directives=N)}function resolveInjections(a,r,n=NOOP,o=!1){isArray$4(a)&&(a=normalizeInject(a));for(const s in a){const l=a[s];let u;isObject$b(l)?"default"in l?u=inject(l.from||s,l.default,!0):u=inject(l.from||s):u=inject(l),isRef(u)&&o?Object.defineProperty(r,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:c=>u.value=c}):r[s]=u}}function callHook$1(a,r,n){callWithAsyncErrorHandling(isArray$4(a)?a.map(o=>o.bind(r.proxy)):a.bind(r.proxy),r,n)}function createWatcher(a,r,n,o){const s=o.includes(".")?createPathGetter(n,o):()=>n[o];if(isString$3(a)){const l=r[a];isFunction$6(l)&&watch(s,l)}else if(isFunction$6(a))watch(s,a.bind(n));else if(isObject$b(a))if(isArray$4(a))a.forEach(l=>createWatcher(l,r,n,o));else{const l=isFunction$6(a.handler)?a.handler.bind(n):r[a.handler];isFunction$6(l)&&watch(s,l,a)}}function resolveMergedOptions(a){const r=a.type,{mixins:n,extends:o}=r,{mixins:s,optionsCache:l,config:{optionMergeStrategies:u}}=a.appContext,c=l.get(r);let d;return c?d=c:!s.length&&!n&&!o?d=r:(d={},s.length&&s.forEach(v=>mergeOptions$1(d,v,u,!0)),mergeOptions$1(d,r,u)),l.set(r,d),d}function mergeOptions$1(a,r,n,o=!1){const{mixins:s,extends:l}=r;l&&mergeOptions$1(a,l,n,!0),s&&s.forEach(u=>mergeOptions$1(a,u,n,!0));for(const u in r)if(!(o&&u==="expose")){const c=internalOptionMergeStrats[u]||n&&n[u];a[u]=c?c(a[u],r[u]):r[u]}return a}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(a,r){return r?a?function(){return extend$4(isFunction$6(a)?a.call(this,this):a,isFunction$6(r)?r.call(this,this):r)}:r:a}function mergeInject(a,r){return mergeObjectOptions(normalizeInject(a),normalizeInject(r))}function normalizeInject(a){if(isArray$4(a)){const r={};for(let n=0;n<a.length;n++)r[a[n]]=a[n];return r}return a}function mergeAsArray(a,r){return a?[...new Set([].concat(a,r))]:r}function mergeObjectOptions(a,r){return a?extend$4(extend$4(Object.create(null),a),r):r}function mergeWatchOptions(a,r){if(!a)return r;if(!r)return a;const n=extend$4(Object.create(null),a);for(const o in r)n[o]=mergeAsArray(a[o],r[o]);return n}function initProps$1(a,r,n,o=!1){const s={},l={};def(l,InternalObjectKey,1),a.propsDefaults=Object.create(null),setFullProps(a,r,s,l);for(const u in a.propsOptions[0])u in s||(s[u]=void 0);n?a.props=o?s:shallowReactive(s):a.type.props?a.props=s:a.props=l,a.attrs=l}function updateProps$2(a,r,n,o){const{props:s,attrs:l,vnode:{patchFlag:u}}=a,c=toRaw(s),[d]=a.propsOptions;let v=!1;if((o||u>0)&&!(u&16)){if(u&8){const g=a.vnode.dynamicProps;for(let y=0;y<g.length;y++){let _=g[y];if(isEmitListener(a.emitsOptions,_))continue;const S=r[_];if(d)if(hasOwn$1(l,_))S!==l[_]&&(l[_]=S,v=!0);else{const x=camelize$1(_);s[x]=resolvePropValue(d,c,x,S,a,!1)}else S!==l[_]&&(l[_]=S,v=!0)}}}else{setFullProps(a,r,s,l)&&(v=!0);let g;for(const y in c)(!r||!hasOwn$1(r,y)&&((g=hyphenate(y))===y||!hasOwn$1(r,g)))&&(d?n&&(n[y]!==void 0||n[g]!==void 0)&&(s[y]=resolvePropValue(d,c,y,void 0,a,!0)):delete s[y]);if(l!==c)for(const y in l)(!r||!hasOwn$1(r,y)&&!0)&&(delete l[y],v=!0)}v&&trigger$2(a,"set","$attrs")}function setFullProps(a,r,n,o){const[s,l]=a.propsOptions;let u=!1,c;if(r)for(let d in r){if(isReservedProp(d))continue;const v=r[d];let g;s&&hasOwn$1(s,g=camelize$1(d))?!l||!l.includes(g)?n[g]=v:(c||(c={}))[g]=v:isEmitListener(a.emitsOptions,d)||(!(d in o)||v!==o[d])&&(o[d]=v,u=!0)}if(l){const d=toRaw(n),v=c||EMPTY_OBJ$1;for(let g=0;g<l.length;g++){const y=l[g];n[y]=resolvePropValue(s,d,y,v[y],a,!hasOwn$1(v,y))}}return u}function resolvePropValue(a,r,n,o,s,l){const u=a[n];if(u!=null){const c=hasOwn$1(u,"default");if(c&&o===void 0){const d=u.default;if(u.type!==Function&&isFunction$6(d)){const{propsDefaults:v}=s;n in v?o=v[n]:(setCurrentInstance(s),o=v[n]=d.call(null,r),unsetCurrentInstance())}else o=d}u[0]&&(l&&!c?o=!1:u[1]&&(o===""||o===hyphenate(n))&&(o=!0))}return o}function normalizePropsOptions(a,r,n=!1){const o=r.propsCache,s=o.get(a);if(s)return s;const l=a.props,u={},c=[];let d=!1;if(!isFunction$6(a)){const g=y=>{d=!0;const[_,S]=normalizePropsOptions(y,r,!0);extend$4(u,_),S&&c.push(...S)};!n&&r.mixins.length&&r.mixins.forEach(g),a.extends&&g(a.extends),a.mixins&&a.mixins.forEach(g)}if(!l&&!d)return o.set(a,EMPTY_ARR),EMPTY_ARR;if(isArray$4(l))for(let g=0;g<l.length;g++){const y=camelize$1(l[g]);validatePropName(y)&&(u[y]=EMPTY_OBJ$1)}else if(l)for(const g in l){const y=camelize$1(g);if(validatePropName(y)){const _=l[g],S=u[y]=isArray$4(_)||isFunction$6(_)?{type:_}:_;if(S){const x=getTypeIndex(Boolean,S.type),T=getTypeIndex(String,S.type);S[0]=x>-1,S[1]=T<0||x<T,(x>-1||hasOwn$1(S,"default"))&&c.push(y)}}}const v=[u,c];return o.set(a,v),v}function validatePropName(a){return a[0]!=="$"}function getType(a){const r=a&&a.toString().match(/^\s*function (\w+)/);return r?r[1]:a===null?"null":""}function isSameType(a,r){return getType(a)===getType(r)}function getTypeIndex(a,r){return isArray$4(r)?r.findIndex(n=>isSameType(n,a)):isFunction$6(r)&&isSameType(r,a)?0:-1}const isInternalKey=a=>a[0]==="_"||a==="$stable",normalizeSlotValue=a=>isArray$4(a)?a.map(normalizeVNode):[normalizeVNode(a)],normalizeSlot$1=(a,r,n)=>{if(r._n)return r;const o=withCtx((...s)=>normalizeSlotValue(r(...s)),n);return o._c=!1,o},normalizeObjectSlots=(a,r,n)=>{const o=a._ctx;for(const s in a){if(isInternalKey(s))continue;const l=a[s];if(isFunction$6(l))r[s]=normalizeSlot$1(s,l,o);else if(l!=null){const u=normalizeSlotValue(l);r[s]=()=>u}}},normalizeVNodeSlots=(a,r)=>{const n=normalizeSlotValue(r);a.slots.default=()=>n},initSlots=(a,r)=>{if(a.vnode.shapeFlag&32){const n=r._;n?(a.slots=toRaw(r),def(r,"_",n)):normalizeObjectSlots(r,a.slots={})}else a.slots={},r&&normalizeVNodeSlots(a,r);def(a.slots,InternalObjectKey,1)},updateSlots=(a,r,n)=>{const{vnode:o,slots:s}=a;let l=!0,u=EMPTY_OBJ$1;if(o.shapeFlag&32){const c=r._;c?n&&c===1?l=!1:(extend$4(s,r),!n&&c===1&&delete s._):(l=!r.$stable,normalizeObjectSlots(r,s)),u=r}else r&&(normalizeVNodeSlots(a,r),u={default:1});if(l)for(const c in s)!isInternalKey(c)&&!(c in u)&&delete s[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(a,r){return function(o,s=null){isFunction$6(o)||(o=Object.assign({},o)),s!=null&&!isObject$b(s)&&(s=null);const l=createAppContext(),u=new Set;let c=!1;const d=l.app={_uid:uid++,_component:o,_props:s,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(v){},use(v,...g){return u.has(v)||(v&&isFunction$6(v.install)?(u.add(v),v.install(d,...g)):isFunction$6(v)&&(u.add(v),v(d,...g))),d},mixin(v){return l.mixins.includes(v)||l.mixins.push(v),d},component(v,g){return g?(l.components[v]=g,d):l.components[v]},directive(v,g){return g?(l.directives[v]=g,d):l.directives[v]},mount(v,g,y){if(!c){const _=createVNode$1(o,s);return _.appContext=l,g&&r?r(_,v):a(_,v,y),c=!0,d._container=v,v.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){c&&(a(null,d._container),delete d._container.__vue_app__)},provide(v,g){return l.provides[v]=g,d}};return d}}function setRef(a,r,n,o,s=!1){if(isArray$4(a)){a.forEach((_,S)=>setRef(_,r&&(isArray$4(r)?r[S]:r),n,o,s));return}if(isAsyncWrapper(o)&&!s)return;const l=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,u=s?null:l,{i:c,r:d}=a,v=r&&r.r,g=c.refs===EMPTY_OBJ$1?c.refs={}:c.refs,y=c.setupState;if(v!=null&&v!==d&&(isString$3(v)?(g[v]=null,hasOwn$1(y,v)&&(y[v]=null)):isRef(v)&&(v.value=null)),isFunction$6(d))callWithErrorHandling(d,c,12,[u,g]);else{const _=isString$3(d),S=isRef(d);if(_||S){const x=()=>{if(a.f){const T=_?g[d]:d.value;s?isArray$4(T)&&remove$6(T,l):isArray$4(T)?T.includes(l)||T.push(l):_?(g[d]=[l],hasOwn$1(y,d)&&(y[d]=g[d])):(d.value=[l],a.k&&(g[a.k]=d.value))}else _?(g[d]=u,hasOwn$1(y,d)&&(y[d]=u)):S&&(d.value=u,a.k&&(g[a.k]=u))};u?(x.id=-1,queuePostRenderEffect(x,n)):x()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(a){return baseCreateRenderer(a)}function baseCreateRenderer(a,r){const n=getGlobalThis();n.__VUE__=!0;const{insert:o,remove:s,patchProp:l,createElement:u,createText:c,createComment:d,setText:v,setElementText:g,parentNode:y,nextSibling:_,setScopeId:S=NOOP,cloneNode:x,insertStaticContent:T}=a,b=(V,G,W,K=null,Q=null,ie=null,ue=!1,se=null,le=!!G.dynamicChildren)=>{if(V===G)return;V&&!isSameVNodeType(V,G)&&(K=J(V),ce(V,Q,ie,!0),V=null),G.patchFlag===-2&&(le=!1,G.dynamicChildren=null);const{type:ae,ref:pe,shapeFlag:ve}=G;switch(ae){case Text:A(V,G,W,K);break;case Comment:w(V,G,W,K);break;case Static:V==null&&$(G,W,K,ue);break;case Fragment:N(V,G,W,K,Q,ie,ue,se,le);break;default:ve&1?M(V,G,W,K,Q,ie,ue,se,le):ve&6?F(V,G,W,K,Q,ie,ue,se,le):(ve&64||ve&128)&&ae.process(V,G,W,K,Q,ie,ue,se,le,fe)}pe!=null&&Q&&setRef(pe,V&&V.ref,ie,G||V,!G)},A=(V,G,W,K)=>{if(V==null)o(G.el=c(G.children),W,K);else{const Q=G.el=V.el;G.children!==V.children&&v(Q,G.children)}},w=(V,G,W,K)=>{V==null?o(G.el=d(G.children||""),W,K):G.el=V.el},$=(V,G,W,K)=>{[V.el,V.anchor]=T(V.children,G,W,K,V.el,V.anchor)},C=({el:V,anchor:G},W,K)=>{let Q;for(;V&&V!==G;)Q=_(V),o(V,W,K),V=Q;o(G,W,K)},P=({el:V,anchor:G})=>{let W;for(;V&&V!==G;)W=_(V),s(V),V=W;s(G)},M=(V,G,W,K,Q,ie,ue,se,le)=>{ue=ue||G.type==="svg",V==null?E(G,W,K,Q,ie,ue,se,le):R(V,G,Q,ie,ue,se,le)},E=(V,G,W,K,Q,ie,ue,se)=>{let le,ae;const{type:pe,props:ve,shapeFlag:ge,transition:me,patchFlag:ye,dirs:_e}=V;if(V.el&&x!==void 0&&ye===-1)le=V.el=x(V.el);else{if(le=V.el=u(V.type,ie,ve&&ve.is,ve),ge&8?g(le,V.children):ge&16&&I(V.children,le,null,K,Q,ie&&pe!=="foreignObject",ue,se),_e&&invokeDirectiveHook(V,null,K,"created"),ve){for(const xe in ve)xe!=="value"&&!isReservedProp(xe)&&l(le,xe,null,ve[xe],ie,V.children,K,Q,q);"value"in ve&&l(le,"value",null,ve.value),(ae=ve.onVnodeBeforeMount)&&invokeVNodeHook(ae,K,V)}D(le,V,V.scopeId,ue,K)}_e&&invokeDirectiveHook(V,null,K,"beforeMount");const Se=(!Q||Q&&!Q.pendingBranch)&&me&&!me.persisted;Se&&me.beforeEnter(le),o(le,G,W),((ae=ve&&ve.onVnodeMounted)||Se||_e)&&queuePostRenderEffect(()=>{ae&&invokeVNodeHook(ae,K,V),Se&&me.enter(le),_e&&invokeDirectiveHook(V,null,K,"mounted")},Q)},D=(V,G,W,K,Q)=>{if(W&&S(V,W),K)for(let ie=0;ie<K.length;ie++)S(V,K[ie]);if(Q){let ie=Q.subTree;if(G===ie){const ue=Q.vnode;D(V,ue,ue.scopeId,ue.slotScopeIds,Q.parent)}}},I=(V,G,W,K,Q,ie,ue,se,le=0)=>{for(let ae=le;ae<V.length;ae++){const pe=V[ae]=se?cloneIfMounted(V[ae]):normalizeVNode(V[ae]);b(null,pe,G,W,K,Q,ie,ue,se)}},R=(V,G,W,K,Q,ie,ue)=>{const se=G.el=V.el;let{patchFlag:le,dynamicChildren:ae,dirs:pe}=G;le|=V.patchFlag&16;const ve=V.props||EMPTY_OBJ$1,ge=G.props||EMPTY_OBJ$1;let me;W&&toggleRecurse(W,!1),(me=ge.onVnodeBeforeUpdate)&&invokeVNodeHook(me,W,G,V),pe&&invokeDirectiveHook(G,V,W,"beforeUpdate"),W&&toggleRecurse(W,!0);const ye=Q&&G.type!=="foreignObject";if(ae?L(V.dynamicChildren,ae,se,W,K,ye,ie):ue||Y(V,G,se,null,W,K,ye,ie,!1),le>0){if(le&16)O(se,G,ve,ge,W,K,Q);else if(le&2&&ve.class!==ge.class&&l(se,"class",null,ge.class,Q),le&4&&l(se,"style",ve.style,ge.style,Q),le&8){const _e=G.dynamicProps;for(let Se=0;Se<_e.length;Se++){const xe=_e[Se],be=ve[xe],we=ge[xe];(we!==be||xe==="value")&&l(se,xe,be,we,Q,V.children,W,K,q)}}le&1&&V.children!==G.children&&g(se,G.children)}else!ue&&ae==null&&O(se,G,ve,ge,W,K,Q);((me=ge.onVnodeUpdated)||pe)&&queuePostRenderEffect(()=>{me&&invokeVNodeHook(me,W,G,V),pe&&invokeDirectiveHook(G,V,W,"updated")},K)},L=(V,G,W,K,Q,ie,ue)=>{for(let se=0;se<G.length;se++){const le=V[se],ae=G[se],pe=le.el&&(le.type===Fragment||!isSameVNodeType(le,ae)||le.shapeFlag&70)?y(le.el):W;b(le,ae,pe,null,K,Q,ie,ue,!0)}},O=(V,G,W,K,Q,ie,ue)=>{if(W!==K){for(const se in K){if(isReservedProp(se))continue;const le=K[se],ae=W[se];le!==ae&&se!=="value"&&l(V,se,ae,le,ue,G.children,Q,ie,q)}if(W!==EMPTY_OBJ$1)for(const se in W)!isReservedProp(se)&&!(se in K)&&l(V,se,W[se],null,ue,G.children,Q,ie,q);"value"in K&&l(V,"value",W.value,K.value)}},N=(V,G,W,K,Q,ie,ue,se,le)=>{const ae=G.el=V?V.el:c(""),pe=G.anchor=V?V.anchor:c("");let{patchFlag:ve,dynamicChildren:ge,slotScopeIds:me}=G;me&&(se=se?se.concat(me):me),V==null?(o(ae,W,K),o(pe,W,K),I(G.children,W,pe,Q,ie,ue,se,le)):ve>0&&ve&64&&ge&&V.dynamicChildren?(L(V.dynamicChildren,ge,W,Q,ie,ue,se),(G.key!=null||Q&&G===Q.subTree)&&traverseStaticChildren(V,G,!0)):Y(V,G,W,pe,Q,ie,ue,se,le)},F=(V,G,W,K,Q,ie,ue,se,le)=>{G.slotScopeIds=se,V==null?G.shapeFlag&512?Q.ctx.activate(G,W,K,ue,le):B(G,W,K,Q,ie,ue,le):z(V,G,le)},B=(V,G,W,K,Q,ie,ue)=>{const se=V.component=createComponentInstance(V,K,Q);if(isKeepAlive(V)&&(se.ctx.renderer=fe),setupComponent(se),se.asyncDep){if(Q&&Q.registerDep(se,U),!V.el){const le=se.subTree=createVNode$1(Comment);w(null,le,G,W)}return}U(se,V,G,W,Q,ie,ue)},z=(V,G,W)=>{const K=G.component=V.component;if(shouldUpdateComponent(V,G,W))if(K.asyncDep&&!K.asyncResolved){H(K,G,W);return}else K.next=G,invalidateJob(K.update),K.update();else G.el=V.el,K.vnode=G},U=(V,G,W,K,Q,ie,ue)=>{const se=()=>{if(V.isMounted){let{next:pe,bu:ve,u:ge,parent:me,vnode:ye}=V,_e=pe,Se;toggleRecurse(V,!1),pe?(pe.el=ye.el,H(V,pe,ue)):pe=ye,ve&&invokeArrayFns(ve),(Se=pe.props&&pe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Se,me,pe,ye),toggleRecurse(V,!0);const xe=renderComponentRoot(V),be=V.subTree;V.subTree=xe,b(be,xe,y(be.el),J(be),V,Q,ie),pe.el=xe.el,_e===null&&updateHOCHostEl(V,xe.el),ge&&queuePostRenderEffect(ge,Q),(Se=pe.props&&pe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Se,me,pe,ye),Q)}else{let pe;const{el:ve,props:ge}=G,{bm:me,m:ye,parent:_e}=V,Se=isAsyncWrapper(G);if(toggleRecurse(V,!1),me&&invokeArrayFns(me),!Se&&(pe=ge&&ge.onVnodeBeforeMount)&&invokeVNodeHook(pe,_e,G),toggleRecurse(V,!0),ve&&ne){const xe=()=>{V.subTree=renderComponentRoot(V),ne(ve,V.subTree,V,Q,null)};Se?G.type.__asyncLoader().then(()=>!V.isUnmounted&&xe()):xe()}else{const xe=V.subTree=renderComponentRoot(V);b(null,xe,W,K,V,Q,ie),G.el=xe.el}if(ye&&queuePostRenderEffect(ye,Q),!Se&&(pe=ge&&ge.onVnodeMounted)){const xe=G;queuePostRenderEffect(()=>invokeVNodeHook(pe,_e,xe),Q)}(G.shapeFlag&256||_e&&isAsyncWrapper(_e.vnode)&&_e.vnode.shapeFlag&256)&&V.a&&queuePostRenderEffect(V.a,Q),V.isMounted=!0,G=W=K=null}},le=V.effect=new ReactiveEffect(se,()=>queueJob(ae),V.scope),ae=V.update=()=>le.run();ae.id=V.uid,toggleRecurse(V,!0),ae()},H=(V,G,W)=>{G.component=V;const K=V.vnode.props;V.vnode=G,V.next=null,updateProps$2(V,G.props,K,W),updateSlots(V,G.children,W),pauseTracking(),flushPreFlushCbs(void 0,V.update),resetTracking()},Y=(V,G,W,K,Q,ie,ue,se,le=!1)=>{const ae=V&&V.children,pe=V?V.shapeFlag:0,ve=G.children,{patchFlag:ge,shapeFlag:me}=G;if(ge>0){if(ge&128){te(ae,ve,W,K,Q,ie,ue,se,le);return}else if(ge&256){X(ae,ve,W,K,Q,ie,ue,se,le);return}}me&8?(pe&16&&q(ae,Q,ie),ve!==ae&&g(W,ve)):pe&16?me&16?te(ae,ve,W,K,Q,ie,ue,se,le):q(ae,Q,ie,!0):(pe&8&&g(W,""),me&16&&I(ve,W,K,Q,ie,ue,se,le))},X=(V,G,W,K,Q,ie,ue,se,le)=>{V=V||EMPTY_ARR,G=G||EMPTY_ARR;const ae=V.length,pe=G.length,ve=Math.min(ae,pe);let ge;for(ge=0;ge<ve;ge++){const me=G[ge]=le?cloneIfMounted(G[ge]):normalizeVNode(G[ge]);b(V[ge],me,W,null,Q,ie,ue,se,le)}ae>pe?q(V,Q,ie,!0,!1,ve):I(G,W,K,Q,ie,ue,se,le,ve)},te=(V,G,W,K,Q,ie,ue,se,le)=>{let ae=0;const pe=G.length;let ve=V.length-1,ge=pe-1;for(;ae<=ve&&ae<=ge;){const me=V[ae],ye=G[ae]=le?cloneIfMounted(G[ae]):normalizeVNode(G[ae]);if(isSameVNodeType(me,ye))b(me,ye,W,null,Q,ie,ue,se,le);else break;ae++}for(;ae<=ve&&ae<=ge;){const me=V[ve],ye=G[ge]=le?cloneIfMounted(G[ge]):normalizeVNode(G[ge]);if(isSameVNodeType(me,ye))b(me,ye,W,null,Q,ie,ue,se,le);else break;ve--,ge--}if(ae>ve){if(ae<=ge){const me=ge+1,ye=me<pe?G[me].el:K;for(;ae<=ge;)b(null,G[ae]=le?cloneIfMounted(G[ae]):normalizeVNode(G[ae]),W,ye,Q,ie,ue,se,le),ae++}}else if(ae>ge)for(;ae<=ve;)ce(V[ae],Q,ie,!0),ae++;else{const me=ae,ye=ae,_e=new Map;for(ae=ye;ae<=ge;ae++){const Te=G[ae]=le?cloneIfMounted(G[ae]):normalizeVNode(G[ae]);Te.key!=null&&_e.set(Te.key,ae)}let Se,xe=0;const be=ge-ye+1;let we=!1,Ce=0;const $e=new Array(be);for(ae=0;ae<be;ae++)$e[ae]=0;for(ae=me;ae<=ve;ae++){const Te=V[ae];if(xe>=be){ce(Te,Q,ie,!0);continue}let Ae;if(Te.key!=null)Ae=_e.get(Te.key);else for(Se=ye;Se<=ge;Se++)if($e[Se-ye]===0&&isSameVNodeType(Te,G[Se])){Ae=Se;break}Ae===void 0?ce(Te,Q,ie,!0):($e[Ae-ye]=ae+1,Ae>=Ce?Ce=Ae:we=!0,b(Te,G[Ae],W,null,Q,ie,ue,se,le),xe++)}const Me=we?getSequence($e):EMPTY_ARR;for(Se=Me.length-1,ae=be-1;ae>=0;ae--){const Te=ye+ae,Ae=G[Te],Pe=Te+1<pe?G[Te+1].el:K;$e[ae]===0?b(null,Ae,W,Pe,Q,ie,ue,se,le):we&&(Se<0||ae!==Me[Se]?oe(Ae,W,Pe,2):Se--)}}},oe=(V,G,W,K,Q=null)=>{const{el:ie,type:ue,transition:se,children:le,shapeFlag:ae}=V;if(ae&6){oe(V.component.subTree,G,W,K);return}if(ae&128){V.suspense.move(G,W,K);return}if(ae&64){ue.move(V,G,W,fe);return}if(ue===Fragment){o(ie,G,W);for(let ve=0;ve<le.length;ve++)oe(le[ve],G,W,K);o(V.anchor,G,W);return}if(ue===Static){C(V,G,W);return}if(K!==2&&ae&1&&se)if(K===0)se.beforeEnter(ie),o(ie,G,W),queuePostRenderEffect(()=>se.enter(ie),Q);else{const{leave:ve,delayLeave:ge,afterLeave:me}=se,ye=()=>o(ie,G,W),_e=()=>{ve(ie,()=>{ye(),me&&me()})};ge?ge(ie,ye,_e):_e()}else o(ie,G,W)},ce=(V,G,W,K=!1,Q=!1)=>{const{type:ie,props:ue,ref:se,children:le,dynamicChildren:ae,shapeFlag:pe,patchFlag:ve,dirs:ge}=V;if(se!=null&&setRef(se,null,W,V,!0),pe&256){G.ctx.deactivate(V);return}const me=pe&1&&ge,ye=!isAsyncWrapper(V);let _e;if(ye&&(_e=ue&&ue.onVnodeBeforeUnmount)&&invokeVNodeHook(_e,G,V),pe&6)re(V.component,W,K);else{if(pe&128){V.suspense.unmount(W,K);return}me&&invokeDirectiveHook(V,null,G,"beforeUnmount"),pe&64?V.type.remove(V,G,W,Q,fe,K):ae&&(ie!==Fragment||ve>0&&ve&64)?q(ae,G,W,!1,!0):(ie===Fragment&&ve&384||!Q&&pe&16)&&q(le,G,W),K&&de(V)}(ye&&(_e=ue&&ue.onVnodeUnmounted)||me)&&queuePostRenderEffect(()=>{_e&&invokeVNodeHook(_e,G,V),me&&invokeDirectiveHook(V,null,G,"unmounted")},W)},de=V=>{const{type:G,el:W,anchor:K,transition:Q}=V;if(G===Fragment){Z(W,K);return}if(G===Static){P(V);return}const ie=()=>{s(W),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(V.shapeFlag&1&&Q&&!Q.persisted){const{leave:ue,delayLeave:se}=Q,le=()=>ue(W,ie);se?se(V.el,ie,le):le()}else ie()},Z=(V,G)=>{let W;for(;V!==G;)W=_(V),s(V),V=W;s(G)},re=(V,G,W)=>{const{bum:K,scope:Q,update:ie,subTree:ue,um:se}=V;K&&invokeArrayFns(K),Q.stop(),ie&&(ie.active=!1,ce(ue,V,G,W)),se&&queuePostRenderEffect(se,G),queuePostRenderEffect(()=>{V.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},q=(V,G,W,K=!1,Q=!1,ie=0)=>{for(let ue=ie;ue<V.length;ue++)ce(V[ue],G,W,K,Q)},J=V=>V.shapeFlag&6?J(V.component.subTree):V.shapeFlag&128?V.suspense.next():_(V.anchor||V.el),he=(V,G,W)=>{V==null?G._vnode&&ce(G._vnode,null,null,!0):b(G._vnode||null,V,G,null,null,null,W),flushPostFlushCbs(),G._vnode=V},fe={p:b,um:ce,m:oe,r:de,mt:B,mc:I,pc:Y,pbc:L,n:J,o:a};let ee,ne;return r&&([ee,ne]=r(fe)),{render:he,hydrate:ee,createApp:createAppAPI(he,ee)}}function toggleRecurse({effect:a,update:r},n){a.allowRecurse=r.allowRecurse=n}function traverseStaticChildren(a,r,n=!1){const o=a.children,s=r.children;if(isArray$4(o)&&isArray$4(s))for(let l=0;l<o.length;l++){const u=o[l];let c=s[l];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[l]=cloneIfMounted(s[l]),c.el=u.el),n||traverseStaticChildren(u,c))}}function getSequence(a){const r=a.slice(),n=[0];let o,s,l,u,c;const d=a.length;for(o=0;o<d;o++){const v=a[o];if(v!==0){if(s=n[n.length-1],a[s]<v){r[o]=s,n.push(o);continue}for(l=0,u=n.length-1;l<u;)c=l+u>>1,a[n[c]]<v?l=c+1:u=c;v<a[n[l]]&&(l>0&&(r[o]=n[l-1]),n[l]=o)}}for(l=n.length,u=n[l-1];l-- >0;)n[l]=u,u=r[u];return n}const isTeleport=a=>a.__isTeleport,isTeleportDisabled=a=>a&&(a.disabled||a.disabled===""),isTargetSVG=a=>typeof SVGElement<"u"&&a instanceof SVGElement,resolveTarget=(a,r)=>{const n=a&&a.to;return isString$3(n)?r?r(n):null:n},TeleportImpl={__isTeleport:!0,process(a,r,n,o,s,l,u,c,d,v){const{mc:g,pc:y,pbc:_,o:{insert:S,querySelector:x,createText:T,createComment:b}}=v,A=isTeleportDisabled(r.props);let{shapeFlag:w,children:$,dynamicChildren:C}=r;if(a==null){const P=r.el=T(""),M=r.anchor=T("");S(P,n,o),S(M,n,o);const E=r.target=resolveTarget(r.props,x),D=r.targetAnchor=T("");E&&(S(D,E),u=u||isTargetSVG(E));const I=(R,L)=>{w&16&&g($,R,L,s,l,u,c,d)};A?I(n,M):E&&I(E,D)}else{r.el=a.el;const P=r.anchor=a.anchor,M=r.target=a.target,E=r.targetAnchor=a.targetAnchor,D=isTeleportDisabled(a.props),I=D?n:M,R=D?P:E;if(u=u||isTargetSVG(M),C?(_(a.dynamicChildren,C,I,s,l,u,c),traverseStaticChildren(a,r,!0)):d||y(a,r,I,R,s,l,u,c,!1),A)D||moveTeleport(r,n,P,v,1);else if((r.props&&r.props.to)!==(a.props&&a.props.to)){const L=r.target=resolveTarget(r.props,x);L&&moveTeleport(r,L,null,v,0)}else D&&moveTeleport(r,M,E,v,1)}},remove(a,r,n,o,{um:s,o:{remove:l}},u){const{shapeFlag:c,children:d,anchor:v,targetAnchor:g,target:y,props:_}=a;if(y&&l(g),(u||!isTeleportDisabled(_))&&(l(v),c&16))for(let S=0;S<d.length;S++){const x=d[S];s(x,r,n,!0,!!x.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(a,r,n,{o:{insert:o},m:s},l=2){l===0&&o(a.targetAnchor,r,n);const{el:u,anchor:c,shapeFlag:d,children:v,props:g}=a,y=l===2;if(y&&o(u,r,n),(!y||isTeleportDisabled(g))&&d&16)for(let _=0;_<v.length;_++)s(v[_],r,n,2);y&&o(c,r,n)}function hydrateTeleport(a,r,n,o,s,l,{o:{nextSibling:u,parentNode:c,querySelector:d}},v){const g=r.target=resolveTarget(r.props,d);if(g){const y=g._lpa||g.firstChild;if(r.shapeFlag&16)if(isTeleportDisabled(r.props))r.anchor=v(u(a),r,c(a),n,o,s,l),r.targetAnchor=y;else{r.anchor=u(a);let _=y;for(;_;)if(_=u(_),_&&_.nodeType===8&&_.data==="teleport anchor"){r.targetAnchor=_,g._lpa=r.targetAnchor&&u(r.targetAnchor);break}v(y,r,g,n,o,s,l)}}return r.anchor&&u(r.anchor)}const Teleport=TeleportImpl,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(a=!1){blockStack.push(currentBlock=a?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(a){isBlockTreeEnabled+=a}function setupBlock(a){return a.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(a),a}function createElementBlock(a,r,n,o,s,l){return setupBlock(createBaseVNode(a,r,n,o,s,l,!0))}function createBlock(a,r,n,o,s){return setupBlock(createVNode$1(a,r,n,o,s,!0))}function isVNode(a){return a?a.__v_isVNode===!0:!1}function isSameVNodeType(a,r){return a.type===r.type&&a.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:a})=>a!=null?a:null,normalizeRef=({ref:a,ref_key:r,ref_for:n})=>a!=null?isString$3(a)||isRef(a)||isFunction$6(a)?{i:currentRenderingInstance,r:a,k:r,f:!!n}:a:null;function createBaseVNode(a,r=null,n=null,o=0,s=null,l=a===Fragment?0:1,u=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:a,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null};return c?(normalizeChildren(d,n),l&128&&a.normalize(d)):n&&(d.shapeFlag|=isString$3(n)?8:16),isBlockTreeEnabled>0&&!u&&currentBlock&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode$1=_createVNode;function _createVNode(a,r=null,n=null,o=0,s=null,l=!1){if((!a||a===NULL_DYNAMIC_COMPONENT)&&(a=Comment),isVNode(a)){const c=cloneVNode(a,r,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!l&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(a)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(a)&&(a=a.__vccOpts),r){r=guardReactiveProps(r);let{class:c,style:d}=r;c&&!isString$3(c)&&(r.class=normalizeClass(c)),isObject$b(d)&&(isProxy(d)&&!isArray$4(d)&&(d=extend$4({},d)),r.style=normalizeStyle$1(d))}const u=isString$3(a)?1:isSuspense(a)?128:isTeleport(a)?64:isObject$b(a)?4:isFunction$6(a)?2:0;return createBaseVNode(a,r,n,o,s,u,l,!0)}function guardReactiveProps(a){return a?isProxy(a)||InternalObjectKey in a?extend$4({},a):a:null}function cloneVNode(a,r,n=!1){const{props:o,ref:s,patchFlag:l,children:u}=a,c=r?mergeProps(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:c,key:c&&normalizeKey(c),ref:r&&r.ref?n&&s?isArray$4(s)?s.concat(normalizeRef(r)):[s,normalizeRef(r)]:normalizeRef(r):s,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:u,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:r&&a.type!==Fragment?l===-1?16:l|16:l,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&cloneVNode(a.ssContent),ssFallback:a.ssFallback&&cloneVNode(a.ssFallback),el:a.el,anchor:a.anchor}}function createTextVNode(a=" ",r=0){return createVNode$1(Text,null,a,r)}function createCommentVNode(a="",r=!1){return r?(openBlock(),createBlock(Comment,null,a)):createVNode$1(Comment,null,a)}function normalizeVNode(a){return a==null||typeof a=="boolean"?createVNode$1(Comment):isArray$4(a)?createVNode$1(Fragment,null,a.slice()):typeof a=="object"?cloneIfMounted(a):createVNode$1(Text,null,String(a))}function cloneIfMounted(a){return a.el===null||a.memo?a:cloneVNode(a)}function normalizeChildren(a,r){let n=0;const{shapeFlag:o}=a;if(r==null)r=null;else if(isArray$4(r))n=16;else if(typeof r=="object")if(o&65){const s=r.default;s&&(s._c&&(s._d=!1),normalizeChildren(a,s()),s._c&&(s._d=!0));return}else{n=32;const s=r._;!s&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,a.patchFlag|=1024))}else isFunction$6(r)?(r={default:r,_ctx:currentRenderingInstance},n=32):(r=String(r),o&64?(n=16,r=[createTextVNode(r)]):n=8);a.children=r,a.shapeFlag|=n}function mergeProps(...a){const r={};for(let n=0;n<a.length;n++){const o=a[n];for(const s in o)if(s==="class")r.class!==o.class&&(r.class=normalizeClass([r.class,o.class]));else if(s==="style")r.style=normalizeStyle$1([r.style,o.style]);else if(isOn(s)){const l=r[s],u=o[s];u&&l!==u&&!(isArray$4(l)&&l.includes(u))&&(r[s]=l?[].concat(l,u):u)}else s!==""&&(r[s]=o[s])}return r}function invokeVNodeHook(a,r,n,o=null){callWithAsyncErrorHandling(a,r,7,[n,o])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(a,r,n){const o=a.type,s=(r?r.appContext:a.appContext)||emptyAppContext,l={uid:uid$1++,vnode:a,type:o,parent:r,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=r?r.root:l,l.emit=emit$1.bind(null,l),a.ce&&a.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=a=>{currentInstance=a,a.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(a){return a.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(a,r=!1){isInSSRComponentSetup=r;const{props:n,children:o}=a.vnode,s=isStatefulComponent(a);initProps$1(a,n,s,r),initSlots(a,o);const l=s?setupStatefulComponent(a,r):void 0;return isInSSRComponentSetup=!1,l}function setupStatefulComponent(a,r){const n=a.type;a.accessCache=Object.create(null),a.proxy=markRaw(new Proxy(a.ctx,PublicInstanceProxyHandlers));const{setup:o}=n;if(o){const s=a.setupContext=o.length>1?createSetupContext(a):null;setCurrentInstance(a),pauseTracking();const l=callWithErrorHandling(o,a,0,[a.props,s]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(l)){if(l.then(unsetCurrentInstance,unsetCurrentInstance),r)return l.then(u=>{handleSetupResult(a,u,r)}).catch(u=>{handleError(u,a,0)});a.asyncDep=l}else handleSetupResult(a,l,r)}else finishComponentSetup(a,r)}function handleSetupResult(a,r,n){isFunction$6(r)?a.type.__ssrInlineRender?a.ssrRender=r:a.render=r:isObject$b(r)&&(a.setupState=proxyRefs(r)),finishComponentSetup(a,n)}let compile;function finishComponentSetup(a,r,n){const o=a.type;if(!a.render){if(!r&&compile&&!o.render){const s=o.template;if(s){const{isCustomElement:l,compilerOptions:u}=a.appContext.config,{delimiters:c,compilerOptions:d}=o,v=extend$4(extend$4({isCustomElement:l,delimiters:c},u),d);o.render=compile(s,v)}}a.render=o.render||NOOP}setCurrentInstance(a),pauseTracking(),applyOptions(a),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(a){return new Proxy(a.attrs,{get(r,n){return track(a,"get","$attrs"),r[n]}})}function createSetupContext(a){const r=o=>{a.exposed=o||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(a))},slots:a.slots,emit:a.emit,expose:r}}function getExposeProxy(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(proxyRefs(markRaw(a.exposed)),{get(r,n){if(n in r)return r[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](a)}}))}function getComponentName(a,r=!0){return isFunction$6(a)?a.displayName||a.name:a.name||r&&a.__name}function isClassComponent(a){return isFunction$6(a)&&"__vccOpts"in a}const computed=(a,r)=>computed$1(a,r,isInSSRComponentSetup);function h(a,r,n){const o=arguments.length;return o===2?isObject$b(r)&&!isArray$4(r)?isVNode(r)?createVNode$1(a,null,[r]):createVNode$1(a,r):createVNode$1(a,null,r):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&isVNode(n)&&(n=[n]),createVNode$1(a,r,n))}const version="3.2.37",svgNS="http://www.w3.org/2000/svg",doc$2=typeof document<"u"?document:null,templateContainer=doc$2&&doc$2.createElement("template"),nodeOps={insert:(a,r,n)=>{r.insertBefore(a,n||null)},remove:a=>{const r=a.parentNode;r&&r.removeChild(a)},createElement:(a,r,n,o)=>{const s=r?doc$2.createElementNS(svgNS,a):doc$2.createElement(a,n?{is:n}:void 0);return a==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:a=>doc$2.createTextNode(a),createComment:a=>doc$2.createComment(a),setText:(a,r)=>{a.nodeValue=r},setElementText:(a,r)=>{a.textContent=r},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>doc$2.querySelector(a),setScopeId(a,r){a.setAttribute(r,"")},cloneNode(a){const r=a.cloneNode(!0);return"_value"in a&&(r._value=a._value),r},insertStaticContent(a,r,n,o,s,l){const u=n?n.previousSibling:r.lastChild;if(s&&(s===l||s.nextSibling))for(;r.insertBefore(s.cloneNode(!0),n),!(s===l||!(s=s.nextSibling)););else{templateContainer.innerHTML=o?`<svg>${a}</svg>`:a;const c=templateContainer.content;if(o){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}r.insertBefore(c,n)}return[u?u.nextSibling:r.firstChild,n?n.previousSibling:r.lastChild]}};function patchClass(a,r,n){const o=a._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?a.removeAttribute("class"):n?a.setAttribute("class",r):a.className=r}function patchStyle(a,r,n){const o=a.style,s=isString$3(n);if(n&&!s){for(const l in n)setStyle(o,l,n[l]);if(r&&!isString$3(r))for(const l in r)n[l]==null&&setStyle(o,l,"")}else{const l=o.display;s?r!==n&&(o.cssText=n):r&&a.removeAttribute("style"),"_vod"in a&&(o.display=l)}}const importantRE=/\s*!important$/;function setStyle(a,r,n){if(isArray$4(n))n.forEach(o=>setStyle(a,r,o));else if(n==null&&(n=""),r.startsWith("--"))a.setProperty(r,n);else{const o=autoPrefix(a,r);importantRE.test(n)?a.setProperty(hyphenate(o),n.replace(importantRE,""),"important"):a[o]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(a,r){const n=prefixCache[r];if(n)return n;let o=camelize$1(r);if(o!=="filter"&&o in a)return prefixCache[r]=o;o=capitalize(o);for(let s=0;s<prefixes.length;s++){const l=prefixes[s]+o;if(l in a)return prefixCache[r]=l}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(a,r,n,o,s){if(o&&r.startsWith("xlink:"))n==null?a.removeAttributeNS(xlinkNS,r.slice(6,r.length)):a.setAttributeNS(xlinkNS,r,n);else{const l=isSpecialBooleanAttr(r);n==null||l&&!includeBooleanAttr(n)?a.removeAttribute(r):a.setAttribute(r,l?"":n)}}function patchDOMProp(a,r,n,o,s,l,u){if(r==="innerHTML"||r==="textContent"){o&&u(o,s,l),a[r]=n==null?"":n;return}if(r==="value"&&a.tagName!=="PROGRESS"&&!a.tagName.includes("-")){a._value=n;const d=n==null?"":n;(a.value!==d||a.tagName==="OPTION")&&(a.value=d),n==null&&a.removeAttribute(r);return}let c=!1;if(n===""||n==null){const d=typeof a[r];d==="boolean"?n=includeBooleanAttr(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{a[r]=n}catch{}c&&a.removeAttribute(r)}const[_getNow,skipTimestampCheck]=(()=>{let a=Date.now,r=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(a=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);r=!!(n&&Number(n[1])<=53)}return[a,r]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener$1(a,r,n,o){a.addEventListener(r,n,o)}function removeEventListener$1(a,r,n,o){a.removeEventListener(r,n,o)}function patchEvent(a,r,n,o,s=null){const l=a._vei||(a._vei={}),u=l[r];if(o&&u)u.value=o;else{const[c,d]=parseName(r);if(o){const v=l[r]=createInvoker(o,s);addEventListener$1(a,c,v,d)}else u&&(removeEventListener$1(a,c,u,d),l[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(a){let r;if(optionsModifierRE.test(a)){r={};let n;for(;n=a.match(optionsModifierRE);)a=a.slice(0,a.length-n[0].length),r[n[0].toLowerCase()]=!0}return[hyphenate(a.slice(2)),r]}function createInvoker(a,r){const n=o=>{const s=o.timeStamp||_getNow();(skipTimestampCheck||s>=n.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(o,n.value),r,5,[o])};return n.value=a,n.attached=getNow(),n}function patchStopImmediatePropagation(a,r){if(isArray$4(r)){const n=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{n.call(a),a._stopped=!0},r.map(o=>s=>!s._stopped&&o&&o(s))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(a,r,n,o,s=!1,l,u,c,d)=>{r==="class"?patchClass(a,o,s):r==="style"?patchStyle(a,n,o):isOn(r)?isModelListener(r)||patchEvent(a,r,n,o,u):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(a,r,o,s))?patchDOMProp(a,r,o,l,u,c,d):(r==="true-value"?a._trueValue=o:r==="false-value"&&(a._falseValue=o),patchAttr(a,r,o,s))};function shouldSetAsProp(a,r,n,o){return o?!!(r==="innerHTML"||r==="textContent"||r in a&&nativeOnRE.test(r)&&isFunction$6(n)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&a.tagName==="INPUT"||r==="type"&&a.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString$3(n)?!1:r in a}const TRANSITION="transition",ANIMATION="animation",Transition=(a,{slots:r})=>h(BaseTransition,resolveTransitionProps(a),r);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$4({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(a,r=[])=>{isArray$4(a)?a.forEach(n=>n(...r)):a&&a(...r)},hasExplicitCallback=a=>a?isArray$4(a)?a.some(r=>r.length>1):a.length>1:!1;function resolveTransitionProps(a){const r={};for(const O in a)O in DOMTransitionPropsValidators||(r[O]=a[O]);if(a.css===!1)return r;const{name:n="v",type:o,duration:s,enterFromClass:l=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:d=l,appearActiveClass:v=u,appearToClass:g=c,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:S=`${n}-leave-to`}=a,x=normalizeDuration(s),T=x&&x[0],b=x&&x[1],{onBeforeEnter:A,onEnter:w,onEnterCancelled:$,onLeave:C,onLeaveCancelled:P,onBeforeAppear:M=A,onAppear:E=w,onAppearCancelled:D=$}=r,I=(O,N,F)=>{removeTransitionClass(O,N?g:c),removeTransitionClass(O,N?v:u),F&&F()},R=(O,N)=>{O._isLeaving=!1,removeTransitionClass(O,y),removeTransitionClass(O,S),removeTransitionClass(O,_),N&&N()},L=O=>(N,F)=>{const B=O?E:w,z=()=>I(N,O,F);callHook(B,[N,z]),nextFrame(()=>{removeTransitionClass(N,O?d:l),addTransitionClass(N,O?g:c),hasExplicitCallback(B)||whenTransitionEnds(N,o,T,z)})};return extend$4(r,{onBeforeEnter(O){callHook(A,[O]),addTransitionClass(O,l),addTransitionClass(O,u)},onBeforeAppear(O){callHook(M,[O]),addTransitionClass(O,d),addTransitionClass(O,v)},onEnter:L(!1),onAppear:L(!0),onLeave(O,N){O._isLeaving=!0;const F=()=>R(O,N);addTransitionClass(O,y),forceReflow(),addTransitionClass(O,_),nextFrame(()=>{!O._isLeaving||(removeTransitionClass(O,y),addTransitionClass(O,S),hasExplicitCallback(C)||whenTransitionEnds(O,o,b,F))}),callHook(C,[O,F])},onEnterCancelled(O){I(O,!1),callHook($,[O])},onAppearCancelled(O){I(O,!0),callHook(D,[O])},onLeaveCancelled(O){R(O),callHook(P,[O])}})}function normalizeDuration(a){if(a==null)return null;if(isObject$b(a))return[NumberOf(a.enter),NumberOf(a.leave)];{const r=NumberOf(a);return[r,r]}}function NumberOf(a){return toNumber$1(a)}function addTransitionClass(a,r){r.split(/\s+/).forEach(n=>n&&a.classList.add(n)),(a._vtc||(a._vtc=new Set)).add(r)}function removeTransitionClass(a,r){r.split(/\s+/).forEach(o=>o&&a.classList.remove(o));const{_vtc:n}=a;n&&(n.delete(r),n.size||(a._vtc=void 0))}function nextFrame(a){requestAnimationFrame(()=>{requestAnimationFrame(a)})}let endId=0;function whenTransitionEnds(a,r,n,o){const s=a._endId=++endId,l=()=>{s===a._endId&&o()};if(n)return setTimeout(l,n);const{type:u,timeout:c,propCount:d}=getTransitionInfo(a,r);if(!u)return o();const v=u+"end";let g=0;const y=()=>{a.removeEventListener(v,_),l()},_=S=>{S.target===a&&++g>=d&&y()};setTimeout(()=>{g<d&&y()},c+1),a.addEventListener(v,_)}function getTransitionInfo(a,r){const n=window.getComputedStyle(a),o=x=>(n[x]||"").split(", "),s=o(TRANSITION+"Delay"),l=o(TRANSITION+"Duration"),u=getTimeout(s,l),c=o(ANIMATION+"Delay"),d=o(ANIMATION+"Duration"),v=getTimeout(c,d);let g=null,y=0,_=0;r===TRANSITION?u>0&&(g=TRANSITION,y=u,_=l.length):r===ANIMATION?v>0&&(g=ANIMATION,y=v,_=d.length):(y=Math.max(u,v),g=y>0?u>v?TRANSITION:ANIMATION:null,_=g?g===TRANSITION?l.length:d.length:0);const S=g===TRANSITION&&/\b(transform|all)(,|$)/.test(n[TRANSITION+"Property"]);return{type:g,timeout:y,propCount:_,hasTransform:S}}function getTimeout(a,r){for(;a.length<r.length;)a=a.concat(a);return Math.max(...r.map((n,o)=>toMs(n)+toMs(a[o])))}function toMs(a){return Number(a.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(a,r)=>n=>{if(!("key"in n))return;const o=hyphenate(n.key);if(r.some(s=>s===o||keyNames[s]===o))return a(n)},vShow={beforeMount(a,{value:r},{transition:n}){a._vod=a.style.display==="none"?"":a.style.display,n&&r?n.beforeEnter(a):setDisplay(a,r)},mounted(a,{value:r},{transition:n}){n&&r&&n.enter(a)},updated(a,{value:r,oldValue:n},{transition:o}){!r!=!n&&(o?r?(o.beforeEnter(a),setDisplay(a,!0),o.enter(a)):o.leave(a,()=>{setDisplay(a,!1)}):setDisplay(a,r))},beforeUnmount(a,{value:r}){setDisplay(a,r)}};function setDisplay(a,r){a.style.display=r?a._vod:"none"}const rendererOptions=extend$4({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...a)=>{const r=ensureRenderer().createApp(...a),{mount:n}=r;return r.mount=o=>{const s=normalizeContainer(o);if(!s)return;const l=r._component;!isFunction$6(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.innerHTML="";const u=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},r};function normalizeContainer(a){return isString$3(a)?document.querySelector(a):a}function noop$3(){}const extend$3=Object.assign,inBrowser$1=typeof window<"u";function get$3(a,r){const n=r.split(".");let o=a;return n.forEach(s=>{var l;o=(l=o[s])!=null?l:""}),o}function pick$1(a,r,n){return r.reduce((o,s)=>((!n||a[s]!==void 0)&&(o[s]=a[s]),o),{})}const unknownProp=null,numericProp=[Number,String],truthProp={type:Boolean,default:!0},makeNumberProp=a=>({type:Number,default:a}),makeStringProp=a=>({type:String,default:a});var inBrowser=typeof window<"u",isWindow=a=>a===window,makeDOMRect=(a,r)=>({top:0,left:0,right:a,bottom:r,width:a,height:r}),useRect=a=>{const r=unref(a);if(isWindow(r)){const n=r.innerWidth,o=r.innerHeight;return makeDOMRect(n,o)}return r!=null&&r.getBoundingClientRect?r.getBoundingClientRect():makeDOMRect(0,0)};function useParent(a){const r=inject(a,null);if(r){const n=getCurrentInstance(),{link:o,unlink:s,internalChildren:l}=r;o(n),onUnmounted(()=>s(n));const u=computed(()=>l.indexOf(n));return{parent:r,index:u}}return{parent:null,index:ref(-1)}}function flattenVNodes(a){const r=[],n=o=>{Array.isArray(o)&&o.forEach(s=>{var l;isVNode(s)&&(r.push(s),(l=s.component)!=null&&l.subTree&&(r.push(s.component.subTree),n(s.component.subTree.children)),s.children&&n(s.children))})};return n(a),r}function sortChildren(a,r,n){const o=flattenVNodes(a.subTree.children);n.sort((l,u)=>o.indexOf(l.vnode)-o.indexOf(u.vnode));const s=n.map(l=>l.proxy);r.sort((l,u)=>{const c=s.indexOf(l),d=s.indexOf(u);return c-d})}function useChildren(a){const r=reactive([]),n=reactive([]),o=getCurrentInstance();return{children:r,linkChildren:l=>{provide(a,Object.assign({link:d=>{d.proxy&&(n.push(d),r.push(d.proxy),sortChildren(o,r,n))},unlink:d=>{const v=n.indexOf(d);r.splice(v,1),n.splice(v,1)},children:r,internalChildren:n},l))}}}function onMountedOrActivated(a){let r;onMounted(()=>{a(),nextTick(()=>{r=!0})}),onActivated(()=>{r&&a()})}function useEventListener(a,r,n={}){if(!inBrowser)return;const{target:o=window,passive:s=!1,capture:l=!1}=n;let u;const c=v=>{const g=unref(v);g&&!u&&(g.addEventListener(a,r,{capture:l,passive:s}),u=!0)},d=v=>{const g=unref(v);g&&u&&(g.removeEventListener(a,r,l),u=!1)};onUnmounted(()=>d(o)),onDeactivated(()=>d(o)),onMountedOrActivated(()=>c(o)),isRef(o)&&watch(o,(v,g)=>{d(g),c(v)})}var width,height;function useWindowSize(){if(!width&&(width=ref(0),height=ref(0),inBrowser)){const a=()=>{width.value=window.innerWidth,height.value=window.innerHeight};a(),window.addEventListener("resize",a,{passive:!0}),window.addEventListener("orientationchange",a,{passive:!0})}return{width,height}}var overflowScrollReg=/scroll|auto/i,defaultRoot=inBrowser?window:void 0;function isElement(a){return a.tagName!=="HTML"&&a.tagName!=="BODY"&&a.nodeType===1}function getScrollParent(a,r=defaultRoot){let n=a;for(;n&&n!==r&&isElement(n);){const{overflowY:o}=window.getComputedStyle(n);if(overflowScrollReg.test(o))return n;n=n.parentNode}return r}const isDef$1=a=>a!=null,isFunction$5=a=>typeof a=="function",isObject$a=a=>a!==null&&typeof a=="object",isPromise=a=>isObject$a(a)&&isFunction$5(a.then)&&isFunction$5(a.catch),isNumeric$1=a=>typeof a=="number"||/^\d+(\.\d+)?$/.test(a),isIOS=()=>inBrowser$1?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;isIOS();const stopPropagation=a=>a.stopPropagation();function preventDefault$1(a,r){(typeof a.cancelable!="boolean"||a.cancelable)&&a.preventDefault(),r&&stopPropagation(a)}useWindowSize();function addUnit(a){if(isDef$1(a))return isNumeric$1(a)?`${a}px`:String(a)}function getSizeStyle(a){if(isDef$1(a)){if(Array.isArray(a))return{width:addUnit(a[0]),height:addUnit(a[1])};const r=addUnit(a);return{width:r,height:r}}}function getZIndexStyle(a){const r={};return a!==void 0&&(r.zIndex=+a),r}const camelizeRE=/-(\w)/g,camelize=a=>a.replace(camelizeRE,(r,n)=>n.toUpperCase()),kebabCase=a=>a.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function assignKey(a,r,n){const o=r[n];!isDef$1(o)||(!hasOwnProperty$1.call(a,n)||!isObject$a(o)?a[n]=o:a[n]=deepAssign(Object(a[n]),o))}function deepAssign(a,r){return Object.keys(r).forEach(n=>{assignKey(a,r,n)}),a}var stdin_default$g={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(a,r)=>`${a}\u5E74${r}\u6708`,rangePrompt:a=>`\u6700\u591A\u9009\u62E9 ${a} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:a=>`${a}\u6298`,condition:a=>`\u6EE1${a}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:a=>`${a}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const lang$1=ref("zh-CN"),messages=reactive({"zh-CN":stdin_default$g}),Locale$1={messages(){return messages[lang$1.value]},use(a,r){lang$1.value=a,this.add({[a]:r})},add(a={}){deepAssign(messages,a)}};var stdin_default$f=Locale$1;function createTranslate(a){const r=camelize(a)+".";return(n,...o)=>{const s=stdin_default$f.messages(),l=get$3(s,r+n)||get$3(s,n);return isFunction$5(l)?l(...o):l}}function genBem(a,r){return r?typeof r=="string"?` ${a}--${r}`:Array.isArray(r)?r.reduce((n,o)=>n+genBem(a,o),""):Object.keys(r).reduce((n,o)=>n+(r[o]?genBem(a,o):""),""):""}function createBEM(a){return(r,n)=>(r&&typeof r!="string"&&(n=r,r=""),r=r?`${a}__${r}`:a,`${r}${genBem(r,n)}`)}function createNamespace(a){const r=`van-${a}`;return[r,createBEM(r),createTranslate(r)]}const BORDER="van-hairline",BORDER_TOP=`${BORDER}--top`,BORDER_LEFT=`${BORDER}--left`,BORDER_BOTTOM=`${BORDER}--bottom`,BORDER_SURROUND=`${BORDER}--surround`,HAPTICS_FEEDBACK="van-haptics-feedback";function callInterceptor(a,{args:r=[],done:n,canceled:o}){if(a){const s=a.apply(null,r);isPromise(s)?s.then(l=>{l?n():o&&o()}).catch(noop$3):s?n():o&&o()}else n()}function withInstall(a){return a.install=r=>{const{name:n}=a;r.component(n,a),r.component(camelize(`-${n}`),a)},a}const useHeight=a=>{const r=ref(),n=()=>{r.value=useRect(a).height};return onMounted(()=>{nextTick(n),setTimeout(n,100)}),r};function usePlaceholder(a,r){const n=useHeight(a);return o=>createVNode$1("div",{class:r("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[o()])}const[name$e,bem$e]=createNamespace("action-bar"),ACTION_BAR_KEY=Symbol(name$e),actionBarProps={placeholder:Boolean,safeAreaInsetBottom:truthProp};var stdin_default$e=defineComponent({name:name$e,props:actionBarProps,setup(a,{slots:r}){const n=ref(),o=usePlaceholder(n,bem$e),{linkChildren:s}=useChildren(ACTION_BAR_KEY);s();const l=()=>{var u;return createVNode$1("div",{ref:n,class:[bem$e(),{"van-safe-area-bottom":a.safeAreaInsetBottom}]},[(u=r.default)==null?void 0:u.call(r)])};return()=>a.placeholder?o(l):l()}});const ActionBar=withInstall(stdin_default$e);function useExpose(a){const r=getCurrentInstance();r&&extend$3(r.proxy,a)}const routeProps={to:[String,Object],url:String,replace:Boolean};function route({to:a,url:r,replace:n,$router:o}){a&&o?o[n?"replace":"push"](a):r&&(n?location.replace(r):location.href=r)}function useRoute(){const a=getCurrentInstance().proxy;return()=>route(a)}const[name$d,bem$d]=createNamespace("badge"),badgeProps={dot:Boolean,max:numericProp,tag:makeStringProp("div"),color:String,offset:Array,content:numericProp,showZero:truthProp,position:makeStringProp("top-right")};var stdin_default$d=defineComponent({name:name$d,props:badgeProps,setup(a,{slots:r}){const n=()=>{if(r.content)return!0;const{content:u,showZero:c}=a;return isDef$1(u)&&u!==""&&(c||u!==0)},o=()=>{const{dot:u,max:c,content:d}=a;if(!u&&n())return r.content?r.content():isDef$1(c)&&isNumeric$1(d)&&+d>c?`${c}+`:d},s=computed(()=>{const u={background:a.color};if(a.offset){const[c,d]=a.offset;r.default?(u.top=addUnit(d),typeof c=="number"?u.right=addUnit(-c):u.right=c.startsWith("-")?c.replace("-",""):`-${c}`):(u.marginTop=addUnit(d),u.marginLeft=addUnit(c))}return u}),l=()=>{if(n()||a.dot)return createVNode$1("div",{class:bem$d([a.position,{dot:a.dot,fixed:!!r.default}]),style:s.value},[o()])};return()=>{if(r.default){const{tag:u}=a;return createVNode$1(u,{class:bem$d("wrapper")},{default:()=>[r.default(),l()]})}return l()}}});const Badge=withInstall(stdin_default$d),[name$c,bem$c]=createNamespace("config-provider"),CONFIG_PROVIDER_KEY=Symbol(name$c),configProviderProps={tag:makeStringProp("div"),theme:makeStringProp("light"),themeVars:Object,iconPrefix:String};function mapThemeVarsToCSSVars(a){const r={};return Object.keys(a).forEach(n=>{r[`--van-${kebabCase(n)}`]=a[n]}),r}var stdin_default$c=defineComponent({name:name$c,props:configProviderProps,setup(a,{slots:r}){const n=computed(()=>{if(a.themeVars)return mapThemeVarsToCSSVars(a.themeVars)});return inBrowser$1&&watch(()=>a.theme,(o,s)=>{document.body.classList.remove(`van-theme-${s}`),document.body.classList.add(`van-theme-${o}`)},{immediate:!0}),provide(CONFIG_PROVIDER_KEY,a),()=>createVNode$1(a.tag,{class:bem$c(),style:n.value},{default:()=>{var o;return[(o=r.default)==null?void 0:o.call(r)]}})}});const[name$b,bem$b]=createNamespace("icon"),isImage=a=>a==null?void 0:a.includes("/"),iconProps={dot:Boolean,tag:makeStringProp("i"),name:String,size:numericProp,badge:numericProp,color:String,badgeProps:Object,classPrefix:String};var stdin_default$b=defineComponent({name:name$b,props:iconProps,setup(a,{slots:r}){const n=inject(CONFIG_PROVIDER_KEY,null),o=computed(()=>a.classPrefix||(n==null?void 0:n.iconPrefix)||bem$b());return()=>{const{tag:s,dot:l,name:u,size:c,badge:d,color:v}=a,g=isImage(u);return createVNode$1(Badge,mergeProps({dot:l,tag:s,class:[o.value,g?"":`${o.value}-${u}`],style:{color:v,fontSize:addUnit(c)},content:d},a.badgeProps),{default:()=>{var y;return[(y=r.default)==null?void 0:y.call(r),g&&createVNode$1("img",{class:bem$b("image"),src:u},null)]}})}}});const Icon=withInstall(stdin_default$b),[name$a,bem$a]=createNamespace("loading"),SpinIcon=Array(12).fill(null).map((a,r)=>createVNode$1("i",{class:bem$a("line",String(r+1))},null)),CircularIcon=createVNode$1("svg",{class:bem$a("circular"),viewBox:"25 25 50 50"},[createVNode$1("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),loadingProps={size:numericProp,type:makeStringProp("circular"),color:String,vertical:Boolean,textSize:numericProp,textColor:String};var stdin_default$a=defineComponent({name:name$a,props:loadingProps,setup(a,{slots:r}){const n=computed(()=>extend$3({color:a.color},getSizeStyle(a.size))),o=()=>{var s;if(r.default)return createVNode$1("span",{class:bem$a("text"),style:{fontSize:addUnit(a.textSize),color:(s=a.textColor)!=null?s:a.color}},[r.default()])};return()=>{const{type:s,vertical:l}=a;return createVNode$1("div",{class:bem$a([s,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[createVNode$1("span",{class:bem$a("spinner",s),style:n.value},[s==="spinner"?SpinIcon:CircularIcon]),o()])}}});const Loading=withInstall(stdin_default$a),[name$9,bem$9]=createNamespace("button"),buttonProps=extend$3({},routeProps,{tag:makeStringProp("button"),text:String,icon:String,type:makeStringProp("default"),size:makeStringProp("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:makeStringProp("button"),loadingSize:numericProp,loadingText:String,loadingType:String,iconPosition:makeStringProp("left")});var stdin_default$9=defineComponent({name:name$9,props:buttonProps,emits:["click"],setup(a,{emit:r,slots:n}){const o=useRoute(),s=()=>n.loading?n.loading():createVNode$1(Loading,{size:a.loadingSize,type:a.loadingType,class:bem$9("loading")},null),l=()=>{if(a.loading)return s();if(n.icon)return createVNode$1("div",{class:bem$9("icon")},[n.icon()]);if(a.icon)return createVNode$1(Icon,{name:a.icon,class:bem$9("icon"),classPrefix:a.iconPrefix},null)},u=()=>{let v;if(a.loading?v=a.loadingText:v=n.default?n.default():a.text,v)return createVNode$1("span",{class:bem$9("text")},[v])},c=()=>{const{color:v,plain:g}=a;if(v){const y={color:g?v:"white"};return g||(y.background=v),v.includes("gradient")?y.border=0:y.borderColor=v,y}},d=v=>{a.loading?preventDefault$1(v):a.disabled||(r("click",v),o())};return()=>{const{tag:v,type:g,size:y,block:_,round:S,plain:x,square:T,loading:b,disabled:A,hairline:w,nativeType:$,iconPosition:C}=a,P=[bem$9([g,y,{plain:x,block:_,round:S,square:T,loading:b,disabled:A,hairline:w}]),{[BORDER_SURROUND]:w}];return createVNode$1(v,{type:$,class:P,style:c(),disabled:A,onClick:d},{default:()=>[createVNode$1("div",{class:bem$9("content")},[C==="left"&&l(),u(),C==="right"&&l()])]})}}});const Button=withInstall(stdin_default$9),[name$8,bem$8]=createNamespace("action-bar-button"),actionBarButtonProps=extend$3({},routeProps,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var stdin_default$8=defineComponent({name:name$8,props:actionBarButtonProps,setup(a,{slots:r}){const n=useRoute(),{parent:o,index:s}=useParent(ACTION_BAR_KEY),l=computed(()=>{if(o){const c=o.children[s.value-1];return!(c&&"isButton"in c)}}),u=computed(()=>{if(o){const c=o.children[s.value+1];return!(c&&"isButton"in c)}});return useExpose({isButton:!0}),()=>{const{type:c,icon:d,text:v,color:g,loading:y,disabled:_}=a;return createVNode$1(Button,{class:bem$8([c,{last:u.value,first:l.value}]),size:"large",type:c,icon:d,color:g,loading:y,disabled:_,onClick:n},{default:()=>[r.default?r.default():v]})}}});const ActionBarButton=withInstall(stdin_default$8),popupSharedProps={show:Boolean,zIndex:numericProp,overlay:truthProp,duration:numericProp,teleport:[String,Object],lockScroll:truthProp,lazyRender:truthProp,beforeClose:Function,overlayStyle:Object,overlayClass:unknownProp,transitionAppear:Boolean,closeOnClickOverlay:truthProp},popupSharedPropKeys=Object.keys(popupSharedProps);function getDirection(a,r){return a>r?"horizontal":r>a?"vertical":""}function useTouch(){const a=ref(0),r=ref(0),n=ref(0),o=ref(0),s=ref(0),l=ref(0),u=ref(""),c=()=>u.value==="vertical",d=()=>u.value==="horizontal",v=()=>{n.value=0,o.value=0,s.value=0,l.value=0,u.value=""};return{move:_=>{const S=_.touches[0];n.value=(S.clientX<0?0:S.clientX)-a.value,o.value=S.clientY-r.value,s.value=Math.abs(n.value),l.value=Math.abs(o.value);const x=10;(!u.value||s.value<x&&l.value<x)&&(u.value=getDirection(s.value,l.value))},start:_=>{v(),a.value=_.touches[0].clientX,r.value=_.touches[0].clientY},reset:v,startX:a,startY:r,deltaX:n,deltaY:o,offsetX:s,offsetY:l,direction:u,isVertical:c,isHorizontal:d}}let totalLockCount=0;const BODY_LOCK_CLASS="van-overflow-hidden";function useLockScroll(a,r){const n=useTouch(),o=d=>{n.move(d);const v=n.deltaY.value>0?"10":"01",g=getScrollParent(d.target,a.value),{scrollHeight:y,offsetHeight:_,scrollTop:S}=g;let x="11";S===0?x=_>=y?"00":"01":S+_>=y&&(x="10"),x!=="11"&&n.isVertical()&&!(parseInt(x,2)&parseInt(v,2))&&preventDefault$1(d,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),totalLockCount||document.body.classList.add(BODY_LOCK_CLASS),totalLockCount++},l=()=>{totalLockCount&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),totalLockCount--,totalLockCount||document.body.classList.remove(BODY_LOCK_CLASS))},u=()=>r()&&s(),c=()=>r()&&l();onMountedOrActivated(u),onDeactivated(c),onBeforeUnmount(c),watch(r,d=>{d?s():l()})}function useLazyRender(a){const r=ref(!1);return watch(a,n=>{n&&(r.value=n)},{immediate:!0}),n=>()=>r.value?n():null}const POPUP_TOGGLE_KEY=Symbol(),[name$7,bem$7]=createNamespace("overlay"),overlayProps={show:Boolean,zIndex:numericProp,duration:numericProp,className:unknownProp,lockScroll:truthProp,lazyRender:truthProp,customStyle:Object};var stdin_default$7=defineComponent({name:name$7,props:overlayProps,setup(a,{slots:r}){const n=useLazyRender(()=>a.show||!a.lazyRender),o=l=>{preventDefault$1(l,!0)},s=n(()=>{var l;const u=extend$3(getZIndexStyle(a.zIndex),a.customStyle);return isDef$1(a.duration)&&(u.animationDuration=`${a.duration}s`),withDirectives(createVNode$1("div",{style:u,class:[bem$7(),a.className],onTouchmove:a.lockScroll?o:noop$3},[(l=r.default)==null?void 0:l.call(r)]),[[vShow,a.show]])});return()=>createVNode$1(Transition,{name:"van-fade",appear:!0},{default:s})}});const Overlay=withInstall(stdin_default$7),popupProps=extend$3({},popupSharedProps,{round:Boolean,position:makeStringProp("center"),closeIcon:makeStringProp("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:makeStringProp("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[name$6,bem$6]=createNamespace("popup");let globalZIndex=2e3;var stdin_default$6=defineComponent({name:name$6,inheritAttrs:!1,props:popupProps,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(a,{emit:r,attrs:n,slots:o}){let s,l;const u=ref(),c=ref(),d=useLazyRender(()=>a.show||!a.lazyRender),v=computed(()=>{const P={zIndex:u.value};if(isDef$1(a.duration)){const M=a.position==="center"?"animationDuration":"transitionDuration";P[M]=`${a.duration}s`}return P}),g=()=>{s||(a.zIndex!==void 0&&(globalZIndex=+a.zIndex),s=!0,u.value=++globalZIndex,r("open"))},y=()=>{s&&callInterceptor(a.beforeClose,{done(){s=!1,r("close"),r("update:show",!1)}})},_=P=>{r("clickOverlay",P),a.closeOnClickOverlay&&y()},S=()=>{if(a.overlay)return createVNode$1(Overlay,{show:a.show,class:a.overlayClass,zIndex:u.value,duration:a.duration,customStyle:a.overlayStyle,onClick:_},{default:o["overlay-content"]})},x=P=>{r("clickCloseIcon",P),y()},T=()=>{if(a.closeable)return createVNode$1(Icon,{role:"button",tabindex:0,name:a.closeIcon,class:[bem$6("close-icon",a.closeIconPosition),HAPTICS_FEEDBACK],classPrefix:a.iconPrefix,onClick:x},null)},b=()=>r("opened"),A=()=>r("closed"),w=P=>r("keydown",P),$=d(()=>{var P;const{round:M,position:E,safeAreaInsetTop:D,safeAreaInsetBottom:I}=a;return withDirectives(createVNode$1("div",mergeProps({ref:c,style:v.value,class:[bem$6({round:M,[E]:E}),{"van-safe-area-top":D,"van-safe-area-bottom":I}],onKeydown:w},n),[(P=o.default)==null?void 0:P.call(o),T()]),[[vShow,a.show]])}),C=()=>{const{position:P,transition:M,transitionAppear:E}=a,D=P==="center"?"van-fade":`van-popup-slide-${P}`;return createVNode$1(Transition,{name:M||D,appear:E,onAfterEnter:b,onAfterLeave:A},{default:$})};return watch(()=>a.show,P=>{P&&!s&&(g(),n.tabindex===0&&nextTick(()=>{var M;(M=c.value)==null||M.focus()})),!P&&s&&(s=!1,r("close"))}),useExpose({popupRef:c}),useLockScroll(c,()=>a.show&&a.lockScroll),useEventListener("popstate",()=>{a.closeOnPopstate&&(y(),l=!1)}),onMounted(()=>{a.show&&g()}),onActivated(()=>{l&&(r("update:show",!0),l=!1)}),onDeactivated(()=>{a.show&&a.teleport&&(y(),l=!0)}),provide(POPUP_TOGGLE_KEY,()=>a.show),()=>a.teleport?createVNode$1(Teleport,{to:a.teleport},{default:()=>[S(),C()]}):createVNode$1(Fragment,null,[S(),C()])}});const Popup=withInstall(stdin_default$6);let lockCount=0;function lockClick(a){a?(lockCount||document.body.classList.add("van-toast--unclickable"),lockCount++):lockCount&&(lockCount--,lockCount||document.body.classList.remove("van-toast--unclickable"))}const[name$5,bem$5]=createNamespace("toast"),popupInheritProps=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],toastProps={icon:String,show:Boolean,type:makeStringProp("text"),overlay:Boolean,message:numericProp,iconSize:numericProp,duration:makeNumberProp(2e3),position:makeStringProp("middle"),teleport:[String,Object],className:unknownProp,iconPrefix:String,transition:makeStringProp("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:unknownProp,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var stdin_default$5=defineComponent({name:name$5,props:toastProps,emits:["update:show"],setup(a,{emit:r}){let n,o=!1;const s=()=>{const g=a.show&&a.forbidClick;o!==g&&(o=g,lockClick(o))},l=g=>r("update:show",g),u=()=>{a.closeOnClick&&l(!1)},c=()=>clearTimeout(n),d=()=>{const{icon:g,type:y,iconSize:_,iconPrefix:S,loadingType:x}=a;if(g||y==="success"||y==="fail")return createVNode$1(Icon,{name:g||y,size:_,class:bem$5("icon"),classPrefix:S},null);if(y==="loading")return createVNode$1(Loading,{class:bem$5("loading"),size:_,type:x},null)},v=()=>{const{type:g,message:y}=a;if(isDef$1(y)&&y!=="")return g==="html"?createVNode$1("div",{key:0,class:bem$5("text"),innerHTML:String(y)},null):createVNode$1("div",{class:bem$5("text")},[y])};return watch(()=>[a.show,a.forbidClick],s),watch(()=>[a.show,a.type,a.message,a.duration],()=>{c(),a.show&&a.duration>0&&(n=setTimeout(()=>{l(!1)},a.duration))}),onMounted(s),onUnmounted(s),()=>createVNode$1(Popup,mergeProps({class:[bem$5([a.position,{[a.type]:!a.icon}]),a.className],lockScroll:!1,onClick:u,onClosed:c,"onUpdate:show":l},pick$1(a,popupInheritProps)),{default:()=>[d(),v()]})}});function usePopupState(){const a=reactive({show:!1}),r=s=>{a.show=s},n=s=>{extend$3(a,s,{transitionAppear:!0}),r(!0)},o=()=>r(!1);return useExpose({open:n,close:o,toggle:r}),{open:n,close:o,state:a,toggle:r}}function mountComponent(a){const r=createApp(a),n=document.createElement("div");return document.body.appendChild(n),{instance:r.mount(n),unmount(){r.unmount(),document.body.removeChild(n)}}}const defaultOptions={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let queue=[],allowMultiple=!1,currentOptions$2=extend$3({},defaultOptions);const defaultOptionsMap=new Map;function parseOptions$1(a){return isObject$a(a)?a:{message:a}}function createInstance$1(){const{instance:a,unmount:r}=mountComponent({setup(){const n=ref(""),{open:o,state:s,close:l,toggle:u}=usePopupState(),c=()=>{},d=()=>createVNode$1(stdin_default$5,mergeProps(s,{onClosed:c,"onUpdate:show":u}),null);return watch(n,v=>{s.message=v}),getCurrentInstance().render=d,{open:o,close:l,message:n}}});return a}function getInstance(){if(!queue.length||allowMultiple){const a=createInstance$1();queue.push(a)}return queue[queue.length-1]}function showToast(a={}){if(!inBrowser$1)return{};const r=getInstance(),n=parseOptions$1(a);return r.open(extend$3({},currentOptions$2,defaultOptionsMap.get(n.type||currentOptions$2.type),n)),r}const createMethod=a=>r=>showToast(extend$3({type:a},parseOptions$1(r))),showLoadingToast=createMethod("loading"),closeToast=a=>{queue.length&&(a?(queue.forEach(r=>{r.close()}),queue=[]):queue[0].close())};withInstall(stdin_default$5);const[name$4,bem$4]=createNamespace("image"),imageProps={src:String,alt:String,fit:String,position:String,round:Boolean,width:numericProp,height:numericProp,radius:numericProp,lazyLoad:Boolean,iconSize:numericProp,showError:truthProp,errorIcon:makeStringProp("photo-fail"),iconPrefix:String,showLoading:truthProp,loadingIcon:makeStringProp("photo")};var stdin_default$4=defineComponent({name:name$4,props:imageProps,emits:["load","error"],setup(a,{emit:r,slots:n}){const o=ref(!1),s=ref(!0),l=ref(),{$Lazyload:u}=getCurrentInstance().proxy,c=computed(()=>{const T={width:addUnit(a.width),height:addUnit(a.height)};return isDef$1(a.radius)&&(T.overflow="hidden",T.borderRadius=addUnit(a.radius)),T});watch(()=>a.src,()=>{o.value=!1,s.value=!0});const d=T=>{s.value=!1,r("load",T)},v=T=>{o.value=!0,s.value=!1,r("error",T)},g=(T,b,A)=>A?A():createVNode$1(Icon,{name:T,size:a.iconSize,class:b,classPrefix:a.iconPrefix},null),y=()=>{if(s.value&&a.showLoading)return createVNode$1("div",{class:bem$4("loading")},[g(a.loadingIcon,bem$4("loading-icon"),n.loading)]);if(o.value&&a.showError)return createVNode$1("div",{class:bem$4("error")},[g(a.errorIcon,bem$4("error-icon"),n.error)])},_=()=>{if(o.value||!a.src)return;const T={alt:a.alt,class:bem$4("img"),style:{objectFit:a.fit,objectPosition:a.position}};return a.lazyLoad?withDirectives(createVNode$1("img",mergeProps({ref:l},T),null),[[resolveDirective("lazy"),a.src]]):createVNode$1("img",mergeProps({src:a.src,onLoad:d,onError:v},T),null)},S=({el:T})=>{const b=()=>{T===l.value&&s.value&&d()};l.value?b():nextTick(b)},x=({el:T})=>{T===l.value&&!o.value&&v()};return u&&inBrowser$1&&(u.$on("loaded",S),u.$on("error",x),onBeforeUnmount(()=>{u.$off("loaded",S),u.$off("error",x)})),()=>{var T;return createVNode$1("div",{class:bem$4({round:a.round}),style:c.value},[_(),y(),(T=n.default)==null?void 0:T.call(n)])}}});const Image$1=withInstall(stdin_default$4),ConfigProvider=withInstall(stdin_default$c),getId$1=a=>`van-empty-${a}`,useId=a=>`url(#${getId$1(a)})`,renderStop=(a,r,n)=>createVNode$1("stop",{"stop-color":a,offset:`${r}%`,"stop-opacity":n},null),renderStops=(a,r)=>[renderStop(a,0),renderStop(r,100)],renderShadow=a=>[createVNode$1("defs",null,[createVNode$1("radialGradient",{id:getId$1(a),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[renderStop("#EBEDF0",0),renderStop("#F2F3F5",100,.3)])]),createVNode$1("ellipse",{fill:useId(a),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],renderBuilding=()=>[createVNode$1("defs",null,[createVNode$1("linearGradient",{id:getId$1("a"),x1:"64%",y1:"100%",x2:"64%"},[renderStop("#FFF",0,.5),renderStop("#F2F3F5",100)])]),createVNode$1("g",{opacity:".8"},[createVNode$1("path",{d:"M36 131V53H16v20H2v58h34z",fill:useId("a")},null),createVNode$1("path",{d:"M123 15h22v14h9v77h-31V15z",fill:useId("a")},null)])],renderCloud=()=>[createVNode$1("defs",null,[createVNode$1("linearGradient",{id:getId$1("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[renderStop("#F2F3F5",0,.3),renderStop("#F2F3F5",100)])]),createVNode$1("g",{opacity:".8"},[createVNode$1("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:useId("b")},null),createVNode$1("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:useId("b")},null)])],renderNetwork=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",null,[createVNode$1("linearGradient",{id:getId$1(1),x1:"64%",y1:"100%",x2:"64%"},[renderStop("#FFF",0,.5),renderStop("#F2F3F5",100)]),createVNode$1("linearGradient",{id:getId$1(2),x1:"50%",x2:"50%",y2:"84%"},[renderStop("#EBEDF0",0),renderStop("#DCDEE0",100,0)]),createVNode$1("linearGradient",{id:getId$1(3),x1:"100%",x2:"100%",y2:"100%"},[renderStops("#EAEDF0","#DCDEE0")]),createVNode$1("radialGradient",{id:getId$1(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[renderStop("#EBEDF0",0),renderStop("#FFF",100,0)])]),createVNode$1("g",{fill:"none"},[renderBuilding(),createVNode$1("path",{fill:useId(4),d:"M0 139h160v21H0z"},null),createVNode$1("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:useId(2)},null),createVNode$1("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[createVNode$1("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:useId(3)},null),createVNode$1("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:useId(3)},null),createVNode$1("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:useId(3)},null),createVNode$1("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:useId(3)},null)]),createVNode$1("g",{transform:"translate(31 105)"},[createVNode$1("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),createVNode$1("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),createVNode$1("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),renderMaterial=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",null,[createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:getId$1(5)},[renderStops("#F2F3F5","#DCDEE0")]),createVNode$1("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:getId$1(6)},[renderStops("#EAEDF1","#DCDEE0")]),createVNode$1("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:getId$1(7)},[renderStops("#EAEDF1","#DCDEE0")])]),renderBuilding(),renderCloud(),createVNode$1("g",{transform:"translate(36 50)",fill:"none"},[createVNode$1("g",{transform:"translate(8)"},[createVNode$1("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),createVNode$1("rect",{fill:useId(5),width:"64",height:"66",rx:"2"},null),createVNode$1("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),createVNode$1("g",{transform:"translate(15 17)",fill:useId(6)},[createVNode$1("rect",{width:"34",height:"6",rx:"1"},null),createVNode$1("path",{d:"M0 14h34v6H0z"},null),createVNode$1("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),createVNode$1("rect",{fill:useId(7),y:"61",width:"88",height:"28",rx:"1"},null),createVNode$1("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),renderError=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",null,[createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:getId$1(8)},[renderStops("#EAEDF1","#DCDEE0")])]),renderBuilding(),renderCloud(),renderShadow("c"),createVNode$1("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:useId(8)},null)]),renderSearch=()=>createVNode$1("svg",{viewBox:"0 0 160 160"},[createVNode$1("defs",null,[createVNode$1("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:getId$1(9)},[renderStops("#EEE","#D8D8D8")]),createVNode$1("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:getId$1(10)},[renderStops("#F2F3F5","#DCDEE0")]),createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:getId$1(11)},[renderStops("#F2F3F5","#DCDEE0")]),createVNode$1("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:getId$1(12)},[renderStops("#FFF","#F7F8FA")])]),renderBuilding(),renderCloud(),renderShadow("d"),createVNode$1("g",{transform:"rotate(-45 113 -4)",fill:"none"},[createVNode$1("rect",{fill:useId(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),createVNode$1("rect",{fill:useId(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),createVNode$1("circle",{stroke:useId(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),createVNode$1("circle",{fill:useId(12),cx:"27",cy:"27",r:"16"},null),createVNode$1("path",{d:"M37 7c-8 0-15 5-16 12",stroke:useId(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),[name$3,bem$3]=createNamespace("empty"),PRESET_IMAGES={error:renderError,search:renderSearch,network:renderNetwork,default:renderMaterial},emptyProps={image:makeStringProp("default"),imageSize:[Number,String,Array],description:String};var stdin_default$3=defineComponent({name:name$3,props:emptyProps,setup(a,{slots:r}){const n=()=>{var l;return r.image?r.image():((l=PRESET_IMAGES[a.image])==null?void 0:l.call(PRESET_IMAGES))||createVNode$1("img",{src:a.image},null)},o=()=>{const l=r.description?r.description():a.description;if(l)return createVNode$1("p",{class:bem$3("description")},[l])},s=()=>{if(r.default)return createVNode$1("div",{class:bem$3("bottom")},[r.default()])};return()=>createVNode$1("div",{class:bem$3()},[createVNode$1("div",{class:bem$3("image"),style:getSizeStyle(a.imageSize)},[n()]),o(),s()])}});const Empty=withInstall(stdin_default$3),[name$2,bem$2,t]=createNamespace("dialog"),dialogProps=extend$3({},popupSharedProps,{title:String,theme:String,width:numericProp,message:[String,Function],callback:Function,allowHtml:Boolean,className:unknownProp,transition:makeStringProp("van-dialog-bounce"),messageAlign:String,closeOnPopstate:truthProp,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:truthProp,closeOnClickOverlay:Boolean}),popupInheritKeys=[...popupSharedPropKeys,"transition","closeOnPopstate"];var stdin_default$2=defineComponent({name:name$2,props:dialogProps,emits:["confirm","cancel","keydown","update:show"],setup(a,{emit:r,slots:n}){const o=ref(),s=reactive({confirm:!1,cancel:!1}),l=A=>r("update:show",A),u=A=>{var w;l(!1),(w=a.callback)==null||w.call(a,A)},c=A=>()=>{!a.show||(r(A),a.beforeClose?(s[A]=!0,callInterceptor(a.beforeClose,{args:[A],done(){u(A),s[A]=!1},canceled(){s[A]=!1}})):u(A))},d=c("cancel"),v=c("confirm"),g=withKeys(A=>{var w,$;if(A.target!==(($=(w=o.value)==null?void 0:w.popupRef)==null?void 0:$.value))return;({Enter:a.showConfirmButton?v:noop$3,Escape:a.showCancelButton?d:noop$3})[A.key](),r("keydown",A)},["enter","esc"]),y=()=>{const A=n.title?n.title():a.title;if(A)return createVNode$1("div",{class:bem$2("header",{isolated:!a.message&&!n.default})},[A])},_=A=>{const{message:w,allowHtml:$,messageAlign:C}=a,P=bem$2("message",{"has-title":A,[C]:C}),M=isFunction$5(w)?w():w;return $&&typeof M=="string"?createVNode$1("div",{class:P,innerHTML:M},null):createVNode$1("div",{class:P},[M])},S=()=>{if(n.default)return createVNode$1("div",{class:bem$2("content")},[n.default()]);const{title:A,message:w,allowHtml:$}=a;if(w){const C=!!(A||n.title);return createVNode$1("div",{key:$?1:0,class:bem$2("content",{isolated:!C})},[_(C)])}},x=()=>createVNode$1("div",{class:[BORDER_TOP,bem$2("footer")]},[a.showCancelButton&&createVNode$1(Button,{size:"large",text:a.cancelButtonText||t("cancel"),class:bem$2("cancel"),style:{color:a.cancelButtonColor},loading:s.cancel,disabled:a.cancelButtonDisabled,onClick:d},null),a.showConfirmButton&&createVNode$1(Button,{size:"large",text:a.confirmButtonText||t("confirm"),class:[bem$2("confirm"),{[BORDER_LEFT]:a.showCancelButton}],style:{color:a.confirmButtonColor},loading:s.confirm,disabled:a.confirmButtonDisabled,onClick:v},null)]),T=()=>createVNode$1(ActionBar,{class:bem$2("footer")},{default:()=>[a.showCancelButton&&createVNode$1(ActionBarButton,{type:"warning",text:a.cancelButtonText||t("cancel"),class:bem$2("cancel"),color:a.cancelButtonColor,loading:s.cancel,disabled:a.cancelButtonDisabled,onClick:d},null),a.showConfirmButton&&createVNode$1(ActionBarButton,{type:"danger",text:a.confirmButtonText||t("confirm"),class:bem$2("confirm"),color:a.confirmButtonColor,loading:s.confirm,disabled:a.confirmButtonDisabled,onClick:v},null)]}),b=()=>n.footer?n.footer():a.theme==="round-button"?T():x();return()=>{const{width:A,title:w,theme:$,message:C,className:P}=a;return createVNode$1(Popup,mergeProps({ref:o,role:"dialog",class:[bem$2([$]),P],style:{width:addUnit(A)},tabindex:0,"aria-labelledby":w||C,onKeydown:g,"onUpdate:show":l},pick$1(a,popupInheritKeys)),{default:()=>[y(),S(),b()]})}}});let instance$1;const DEFAULT_OPTIONS={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let currentOptions$1=extend$3({},DEFAULT_OPTIONS);function initInstance$1(){({instance:instance$1}=mountComponent({setup(){const{state:r,toggle:n}=usePopupState();return()=>createVNode$1(stdin_default$2,mergeProps(r,{"onUpdate:show":n}),null)}}))}function showDialog(a){return inBrowser$1?new Promise((r,n)=>{instance$1||initInstance$1(),instance$1.open(extend$3({},currentOptions$1,a,{callback:o=>{(o==="confirm"?r:n)(o)}}))}):Promise.resolve()}withInstall(stdin_default$2);const[name$1,bem$1]=createNamespace("nav-bar"),navBarProps={title:String,fixed:Boolean,zIndex:numericProp,border:truthProp,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var stdin_default$1=defineComponent({name:name$1,props:navBarProps,emits:["clickLeft","clickRight"],setup(a,{emit:r,slots:n}){const o=ref(),s=usePlaceholder(o,bem$1),l=g=>r("clickLeft",g),u=g=>r("clickRight",g),c=()=>n.left?n.left():[a.leftArrow&&createVNode$1(Icon,{class:bem$1("arrow"),name:"arrow-left"},null),a.leftText&&createVNode$1("span",{class:bem$1("text")},[a.leftText])],d=()=>n.right?n.right():createVNode$1("span",{class:bem$1("text")},[a.rightText]),v=()=>{const{title:g,fixed:y,border:_,zIndex:S}=a,x=getZIndexStyle(S),T=a.leftArrow||a.leftText||n.left,b=a.rightText||n.right;return createVNode$1("div",{ref:o,style:x,class:[bem$1({fixed:y}),{[BORDER_BOTTOM]:_,"van-safe-area-top":a.safeAreaInsetTop}]},[createVNode$1("div",{class:bem$1("content")},[T&&createVNode$1("div",{class:[bem$1("left"),HAPTICS_FEEDBACK],onClick:l},[c()]),createVNode$1("div",{class:[bem$1("title"),"van-ellipsis"]},[n.title?n.title():g]),b&&createVNode$1("div",{class:[bem$1("right"),HAPTICS_FEEDBACK],onClick:u},[d()])])])};return()=>a.fixed&&a.placeholder?s(v):v()}});const NavBar=withInstall(stdin_default$1),[name,bem]=createNamespace("notify"),notifyProps=extend$3({},popupSharedProps,{type:makeStringProp("danger"),color:String,message:numericProp,position:makeStringProp("top"),className:unknownProp,background:String,lockScroll:Boolean});var stdin_default=defineComponent({name,props:notifyProps,emits:["update:show"],setup(a,{emit:r,slots:n}){const o=s=>r("update:show",s);return()=>createVNode$1(Popup,{show:a.show,class:[bem([a.type]),a.className],style:{color:a.color,background:a.background},overlay:!1,position:a.position,duration:.2,lockScroll:a.lockScroll,"onUpdate:show":o},{default:()=>[n.default?n.default():a.message]})}});let timer,instance;const parseOptions=a=>isObject$a(a)?a:{message:a};function initInstance(){({instance}=mountComponent({setup(){const{state:a,toggle:r}=usePopupState();return()=>createVNode$1(stdin_default,mergeProps(a,{"onUpdate:show":r}),null)}}))}const getDefaultOptions=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let currentOptions=getDefaultOptions();const closeNotify=()=>{instance&&instance.toggle(!1)};function showNotify(a){if(!!inBrowser$1)return instance||initInstance(),a=extend$3({},currentOptions,parseOptions(a)),instance.open(a),clearTimeout(timer),a.duration>0&&(timer=window.setTimeout(closeNotify,a.duration)),instance}withInstall(stdin_default);const base$1="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var assign$2=make_assign(),create$4=make_create(),trim$4=make_trim(),Global$5=typeof window<"u"?window:commonjsGlobal,util$6={assign:assign$2,create:create$4,trim:trim$4,bind:bind$6,slice:slice$2,each:each$n,map:map$3,pluck:pluck$1,isList:isList$1,isFunction:isFunction$4,isObject:isObject$9,Global:Global$5};function make_assign(){return Object.assign?Object.assign:function(r,n,o,s){for(var l=1;l<arguments.length;l++)each$n(Object(arguments[l]),function(u,c){r[c]=u});return r}}function make_create(){if(Object.create)return function(r,n,o,s){var l=slice$2(arguments,1);return assign$2.apply(this,[Object.create(r)].concat(l))};{let a=function(){};return function(n,o,s,l){var u=slice$2(arguments,1);return a.prototype=n,assign$2.apply(this,[new a].concat(u))}}}function make_trim(){return String.prototype.trim?function(r){return String.prototype.trim.call(r)}:function(r){return r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind$6(a,r){return function(){return r.apply(a,Array.prototype.slice.call(arguments,0))}}function slice$2(a,r){return Array.prototype.slice.call(a,r||0)}function each$n(a,r){pluck$1(a,function(n,o){return r(n,o),!1})}function map$3(a,r){var n=isList$1(a)?[]:{};return pluck$1(a,function(o,s){return n[s]=r(o,s),!1}),n}function pluck$1(a,r){if(isList$1(a)){for(var n=0;n<a.length;n++)if(r(a[n],n))return a[n]}else for(var o in a)if(a.hasOwnProperty(o)&&r(a[o],o))return a[o]}function isList$1(a){return a!=null&&typeof a!="function"&&typeof a.length=="number"}function isFunction$4(a){return a&&{}.toString.call(a)==="[object Function]"}function isObject$9(a){return a&&{}.toString.call(a)==="[object Object]"}var util$5=util$6,slice$1=util$5.slice,pluck=util$5.pluck,each$m=util$5.each,bind$5=util$5.bind,create$3=util$5.create,isList=util$5.isList,isFunction$3=util$5.isFunction,isObject$8=util$5.isObject,storeEngine={createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(a,r){var n=this.storage.read(this._namespacePrefix+a);return this._deserialize(n,r)},set:function(a,r){return r===void 0?this.remove(a):(this.storage.write(this._namespacePrefix+a,this._serialize(r)),r)},remove:function(a){this.storage.remove(this._namespacePrefix+a)},each:function(a){var r=this;this.storage.each(function(n,o){a.call(r,r._deserialize(n),(o||"").replace(r._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(a){return this._namespacePrefix=="__storejs_"+a+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(a){this._addPlugin(a)},namespace:function(a){return createStore(this.storage,this.plugins,a)}};function _warn(){var a=typeof console>"u"?null:console;if(!!a){var r=a.warn?a.warn:a.log;r.apply(a,arguments)}}function createStore(a,r,n){n||(n=""),a&&!isList(a)&&(a=[a]),r&&!isList(r)&&(r=[r]);var o=n?"__storejs_"+n+"_":"",s=n?new RegExp("^"+o):null,l=/^[a-zA-Z0-9_\-]*$/;if(!l.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var u={_namespacePrefix:o,_namespaceRegexp:s,_testStorage:function(d){try{var v="__storejs__test__";d.write(v,v);var g=d.read(v)===v;return d.remove(v),g}catch{return!1}},_assignPluginFnProp:function(d,v){var g=this[v];this[v]=function(){var _=slice$1(arguments,0),S=this;function x(){if(!!g)return each$m(arguments,function(b,A){_[A]=b}),g.apply(S,_)}var T=[x].concat(_);return d.apply(S,T)}},_serialize:function(d){return JSON.stringify(d)},_deserialize:function(d,v){if(!d)return v;var g="";try{g=JSON.parse(d)}catch{g=d}return g!==void 0?g:v},_addStorage:function(d){this.enabled||this._testStorage(d)&&(this.storage=d,this.enabled=!0)},_addPlugin:function(d){var v=this;if(isList(d)){each$m(d,function(_){v._addPlugin(_)});return}var g=pluck(this.plugins,function(_){return d===_});if(!g){if(this.plugins.push(d),!isFunction$3(d))throw new Error("Plugins must be function values that return objects");var y=d.call(this);if(!isObject$8(y))throw new Error("Plugins must return an object of function properties");each$m(y,function(_,S){if(!isFunction$3(_))throw new Error("Bad plugin property: "+S+" from plugin "+d.name+". Plugins should only return functions.");v._assignPluginFnProp(_,S)})}},addStorage:function(d){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(d)}},c=create$3(u,storeAPI,{plugins:[]});return c.raw={},each$m(c,function(d,v){isFunction$3(d)&&(c.raw[v]=bind$5(c,d))}),each$m(a,function(d){c._addStorage(d)}),each$m(r,function(d){c._addPlugin(d)}),c}var util$4=util$6,Global$4=util$4.Global,localStorage_1={name:"localStorage",read:read$5,write:write$5,each:each$l,remove:remove$5,clearAll:clearAll$5};function localStorage$1(){return Global$4.localStorage}function read$5(a){return localStorage$1().getItem(a)}function write$5(a,r){return localStorage$1().setItem(a,r)}function each$l(a){for(var r=localStorage$1().length-1;r>=0;r--){var n=localStorage$1().key(r);a(read$5(n),n)}}function remove$5(a){return localStorage$1().removeItem(a)}function clearAll$5(){return localStorage$1().clear()}var util$3=util$6,Global$3=util$3.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$4,write:write$4,each:each$k,remove:remove$4,clearAll:clearAll$4},globalStorage=Global$3.globalStorage;function read$4(a){return globalStorage[a]}function write$4(a,r){globalStorage[a]=r}function each$k(a){for(var r=globalStorage.length-1;r>=0;r--){var n=globalStorage.key(r);a(globalStorage[n],n)}}function remove$4(a){return globalStorage.removeItem(a)}function clearAll$4(){each$k(function(a,r){delete globalStorage[a]})}var util$2=util$6,Global$2=util$2.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$3,read:read$3,each:each$j,remove:remove$3,clearAll:clearAll$3},storageName="storejs",doc$1=Global$2.document,_withStorageEl=_makeIEStorageElFunction(),disable=(Global$2.navigator?Global$2.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function write$3(a,r){if(!disable){var n=fixKey(a);_withStorageEl(function(o){o.setAttribute(n,r),o.save(storageName)})}}function read$3(a){if(!disable){var r=fixKey(a),n=null;return _withStorageEl(function(o){n=o.getAttribute(r)}),n}}function each$j(a){_withStorageEl(function(r){for(var n=r.XMLDocument.documentElement.attributes,o=n.length-1;o>=0;o--){var s=n[o];a(r.getAttribute(s.name),s.name)}})}function remove$3(a){var r=fixKey(a);_withStorageEl(function(n){n.removeAttribute(r),n.save(storageName)})}function clearAll$3(){_withStorageEl(function(a){var r=a.XMLDocument.documentElement.attributes;a.load(storageName);for(var n=r.length-1;n>=0;n--)a.removeAttribute(r[n].name);a.save(storageName)})}var forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function fixKey(a){return a.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc$1||!doc$1.documentElement||!doc$1.documentElement.addBehavior)return null;var a="script",r,n,o;try{n=new ActiveXObject("htmlfile"),n.open(),n.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),n.close(),r=n.w.frames[0].document,o=r.createElement("div")}catch{o=doc$1.createElement("div"),r=doc$1.body}return function(s){var l=[].slice.call(arguments,0);l.unshift(o),r.appendChild(o),o.addBehavior("#default#userData"),o.load(storageName),s.apply(this,l),r.removeChild(o)}}var util$1=util$6,Global$1=util$1.Global,trim$3=util$1.trim,cookieStorage={name:"cookieStorage",read:read$2,write:write$2,each:each$i,remove:remove$2,clearAll:clearAll$2},doc=Global$1.document;function read$2(a){if(!a||!_has(a))return null;var r="(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc.cookie.replace(new RegExp(r),"$1"))}function each$i(a){for(var r=doc.cookie.split(/; ?/g),n=r.length-1;n>=0;n--)if(!!trim$3(r[n])){var o=r[n].split("="),s=unescape(o[0]),l=unescape(o[1]);a(l,s)}}function write$2(a,r){!a||(doc.cookie=escape(a)+"="+escape(r)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$2(a){!a||!_has(a)||(doc.cookie=escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$2(){each$i(function(a,r){remove$2(r)})}function _has(a){return new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc.cookie)}var util=util$6,Global=util.Global,sessionStorage_1={name:"sessionStorage",read:read$1,write:write$1,each:each$h,remove:remove$1,clearAll:clearAll$1};function sessionStorage(){return Global.sessionStorage}function read$1(a){return sessionStorage().getItem(a)}function write$1(a,r){return sessionStorage().setItem(a,r)}function each$h(a){for(var r=sessionStorage().length-1;r>=0;r--){var n=sessionStorage().key(r);a(read$1(n),n)}}function remove$1(a){return sessionStorage().removeItem(a)}function clearAll$1(){return sessionStorage().clear()}var memoryStorage_1={name:"memoryStorage",read,write,each:each$g,remove,clearAll},memoryStorage={};function read(a){return memoryStorage[a]}function write(a,r){memoryStorage[a]=r}function each$g(a){for(var r in memoryStorage)memoryStorage.hasOwnProperty(r)&&a(memoryStorage[r],r)}function remove(a){delete memoryStorage[a]}function clearAll(a){memoryStorage={}}var all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1],json2$1={},hasRequiredJson2;function requireJson2(){return hasRequiredJson2||(hasRequiredJson2=1,typeof JSON!="object"&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(a){return a<10?"0"+a:a}function this_value(){return this.valueOf()}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;function quote(a){return rx_escapable.lastIndex=0,rx_escapable.test(a)?'"'+a.replace(rx_escapable,function(r){var n=meta[r];return typeof n=="string"?n:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,r){var n,o,s,l,u=gap,c,d=r[a];switch(d&&typeof d=="object"&&typeof d.toJSON=="function"&&(d=d.toJSON(a)),typeof rep=="function"&&(d=rep.call(r,a,d)),typeof d){case"string":return quote(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(gap+=indent,c=[],Object.prototype.toString.apply(d)==="[object Array]"){for(l=d.length,n=0;n<l;n+=1)c[n]=str(n,d)||"null";return s=c.length===0?"[]":gap?`[
`+gap+c.join(`,
`+gap)+`
`+u+"]":"["+c.join(",")+"]",gap=u,s}if(rep&&typeof rep=="object")for(l=rep.length,n=0;n<l;n+=1)typeof rep[n]=="string"&&(o=rep[n],s=str(o,d),s&&c.push(quote(o)+(gap?": ":":")+s));else for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(s=str(o,d),s&&c.push(quote(o)+(gap?": ":":")+s));return s=c.length===0?"{}":gap?`{
`+gap+c.join(`,
`+gap)+`
`+u+"}":"{"+c.join(",")+"}",gap=u,s}}typeof JSON.stringify!="function"&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,r,n){var o;if(gap="",indent="",typeof n=="number")for(o=0;o<n;o+=1)indent+=" ";else typeof n=="string"&&(indent=n);if(rep=r,r&&typeof r!="function"&&(typeof r!="object"||typeof r.length!="number"))throw new Error("JSON.stringify");return str("",{"":a})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){var j;function walk(a,r){var n,o,s=a[r];if(s&&typeof s=="object")for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(o=walk(s,n),o!==void 0?s[n]=o:delete s[n]);return reviver.call(a,r,s)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),json2$1}var json2=json2Plugin;function json2Plugin(){return requireJson2(),{}}var engine=storeEngine,storages=all,plugins=[json2],store_legacy=engine.createStore(storages,plugins),namespace="expire_mixin",expire=expirePlugin;function expirePlugin(){var a=this.createStore(this.storage,null,this._namespacePrefix+namespace);return{set:r,get:n,remove:o,getExpiration:s,removeExpiredKeys:l};function r(c,d,v,g){return this.hasNamespace(namespace)||a.set(d,g),c()}function n(c,d){return this.hasNamespace(namespace)||u.call(this,d),c()}function o(c,d){return this.hasNamespace(namespace)||a.remove(d),c()}function s(c,d){return a.get(d)}function l(c){var d=[];this.each(function(g,y){d.push(y)});for(var v=0;v<d.length;v++)u.call(this,d[v])}function u(c){var d=a.get(c,Number.MAX_VALUE);d<=new Date().getTime()&&(this.raw.remove(c),a.remove(c))}}store_legacy.addPlugin(expire);var isVue2=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=a=>activePinia=a,piniaSymbol=Symbol();function isPlainObject$1(a){return a&&typeof a=="object"&&Object.prototype.toString.call(a)==="[object Object]"&&typeof a.toJSON!="function"}var MutationType;(function(a){a.direct="direct",a.patchObject="patch object",a.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const a=effectScope(!0),r=a.run(()=>ref({}));let n=[],o=[];const s=markRaw({install(l){setActivePinia(s),s._a=l,l.provide(piniaSymbol,s),l.config.globalProperties.$pinia=s,o.forEach(u=>n.push(u)),o=[]},use(l){return!this._a&&!isVue2?o.push(l):n.push(l),this},_p:n,_a:null,_e:a,_s:new Map,state:r});return s}const noop$2=()=>{};function addSubscription(a,r,n,o=noop$2){a.push(r);const s=()=>{const l=a.indexOf(r);l>-1&&(a.splice(l,1),o())};return!n&&getCurrentInstance()&&onUnmounted(s),s}function triggerSubscriptions(a,...r){a.slice().forEach(n=>{n(...r)})}function mergeReactiveObjects(a,r){for(const n in r){if(!r.hasOwnProperty(n))continue;const o=r[n],s=a[n];isPlainObject$1(s)&&isPlainObject$1(o)&&a.hasOwnProperty(n)&&!isRef(o)&&!isReactive(o)?a[n]=mergeReactiveObjects(s,o):a[n]=o}return a}const skipHydrateSymbol=Symbol();function shouldHydrate(a){return!isPlainObject$1(a)||!a.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(a){return!!(isRef(a)&&a.effect)}function createOptionsStore(a,r,n,o){const{state:s,actions:l,getters:u}=r,c=n.state.value[a];let d;function v(){c||(n.state.value[a]=s?s():{});const g=toRefs(n.state.value[a]);return assign$1(g,l,Object.keys(u||{}).reduce((y,_)=>(y[_]=markRaw(computed(()=>{setActivePinia(n);const S=n._s.get(a);return u[_].call(S,S)})),y),{}))}return d=createSetupStore(a,v,r,n,o,!0),d.$reset=function(){const y=s?s():{};this.$patch(_=>{assign$1(_,y)})},d}function createSetupStore(a,r,n={},o,s,l){let u;const c=assign$1({actions:{}},n),d={deep:!0};let v,g,y=markRaw([]),_=markRaw([]),S;const x=o.state.value[a];!l&&!x&&(o.state.value[a]={}),ref({});let T;function b(E){let D;v=g=!1,typeof E=="function"?(E(o.state.value[a]),D={type:MutationType.patchFunction,storeId:a,events:S}):(mergeReactiveObjects(o.state.value[a],E),D={type:MutationType.patchObject,payload:E,storeId:a,events:S});const I=T=Symbol();nextTick().then(()=>{T===I&&(v=!0)}),g=!0,triggerSubscriptions(y,D,o.state.value[a])}const A=noop$2;function w(){u.stop(),y=[],_=[],o._s.delete(a)}function $(E,D){return function(){setActivePinia(o);const I=Array.from(arguments),R=[],L=[];function O(B){R.push(B)}function N(B){L.push(B)}triggerSubscriptions(_,{args:I,name:E,store:P,after:O,onError:N});let F;try{F=D.apply(this&&this.$id===a?this:P,I)}catch(B){throw triggerSubscriptions(L,B),B}return F instanceof Promise?F.then(B=>(triggerSubscriptions(R,B),B)).catch(B=>(triggerSubscriptions(L,B),Promise.reject(B))):(triggerSubscriptions(R,F),F)}}const C={_p:o,$id:a,$onAction:addSubscription.bind(null,_),$patch:b,$reset:A,$subscribe(E,D={}){const I=addSubscription(y,E,D.detached,()=>R()),R=u.run(()=>watch(()=>o.state.value[a],L=>{(D.flush==="sync"?g:v)&&E({storeId:a,type:MutationType.direct,events:S},L)},assign$1({},d,D)));return I},$dispose:w},P=reactive(assign$1({},C));o._s.set(a,P);const M=o._e.run(()=>(u=effectScope(),u.run(()=>r())));for(const E in M){const D=M[E];if(isRef(D)&&!isComputed(D)||isReactive(D))l||(x&&shouldHydrate(D)&&(isRef(D)?D.value=x[E]:mergeReactiveObjects(D,x[E])),o.state.value[a][E]=D);else if(typeof D=="function"){const I=$(E,D);M[E]=I,c.actions[E]=D}}return assign$1(P,M),assign$1(toRaw(P),M),Object.defineProperty(P,"$state",{get:()=>o.state.value[a],set:E=>{b(D=>{assign$1(D,E)})}}),o._p.forEach(E=>{assign$1(P,u.run(()=>E({store:P,app:o._a,pinia:o,options:c})))}),x&&l&&n.hydrate&&n.hydrate(P.$state,x),v=!0,g=!0,P}function defineStore(a,r,n){let o,s;const l=typeof r=="function";typeof a=="string"?(o=a,s=l?n:r):(s=a,o=a.id);function u(c,d){const v=getCurrentInstance();return c=c||v&&inject(piniaSymbol),c&&setActivePinia(c),c=activePinia,c._s.has(o)||(l?createSetupStore(o,r,s,c):createOptionsStore(o,s,c)),c._s.get(o)}return u.$id=o,u}const useStore=defineStore({id:"index",persist:!0,state:()=>({mode:""})}),_sfc_main$4=defineComponent({__name:"App",setup(a){const r=useStore(),n=ref("light"),o=computed(()=>r.mode);return watch(o,s=>{s==="dark"||store_legacy.get("theme")==="dark"?(n.value="dark",document.querySelector("html").setAttribute("data-theme","dark")):(n.value="light",document.querySelector("html").setAttribute("data-theme","light"))},{immediate:!0}),provide("isRealDark",computed(()=>n.value==="dark")),(s,l)=>{const u=resolveComponent("router-view"),c=ConfigProvider;return openBlock(),createBlock(c,{theme:n.value},{default:withCtx(()=>[createVNode$1(u)]),_:1},8,["theme"])}}});/*!
  * vue-router v4.0.16
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=a=>hasSymbol?Symbol(a):"_vr_"+a,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser=typeof window<"u";function isESModule(a){return a.__esModule||hasSymbol&&a[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(a,r){const n={};for(const o in r){const s=r[o];n[o]=Array.isArray(s)?s.map(a):a(s)}return n}const noop$1=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=a=>a.replace(TRAILING_SLASH_RE,"");function parseURL(a,r,n="/"){let o,s={},l="",u="";const c=r.indexOf("?"),d=r.indexOf("#",c>-1?c:0);return c>-1&&(o=r.slice(0,c),l=r.slice(c+1,d>-1?d:r.length),s=a(l)),d>-1&&(o=o||r.slice(0,d),u=r.slice(d,r.length)),o=resolveRelativePath(o!=null?o:r,n),{fullPath:o+(l&&"?")+l+u,path:o,query:s,hash:u}}function stringifyURL(a,r){const n=r.query?a(r.query):"";return r.path+(n&&"?")+n+(r.hash||"")}function stripBase(a,r){return!r||!a.toLowerCase().startsWith(r.toLowerCase())?a:a.slice(r.length)||"/"}function isSameRouteLocation(a,r,n){const o=r.matched.length-1,s=n.matched.length-1;return o>-1&&o===s&&isSameRouteRecord(r.matched[o],n.matched[s])&&isSameRouteLocationParams(r.params,n.params)&&a(r.query)===a(n.query)&&r.hash===n.hash}function isSameRouteRecord(a,r){return(a.aliasOf||a)===(r.aliasOf||r)}function isSameRouteLocationParams(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const n in a)if(!isSameRouteLocationParamsValue(a[n],r[n]))return!1;return!0}function isSameRouteLocationParamsValue(a,r){return Array.isArray(a)?isEquivalentArray(a,r):Array.isArray(r)?isEquivalentArray(r,a):a===r}function isEquivalentArray(a,r){return Array.isArray(r)?a.length===r.length&&a.every((n,o)=>n===r[o]):a.length===1&&a[0]===r}function resolveRelativePath(a,r){if(a.startsWith("/"))return a;if(!a)return r;const n=r.split("/"),o=a.split("/");let s=n.length-1,l,u;for(l=0;l<o.length;l++)if(u=o[l],!(s===1||u==="."))if(u==="..")s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(l-(l===o.length?1:0)).join("/")}var NavigationType;(function(a){a.pop="pop",a.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(a){a.back="back",a.forward="forward",a.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(a){if(!a)if(isBrowser){const r=document.querySelector("base");a=r&&r.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),removeTrailingSlash(a)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(a,r){return a.replace(BEFORE_HASH_RE,"#")+r}function getElementPosition(a,r){const n=document.documentElement.getBoundingClientRect(),o=a.getBoundingClientRect();return{behavior:r.behavior,left:o.left-n.left-(r.left||0),top:o.top-n.top-(r.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(a){let r;if("el"in a){const n=a.el,o=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;r=getElementPosition(s,a)}else r=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function getScrollKey(a,r){return(history.state?history.state.position-r:-1)+a}const scrollPositions=new Map;function saveScrollPosition(a,r){scrollPositions.set(a,r)}function getSavedScrollPosition(a){const r=scrollPositions.get(a);return scrollPositions.delete(a),r}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(a,r){const{pathname:n,search:o,hash:s}=r,l=a.indexOf("#");if(l>-1){let c=s.includes(a.slice(l))?a.slice(l).length:1,d=s.slice(c);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(n,a)+o+s}function useHistoryListeners(a,r,n,o){let s=[],l=[],u=null;const c=({state:_})=>{const S=createCurrentLocation(a,location),x=n.value,T=r.value;let b=0;if(_){if(n.value=S,r.value=_,u&&u===x){u=null;return}b=T?_.position-T.position:0}else o(S);s.forEach(A=>{A(n.value,x,{delta:b,type:NavigationType.pop,direction:b?b>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){u=n.value}function v(_){s.push(_);const S=()=>{const x=s.indexOf(_);x>-1&&s.splice(x,1)};return l.push(S),S}function g(){const{history:_}=window;!_.state||_.replaceState(assign({},_.state,{scroll:computeScrollPosition()}),"")}function y(){for(const _ of l)_();l=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g),{pauseListeners:d,listen:v,destroy:y}}function buildState(a,r,n,o=!1,s=!1){return{back:a,current:r,forward:n,replaced:o,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(a){const{history:r,location:n}=window,o={value:createCurrentLocation(a,n)},s={value:r.state};s.value||l(o.value,{back:null,current:o.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function l(d,v,g){const y=a.indexOf("#"),_=y>-1?(n.host&&document.querySelector("base")?a:a.slice(y))+d:createBaseLocation()+a+d;try{r[g?"replaceState":"pushState"](v,"",_),s.value=v}catch(S){console.error(S),n[g?"replace":"assign"](_)}}function u(d,v){const g=assign({},r.state,buildState(s.value.back,d,s.value.forward,!0),v,{position:s.value.position});l(d,g,!0),o.value=d}function c(d,v){const g=assign({},s.value,r.state,{forward:d,scroll:computeScrollPosition()});l(g.current,g,!0);const y=assign({},buildState(o.value,d,null),{position:g.position+1},v);l(d,y,!1),o.value=d}return{location:o,state:s,push:c,replace:u}}function createWebHistory(a){a=normalizeBase(a);const r=useHistoryStateNavigation(a),n=useHistoryListeners(a,r.state,r.location,r.replace);function o(l,u=!0){u||n.pauseListeners(),history.go(l)}const s=assign({location:"",base:a,go:o,createHref:createHref.bind(null,a)},r,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>r.state.value}),s}function isRouteLocation(a){return typeof a=="string"||a&&typeof a=="object"}function isRouteName(a){return typeof a=="string"||typeof a=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(a,r){return assign(new Error,{type:a,[NavigationFailureSymbol]:!0},r)}function isNavigationFailure(a,r){return a instanceof Error&&NavigationFailureSymbol in a&&(r==null||!!(a.type&r))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(a,r){const n=assign({},BASE_PATH_PARSER_OPTIONS,r),o=[];let s=n.start?"^":"";const l=[];for(const v of a){const g=v.length?[]:[90];n.strict&&!v.length&&(s+="/");for(let y=0;y<v.length;y++){const _=v[y];let S=40+(n.sensitive?.25:0);if(_.type===0)y||(s+="/"),s+=_.value.replace(REGEX_CHARS_RE,"\\$&"),S+=40;else if(_.type===1){const{value:x,repeatable:T,optional:b,regexp:A}=_;l.push({name:x,repeatable:T,optional:b});const w=A||BASE_PARAM_PATTERN;if(w!==BASE_PARAM_PATTERN){S+=10;try{new RegExp(`(${w})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${x}" (${w}): `+C.message)}}let $=T?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;y||($=b&&v.length<2?`(?:/${$})`:"/"+$),b&&($+="?"),s+=$,S+=20,b&&(S+=-8),T&&(S+=-20),w===".*"&&(S+=-50)}g.push(S)}o.push(g)}if(n.strict&&n.end){const v=o.length-1;o[v][o[v].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const u=new RegExp(s,n.sensitive?"":"i");function c(v){const g=v.match(u),y={};if(!g)return null;for(let _=1;_<g.length;_++){const S=g[_]||"",x=l[_-1];y[x.name]=S&&x.repeatable?S.split("/"):S}return y}function d(v){let g="",y=!1;for(const _ of a){(!y||!g.endsWith("/"))&&(g+="/"),y=!1;for(const S of _)if(S.type===0)g+=S.value;else if(S.type===1){const{value:x,repeatable:T,optional:b}=S,A=x in v?v[x]:"";if(Array.isArray(A)&&!T)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const w=Array.isArray(A)?A.join("/"):A;if(!w)if(b)_.length<2&&a.length>1&&(g.endsWith("/")?g=g.slice(0,-1):y=!0);else throw new Error(`Missing required param "${x}"`);g+=w}}return g}return{re:u,score:o,keys:l,parse:c,stringify:d}}function compareScoreArray(a,r){let n=0;for(;n<a.length&&n<r.length;){const o=r[n]-a[n];if(o)return o;n++}return a.length<r.length?a.length===1&&a[0]===40+40?-1:1:a.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function comparePathParserScore(a,r){let n=0;const o=a.score,s=r.score;for(;n<o.length&&n<s.length;){const l=compareScoreArray(o[n],s[n]);if(l)return l;n++}if(Math.abs(s.length-o.length)===1){if(isLastScoreNegative(o))return 1;if(isLastScoreNegative(s))return-1}return s.length-o.length}function isLastScoreNegative(a){const r=a[a.length-1];return a.length>0&&r[r.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(a){if(!a)return[[]];if(a==="/")return[[ROOT_TOKEN]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function r(S){throw new Error(`ERR (${n})/"${v}": ${S}`)}let n=0,o=n;const s=[];let l;function u(){l&&s.push(l),l=[]}let c=0,d,v="",g="";function y(){!v||(n===0?l.push({type:0,value:v}):n===1||n===2||n===3?(l.length>1&&(d==="*"||d==="+")&&r(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:v,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):r("Invalid state to consume buffer"),v="")}function _(){v+=d}for(;c<a.length;){if(d=a[c++],d==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:d==="/"?(v&&y(),u()):d===":"?(y(),n=1):_();break;case 4:_(),n=o;break;case 1:d==="("?n=2:VALID_PARAM_RE.test(d)?_():(y(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:n=3:g+=d;break;case 3:y(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,g="";break;default:r("Unknown state");break}}return n===2&&r(`Unfinished custom RegExp for param "${v}"`),y(),u(),s}function createRouteRecordMatcher(a,r,n){const o=tokensToParser(tokenizePath(a.path),n),s=assign(o,{record:a,parent:r,children:[],alias:[]});return r&&!s.record.aliasOf==!r.record.aliasOf&&r.children.push(s),s}function createRouterMatcher(a,r){const n=[],o=new Map;r=mergeOptions({strict:!1,end:!0,sensitive:!1},r);function s(g){return o.get(g)}function l(g,y,_){const S=!_,x=normalizeRouteRecord(g);x.aliasOf=_&&_.record;const T=mergeOptions(r,g),b=[x];if("alias"in g){const $=typeof g.alias=="string"?[g.alias]:g.alias;for(const C of $)b.push(assign({},x,{components:_?_.record.components:x.components,path:C,aliasOf:_?_.record:x}))}let A,w;for(const $ of b){const{path:C}=$;if(y&&C[0]!=="/"){const P=y.record.path,M=P[P.length-1]==="/"?"":"/";$.path=y.record.path+(C&&M+C)}if(A=createRouteRecordMatcher($,y,T),_?_.alias.push(A):(w=w||A,w!==A&&w.alias.push(A),S&&g.name&&!isAliasRecord(A)&&u(g.name)),"children"in x){const P=x.children;for(let M=0;M<P.length;M++)l(P[M],A,_&&_.children[M])}_=_||A,d(A)}return w?()=>{u(w)}:noop$1}function u(g){if(isRouteName(g)){const y=o.get(g);y&&(o.delete(g),n.splice(n.indexOf(y),1),y.children.forEach(u),y.alias.forEach(u))}else{const y=n.indexOf(g);y>-1&&(n.splice(y,1),g.record.name&&o.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function c(){return n}function d(g){let y=0;for(;y<n.length&&comparePathParserScore(g,n[y])>=0&&(g.record.path!==n[y].record.path||!isRecordChildOf(g,n[y]));)y++;n.splice(y,0,g),g.record.name&&!isAliasRecord(g)&&o.set(g.record.name,g)}function v(g,y){let _,S={},x,T;if("name"in g&&g.name){if(_=o.get(g.name),!_)throw createRouterError(1,{location:g});T=_.record.name,S=assign(paramsFromLocation(y.params,_.keys.filter(w=>!w.optional).map(w=>w.name)),g.params),x=_.stringify(S)}else if("path"in g)x=g.path,_=n.find(w=>w.re.test(x)),_&&(S=_.parse(x),T=_.record.name);else{if(_=y.name?o.get(y.name):n.find(w=>w.re.test(y.path)),!_)throw createRouterError(1,{location:g,currentLocation:y});T=_.record.name,S=assign({},y.params,g.params),x=_.stringify(S)}const b=[];let A=_;for(;A;)b.unshift(A.record),A=A.parent;return{name:T,path:x,params:S,matched:b,meta:mergeMetaFields(b)}}return a.forEach(g=>l(g)),{addRoute:l,resolve:v,removeRoute:u,getRoutes:c,getRecordMatcher:s}}function paramsFromLocation(a,r){const n={};for(const o of r)o in a&&(n[o]=a[o]);return n}function normalizeRouteRecord(a){return{path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:void 0,beforeEnter:a.beforeEnter,props:normalizeRecordProps(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||{}:{default:a.component}}}function normalizeRecordProps(a){const r={},n=a.props||!1;if("component"in a)r.default=n;else for(const o in a.components)r[o]=typeof n=="boolean"?n:n[o];return r}function isAliasRecord(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function mergeMetaFields(a){return a.reduce((r,n)=>assign(r,n.meta),{})}function mergeOptions(a,r){const n={};for(const o in a)n[o]=o in r?r[o]:a[o];return n}function isRecordChildOf(a,r){return r.children.some(n=>n===a||isRecordChildOf(a,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(a){return encodeURI(""+a).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(a){return commonEncode(a).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(a){return commonEncode(a).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(a){return encodeQueryValue(a).replace(EQUAL_RE,"%3D")}function encodePath(a){return commonEncode(a).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(a){return a==null?"":encodePath(a).replace(SLASH_RE,"%2F")}function decode$1(a){try{return decodeURIComponent(""+a)}catch{}return""+a}function parseQuery(a){const r={};if(a===""||a==="?")return r;const o=(a[0]==="?"?a.slice(1):a).split("&");for(let s=0;s<o.length;++s){const l=o[s].replace(PLUS_RE," "),u=l.indexOf("="),c=decode$1(u<0?l:l.slice(0,u)),d=u<0?null:decode$1(l.slice(u+1));if(c in r){let v=r[c];Array.isArray(v)||(v=r[c]=[v]),v.push(d)}else r[c]=d}return r}function stringifyQuery(a){let r="";for(let n in a){const o=a[n];if(n=encodeQueryKey(n),o==null){o!==void 0&&(r+=(r.length?"&":"")+n);continue}(Array.isArray(o)?o.map(l=>l&&encodeQueryValue(l)):[o&&encodeQueryValue(o)]).forEach(l=>{l!==void 0&&(r+=(r.length?"&":"")+n,l!=null&&(r+="="+l))})}return r}function normalizeQuery(a){const r={};for(const n in a){const o=a[n];o!==void 0&&(r[n]=Array.isArray(o)?o.map(s=>s==null?null:""+s):o==null?o:""+o)}return r}function useCallbacks(){let a=[];function r(o){return a.push(o),()=>{const s=a.indexOf(o);s>-1&&a.splice(s,1)}}function n(){a=[]}return{add:r,list:()=>a,reset:n}}function guardToPromiseFn(a,r,n,o,s){const l=o&&(o.enterCallbacks[s]=o.enterCallbacks[s]||[]);return()=>new Promise((u,c)=>{const d=y=>{y===!1?c(createRouterError(4,{from:n,to:r})):y instanceof Error?c(y):isRouteLocation(y)?c(createRouterError(2,{from:r,to:y})):(l&&o.enterCallbacks[s]===l&&typeof y=="function"&&l.push(y),u())},v=a.call(o&&o.instances[s],r,n,d);let g=Promise.resolve(v);a.length<3&&(g=g.then(d)),g.catch(y=>c(y))})}function extractComponentsGuards(a,r,n,o){const s=[];for(const l of a)for(const u in l.components){let c=l.components[u];if(!(r!=="beforeRouteEnter"&&!l.instances[u]))if(isRouteComponent(c)){const v=(c.__vccOpts||c)[r];v&&s.push(guardToPromiseFn(v,n,o,l,u))}else{let d=c();s.push(()=>d.then(v=>{if(!v)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${l.path}"`));const g=isESModule(v)?v.default:v;l.components[u]=g;const _=(g.__vccOpts||g)[r];return _&&guardToPromiseFn(_,n,o,l,u)()}))}}return s}function isRouteComponent(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function useLink(a){const r=inject(routerKey),n=inject(routeLocationKey),o=computed(()=>r.resolve(unref(a.to))),s=computed(()=>{const{matched:d}=o.value,{length:v}=d,g=d[v-1],y=n.matched;if(!g||!y.length)return-1;const _=y.findIndex(isSameRouteRecord.bind(null,g));if(_>-1)return _;const S=getOriginalPath(d[v-2]);return v>1&&getOriginalPath(g)===S&&y[y.length-1].path!==S?y.findIndex(isSameRouteRecord.bind(null,d[v-2])):_}),l=computed(()=>s.value>-1&&includesParams(n.params,o.value.params)),u=computed(()=>s.value>-1&&s.value===n.matched.length-1&&isSameRouteLocationParams(n.params,o.value.params));function c(d={}){return guardEvent(d)?r[unref(a.replace)?"replace":"push"](unref(a.to)).catch(noop$1):Promise.resolve()}return{route:o,href:computed(()=>o.value.href),isActive:l,isExactActive:u,navigate:c}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(a,{slots:r}){const n=reactive(useLink(a)),{options:o}=inject(routerKey),s=computed(()=>({[getLinkClass(a.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(a.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=r.default&&r.default(n);return a.custom?l:h("a",{"aria-current":n.isExactActive?a.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},l)}}}),RouterLink=RouterLinkImpl;function guardEvent(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const r=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return a.preventDefault&&a.preventDefault(),!0}}function includesParams(a,r){for(const n in r){const o=r[n],s=a[n];if(typeof o=="string"){if(o!==s)return!1}else if(!Array.isArray(s)||s.length!==o.length||o.some((l,u)=>l!==s[u]))return!1}return!0}function getOriginalPath(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const getLinkClass=(a,r,n)=>a!=null?a:r!=null?r:n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(a,{attrs:r,slots:n}){const o=inject(routerViewLocationKey),s=computed(()=>a.route||o.value),l=inject(viewDepthKey,0),u=computed(()=>s.value.matched[l]);provide(viewDepthKey,l+1),provide(matchedRouteKey,u),provide(routerViewLocationKey,s);const c=ref();return watch(()=>[c.value,u.value,a.name],([d,v,g],[y,_,S])=>{v&&(v.instances[g]=d,_&&_!==v&&d&&d===y&&(v.leaveGuards.size||(v.leaveGuards=_.leaveGuards),v.updateGuards.size||(v.updateGuards=_.updateGuards))),d&&v&&(!_||!isSameRouteRecord(v,_)||!y)&&(v.enterCallbacks[g]||[]).forEach(x=>x(d))},{flush:"post"}),()=>{const d=s.value,v=u.value,g=v&&v.components[a.name],y=a.name;if(!g)return normalizeSlot(n.default,{Component:g,route:d});const _=v.props[a.name],S=_?_===!0?d.params:typeof _=="function"?_(d):_:null,T=h(g,assign({},S,r,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(v.instances[y]=null)},ref:c}));return normalizeSlot(n.default,{Component:T,route:d})||T}}});function normalizeSlot(a,r){if(!a)return null;const n=a(r);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(a){const r=createRouterMatcher(a.routes,a),n=a.parseQuery||parseQuery,o=a.stringifyQuery||stringifyQuery,s=a.history,l=useCallbacks(),u=useCallbacks(),c=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let v=START_LOCATION_NORMALIZED;isBrowser&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=applyToParams.bind(null,Z=>""+Z),y=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode$1);function S(Z,re){let q,J;return isRouteName(Z)?(q=r.getRecordMatcher(Z),J=re):J=Z,r.addRoute(J,q)}function x(Z){const re=r.getRecordMatcher(Z);re&&r.removeRoute(re)}function T(){return r.getRoutes().map(Z=>Z.record)}function b(Z){return!!r.getRecordMatcher(Z)}function A(Z,re){if(re=assign({},re||d.value),typeof Z=="string"){const ne=parseURL(n,Z,re.path),V=r.resolve({path:ne.path},re),G=s.createHref(ne.fullPath);return assign(ne,V,{params:_(V.params),hash:decode$1(ne.hash),redirectedFrom:void 0,href:G})}let q;if("path"in Z)q=assign({},Z,{path:parseURL(n,Z.path,re.path).path});else{const ne=assign({},Z.params);for(const V in ne)ne[V]==null&&delete ne[V];q=assign({},Z,{params:y(Z.params)}),re.params=y(re.params)}const J=r.resolve(q,re),he=Z.hash||"";J.params=g(_(J.params));const fe=stringifyURL(o,assign({},Z,{hash:encodeHash(he),path:J.path})),ee=s.createHref(fe);return assign({fullPath:fe,hash:he,query:o===stringifyQuery?normalizeQuery(Z.query):Z.query||{}},J,{redirectedFrom:void 0,href:ee})}function w(Z){return typeof Z=="string"?parseURL(n,Z,d.value.path):assign({},Z)}function $(Z,re){if(v!==Z)return createRouterError(8,{from:re,to:Z})}function C(Z){return E(Z)}function P(Z){return C(assign(w(Z),{replace:!0}))}function M(Z){const re=Z.matched[Z.matched.length-1];if(re&&re.redirect){const{redirect:q}=re;let J=typeof q=="function"?q(Z):q;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=w(J):{path:J},J.params={}),assign({query:Z.query,hash:Z.hash,params:Z.params},J)}}function E(Z,re){const q=v=A(Z),J=d.value,he=Z.state,fe=Z.force,ee=Z.replace===!0,ne=M(q);if(ne)return E(assign(w(ne),{state:he,force:fe,replace:ee}),re||q);const V=q;V.redirectedFrom=re;let G;return!fe&&isSameRouteLocation(o,J,q)&&(G=createRouterError(16,{to:V,from:J}),X(J,J,!0,!1)),(G?Promise.resolve(G):I(V,J)).catch(W=>isNavigationFailure(W)?isNavigationFailure(W,2)?W:Y(W):U(W,V,J)).then(W=>{if(W){if(isNavigationFailure(W,2))return E(assign(w(W.to),{state:he,force:fe,replace:ee}),re||V)}else W=L(V,J,!0,ee,he);return R(V,J,W),W})}function D(Z,re){const q=$(Z,re);return q?Promise.reject(q):Promise.resolve()}function I(Z,re){let q;const[J,he,fe]=extractChangingRecords(Z,re);q=extractComponentsGuards(J.reverse(),"beforeRouteLeave",Z,re);for(const ne of J)ne.leaveGuards.forEach(V=>{q.push(guardToPromiseFn(V,Z,re))});const ee=D.bind(null,Z,re);return q.push(ee),runGuardQueue(q).then(()=>{q=[];for(const ne of l.list())q.push(guardToPromiseFn(ne,Z,re));return q.push(ee),runGuardQueue(q)}).then(()=>{q=extractComponentsGuards(he,"beforeRouteUpdate",Z,re);for(const ne of he)ne.updateGuards.forEach(V=>{q.push(guardToPromiseFn(V,Z,re))});return q.push(ee),runGuardQueue(q)}).then(()=>{q=[];for(const ne of Z.matched)if(ne.beforeEnter&&!re.matched.includes(ne))if(Array.isArray(ne.beforeEnter))for(const V of ne.beforeEnter)q.push(guardToPromiseFn(V,Z,re));else q.push(guardToPromiseFn(ne.beforeEnter,Z,re));return q.push(ee),runGuardQueue(q)}).then(()=>(Z.matched.forEach(ne=>ne.enterCallbacks={}),q=extractComponentsGuards(fe,"beforeRouteEnter",Z,re),q.push(ee),runGuardQueue(q))).then(()=>{q=[];for(const ne of u.list())q.push(guardToPromiseFn(ne,Z,re));return q.push(ee),runGuardQueue(q)}).catch(ne=>isNavigationFailure(ne,8)?ne:Promise.reject(ne))}function R(Z,re,q){for(const J of c.list())J(Z,re,q)}function L(Z,re,q,J,he){const fe=$(Z,re);if(fe)return fe;const ee=re===START_LOCATION_NORMALIZED,ne=isBrowser?history.state:{};q&&(J||ee?s.replace(Z.fullPath,assign({scroll:ee&&ne&&ne.scroll},he)):s.push(Z.fullPath,he)),d.value=Z,X(Z,re,q,ee),Y()}let O;function N(){O||(O=s.listen((Z,re,q)=>{const J=A(Z),he=M(J);if(he){E(assign(he,{replace:!0}),J).catch(noop$1);return}v=J;const fe=d.value;isBrowser&&saveScrollPosition(getScrollKey(fe.fullPath,q.delta),computeScrollPosition()),I(J,fe).catch(ee=>isNavigationFailure(ee,12)?ee:isNavigationFailure(ee,2)?(E(ee.to,J).then(ne=>{isNavigationFailure(ne,20)&&!q.delta&&q.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop$1),Promise.reject()):(q.delta&&s.go(-q.delta,!1),U(ee,J,fe))).then(ee=>{ee=ee||L(J,fe,!1),ee&&(q.delta?s.go(-q.delta,!1):q.type===NavigationType.pop&&isNavigationFailure(ee,20)&&s.go(-1,!1)),R(J,fe,ee)}).catch(noop$1)}))}let F=useCallbacks(),B=useCallbacks(),z;function U(Z,re,q){Y(Z);const J=B.list();return J.length?J.forEach(he=>he(Z,re,q)):console.error(Z),Promise.reject(Z)}function H(){return z&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Z,re)=>{F.add([Z,re])})}function Y(Z){return z||(z=!Z,N(),F.list().forEach(([re,q])=>Z?q(Z):re()),F.reset()),Z}function X(Z,re,q,J){const{scrollBehavior:he}=a;if(!isBrowser||!he)return Promise.resolve();const fe=!q&&getSavedScrollPosition(getScrollKey(Z.fullPath,0))||(J||!q)&&history.state&&history.state.scroll||null;return nextTick().then(()=>he(Z,re,fe)).then(ee=>ee&&scrollToPosition(ee)).catch(ee=>U(ee,Z,re))}const te=Z=>s.go(Z);let oe;const ce=new Set;return{currentRoute:d,addRoute:S,removeRoute:x,hasRoute:b,getRoutes:T,resolve:A,options:a,push:C,replace:P,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:l.add,beforeResolve:u.add,afterEach:c.add,onError:B.add,isReady:H,install(Z){const re=this;Z.component("RouterLink",RouterLink),Z.component("RouterView",RouterView),Z.config.globalProperties.$router=re,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!oe&&d.value===START_LOCATION_NORMALIZED&&(oe=!0,C(s.location).catch(he=>{}));const q={};for(const he in START_LOCATION_NORMALIZED)q[he]=computed(()=>d.value[he]);Z.provide(routerKey,re),Z.provide(routeLocationKey,reactive(q)),Z.provide(routerViewLocationKey,d);const J=Z.unmount;ce.add(Z),Z.unmount=function(){ce.delete(Z),ce.size<1&&(v=START_LOCATION_NORMALIZED,O&&O(),O=null,d.value=START_LOCATION_NORMALIZED,oe=!1,z=!1),J()}}}}function runGuardQueue(a){return a.reduce((r,n)=>r.then(()=>n()),Promise.resolve())}function extractChangingRecords(a,r){const n=[],o=[],s=[],l=Math.max(r.matched.length,a.matched.length);for(let u=0;u<l;u++){const c=r.matched[u];c&&(a.matched.find(v=>isSameRouteRecord(v,c))?o.push(c):n.push(c));const d=a.matched[u];d&&(r.matched.find(v=>isSameRouteRecord(v,d))||s.push(d))}return[n,o,s]}var nprogress$1={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(a,r){(function(n,o){a.exports=o()})(commonjsGlobal,function(){var n={};n.version="0.2.0";var o=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(x){var T,b;for(T in x)b=x[T],b!==void 0&&x.hasOwnProperty(T)&&(o[T]=b);return this},n.status=null,n.set=function(x){var T=n.isStarted();x=s(x,o.minimum,1),n.status=x===1?null:x;var b=n.render(!T),A=b.querySelector(o.barSelector),w=o.speed,$=o.easing;return b.offsetWidth,c(function(C){o.positionUsing===""&&(o.positionUsing=n.getPositioningCSS()),d(A,u(x,w,$)),x===1?(d(b,{transition:"none",opacity:1}),b.offsetWidth,setTimeout(function(){d(b,{transition:"all "+w+"ms linear",opacity:0}),setTimeout(function(){n.remove(),C()},w)},w)):setTimeout(C,w)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var x=function(){setTimeout(function(){!n.status||(n.trickle(),x())},o.trickleSpeed)};return o.trickle&&x(),this},n.done=function(x){return!x&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(x){var T=n.status;return T?(typeof x!="number"&&(x=(1-T)*s(Math.random()*T,.1,.95)),T=s(T+x,0,.994),n.set(T)):n.start()},n.trickle=function(){return n.inc(Math.random()*o.trickleRate)},function(){var x=0,T=0;n.promise=function(b){return!b||b.state()==="resolved"?this:(T===0&&n.start(),x++,T++,b.always(function(){T--,T===0?(x=0,n.done()):n.set((x-T)/x)}),this)}}(),n.render=function(x){if(n.isRendered())return document.getElementById("nprogress");g(document.documentElement,"nprogress-busy");var T=document.createElement("div");T.id="nprogress",T.innerHTML=o.template;var b=T.querySelector(o.barSelector),A=x?"-100":l(n.status||0),w=document.querySelector(o.parent),$;return d(b,{transition:"all 0 linear",transform:"translate3d("+A+"%,0,0)"}),o.showSpinner||($=T.querySelector(o.spinnerSelector),$&&S($)),w!=document.body&&g(w,"nprogress-custom-parent"),w.appendChild(T),T},n.remove=function(){y(document.documentElement,"nprogress-busy"),y(document.querySelector(o.parent),"nprogress-custom-parent");var x=document.getElementById("nprogress");x&&S(x)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var x=document.body.style,T="WebkitTransform"in x?"Webkit":"MozTransform"in x?"Moz":"msTransform"in x?"ms":"OTransform"in x?"O":"";return T+"Perspective"in x?"translate3d":T+"Transform"in x?"translate":"margin"};function s(x,T,b){return x<T?T:x>b?b:x}function l(x){return(-1+x)*100}function u(x,T,b){var A;return o.positionUsing==="translate3d"?A={transform:"translate3d("+l(x)+"%,0,0)"}:o.positionUsing==="translate"?A={transform:"translate("+l(x)+"%,0)"}:A={"margin-left":l(x)+"%"},A.transition="all "+T+"ms "+b,A}var c=function(){var x=[];function T(){var b=x.shift();b&&b(T)}return function(b){x.push(b),x.length==1&&T()}}(),d=function(){var x=["Webkit","O","Moz","ms"],T={};function b(C){return C.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(P,M){return M.toUpperCase()})}function A(C){var P=document.body.style;if(C in P)return C;for(var M=x.length,E=C.charAt(0).toUpperCase()+C.slice(1),D;M--;)if(D=x[M]+E,D in P)return D;return C}function w(C){return C=b(C),T[C]||(T[C]=A(C))}function $(C,P,M){P=w(P),C.style[P]=M}return function(C,P){var M=arguments,E,D;if(M.length==2)for(E in P)D=P[E],D!==void 0&&P.hasOwnProperty(E)&&$(C,E,D);else $(C,M[1],M[2])}}();function v(x,T){var b=typeof x=="string"?x:_(x);return b.indexOf(" "+T+" ")>=0}function g(x,T){var b=_(x),A=b+T;v(b,T)||(x.className=A.substring(1))}function y(x,T){var b=_(x),A;!v(x,T)||(A=b.replace(" "+T+" "," "),x.className=A.substring(1,A.length-1))}function _(x){return(" "+(x.className||"")+" ").replace(/\s+/gi," ")}function S(x){x&&x.parentNode&&x.parentNode.removeChild(x)}return n})})(nprogress$1);const NProgress=nprogress$1.exports,nprogress="",index$7="",index$6="",index$5="";//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(a){hookCallback=a}function isArray$3(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function isObject$7(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function hasOwnProp(a,r){return Object.prototype.hasOwnProperty.call(a,r)}function isObjectEmpty(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var r;for(r in a)if(hasOwnProp(a,r))return!1;return!0}function isUndefined$1(a){return a===void 0}function isNumber$2(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}function isDate$1(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function map$2(a,r){var n=[],o,s=a.length;for(o=0;o<s;++o)n.push(r(a[o],o));return n}function extend$2(a,r){for(var n in r)hasOwnProp(r,n)&&(a[n]=r[n]);return hasOwnProp(r,"toString")&&(a.toString=r.toString),hasOwnProp(r,"valueOf")&&(a.valueOf=r.valueOf),a}function createUTC(a,r,n,o){return createLocalOrUTC(a,r,n,o,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(a){return a._pf==null&&(a._pf=defaultParsingFlags()),a._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(a){var r=Object(this),n=r.length>>>0,o;for(o=0;o<n;o++)if(o in r&&a.call(this,r[o],o,r))return!0;return!1};function isValid(a){if(a._isValid==null){var r=getParsingFlags(a),n=some.call(r.parsedDateParts,function(s){return s!=null}),o=!isNaN(a._d.getTime())&&r.overflow<0&&!r.empty&&!r.invalidEra&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&n);if(a._strict&&(o=o&&r.charsLeftOver===0&&r.unusedTokens.length===0&&r.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=o;else return o}return a._isValid}function createInvalid(a){var r=createUTC(NaN);return a!=null?extend$2(getParsingFlags(r),a):getParsingFlags(r).userInvalidated=!0,r}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(a,r){var n,o,s,l=momentProperties.length;if(isUndefined$1(r._isAMomentObject)||(a._isAMomentObject=r._isAMomentObject),isUndefined$1(r._i)||(a._i=r._i),isUndefined$1(r._f)||(a._f=r._f),isUndefined$1(r._l)||(a._l=r._l),isUndefined$1(r._strict)||(a._strict=r._strict),isUndefined$1(r._tzm)||(a._tzm=r._tzm),isUndefined$1(r._isUTC)||(a._isUTC=r._isUTC),isUndefined$1(r._offset)||(a._offset=r._offset),isUndefined$1(r._pf)||(a._pf=getParsingFlags(r)),isUndefined$1(r._locale)||(a._locale=r._locale),l>0)for(n=0;n<l;n++)o=momentProperties[n],s=r[o],isUndefined$1(s)||(a[o]=s);return a}function Moment(a){copyConfig(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(a){return a instanceof Moment||a!=null&&a._isAMomentObject!=null}function warn$1(a){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}function deprecate(a,r){var n=!0;return extend$2(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,a),n){var o=[],s,l,u,c=arguments.length;for(l=0;l<c;l++){if(s="",typeof arguments[l]=="object"){s+=`
[`+l+"] ";for(u in arguments[0])hasOwnProp(arguments[0],u)&&(s+=u+": "+arguments[0][u]+", ");s=s.slice(0,-2)}else s=arguments[l];o.push(s)}warn$1(a+`
Arguments: `+Array.prototype.slice.call(o).join("")+`
`+new Error().stack),n=!1}return r.apply(this,arguments)},r)}var deprecations={};function deprecateSimple(a,r){hooks.deprecationHandler!=null&&hooks.deprecationHandler(a,r),deprecations[a]||(warn$1(r),deprecations[a]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$2(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function set$3(a){var r,n;for(n in a)hasOwnProp(a,n)&&(r=a[n],isFunction$2(r)?this[n]=r:this["_"+n]=r);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(a,r){var n=extend$2({},a),o;for(o in r)hasOwnProp(r,o)&&(isObject$7(a[o])&&isObject$7(r[o])?(n[o]={},extend$2(n[o],a[o]),extend$2(n[o],r[o])):r[o]!=null?n[o]=r[o]:delete n[o]);for(o in a)hasOwnProp(a,o)&&!hasOwnProp(r,o)&&isObject$7(a[o])&&(n[o]=extend$2({},n[o]));return n}function Locale(a){a!=null&&this.set(a)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(a){var r,n=[];for(r in a)hasOwnProp(a,r)&&n.push(r);return n};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(a,r,n){var o=this._calendar[a]||this._calendar.sameElse;return isFunction$2(o)?o.call(r,n):o}function zeroFill(a,r,n){var o=""+Math.abs(a),s=r-o.length,l=a>=0;return(l?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+o}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(a,r,n,o){var s=o;typeof o=="string"&&(s=function(){return this[o]()}),a&&(formatTokenFunctions[a]=s),r&&(formatTokenFunctions[r[0]]=function(){return zeroFill(s.apply(this,arguments),r[1],r[2])}),n&&(formatTokenFunctions[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),a)})}function removeFormattingTokens(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function makeFormatFunction(a){var r=a.match(formattingTokens),n,o;for(n=0,o=r.length;n<o;n++)formatTokenFunctions[r[n]]?r[n]=formatTokenFunctions[r[n]]:r[n]=removeFormattingTokens(r[n]);return function(s){var l="",u;for(u=0;u<o;u++)l+=isFunction$2(r[u])?r[u].call(s,a):r[u];return l}}function formatMoment(a,r){return a.isValid()?(r=expandFormat(r,a.localeData()),formatFunctions[r]=formatFunctions[r]||makeFormatFunction(r),formatFunctions[r](a)):a.localeData().invalidDate()}function expandFormat(a,r){var n=5;function o(s){return r.longDateFormat(s)||s}for(localFormattingTokens.lastIndex=0;n>=0&&localFormattingTokens.test(a);)a=a.replace(localFormattingTokens,o),localFormattingTokens.lastIndex=0,n-=1;return a}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(a){var r=this._longDateFormat[a],n=this._longDateFormat[a.toUpperCase()];return r||!n?r:(this._longDateFormat[a]=n.match(formattingTokens).map(function(o){return o==="MMMM"||o==="MM"||o==="DD"||o==="dddd"?o.slice(1):o}).join(""),this._longDateFormat[a])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(a){return this._ordinal.replace("%d",a)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(a,r,n,o){var s=this._relativeTime[n];return isFunction$2(s)?s(a,r,n,o):s.replace(/%d/i,a)}function pastFuture(a,r){var n=this._relativeTime[a>0?"future":"past"];return isFunction$2(n)?n(r):n.replace(/%s/i,r)}var aliases={};function addUnitAlias(a,r){var n=a.toLowerCase();aliases[n]=aliases[n+"s"]=aliases[r]=a}function normalizeUnits(a){return typeof a=="string"?aliases[a]||aliases[a.toLowerCase()]:void 0}function normalizeObjectUnits(a){var r={},n,o;for(o in a)hasOwnProp(a,o)&&(n=normalizeUnits(o),n&&(r[n]=a[o]));return r}var priorities={};function addUnitPriority(a,r){priorities[a]=r}function getPrioritizedUnits(a){var r=[],n;for(n in a)hasOwnProp(a,n)&&r.push({unit:n,priority:priorities[n]});return r.sort(function(o,s){return o.priority-s.priority}),r}function isLeapYear(a){return a%4===0&&a%100!==0||a%400===0}function absFloor(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function toInt(a){var r=+a,n=0;return r!==0&&isFinite(r)&&(n=absFloor(r)),n}function makeGetSet(a,r){return function(n){return n!=null?(set$1$1(this,a,n),hooks.updateOffset(this,r),this):get$2(this,a)}}function get$2(a,r){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+r]():NaN}function set$1$1(a,r,n){a.isValid()&&!isNaN(n)&&(r==="FullYear"&&isLeapYear(a.year())&&a.month()===1&&a.date()===29?(n=toInt(n),a._d["set"+(a._isUTC?"UTC":"")+r](n,a.month(),daysInMonth(n,a.month()))):a._d["set"+(a._isUTC?"UTC":"")+r](n))}function stringGet(a){return a=normalizeUnits(a),isFunction$2(this[a])?this[a]():this}function stringSet(a,r){if(typeof a=="object"){a=normalizeObjectUnits(a);var n=getPrioritizedUnits(a),o,s=n.length;for(o=0;o<s;o++)this[n[o].unit](a[n[o].unit])}else if(a=normalizeUnits(a),isFunction$2(this[a]))return this[a](r);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(a,r,n){regexes[a]=isFunction$2(r)?r:function(o,s){return o&&n?n:r}}function getParseRegexForToken(a,r){return hasOwnProp(regexes,a)?regexes[a](r._strict,r._locale):new RegExp(unescapeFormat(a))}function unescapeFormat(a){return regexEscape(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(r,n,o,s,l){return n||o||s||l}))}function regexEscape(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(a,r){var n,o=r,s;for(typeof a=="string"&&(a=[a]),isNumber$2(r)&&(o=function(l,u){u[r]=toInt(l)}),s=a.length,n=0;n<s;n++)tokens[a[n]]=o}function addWeekParseToken(a,r){addParseToken(a,function(n,o,s,l){s._w=s._w||{},r(n,s._w,s,l)})}function addTimeToArrayFromToken(a,r,n){r!=null&&hasOwnProp(tokens,a)&&tokens[a](r,n._a,n,a)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(a,r){return(a%r+r)%r}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(a){var r;for(r=0;r<this.length;++r)if(this[r]===a)return r;return-1};function daysInMonth(a,r){if(isNaN(a)||isNaN(r))return NaN;var n=mod(r,12);return a+=(r-n)/12,n===1?isLeapYear(a)?29:28:31-n%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});addFormatToken("MMMM",0,0,function(a){return this.localeData().months(this,a)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(a,r){return r.monthsShortRegex(a)});addRegexToken("MMMM",function(a,r){return r.monthsRegex(a)});addParseToken(["M","MM"],function(a,r){r[MONTH]=toInt(a)-1});addParseToken(["MMM","MMMM"],function(a,r,n,o){var s=n._locale.monthsParse(a,o,n._strict);s!=null?r[MONTH]=s:getParsingFlags(n).invalidMonth=a});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(a,r){return a?isArray$3(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(r)?"format":"standalone"][a.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(a,r){return a?isArray$3(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(r)?"format":"standalone"][a.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(a,r,n){var o,s,l,u=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)l=createUTC([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(l,"").toLocaleLowerCase();return n?r==="MMM"?(s=indexOf$1.call(this._shortMonthsParse,u),s!==-1?s:null):(s=indexOf$1.call(this._longMonthsParse,u),s!==-1?s:null):r==="MMM"?(s=indexOf$1.call(this._shortMonthsParse,u),s!==-1?s:(s=indexOf$1.call(this._longMonthsParse,u),s!==-1?s:null)):(s=indexOf$1.call(this._longMonthsParse,u),s!==-1?s:(s=indexOf$1.call(this._shortMonthsParse,u),s!==-1?s:null))}function localeMonthsParse(a,r,n){var o,s,l;if(this._monthsParseExact)return handleStrictParse.call(this,a,r,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(s=createUTC([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[o]&&(l="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[o]=new RegExp(l.replace(".",""),"i")),n&&r==="MMMM"&&this._longMonthsParse[o].test(a))return o;if(n&&r==="MMM"&&this._shortMonthsParse[o].test(a))return o;if(!n&&this._monthsParse[o].test(a))return o}}function setMonth(a,r){var n;if(!a.isValid())return a;if(typeof r=="string"){if(/^\d+$/.test(r))r=toInt(r);else if(r=a.localeData().monthsParse(r),!isNumber$2(r))return a}return n=Math.min(a.date(),daysInMonth(a.year(),r)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](r,n),a}function getSetMonth(a){return a!=null?(setMonth(this,a),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(a){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(a){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),a?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function a(u,c){return c.length-u.length}var r=[],n=[],o=[],s,l;for(s=0;s<12;s++)l=createUTC([2e3,s]),r.push(this.monthsShort(l,"")),n.push(this.months(l,"")),o.push(this.months(l,"")),o.push(this.monthsShort(l,""));for(r.sort(a),n.sort(a),o.sort(a),s=0;s<12;s++)r[s]=regexEscape(r[s]),n[s]=regexEscape(n[s]);for(s=0;s<24;s++)o[s]=regexEscape(o[s]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}addFormatToken("Y",0,0,function(){var a=this.year();return a<=9999?zeroFill(a,4):"+"+a});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(a,r){r[YEAR]=a.length===2?hooks.parseTwoDigitYear(a):toInt(a)});addParseToken("YY",function(a,r){r[YEAR]=hooks.parseTwoDigitYear(a)});addParseToken("Y",function(a,r){r[YEAR]=parseInt(a,10)});function daysInYear(a){return isLeapYear(a)?366:365}hooks.parseTwoDigitYear=function(a){return toInt(a)+(toInt(a)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(a,r,n,o,s,l,u){var c;return a<100&&a>=0?(c=new Date(a+400,r,n,o,s,l,u),isFinite(c.getFullYear())&&c.setFullYear(a)):c=new Date(a,r,n,o,s,l,u),c}function createUTCDate(a){var r,n;return a<100&&a>=0?(n=Array.prototype.slice.call(arguments),n[0]=a+400,r=new Date(Date.UTC.apply(null,n)),isFinite(r.getUTCFullYear())&&r.setUTCFullYear(a)):r=new Date(Date.UTC.apply(null,arguments)),r}function firstWeekOffset(a,r,n){var o=7+r-n,s=(7+createUTCDate(a,0,o).getUTCDay()-r)%7;return-s+o-1}function dayOfYearFromWeeks(a,r,n,o,s){var l=(7+n-o)%7,u=firstWeekOffset(a,o,s),c=1+7*(r-1)+l+u,d,v;return c<=0?(d=a-1,v=daysInYear(d)+c):c>daysInYear(a)?(d=a+1,v=c-daysInYear(a)):(d=a,v=c),{year:d,dayOfYear:v}}function weekOfYear(a,r,n){var o=firstWeekOffset(a.year(),r,n),s=Math.floor((a.dayOfYear()-o-1)/7)+1,l,u;return s<1?(u=a.year()-1,l=s+weeksInYear(u,r,n)):s>weeksInYear(a.year(),r,n)?(l=s-weeksInYear(a.year(),r,n),u=a.year()+1):(u=a.year(),l=s),{week:l,year:u}}function weeksInYear(a,r,n){var o=firstWeekOffset(a,r,n),s=firstWeekOffset(a+1,r,n);return(daysInYear(a)-o+s)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(a,r,n,o){r[o.substr(0,1)]=toInt(a)});function localeWeek(a){return weekOfYear(a,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(a){var r=this.localeData().week(this);return a==null?r:this.add((a-r)*7,"d")}function getSetISOWeek(a){var r=weekOfYear(this,1,4).week;return a==null?r:this.add((a-r)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});addFormatToken("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});addFormatToken("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(a,r){return r.weekdaysMinRegex(a)});addRegexToken("ddd",function(a,r){return r.weekdaysShortRegex(a)});addRegexToken("dddd",function(a,r){return r.weekdaysRegex(a)});addWeekParseToken(["dd","ddd","dddd"],function(a,r,n,o){var s=n._locale.weekdaysParse(a,o,n._strict);s!=null?r.d=s:getParsingFlags(n).invalidWeekday=a});addWeekParseToken(["d","e","E"],function(a,r,n,o){r[o]=toInt(a)});function parseWeekday(a,r){return typeof a!="string"?a:isNaN(a)?(a=r.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}function parseIsoWeekday(a,r){return typeof a=="string"?r.weekdaysParse(a)%7||7:isNaN(a)?null:a}function shiftWeekdays(a,r){return a.slice(r,7).concat(a.slice(0,r))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(a,r){var n=isArray$3(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(r)?"format":"standalone"];return a===!0?shiftWeekdays(n,this._week.dow):a?n[a.day()]:n}function localeWeekdaysShort(a){return a===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function localeWeekdaysMin(a){return a===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function handleStrictParse$1(a,r,n){var o,s,l,u=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)l=createUTC([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(l,"").toLocaleLowerCase();return n?r==="dddd"?(s=indexOf$1.call(this._weekdaysParse,u),s!==-1?s:null):r==="ddd"?(s=indexOf$1.call(this._shortWeekdaysParse,u),s!==-1?s:null):(s=indexOf$1.call(this._minWeekdaysParse,u),s!==-1?s:null):r==="dddd"?(s=indexOf$1.call(this._weekdaysParse,u),s!==-1||(s=indexOf$1.call(this._shortWeekdaysParse,u),s!==-1)?s:(s=indexOf$1.call(this._minWeekdaysParse,u),s!==-1?s:null)):r==="ddd"?(s=indexOf$1.call(this._shortWeekdaysParse,u),s!==-1||(s=indexOf$1.call(this._weekdaysParse,u),s!==-1)?s:(s=indexOf$1.call(this._minWeekdaysParse,u),s!==-1?s:null)):(s=indexOf$1.call(this._minWeekdaysParse,u),s!==-1||(s=indexOf$1.call(this._weekdaysParse,u),s!==-1)?s:(s=indexOf$1.call(this._shortWeekdaysParse,u),s!==-1?s:null))}function localeWeekdaysParse(a,r,n){var o,s,l;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,a,r,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(s=createUTC([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(l="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[o]=new RegExp(l.replace(".",""),"i")),n&&r==="dddd"&&this._fullWeekdaysParse[o].test(a))return o;if(n&&r==="ddd"&&this._shortWeekdaysParse[o].test(a))return o;if(n&&r==="dd"&&this._minWeekdaysParse[o].test(a))return o;if(!n&&this._weekdaysParse[o].test(a))return o}}function getSetDayOfWeek(a){if(!this.isValid())return a!=null?this:NaN;var r=this._isUTC?this._d.getUTCDay():this._d.getDay();return a!=null?(a=parseWeekday(a,this.localeData()),this.add(a-r,"d")):r}function getSetLocaleDayOfWeek(a){if(!this.isValid())return a!=null?this:NaN;var r=(this.day()+7-this.localeData()._week.dow)%7;return a==null?r:this.add(a-r,"d")}function getSetISODayOfWeek(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var r=parseIsoWeekday(a,this.localeData());return this.day(this.day()%7?r:r-7)}else return this.day()||7}function weekdaysRegex(a){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(a){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(a){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function a(g,y){return y.length-g.length}var r=[],n=[],o=[],s=[],l,u,c,d,v;for(l=0;l<7;l++)u=createUTC([2e3,1]).day(l),c=regexEscape(this.weekdaysMin(u,"")),d=regexEscape(this.weekdaysShort(u,"")),v=regexEscape(this.weekdays(u,"")),r.push(c),n.push(d),o.push(v),s.push(c),s.push(d),s.push(v);r.sort(a),n.sort(a),o.sort(a),s.sort(a),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(a,r){addFormatToken(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),r)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(a,r){return r._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(a,r,n){var o=toInt(a);r[HOUR]=o===24?0:o});addParseToken(["a","A"],function(a,r,n){n._isPm=n._locale.isPM(a),n._meridiem=a});addParseToken(["h","hh"],function(a,r,n){r[HOUR]=toInt(a),getParsingFlags(n).bigHour=!0});addParseToken("hmm",function(a,r,n){var o=a.length-2;r[HOUR]=toInt(a.substr(0,o)),r[MINUTE]=toInt(a.substr(o)),getParsingFlags(n).bigHour=!0});addParseToken("hmmss",function(a,r,n){var o=a.length-4,s=a.length-2;r[HOUR]=toInt(a.substr(0,o)),r[MINUTE]=toInt(a.substr(o,2)),r[SECOND]=toInt(a.substr(s)),getParsingFlags(n).bigHour=!0});addParseToken("Hmm",function(a,r,n){var o=a.length-2;r[HOUR]=toInt(a.substr(0,o)),r[MINUTE]=toInt(a.substr(o))});addParseToken("Hmmss",function(a,r,n){var o=a.length-4,s=a.length-2;r[HOUR]=toInt(a.substr(0,o)),r[MINUTE]=toInt(a.substr(o,2)),r[SECOND]=toInt(a.substr(s))});function localeIsPM(a){return(a+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(a,r,n){return a>11?n?"pm":"PM":n?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(a,r){var n,o=Math.min(a.length,r.length);for(n=0;n<o;n+=1)if(a[n]!==r[n])return n;return o}function normalizeLocale(a){return a&&a.toLowerCase().replace("_","-")}function chooseLocale(a){for(var r=0,n,o,s,l;r<a.length;){for(l=normalizeLocale(a[r]).split("-"),n=l.length,o=normalizeLocale(a[r+1]),o=o?o.split("-"):null;n>0;){if(s=loadLocale(l.slice(0,n).join("-")),s)return s;if(o&&o.length>=n&&commonPrefix(l,o)>=n-1)break;n--}r++}return globalLocale}function isLocaleNameSane(a){return a.match("^[^/\\\\]*$")!=null}function loadLocale(a){var r=null,n;if(locales[a]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(a))try{r=globalLocale._abbr,n=require,n("./locale/"+a),getSetGlobalLocale(r)}catch{locales[a]=null}return locales[a]}function getSetGlobalLocale(a,r){var n;return a&&(isUndefined$1(r)?n=getLocale(a):n=defineLocale(a,r),n?globalLocale=n:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(a,r){if(r!==null){var n,o=baseConfig;if(r.abbr=a,locales[a]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=locales[a]._config;else if(r.parentLocale!=null)if(locales[r.parentLocale]!=null)o=locales[r.parentLocale]._config;else if(n=loadLocale(r.parentLocale),n!=null)o=n._config;else return localeFamilies[r.parentLocale]||(localeFamilies[r.parentLocale]=[]),localeFamilies[r.parentLocale].push({name:a,config:r}),null;return locales[a]=new Locale(mergeConfigs(o,r)),localeFamilies[a]&&localeFamilies[a].forEach(function(s){defineLocale(s.name,s.config)}),getSetGlobalLocale(a),locales[a]}else return delete locales[a],null}function updateLocale(a,r){if(r!=null){var n,o,s=baseConfig;locales[a]!=null&&locales[a].parentLocale!=null?locales[a].set(mergeConfigs(locales[a]._config,r)):(o=loadLocale(a),o!=null&&(s=o._config),r=mergeConfigs(s,r),o==null&&(r.abbr=a),n=new Locale(r),n.parentLocale=locales[a],locales[a]=n),getSetGlobalLocale(a)}else locales[a]!=null&&(locales[a].parentLocale!=null?(locales[a]=locales[a].parentLocale,a===getSetGlobalLocale()&&getSetGlobalLocale(a)):locales[a]!=null&&delete locales[a]);return locales[a]}function getLocale(a){var r;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return globalLocale;if(!isArray$3(a)){if(r=loadLocale(a),r)return r;a=[a]}return chooseLocale(a)}function listLocales(){return keys$1(locales)}function checkOverflow(a){var r,n=a._a;return n&&getParsingFlags(a).overflow===-2&&(r=n[MONTH]<0||n[MONTH]>11?MONTH:n[DATE]<1||n[DATE]>daysInMonth(n[YEAR],n[MONTH])?DATE:n[HOUR]<0||n[HOUR]>24||n[HOUR]===24&&(n[MINUTE]!==0||n[SECOND]!==0||n[MILLISECOND]!==0)?HOUR:n[MINUTE]<0||n[MINUTE]>59?MINUTE:n[SECOND]<0||n[SECOND]>59?SECOND:n[MILLISECOND]<0||n[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(a)._overflowDayOfYear&&(r<YEAR||r>DATE)&&(r=DATE),getParsingFlags(a)._overflowWeeks&&r===-1&&(r=WEEK),getParsingFlags(a)._overflowWeekday&&r===-1&&(r=WEEKDAY),getParsingFlags(a).overflow=r),a}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(a){var r,n,o=a._i,s=extendedIsoRegex.exec(o)||basicIsoRegex.exec(o),l,u,c,d,v=isoDates.length,g=isoTimes.length;if(s){for(getParsingFlags(a).iso=!0,r=0,n=v;r<n;r++)if(isoDates[r][1].exec(s[1])){u=isoDates[r][0],l=isoDates[r][2]!==!1;break}if(u==null){a._isValid=!1;return}if(s[3]){for(r=0,n=g;r<n;r++)if(isoTimes[r][1].exec(s[3])){c=(s[2]||" ")+isoTimes[r][0];break}if(c==null){a._isValid=!1;return}}if(!l&&c!=null){a._isValid=!1;return}if(s[4])if(tzRegex.exec(s[4]))d="Z";else{a._isValid=!1;return}a._f=u+(c||"")+(d||""),configFromStringAndFormat(a)}else a._isValid=!1}function extractFromRFC2822Strings(a,r,n,o,s,l){var u=[untruncateYear(a),defaultLocaleMonthsShort.indexOf(r),parseInt(n,10),parseInt(o,10),parseInt(s,10)];return l&&u.push(parseInt(l,10)),u}function untruncateYear(a){var r=parseInt(a,10);return r<=49?2e3+r:r<=999?1900+r:r}function preprocessRFC2822(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(a,r,n){if(a){var o=defaultLocaleWeekdaysShort.indexOf(a),s=new Date(r[0],r[1],r[2]).getDay();if(o!==s)return getParsingFlags(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function calculateOffset(a,r,n){if(a)return obsOffsets[a];if(r)return 0;var o=parseInt(n,10),s=o%100,l=(o-s)/100;return l*60+s}function configFromRFC2822(a){var r=rfc2822.exec(preprocessRFC2822(a._i)),n;if(r){if(n=extractFromRFC2822Strings(r[4],r[3],r[2],r[5],r[6],r[7]),!checkWeekday(r[1],n,a))return;a._a=n,a._tzm=calculateOffset(r[8],r[9],r[10]),a._d=createUTCDate.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),getParsingFlags(a).rfc2822=!0}else a._isValid=!1}function configFromString(a){var r=aspNetJsonRegex.exec(a._i);if(r!==null){a._d=new Date(+r[1]);return}if(configFromISO(a),a._isValid===!1)delete a._isValid;else return;if(configFromRFC2822(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:hooks.createFromInputFallback(a)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function defaults$5(a,r,n){return a!=null?a:r!=null?r:n}function currentDateArray(a){var r=new Date(hooks.now());return a._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()]}function configFromArray(a){var r,n,o=[],s,l,u;if(!a._d){for(s=currentDateArray(a),a._w&&a._a[DATE]==null&&a._a[MONTH]==null&&dayOfYearFromWeekInfo(a),a._dayOfYear!=null&&(u=defaults$5(a._a[YEAR],s[YEAR]),(a._dayOfYear>daysInYear(u)||a._dayOfYear===0)&&(getParsingFlags(a)._overflowDayOfYear=!0),n=createUTCDate(u,0,a._dayOfYear),a._a[MONTH]=n.getUTCMonth(),a._a[DATE]=n.getUTCDate()),r=0;r<3&&a._a[r]==null;++r)a._a[r]=o[r]=s[r];for(;r<7;r++)a._a[r]=o[r]=a._a[r]==null?r===2?1:0:a._a[r];a._a[HOUR]===24&&a._a[MINUTE]===0&&a._a[SECOND]===0&&a._a[MILLISECOND]===0&&(a._nextDay=!0,a._a[HOUR]=0),a._d=(a._useUTC?createUTCDate:createDate).apply(null,o),l=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[HOUR]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==l&&(getParsingFlags(a).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(a){var r,n,o,s,l,u,c,d,v;r=a._w,r.GG!=null||r.W!=null||r.E!=null?(l=1,u=4,n=defaults$5(r.GG,a._a[YEAR],weekOfYear(createLocal(),1,4).year),o=defaults$5(r.W,1),s=defaults$5(r.E,1),(s<1||s>7)&&(d=!0)):(l=a._locale._week.dow,u=a._locale._week.doy,v=weekOfYear(createLocal(),l,u),n=defaults$5(r.gg,a._a[YEAR],v.year),o=defaults$5(r.w,v.week),r.d!=null?(s=r.d,(s<0||s>6)&&(d=!0)):r.e!=null?(s=r.e+l,(r.e<0||r.e>6)&&(d=!0)):s=l),o<1||o>weeksInYear(n,l,u)?getParsingFlags(a)._overflowWeeks=!0:d!=null?getParsingFlags(a)._overflowWeekday=!0:(c=dayOfYearFromWeeks(n,o,s,l,u),a._a[YEAR]=c.year,a._dayOfYear=c.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(a){if(a._f===hooks.ISO_8601){configFromISO(a);return}if(a._f===hooks.RFC_2822){configFromRFC2822(a);return}a._a=[],getParsingFlags(a).empty=!0;var r=""+a._i,n,o,s,l,u,c=r.length,d=0,v,g;for(s=expandFormat(a._f,a._locale).match(formattingTokens)||[],g=s.length,n=0;n<g;n++)l=s[n],o=(r.match(getParseRegexForToken(l,a))||[])[0],o&&(u=r.substr(0,r.indexOf(o)),u.length>0&&getParsingFlags(a).unusedInput.push(u),r=r.slice(r.indexOf(o)+o.length),d+=o.length),formatTokenFunctions[l]?(o?getParsingFlags(a).empty=!1:getParsingFlags(a).unusedTokens.push(l),addTimeToArrayFromToken(l,o,a)):a._strict&&!o&&getParsingFlags(a).unusedTokens.push(l);getParsingFlags(a).charsLeftOver=c-d,r.length>0&&getParsingFlags(a).unusedInput.push(r),a._a[HOUR]<=12&&getParsingFlags(a).bigHour===!0&&a._a[HOUR]>0&&(getParsingFlags(a).bigHour=void 0),getParsingFlags(a).parsedDateParts=a._a.slice(0),getParsingFlags(a).meridiem=a._meridiem,a._a[HOUR]=meridiemFixWrap(a._locale,a._a[HOUR],a._meridiem),v=getParsingFlags(a).era,v!==null&&(a._a[YEAR]=a._locale.erasConvertYear(v,a._a[YEAR])),configFromArray(a),checkOverflow(a)}function meridiemFixWrap(a,r,n){var o;return n==null?r:a.meridiemHour!=null?a.meridiemHour(r,n):(a.isPM!=null&&(o=a.isPM(n),o&&r<12&&(r+=12),!o&&r===12&&(r=0)),r)}function configFromStringAndArray(a){var r,n,o,s,l,u,c=!1,d=a._f.length;if(d===0){getParsingFlags(a).invalidFormat=!0,a._d=new Date(NaN);return}for(s=0;s<d;s++)l=0,u=!1,r=copyConfig({},a),a._useUTC!=null&&(r._useUTC=a._useUTC),r._f=a._f[s],configFromStringAndFormat(r),isValid(r)&&(u=!0),l+=getParsingFlags(r).charsLeftOver,l+=getParsingFlags(r).unusedTokens.length*10,getParsingFlags(r).score=l,c?l<o&&(o=l,n=r):(o==null||l<o||u)&&(o=l,n=r,u&&(c=!0));extend$2(a,n||r)}function configFromObject(a){if(!a._d){var r=normalizeObjectUnits(a._i),n=r.day===void 0?r.date:r.day;a._a=map$2([r.year,r.month,n,r.hour,r.minute,r.second,r.millisecond],function(o){return o&&parseInt(o,10)}),configFromArray(a)}}function createFromConfig(a){var r=new Moment(checkOverflow(prepareConfig(a)));return r._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function prepareConfig(a){var r=a._i,n=a._f;return a._locale=a._locale||getLocale(a._l),r===null||n===void 0&&r===""?createInvalid({nullInput:!0}):(typeof r=="string"&&(a._i=r=a._locale.preparse(r)),isMoment(r)?new Moment(checkOverflow(r)):(isDate$1(r)?a._d=r:isArray$3(n)?configFromStringAndArray(a):n?configFromStringAndFormat(a):configFromInput(a),isValid(a)||(a._d=null),a))}function configFromInput(a){var r=a._i;isUndefined$1(r)?a._d=new Date(hooks.now()):isDate$1(r)?a._d=new Date(r.valueOf()):typeof r=="string"?configFromString(a):isArray$3(r)?(a._a=map$2(r.slice(0),function(n){return parseInt(n,10)}),configFromArray(a)):isObject$7(r)?configFromObject(a):isNumber$2(r)?a._d=new Date(r):hooks.createFromInputFallback(a)}function createLocalOrUTC(a,r,n,o,s){var l={};return(r===!0||r===!1)&&(o=r,r=void 0),(n===!0||n===!1)&&(o=n,n=void 0),(isObject$7(a)&&isObjectEmpty(a)||isArray$3(a)&&a.length===0)&&(a=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=a,l._f=r,l._strict=o,createFromConfig(l)}function createLocal(a,r,n,o){return createLocalOrUTC(a,r,n,o,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=createLocal.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=createLocal.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:createInvalid()});function pickBy(a,r){var n,o;if(r.length===1&&isArray$3(r[0])&&(r=r[0]),!r.length)return createLocal();for(n=r[0],o=1;o<r.length;++o)(!r[o].isValid()||r[o][a](n))&&(n=r[o]);return n}function min$2(){var a=[].slice.call(arguments,0);return pickBy("isBefore",a)}function max$2(){var a=[].slice.call(arguments,0);return pickBy("isAfter",a)}var now$2=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(a){var r,n=!1,o,s=ordering.length;for(r in a)if(hasOwnProp(a,r)&&!(indexOf$1.call(ordering,r)!==-1&&(a[r]==null||!isNaN(a[r]))))return!1;for(o=0;o<s;++o)if(a[ordering[o]]){if(n)return!1;parseFloat(a[ordering[o]])!==toInt(a[ordering[o]])&&(n=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(a){var r=normalizeObjectUnits(a),n=r.year||0,o=r.quarter||0,s=r.month||0,l=r.week||r.isoWeek||0,u=r.day||0,c=r.hour||0,d=r.minute||0,v=r.second||0,g=r.millisecond||0;this._isValid=isDurationValid(r),this._milliseconds=+g+v*1e3+d*6e4+c*1e3*60*60,this._days=+u+l*7,this._months=+s+o*3+n*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(a){return a instanceof Duration}function absRound(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function compareArrays(a,r,n){var o=Math.min(a.length,r.length),s=Math.abs(a.length-r.length),l=0,u;for(u=0;u<o;u++)(n&&a[u]!==r[u]||!n&&toInt(a[u])!==toInt(r[u]))&&l++;return l+s}function offset(a,r){addFormatToken(a,0,0,function(){var n=this.utcOffset(),o="+";return n<0&&(n=-n,o="-"),o+zeroFill(~~(n/60),2)+r+zeroFill(~~n%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(a,r,n){n._useUTC=!0,n._tzm=offsetFromString(matchShortOffset,a)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(a,r){var n=(r||"").match(a),o,s,l;return n===null?null:(o=n[n.length-1]||[],s=(o+"").match(chunkOffset)||["-",0,0],l=+(s[1]*60)+toInt(s[2]),l===0?0:s[0]==="+"?l:-l)}function cloneWithOffset(a,r){var n,o;return r._isUTC?(n=r.clone(),o=(isMoment(a)||isDate$1(a)?a.valueOf():createLocal(a).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),hooks.updateOffset(n,!1),n):createLocal(a).local()}function getDateOffset(a){return-Math.round(a._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(a,r,n){var o=this._offset||0,s;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=offsetFromString(matchShortOffset,a),a===null)return this}else Math.abs(a)<16&&!n&&(a=a*60);return!this._isUTC&&r&&(s=getDateOffset(this)),this._offset=a,this._isUTC=!0,s!=null&&this.add(s,"m"),o!==a&&(!r||this._changeInProgress?addSubtract(this,createDuration(a-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?o:getDateOffset(this)}function getSetZone(a,r){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,r),this):-this.utcOffset()}function setOffsetToUTC(a){return this.utcOffset(0,a)}function setOffsetToLocal(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=offsetFromString(matchOffset,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(a){return this.isValid()?(a=a?createLocal(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined$1(this._isDSTShifted))return this._isDSTShifted;var a={},r;return copyConfig(a,this),a=prepareConfig(a),a._a?(r=a._isUTC?createUTC(a._a):createLocal(a._a),this._isDSTShifted=this.isValid()&&compareArrays(a._a,r.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(a,r){var n=a,o=null,s,l,u;return isDuration(a)?n={ms:a._milliseconds,d:a._days,M:a._months}:isNumber$2(a)||!isNaN(+a)?(n={},r?n[r]=+a:n.milliseconds=+a):(o=aspNetRegex.exec(a))?(s=o[1]==="-"?-1:1,n={y:0,d:toInt(o[DATE])*s,h:toInt(o[HOUR])*s,m:toInt(o[MINUTE])*s,s:toInt(o[SECOND])*s,ms:toInt(absRound(o[MILLISECOND]*1e3))*s}):(o=isoRegex.exec(a))?(s=o[1]==="-"?-1:1,n={y:parseIso(o[2],s),M:parseIso(o[3],s),w:parseIso(o[4],s),d:parseIso(o[5],s),h:parseIso(o[6],s),m:parseIso(o[7],s),s:parseIso(o[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(u=momentsDifference(createLocal(n.from),createLocal(n.to)),n={},n.ms=u.milliseconds,n.M=u.months),l=new Duration(n),isDuration(a)&&hasOwnProp(a,"_locale")&&(l._locale=a._locale),isDuration(a)&&hasOwnProp(a,"_isValid")&&(l._isValid=a._isValid),l}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(a,r){var n=a&&parseFloat(a.replace(",","."));return(isNaN(n)?0:n)*r}function positiveMomentsDifference(a,r){var n={};return n.months=r.month()-a.month()+(r.year()-a.year())*12,a.clone().add(n.months,"M").isAfter(r)&&--n.months,n.milliseconds=+r-+a.clone().add(n.months,"M"),n}function momentsDifference(a,r){var n;return a.isValid()&&r.isValid()?(r=cloneWithOffset(r,a),a.isBefore(r)?n=positiveMomentsDifference(a,r):(n=positiveMomentsDifference(r,a),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function createAdder(a,r){return function(n,o){var s,l;return o!==null&&!isNaN(+o)&&(deprecateSimple(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=n,n=o,o=l),s=createDuration(n,o),addSubtract(this,s,a),this}}function addSubtract(a,r,n,o){var s=r._milliseconds,l=absRound(r._days),u=absRound(r._months);!a.isValid()||(o=o==null?!0:o,u&&setMonth(a,get$2(a,"Month")+u*n),l&&set$1$1(a,"Date",get$2(a,"Date")+l*n),s&&a._d.setTime(a._d.valueOf()+s*n),o&&hooks.updateOffset(a,l||u))}var add$1=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$2(a){return typeof a=="string"||a instanceof String}function isMomentInput(a){return isMoment(a)||isDate$1(a)||isString$2(a)||isNumber$2(a)||isNumberOrStringArray(a)||isMomentInputObject(a)||a===null||a===void 0}function isMomentInputObject(a){var r=isObject$7(a)&&!isObjectEmpty(a),n=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,l,u=o.length;for(s=0;s<u;s+=1)l=o[s],n=n||hasOwnProp(a,l);return r&&n}function isNumberOrStringArray(a){var r=isArray$3(a),n=!1;return r&&(n=a.filter(function(o){return!isNumber$2(o)&&isString$2(a)}).length===0),r&&n}function isCalendarSpec(a){var r=isObject$7(a)&&!isObjectEmpty(a),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,l;for(s=0;s<o.length;s+=1)l=o[s],n=n||hasOwnProp(a,l);return r&&n}function getCalendarFormat(a,r){var n=a.diff(r,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function calendar$1(a,r){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(a=arguments[0],r=void 0):isCalendarSpec(arguments[0])&&(r=arguments[0],a=void 0):(a=void 0,r=void 0));var n=a||createLocal(),o=cloneWithOffset(n,this).startOf("day"),s=hooks.calendarFormat(this,o)||"sameElse",l=r&&(isFunction$2(r[s])?r[s].call(this,n):r[s]);return this.format(l||this.localeData().calendar(s,this,createLocal(n)))}function clone$5(){return new Moment(this)}function isAfter(a,r){var n=isMoment(a)?a:createLocal(a);return this.isValid()&&n.isValid()?(r=normalizeUnits(r)||"millisecond",r==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(r).valueOf()):!1}function isBefore(a,r){var n=isMoment(a)?a:createLocal(a);return this.isValid()&&n.isValid()?(r=normalizeUnits(r)||"millisecond",r==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(r).valueOf()<n.valueOf()):!1}function isBetween(a,r,n,o){var s=isMoment(a)?a:createLocal(a),l=isMoment(r)?r:createLocal(r);return this.isValid()&&s.isValid()&&l.isValid()?(o=o||"()",(o[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(o[1]===")"?this.isBefore(l,n):!this.isAfter(l,n))):!1}function isSame(a,r){var n=isMoment(a)?a:createLocal(a),o;return this.isValid()&&n.isValid()?(r=normalizeUnits(r)||"millisecond",r==="millisecond"?this.valueOf()===n.valueOf():(o=n.valueOf(),this.clone().startOf(r).valueOf()<=o&&o<=this.clone().endOf(r).valueOf())):!1}function isSameOrAfter(a,r){return this.isSame(a,r)||this.isAfter(a,r)}function isSameOrBefore(a,r){return this.isSame(a,r)||this.isBefore(a,r)}function diff(a,r,n){var o,s,l;if(!this.isValid())return NaN;if(o=cloneWithOffset(a,this),!o.isValid())return NaN;switch(s=(o.utcOffset()-this.utcOffset())*6e4,r=normalizeUnits(r),r){case"year":l=monthDiff(this,o)/12;break;case"month":l=monthDiff(this,o);break;case"quarter":l=monthDiff(this,o)/3;break;case"second":l=(this-o)/1e3;break;case"minute":l=(this-o)/6e4;break;case"hour":l=(this-o)/36e5;break;case"day":l=(this-o-s)/864e5;break;case"week":l=(this-o-s)/6048e5;break;default:l=this-o}return n?l:absFloor(l)}function monthDiff(a,r){if(a.date()<r.date())return-monthDiff(r,a);var n=(r.year()-a.year())*12+(r.month()-a.month()),o=a.clone().add(n,"months"),s,l;return r-o<0?(s=a.clone().add(n-1,"months"),l=(r-o)/(o-s)):(s=a.clone().add(n+1,"months"),l=(r-o)/(s-o)),-(n+l)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(a){if(!this.isValid())return null;var r=a!==!0,n=r?this.clone().utc():this;return n.year()<0||n.year()>9999?formatMoment(n,r?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$2(Date.prototype.toISOString)?r?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(n,"Z")):formatMoment(n,r?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",r="",n,o,s,l;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",r="Z"),n="["+a+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",l=r+'[")]',this.format(n+o+s+l)}function format$1(a){a||(a=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var r=formatMoment(this,a);return this.localeData().postformat(r)}function from(a,r){return this.isValid()&&(isMoment(a)&&a.isValid()||createLocal(a).isValid())?createDuration({to:this,from:a}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function fromNow(a){return this.from(createLocal(),a)}function to(a,r){return this.isValid()&&(isMoment(a)&&a.isValid()||createLocal(a).isValid())?createDuration({from:this,to:a}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function toNow(a){return this.to(createLocal(),a)}function locale(a){var r;return a===void 0?this._locale._abbr:(r=getLocale(a),r!=null&&(this._locale=r),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(a,r){return(a%r+r)%r}function localStartOfDate(a,r,n){return a<100&&a>=0?new Date(a+400,r,n)-MS_PER_400_YEARS:new Date(a,r,n).valueOf()}function utcStartOfDate(a,r,n){return a<100&&a>=0?Date.UTC(a+400,r,n)-MS_PER_400_YEARS:Date.UTC(a,r,n)}function startOf(a){var r,n;if(a=normalizeUnits(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?utcStartOfDate:localStartOfDate,a){case"year":r=n(this.year(),0,1);break;case"quarter":r=n(this.year(),this.month()-this.month()%3,1);break;case"month":r=n(this.year(),this.month(),1);break;case"week":r=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":r=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":r=n(this.year(),this.month(),this.date());break;case"hour":r=this._d.valueOf(),r-=mod$1(r+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":r=this._d.valueOf(),r-=mod$1(r,MS_PER_MINUTE);break;case"second":r=this._d.valueOf(),r-=mod$1(r,MS_PER_SECOND);break}return this._d.setTime(r),hooks.updateOffset(this,!0),this}function endOf(a){var r,n;if(a=normalizeUnits(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?utcStartOfDate:localStartOfDate,a){case"year":r=n(this.year()+1,0,1)-1;break;case"quarter":r=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":r=n(this.year(),this.month()+1,1)-1;break;case"week":r=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":r=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":r=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":r=this._d.valueOf(),r+=MS_PER_HOUR-mod$1(r+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":r=this._d.valueOf(),r+=MS_PER_MINUTE-mod$1(r,MS_PER_MINUTE)-1;break;case"second":r=this._d.valueOf(),r+=MS_PER_SECOND-mod$1(r,MS_PER_SECOND)-1;break}return this._d.setTime(r),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray$1(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function toObject(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$2({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(a,r,n,o){var s=n._locale.erasParse(a,o,n._strict);s?getParsingFlags(n).era=s:getParsingFlags(n).invalidEra=a});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(a,r,n,o){var s;n._locale._eraYearOrdinalRegex&&(s=a.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?r[YEAR]=n._locale.eraYearOrdinalParse(a,s):r[YEAR]=parseInt(a,10)});function localeEras(a,r){var n,o,s,l=this._eras||getLocale("en")._eras;for(n=0,o=l.length;n<o;++n){switch(typeof l[n].since){case"string":s=hooks(l[n].since).startOf("day"),l[n].since=s.valueOf();break}switch(typeof l[n].until){case"undefined":l[n].until=1/0;break;case"string":s=hooks(l[n].until).startOf("day").valueOf(),l[n].until=s.valueOf();break}}return l}function localeErasParse(a,r,n){var o,s,l=this.eras(),u,c,d;for(a=a.toUpperCase(),o=0,s=l.length;o<s;++o)if(u=l[o].name.toUpperCase(),c=l[o].abbr.toUpperCase(),d=l[o].narrow.toUpperCase(),n)switch(r){case"N":case"NN":case"NNN":if(c===a)return l[o];break;case"NNNN":if(u===a)return l[o];break;case"NNNNN":if(d===a)return l[o];break}else if([u,c,d].indexOf(a)>=0)return l[o]}function localeErasConvertYear(a,r){var n=a.since<=a.until?1:-1;return r===void 0?hooks(a.since).year():hooks(a.since).year()+(r-a.offset)*n}function getEraName(){var a,r,n,o=this.localeData().eras();for(a=0,r=o.length;a<r;++a)if(n=this.clone().startOf("day").valueOf(),o[a].since<=n&&n<=o[a].until||o[a].until<=n&&n<=o[a].since)return o[a].name;return""}function getEraNarrow(){var a,r,n,o=this.localeData().eras();for(a=0,r=o.length;a<r;++a)if(n=this.clone().startOf("day").valueOf(),o[a].since<=n&&n<=o[a].until||o[a].until<=n&&n<=o[a].since)return o[a].narrow;return""}function getEraAbbr(){var a,r,n,o=this.localeData().eras();for(a=0,r=o.length;a<r;++a)if(n=this.clone().startOf("day").valueOf(),o[a].since<=n&&n<=o[a].until||o[a].until<=n&&n<=o[a].since)return o[a].abbr;return""}function getEraYear(){var a,r,n,o,s=this.localeData().eras();for(a=0,r=s.length;a<r;++a)if(n=s[a].since<=s[a].until?1:-1,o=this.clone().startOf("day").valueOf(),s[a].since<=o&&o<=s[a].until||s[a].until<=o&&o<=s[a].since)return(this.year()-hooks(s[a].since).year())*n+s[a].offset;return this.year()}function erasNameRegex(a){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),a?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(a){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),a?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(a){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),a?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(a,r){return r.erasAbbrRegex(a)}function matchEraName(a,r){return r.erasNameRegex(a)}function matchEraNarrow(a,r){return r.erasNarrowRegex(a)}function matchEraYearOrdinal(a,r){return r._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var a=[],r=[],n=[],o=[],s,l,u=this.eras();for(s=0,l=u.length;s<l;++s)r.push(regexEscape(u[s].name)),a.push(regexEscape(u[s].abbr)),n.push(regexEscape(u[s].narrow)),o.push(regexEscape(u[s].name)),o.push(regexEscape(u[s].abbr)),o.push(regexEscape(u[s].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(a,r){addFormatToken(0,[a,a.length],0,r)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(a,r,n,o){r[o.substr(0,2)]=toInt(a)});addWeekParseToken(["gg","GG"],function(a,r,n,o){r[o]=hooks.parseTwoDigitYear(a)});function getSetWeekYear(a){return getSetWeekYearHelper.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(a){return getSetWeekYearHelper.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var a=this.localeData()._week;return weeksInYear(this.year(),a.dow,a.doy)}function getWeeksInWeekYear(){var a=this.localeData()._week;return weeksInYear(this.weekYear(),a.dow,a.doy)}function getSetWeekYearHelper(a,r,n,o,s){var l;return a==null?weekOfYear(this,o,s).year:(l=weeksInYear(a,o,s),r>l&&(r=l),setWeekAll.call(this,a,r,n,o,s))}function setWeekAll(a,r,n,o,s){var l=dayOfYearFromWeeks(a,r,n,o,s),u=createUTCDate(l.year,0,l.dayOfYear);return this.year(u.getUTCFullYear()),this.month(u.getUTCMonth()),this.date(u.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(a,r){r[MONTH]=(toInt(a)-1)*3});function getSetQuarter(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(a,r){return a?r._dayOfMonthOrdinalParse||r._ordinalParse:r._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(a,r){r[DATE]=toInt(a.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(a,r,n){n._dayOfYear=toInt(a)});function getSetDayOfYear(a){var r=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?r:this.add(a-r,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(a,r){r[MILLISECOND]=toInt(("0."+a)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto$1=Moment.prototype;proto$1.add=add$1;proto$1.calendar=calendar$1;proto$1.clone=clone$5;proto$1.diff=diff;proto$1.endOf=endOf;proto$1.format=format$1;proto$1.from=from;proto$1.fromNow=fromNow;proto$1.to=to;proto$1.toNow=toNow;proto$1.get=stringGet;proto$1.invalidAt=invalidAt;proto$1.isAfter=isAfter;proto$1.isBefore=isBefore;proto$1.isBetween=isBetween;proto$1.isSame=isSame;proto$1.isSameOrAfter=isSameOrAfter;proto$1.isSameOrBefore=isSameOrBefore;proto$1.isValid=isValid$2;proto$1.lang=lang;proto$1.locale=locale;proto$1.localeData=localeData;proto$1.max=prototypeMax;proto$1.min=prototypeMin;proto$1.parsingFlags=parsingFlags;proto$1.set=stringSet;proto$1.startOf=startOf;proto$1.subtract=subtract;proto$1.toArray=toArray$1;proto$1.toObject=toObject;proto$1.toDate=toDate;proto$1.toISOString=toISOString;proto$1.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto$1[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto$1.toJSON=toJSON;proto$1.toString=toString$1;proto$1.unix=unix;proto$1.valueOf=valueOf;proto$1.creationData=creationData;proto$1.eraName=getEraName;proto$1.eraNarrow=getEraNarrow;proto$1.eraAbbr=getEraAbbr;proto$1.eraYear=getEraYear;proto$1.year=getSetYear;proto$1.isLeapYear=getIsLeapYear;proto$1.weekYear=getSetWeekYear;proto$1.isoWeekYear=getSetISOWeekYear;proto$1.quarter=proto$1.quarters=getSetQuarter;proto$1.month=getSetMonth;proto$1.daysInMonth=getDaysInMonth;proto$1.week=proto$1.weeks=getSetWeek;proto$1.isoWeek=proto$1.isoWeeks=getSetISOWeek;proto$1.weeksInYear=getWeeksInYear;proto$1.weeksInWeekYear=getWeeksInWeekYear;proto$1.isoWeeksInYear=getISOWeeksInYear;proto$1.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto$1.date=getSetDayOfMonth;proto$1.day=proto$1.days=getSetDayOfWeek;proto$1.weekday=getSetLocaleDayOfWeek;proto$1.isoWeekday=getSetISODayOfWeek;proto$1.dayOfYear=getSetDayOfYear;proto$1.hour=proto$1.hours=getSetHour;proto$1.minute=proto$1.minutes=getSetMinute;proto$1.second=proto$1.seconds=getSetSecond;proto$1.millisecond=proto$1.milliseconds=getSetMillisecond;proto$1.utcOffset=getSetOffset;proto$1.utc=setOffsetToUTC;proto$1.local=setOffsetToLocal;proto$1.parseZone=setOffsetToParsedOffset;proto$1.hasAlignedHourOffset=hasAlignedHourOffset;proto$1.isDST=isDaylightSavingTime;proto$1.isLocal=isLocal;proto$1.isUtcOffset=isUtcOffset;proto$1.isUtc=isUtc;proto$1.isUTC=isUtc;proto$1.zoneAbbr=getZoneAbbr;proto$1.zoneName=getZoneName;proto$1.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto$1.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto$1.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto$1.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto$1.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(a){return createLocal(a*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(a){return a}var proto$1$1=Locale.prototype;proto$1$1.calendar=calendar;proto$1$1.longDateFormat=longDateFormat;proto$1$1.invalidDate=invalidDate;proto$1$1.ordinal=ordinal;proto$1$1.preparse=preParsePostFormat;proto$1$1.postformat=preParsePostFormat;proto$1$1.relativeTime=relativeTime;proto$1$1.pastFuture=pastFuture;proto$1$1.set=set$3;proto$1$1.eras=localeEras;proto$1$1.erasParse=localeErasParse;proto$1$1.erasConvertYear=localeErasConvertYear;proto$1$1.erasAbbrRegex=erasAbbrRegex;proto$1$1.erasNameRegex=erasNameRegex;proto$1$1.erasNarrowRegex=erasNarrowRegex;proto$1$1.months=localeMonths;proto$1$1.monthsShort=localeMonthsShort;proto$1$1.monthsParse=localeMonthsParse;proto$1$1.monthsRegex=monthsRegex;proto$1$1.monthsShortRegex=monthsShortRegex;proto$1$1.week=localeWeek;proto$1$1.firstDayOfYear=localeFirstDayOfYear;proto$1$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1$1.weekdays=localeWeekdays;proto$1$1.weekdaysMin=localeWeekdaysMin;proto$1$1.weekdaysShort=localeWeekdaysShort;proto$1$1.weekdaysParse=localeWeekdaysParse;proto$1$1.weekdaysRegex=weekdaysRegex;proto$1$1.weekdaysShortRegex=weekdaysShortRegex;proto$1$1.weekdaysMinRegex=weekdaysMinRegex;proto$1$1.isPM=localeIsPM;proto$1$1.meridiem=localeMeridiem;function get$1$1(a,r,n,o){var s=getLocale(),l=createUTC().set(o,r);return s[n](l,a)}function listMonthsImpl(a,r,n){if(isNumber$2(a)&&(r=a,a=void 0),a=a||"",r!=null)return get$1$1(a,r,n,"month");var o,s=[];for(o=0;o<12;o++)s[o]=get$1$1(a,o,n,"month");return s}function listWeekdaysImpl(a,r,n,o){typeof a=="boolean"?(isNumber$2(r)&&(n=r,r=void 0),r=r||""):(r=a,n=r,a=!1,isNumber$2(r)&&(n=r,r=void 0),r=r||"");var s=getLocale(),l=a?s._week.dow:0,u,c=[];if(n!=null)return get$1$1(r,(n+l)%7,o,"day");for(u=0;u<7;u++)c[u]=get$1$1(r,(u+l)%7,o,"day");return c}function listMonths(a,r){return listMonthsImpl(a,r,"months")}function listMonthsShort(a,r){return listMonthsImpl(a,r,"monthsShort")}function listWeekdays(a,r,n){return listWeekdaysImpl(a,r,n,"weekdays")}function listWeekdaysShort(a,r,n){return listWeekdaysImpl(a,r,n,"weekdaysShort")}function listWeekdaysMin(a,r,n){return listWeekdaysImpl(a,r,n,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var r=a%10,n=toInt(a%100/10)===1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th";return a+n}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs$3=Math.abs;function abs$1(){var a=this._data;return this._milliseconds=mathAbs$3(this._milliseconds),this._days=mathAbs$3(this._days),this._months=mathAbs$3(this._months),a.milliseconds=mathAbs$3(a.milliseconds),a.seconds=mathAbs$3(a.seconds),a.minutes=mathAbs$3(a.minutes),a.hours=mathAbs$3(a.hours),a.months=mathAbs$3(a.months),a.years=mathAbs$3(a.years),this}function addSubtract$1(a,r,n,o){var s=createDuration(r,n);return a._milliseconds+=o*s._milliseconds,a._days+=o*s._days,a._months+=o*s._months,a._bubble()}function add$1$1(a,r){return addSubtract$1(this,a,r,1)}function subtract$1(a,r){return addSubtract$1(this,a,r,-1)}function absCeil(a){return a<0?Math.floor(a):Math.ceil(a)}function bubble(){var a=this._milliseconds,r=this._days,n=this._months,o=this._data,s,l,u,c,d;return a>=0&&r>=0&&n>=0||a<=0&&r<=0&&n<=0||(a+=absCeil(monthsToDays(n)+r)*864e5,r=0,n=0),o.milliseconds=a%1e3,s=absFloor(a/1e3),o.seconds=s%60,l=absFloor(s/60),o.minutes=l%60,u=absFloor(l/60),o.hours=u%24,r+=absFloor(u/24),d=absFloor(daysToMonths(r)),n+=d,r-=absCeil(monthsToDays(d)),c=absFloor(n/12),n%=12,o.days=r,o.months=n,o.years=c,this}function daysToMonths(a){return a*4800/146097}function monthsToDays(a){return a*146097/4800}function as(a){if(!this.isValid())return NaN;var r,n,o=this._milliseconds;if(a=normalizeUnits(a),a==="month"||a==="quarter"||a==="year")switch(r=this._days+o/864e5,n=this._months+daysToMonths(r),a){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(r=this._days+Math.round(monthsToDays(this._months)),a){case"week":return r/7+o/6048e5;case"day":return r+o/864e5;case"hour":return r*24+o/36e5;case"minute":return r*1440+o/6e4;case"second":return r*86400+o/1e3;case"millisecond":return Math.floor(r*864e5)+o;default:throw new Error("Unknown unit "+a)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(a){return function(){return this.as(a)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1$1(){return createDuration(this)}function get$2$1(a){return a=normalizeUnits(a),this.isValid()?this[a+"s"]():NaN}function makeGetter(a){return function(){return this.isValid()?this._data[a]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(a,r,n,o,s){return s.relativeTime(r||1,!!n,a,o)}function relativeTime$1(a,r,n,o){var s=createDuration(a).abs(),l=round$4(s.as("s")),u=round$4(s.as("m")),c=round$4(s.as("h")),d=round$4(s.as("d")),v=round$4(s.as("M")),g=round$4(s.as("w")),y=round$4(s.as("y")),_=l<=n.ss&&["s",l]||l<n.s&&["ss",l]||u<=1&&["m"]||u<n.m&&["mm",u]||c<=1&&["h"]||c<n.h&&["hh",c]||d<=1&&["d"]||d<n.d&&["dd",d];return n.w!=null&&(_=_||g<=1&&["w"]||g<n.w&&["ww",g]),_=_||v<=1&&["M"]||v<n.M&&["MM",v]||y<=1&&["y"]||["yy",y],_[2]=r,_[3]=+a>0,_[4]=o,substituteTimeAgo.apply(null,_)}function getSetRelativeTimeRounding(a){return a===void 0?round$4:typeof a=="function"?(round$4=a,!0):!1}function getSetRelativeTimeThreshold(a,r){return thresholds[a]===void 0?!1:r===void 0?thresholds[a]:(thresholds[a]=r,a==="s"&&(thresholds.ss=r-1),!0)}function humanize(a,r){if(!this.isValid())return this.localeData().invalidDate();var n=!1,o=thresholds,s,l;return typeof a=="object"&&(r=a,a=!1),typeof a=="boolean"&&(n=a),typeof r=="object"&&(o=Object.assign({},thresholds,r),r.s!=null&&r.ss==null&&(o.ss=r.s-1)),s=this.localeData(),l=relativeTime$1(this,!n,o,s),n&&(l=s.pastFuture(+this,l)),s.postformat(l)}var abs$1$1=Math.abs;function sign(a){return(a>0)-(a<0)||+a}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var a=abs$1$1(this._milliseconds)/1e3,r=abs$1$1(this._days),n=abs$1$1(this._months),o,s,l,u,c=this.asSeconds(),d,v,g,y;return c?(o=absFloor(a/60),s=absFloor(o/60),a%=60,o%=60,l=absFloor(n/12),n%=12,u=a?a.toFixed(3).replace(/\.?0+$/,""):"",d=c<0?"-":"",v=sign(this._months)!==sign(c)?"-":"",g=sign(this._days)!==sign(c)?"-":"",y=sign(this._milliseconds)!==sign(c)?"-":"",d+"P"+(l?v+l+"Y":"")+(n?v+n+"M":"")+(r?g+r+"D":"")+(s||o||a?"T":"")+(s?y+s+"H":"")+(o?y+o+"M":"")+(a?y+u+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs$1;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(a,r,n){n._d=new Date(parseFloat(a)*1e3)});addParseToken("x",function(a,r,n){n._d=new Date(toInt(a))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto$1;hooks.min=min$2;hooks.max=max$2;hooks.now=now$2;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$1;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto$1;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var axios$3={exports:{}},axios$2={exports:{}},bind$4=function a(r,n){return function(){for(var s=new Array(arguments.length),l=0;l<s.length;l++)s[l]=arguments[l];return r.apply(n,s)}},bind$3=bind$4,toString=Object.prototype.toString,kindOf=function(a){return function(r){var n=toString.call(r);return a[n]||(a[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(a){return a=a.toLowerCase(),function(n){return kindOf(n)===a}}function isArray$2(a){return Array.isArray(a)}function isUndefined(a){return typeof a>"u"}function isBuffer(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(a):r=a&&a.buffer&&isArrayBuffer(a.buffer),r}function isString$1(a){return typeof a=="string"}function isNumber$1(a){return typeof a=="number"}function isObject$6(a){return a!==null&&typeof a=="object"}function isPlainObject(a){if(kindOf(a)!=="object")return!1;var r=Object.getPrototypeOf(a);return r===null||r===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction$1(a){return toString.call(a)==="[object Function]"}function isStream(a){return isObject$6(a)&&isFunction$1(a.pipe)}function isFormData(a){var r="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||toString.call(a)===r||isFunction$1(a.toString)&&a.toString()===r)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim$2(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(a,r){if(!(a===null||typeof a>"u"))if(typeof a!="object"&&(a=[a]),isArray$2(a))for(var n=0,o=a.length;n<o;n++)r.call(null,a[n],n,a);else for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&r.call(null,a[s],s,a)}function merge$2(){var a={};function r(s,l){isPlainObject(a[l])&&isPlainObject(s)?a[l]=merge$2(a[l],s):isPlainObject(s)?a[l]=merge$2({},s):isArray$2(s)?a[l]=s.slice():a[l]=s}for(var n=0,o=arguments.length;n<o;n++)forEach(arguments[n],r);return a}function extend$1(a,r,n){return forEach(r,function(s,l){n&&typeof s=="function"?a[l]=bind$3(s,n):a[l]=s}),a}function stripBOM(a){return a.charCodeAt(0)===65279&&(a=a.slice(1)),a}function inherits$1(a,r,n,o){a.prototype=Object.create(r.prototype,o),a.prototype.constructor=a,n&&Object.assign(a.prototype,n)}function toFlatObject(a,r,n){var o,s,l,u={};r=r||{};do{for(o=Object.getOwnPropertyNames(a),s=o.length;s-- >0;)l=o[s],u[l]||(r[l]=a[l],u[l]=!0);a=Object.getPrototypeOf(a)}while(a&&(!n||n(a,r))&&a!==Object.prototype);return r}function endsWith(a,r,n){a=String(a),(n===void 0||n>a.length)&&(n=a.length),n-=r.length;var o=a.indexOf(r,n);return o!==-1&&o===n}function toArray(a){if(!a)return null;var r=a.length;if(isUndefined(r))return null;for(var n=new Array(r);r-- >0;)n[r]=a[r];return n}var isTypedArray$1=function(a){return function(r){return a&&r instanceof a}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),utils$b={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isObject:isObject$6,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$1,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge:merge$2,extend:extend$1,trim:trim$2,stripBOM,inherits:inherits$1,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray:isTypedArray$1,isFileList},utils$a=utils$b;function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function a(r,n,o){if(!n)return r;var s;if(o)s=o(n);else if(utils$a.isURLSearchParams(n))s=n.toString();else{var l=[];utils$a.forEach(n,function(d,v){d===null||typeof d>"u"||(utils$a.isArray(d)?v=v+"[]":d=[d],utils$a.forEach(d,function(y){utils$a.isDate(y)?y=y.toISOString():utils$a.isObject(y)&&(y=JSON.stringify(y)),l.push(encode(v)+"="+encode(y))}))}),s=l.join("&")}if(s){var u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},utils$9=utils$b;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function a(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function a(r){this.handlers[r]&&(this.handlers[r]=null)};InterceptorManager$1.prototype.forEach=function a(r){utils$9.forEach(this.handlers,function(o){o!==null&&r(o)})};var InterceptorManager_1=InterceptorManager$1,utils$8=utils$b,normalizeHeaderName$1=function a(r,n){utils$8.forEach(r,function(s,l){l!==n&&l.toUpperCase()===n.toUpperCase()&&(r[n]=s,delete r[l])})},utils$7=utils$b;function AxiosError$2(a,r,n,o,s){Error.call(this),this.message=a,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s)}utils$7.inherits(AxiosError$2,Error,{toJSON:function a(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$2.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(a){descriptors[a]={value:a}});Object.defineProperties(AxiosError$2,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$2.from=function(a,r,n,o,s,l){var u=Object.create(prototype);return utils$7.toFlatObject(a,u,function(d){return d!==Error.prototype}),AxiosError$2.call(u,a.message,r,n,o,s),u.name=a.name,l&&Object.assign(u,l),u};var AxiosError_1=AxiosError$2,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$6=utils$b;function toFormData$1(a,r){r=r||new FormData;var n=[];function o(l){return l===null?"":utils$6.isDate(l)?l.toISOString():utils$6.isArrayBuffer(l)||utils$6.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function s(l,u){if(utils$6.isPlainObject(l)||utils$6.isArray(l)){if(n.indexOf(l)!==-1)throw Error("Circular reference detected in "+u);n.push(l),utils$6.forEach(l,function(d,v){if(!utils$6.isUndefined(d)){var g=u?u+"."+v:v,y;if(d&&!u&&typeof d=="object"){if(utils$6.endsWith(v,"{}"))d=JSON.stringify(d);else if(utils$6.endsWith(v,"[]")&&(y=utils$6.toArray(d))){y.forEach(function(_){!utils$6.isUndefined(_)&&r.append(g,o(_))});return}}s(d,g)}}),n.pop()}else r.append(u,o(l))}return s(a),r}var toFormData_1=toFormData$1,settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var a=AxiosError_1;return settle=function(n,o,s){var l=s.config.validateStatus;!s.status||!l||l(s.status)?n(s):o(new a("Request failed with status code "+s.status,[a.ERR_BAD_REQUEST,a.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var a=utils$b;return cookies=a.isStandardBrowserEnv()?function(){return{write:function(o,s,l,u,c,d){var v=[];v.push(o+"="+encodeURIComponent(s)),a.isNumber(l)&&v.push("expires="+new Date(l).toGMTString()),a.isString(u)&&v.push("path="+u),a.isString(c)&&v.push("domain="+c),d===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(o){var s=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL$1=function a(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},combineURLs$1=function a(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function a(r,n){return r&&!isAbsoluteURL(n)?combineURLs(r,n):n},parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var a=utils$b,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(o){var s={},l,u,c;return o&&a.forEach(o.split(`
`),function(v){if(c=v.indexOf(":"),l=a.trim(v.substr(0,c)).toLowerCase(),u=a.trim(v.substr(c+1)),l){if(s[l]&&r.indexOf(l)>=0)return;l==="set-cookie"?s[l]=(s[l]?s[l]:[]).concat([u]):s[l]=s[l]?s[l]+", "+u:u}}),s},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var a=utils$b;return isURLSameOrigin=a.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),s;function l(u){var c=u;return n&&(o.setAttribute("href",c),c=o.href),o.setAttribute("href",c),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return s=l(window.location.href),function(c){var d=a.isString(c)?l(c):c;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var CanceledError_1,hasRequiredCanceledError;function requireCanceledError(){if(hasRequiredCanceledError)return CanceledError_1;hasRequiredCanceledError=1;var a=AxiosError_1,r=utils$b;function n(o){a.call(this,o==null?"canceled":o,a.ERR_CANCELED),this.name="CanceledError"}return r.inherits(n,a,{__CANCEL__:!0}),CanceledError_1=n,CanceledError_1}var parseProtocol,hasRequiredParseProtocol;function requireParseProtocol(){return hasRequiredParseProtocol||(hasRequiredParseProtocol=1,parseProtocol=function(r){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return n&&n[1]||""}),parseProtocol}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var a=utils$b,r=requireSettle(),n=requireCookies(),o=buildURL$1,s=buildFullPath$1,l=requireParseHeaders(),u=requireIsURLSameOrigin(),c=transitional,d=AxiosError_1,v=requireCanceledError(),g=requireParseProtocol();return xhr=function(_){return new Promise(function(x,T){var b=_.data,A=_.headers,w=_.responseType,$;function C(){_.cancelToken&&_.cancelToken.unsubscribe($),_.signal&&_.signal.removeEventListener("abort",$)}a.isFormData(b)&&a.isStandardBrowserEnv()&&delete A["Content-Type"];var P=new XMLHttpRequest;if(_.auth){var M=_.auth.username||"",E=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";A.Authorization="Basic "+btoa(M+":"+E)}var D=s(_.baseURL,_.url);P.open(_.method.toUpperCase(),o(D,_.params,_.paramsSerializer),!0),P.timeout=_.timeout;function I(){if(!!P){var O="getAllResponseHeaders"in P?l(P.getAllResponseHeaders()):null,N=!w||w==="text"||w==="json"?P.responseText:P.response,F={data:N,status:P.status,statusText:P.statusText,headers:O,config:_,request:P};r(function(z){x(z),C()},function(z){T(z),C()},F),P=null}}if("onloadend"in P?P.onloadend=I:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(I)},P.onabort=function(){!P||(T(new d("Request aborted",d.ECONNABORTED,_,P)),P=null)},P.onerror=function(){T(new d("Network Error",d.ERR_NETWORK,_,P,P)),P=null},P.ontimeout=function(){var N=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded",F=_.transitional||c;_.timeoutErrorMessage&&(N=_.timeoutErrorMessage),T(new d(N,F.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,_,P)),P=null},a.isStandardBrowserEnv()){var R=(_.withCredentials||u(D))&&_.xsrfCookieName?n.read(_.xsrfCookieName):void 0;R&&(A[_.xsrfHeaderName]=R)}"setRequestHeader"in P&&a.forEach(A,function(N,F){typeof b>"u"&&F.toLowerCase()==="content-type"?delete A[F]:P.setRequestHeader(F,N)}),a.isUndefined(_.withCredentials)||(P.withCredentials=!!_.withCredentials),w&&w!=="json"&&(P.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&P.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",_.onUploadProgress),(_.cancelToken||_.signal)&&($=function(O){!P||(T(!O||O&&O.type?new v:O),P.abort(),P=null)},_.cancelToken&&_.cancelToken.subscribe($),_.signal&&(_.signal.aborted?$():_.signal.addEventListener("abort",$))),b||(b=null);var L=g(D);if(L&&["http","https","file"].indexOf(L)===-1){T(new d("Unsupported protocol "+L+":",d.ERR_BAD_REQUEST,_));return}P.send(b)})},xhr}var _null,hasRequired_null;function require_null(){return hasRequired_null||(hasRequired_null=1,_null=null),_null}var utils$5=utils$b,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(a,r){!utils$5.isUndefined(a)&&utils$5.isUndefined(a["Content-Type"])&&(a["Content-Type"]=r)}function getDefaultAdapter(){var a;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(a=requireXhr()),a}function stringifySafely(a,r,n){if(utils$5.isString(a))try{return(r||JSON.parse)(a),utils$5.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(a)}var defaults$4={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function a(r,n){if(normalizeHeaderName(n,"Accept"),normalizeHeaderName(n,"Content-Type"),utils$5.isFormData(r)||utils$5.isArrayBuffer(r)||utils$5.isBuffer(r)||utils$5.isStream(r)||utils$5.isFile(r)||utils$5.isBlob(r))return r;if(utils$5.isArrayBufferView(r))return r.buffer;if(utils$5.isURLSearchParams(r))return setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var o=utils$5.isObject(r),s=n&&n["Content-Type"],l;if((l=utils$5.isFileList(r))||o&&s==="multipart/form-data"){var u=this.env&&this.env.FormData;return toFormData(l?{"files[]":r}:r,u&&new u)}else if(o||s==="application/json")return setContentTypeIfUnset(n,"application/json"),stringifySafely(r);return r}],transformResponse:[function a(r){var n=this.transitional||defaults$4.transitional,o=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,l=!o&&this.responseType==="json";if(l||s&&utils$5.isString(r)&&r.length)try{return JSON.parse(r)}catch(u){if(l)throw u.name==="SyntaxError"?AxiosError$1.from(u,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):u}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:require_null()},validateStatus:function a(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$5.forEach(["delete","get","head"],function a(r){defaults$4.headers[r]={}});utils$5.forEach(["post","put","patch"],function a(r){defaults$4.headers[r]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$4,utils$4=utils$b,defaults$3=defaults_1,transformData$1=function a(r,n,o){var s=this||defaults$3;return utils$4.forEach(o,function(u){r=u.call(s,r,n)}),r},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(r){return!!(r&&r.__CANCEL__)}),isCancel$1}var utils$3=utils$b,transformData=transformData$1,isCancel=requireIsCancel(),defaults$2=defaults_1,CanceledError=requireCanceledError();function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError}var dispatchRequest$1=function a(r){throwIfCancellationRequested(r),r.headers=r.headers||{},r.data=transformData.call(r,r.data,r.headers,r.transformRequest),r.headers=utils$3.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(s){delete r.headers[s]});var n=r.adapter||defaults$2.adapter;return n(r).then(function(s){return throwIfCancellationRequested(r),s.data=transformData.call(r,s.data,s.headers,r.transformResponse),s},function(s){return isCancel(s)||(throwIfCancellationRequested(r),s&&s.response&&(s.response.data=transformData.call(r,s.response.data,s.response.headers,r.transformResponse))),Promise.reject(s)})},utils$2=utils$b,mergeConfig$2=function a(r,n){n=n||{};var o={};function s(g,y){return utils$2.isPlainObject(g)&&utils$2.isPlainObject(y)?utils$2.merge(g,y):utils$2.isPlainObject(y)?utils$2.merge({},y):utils$2.isArray(y)?y.slice():y}function l(g){if(utils$2.isUndefined(n[g])){if(!utils$2.isUndefined(r[g]))return s(void 0,r[g])}else return s(r[g],n[g])}function u(g){if(!utils$2.isUndefined(n[g]))return s(void 0,n[g])}function c(g){if(utils$2.isUndefined(n[g])){if(!utils$2.isUndefined(r[g]))return s(void 0,r[g])}else return s(void 0,n[g])}function d(g){if(g in n)return s(r[g],n[g]);if(g in r)return s(void 0,r[g])}var v={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return utils$2.forEach(Object.keys(r).concat(Object.keys(n)),function(y){var _=v[y]||l,S=_(y);utils$2.isUndefined(S)&&_!==d||(o[y]=S)}),o},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.27.2"}),data}var VERSION=requireData().version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(a,r){validators$1[a]=function(o){return typeof o===a||"a"+(r<1?"n ":" ")+a}});var deprecatedWarnings={};validators$1.transitional=function a(r,n,o){function s(l,u){return"[Axios v"+VERSION+"] Transitional option '"+l+"'"+u+(o?". "+o:"")}return function(l,u,c){if(r===!1)throw new AxiosError(s(u," has been removed"+(n?" in "+n:"")),AxiosError.ERR_DEPRECATED);return n&&!deprecatedWarnings[u]&&(deprecatedWarnings[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(l,u,c):!0}};function assertOptions(a,r,n){if(typeof a!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(a),s=o.length;s-- >0;){var l=o[s],u=r[l];if(u){var c=a[l],d=c===void 0||u(c,l,a);if(d!==!0)throw new AxiosError("option "+l+" must be "+d,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError("Unknown option "+l,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$1=utils$b,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$1,validator=validator$1,validators=validator.validators;function Axios$1(a){this.defaults=a,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function a(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=mergeConfig$1(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var o=n.transitional;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var s=[],l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,s.unshift(S.fulfilled,S.rejected))});var u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});var c;if(!l){var d=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(d,s),d=d.concat(u),c=Promise.resolve(n);d.length;)c=c.then(d.shift(),d.shift());return c}for(var v=n;s.length;){var g=s.shift(),y=s.shift();try{v=g(v)}catch(_){y(_);break}}try{c=dispatchRequest(v)}catch(_){return Promise.reject(_)}for(;u.length;)c=c.then(u.shift(),u.shift());return c};Axios$1.prototype.getUri=function a(r){r=mergeConfig$1(this.defaults,r);var n=buildFullPath(r.baseURL,r.url);return buildURL(n,r.params,r.paramsSerializer)};utils$1.forEach(["delete","get","head","options"],function a(r){Axios$1.prototype[r]=function(n,o){return this.request(mergeConfig$1(o||{},{method:r,url:n,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function a(r){function n(o){return function(l,u,c){return this.request(mergeConfig$1(c||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Axios$1.prototype[r]=n(),Axios$1.prototype[r+"Form"]=n(!0)});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var a=requireCanceledError();function r(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(u){o=u});var s=this;this.promise.then(function(l){if(!!s._listeners){var u,c=s._listeners.length;for(u=0;u<c;u++)s._listeners[u](l);s._listeners=null}}),this.promise.then=function(l){var u,c=new Promise(function(d){s.subscribe(d),u=d}).then(l);return c.cancel=function(){s.unsubscribe(u)},c},n(function(u){s.reason||(s.reason=new a(u),o(s.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]},r.prototype.unsubscribe=function(o){if(!!this._listeners){var s=this._listeners.indexOf(o);s!==-1&&this._listeners.splice(s,1)}},r.source=function(){var o,s=new r(function(u){o=u});return{token:s,cancel:o}},CancelToken_1=r,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(r){return function(o){return r.apply(null,o)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var a=utils$b;return isAxiosError=function(n){return a.isObject(n)&&n.isAxiosError===!0},isAxiosError}var utils=utils$b,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$1=defaults_1;function createInstance(a){var r=new Axios(a),n=bind$2(Axios.prototype.request,r);return utils.extend(n,Axios.prototype,r),utils.extend(n,r),n.create=function(s){return createInstance(mergeConfig(a,s))},n}var axios$1=createInstance(defaults$1);axios$1.Axios=Axios;axios$1.CanceledError=requireCanceledError();axios$1.CancelToken=requireCancelToken();axios$1.isCancel=requireIsCancel();axios$1.VERSION=requireData().version;axios$1.toFormData=toFormData_1;axios$1.AxiosError=AxiosError_1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function a(r){return Promise.all(r)};axios$1.spread=requireSpread();axios$1.isAxiosError=requireIsAxiosError();axios$2.exports=axios$1;axios$2.exports.default=axios$1;(function(a){a.exports=axios$2.exports})(axios$3);const axios=getDefaultExportFromCjs(axios$3.exports),STORAGE_TOKEN_KEY="access_token",REQUEST_TOKEN_KEY="Access-Token",request=axios.create({baseURL:"https://iamgateway.shuhaisc.com/",timeout:6e3}),errorHandler=a=>{if(a.response){const{data:r={},status:n,statusText:o}=a.response;n===403&&showNotify({type:"danger",message:r&&r.message||o}),n===401&&r.result&&r.result.isLogin&&showNotify({type:"danger",message:"Authorization verification failed"})}return Promise.reject(a)},requestHandler=a=>{const r=store_legacy.get(STORAGE_TOKEN_KEY);return r&&(a.headers[REQUEST_TOKEN_KEY]=r),a};request.interceptors.request.use(requestHandler,errorHandler);const responseHandler=a=>a.data.data;request.interceptors.response.use(responseHandler,errorHandler);async function queryProse(){return request("/project/prose")}async function authentication(a){return request.get(`/iam/bizcore/v3/feishu/userCheck/${a}`)}const imgDefaultUrl="/assets/user.2x.d31f7080.png",imgMantUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA9BJREFUWEfNmEuoVlUUx3//UiolekAQVBBNjMIeg7AGRZPUJmYiUiGJ3ZS0gY8oKisKyog0MBTDlDQrUUIFG2TapIlJoFaUDhxI0APx1UCjLrni/7nP5dzTd87Zn3rh23AHH2fttX93rbXXY4seV0TcANwL3A3cDFwPjE1qTgN/AEeA/cC3kn7t5QjlCEfEJcBDwAzgDiBrHxDAD8AWYJeks23ntSqOiAnA88kabfqavttq70ra2yRUCxQRlwHPAdMuhKLL3q3Ackl/d9PbFSgirgFWALddZJhC3c/AAkknq/r/B5RgPrwILmr7X+zCOVWoYUDJTYYZKctUIW0pQw25rwr08gjETJultkpaWggNAaXbtKpt9wh9f7a4fR2glGecK5zoel0OzCXAiZR3nHs6aiu/rwPeA8Z0OcDxNMN5qgCaBLzVK0mSPyDp6Zy9EfERML5GdomknQXQOuDOHKU1MgeA4gpbZxEKqyUdLva0AH0vaUCpNm3voRzkcNtd70j6vAgJu6MFyHumGmg68GLOKUnmDLAP+C39vhG4qxQbVrxM0uYE8wKwVtKJFiCLv22gN4HJGUAO2g+ALyT9U5aPiMuBR4BngDWSNiUYl57HgYmZQF8a6BPg1hYgJ7BFko43yUXEGEm2oG/uQmBmks8FOmSg3cDVDQe5n3lS0p/poAcBu3kc4HbiILBZ0p5S8A4A80o6c4FOGciKRjcAzZP0XUT45jiTP1oju1GSC7KtY+hl5wE02Ab0o6TZ6ZAngMUtrn1D0o4k70R7S5KfLOlYRGwAbm/Q0QFqctlKSesj4lJgZ4trfc7vwBTJamM+8FQ6/FPAcfga4D6rbnVc1hTUiyV9ExGu/h9n3ESLTJP0S0RMBIaKZubeTlA3Xfu5kvb1WHhnSfopIh5ItSuTpSPWufZNifElSbsi4iZgW4ZmJ0XHy/GIcF56NWNPWaSTGD3W1JWOzyS5QvvmOA581ZvWfklzkrxhDJW7zpWOtLmuuB61UkmDEeHy4Ew9quYEZ+8BSQcj4grAt60pv1XVnCuuCaip/VghaWOSux94Hbiqos2V/pWiyYqIuYD/elnD2g8PgnUN2iAwX5InUbvuStem5D6b+RDwlSRPrf7uOe59wKkidw1v0EqK6lrYv2wZSV83nRARD9tSLbmmm4rhLWwhERFtTb7LjC25t6j4aVLxrP8YcE+uSUpy3Zv8ZCVn0Zwx6N/UQzsGrwXs8vNZzWNQgvLU2h+DYsl1/TNKl6D657GhHAx98xxTgeqfB6vq1Um17740aTQ96XlW29Prk95/JhivQsaQPuEAAAAASUVORK5CYII=",imgLadyUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA8lJREFUWEfNmEuo1VUUxn9fZRYVFdK7QVDQY1CGPawIahC9oDJKapAQUhCGQhpFEhS9Bj1vVmJqFAY9BhZEkOnABqVCUDYwIYwohWa9MCmtJd91/S/nnv7nv/ehK5w1utyz19rfXmvt71v7L4a0iDgNmA1cCJwBnAwclWF2Az8DPwBfAZsl7RpmC9UsjohDgGuAucD5QJUfEMA3wPvAekn/lvYrBo6IS4EHMxuleF2/O2vPStrStWggoIiYDiwGbv0/KFp81wLPS/qrLW4roIg4HhgDzptiME24bcAiSb/0x/8PoASzcgpKVDqLS3hPP6hJgLJMBnOwMtMP0pkyqIny9QN65CD0TClTayU93SyaAJS36dWSd8vv3wMfmnOSgxzzVOAKYA5g3irZgub2jQNKnjFXmOhqbR/wMvCepH/anCJiGnC3y1LgLvfTXPNUA+ha4KlaJIABPCDp8zzQYcBFwFlJhtvN1A0RRsQNwOMFUEslrWsArQYuGALQmKQ1CWYW8Chwep//DuAxSd/muoXAvI49tkqar9Qm90CRtTPYj8DtLlNEXJxlc2nabA9wr0FFxJHZazMGrLXM3GJAtwEPD5Eds+w7SREfACcWfN30d7h8EXEfML9j/TMG9CRw3RCA5kj6KSKuB56o9Ltf0uaIsDC/0eHziQG9DZxTGdhqPTtP66w6uzW2UtKKVIH1HQ7bDWgDcFxNVOAPSVdnk/pW+nbW2LuSnksa2NTh8KsBecGgpuz3dYYul7QvIhYBd9WgAZZJeisiTgI+7vDZOywgx5onaVtEXAK8VgnoTknfRcSVwIslQMOUzLHelPRKlm0VMLMAaqOkJbnefHVzqWQ1Tb0COBu4CvgduFHSniyBpwNrV5uZHM1Dv0WEZ28PZ4eXmrp07ddIGsuGfAHYIemlJmjenAVJHUfk/z3sfwQsl7Q7tXIZ4HG4y8avfYkYtwLmEWdkmqS9mf5jnS1JZlgLtMFYPtz4OyX9nf8/FFgK3FTRb+PE6PGgJB1fAgt7NjkBcP80g/vOts0iwmL7UD6ZSngOSEeeoiSu6yygPep9tMsBnJvK/wXg14TfZM7IKTkPWXj9hKqxA+KagLrGj40+ZYrpMcCf+bdL9jpwZs1uFWsmjR8+xaABbbGkzyKiyYrVvhk3fMMGqXcFhoklkwe0zJJvQNsI6wHcuuXJz+Jo+zTnJzPvVNjkEbbnCo/OkJ9Z8mt1dJ5BCcqv1tF4KPaUbnSe0j2gRudjQ++1GZnPMX2gRueDVT/JpPZdlnNQ1ye9r4FNw37S2w8vFqBCRIJ/xgAAAABJRU5ErkJggg==",imgTitleUrl="/assets/title.2x.d12a7c3e.png",_withScopeId$1=a=>(pushScopeId("data-v-b80fbaea"),a=a(),popScopeId(),a),_hoisted_1$2={class:"id-card-container"},_hoisted_2$2={class:"id-card-content"},_hoisted_3$2=_withScopeId$1(()=>createBaseVNode("div",{class:"id-card-tip"},null,-1)),_hoisted_4$2={class:"crile-container"},_hoisted_5$1={class:"crile-content"},_hoisted_6$1={class:"date item-center"},_hoisted_7={class:"time item-center"},_hoisted_8={class:"user-message"},_hoisted_9={class:"user-message-item"},_hoisted_10=_withScopeId$1(()=>createBaseVNode("span",{class:"user-message-title"},"\u59D3\u540D",-1)),_hoisted_11={class:"user-message-info"},_hoisted_12={class:"user-message-item"},_hoisted_13=_withScopeId$1(()=>createBaseVNode("span",{class:"user-message-title"},"\u5DE5\u53F7",-1)),_hoisted_14={class:"user-message-info"},_hoisted_15={class:"user-message-item"},_hoisted_16=_withScopeId$1(()=>createBaseVNode("span",{class:"user-message-title"},"\u90E8\u95E8",-1)),_hoisted_17={class:"user-message-info"},_hoisted_18={class:"user-message-item"},_hoisted_19=_withScopeId$1(()=>createBaseVNode("span",{class:"user-message-title"},"\u804C\u52A1",-1)),_hoisted_20={class:"user-message-info"},_hoisted_21={class:"user-message-item"},_hoisted_22=_withScopeId$1(()=>createBaseVNode("span",{class:"user-message-title"},"\u6027\u522B",-1)),_hoisted_23={class:"user-message-info"},_sfc_main$3=defineComponent({__name:"index",setup(a){const r=ref(imgDefaultUrl),n=ref(imgTitleUrl),o=ref(),s=ref(""),l=ref(""),u=ref(""),c=ref(""),d=ref(),v=ref(""),g=ref(""),y=ref();console.log("\u6253\u5370\u5F53\u524D\u8FDE\u63A5",n);const _=x=>{if(!x){showDialog({title:"\u63D0\u793A",message:"\u53C2\u6570\u5F02\u5E38\uFF0C\u8BF7\u8FD4\u56DE\u91CD\u65B0\u8FDB\u5165",confirmButtonText:"\u5173\u95ED"});return}showLoadingToast({message:"Loading...",forbidClick:!0,duration:0}),authentication(x).then(T=>{T?(s.value=T.employeeName,l.value=T.employeeCode,o.value=T.gender==="1"?imgMantUrl:imgLadyUrl,u.value=T.deptName,r.value=T.avatarUrl||imgDefaultUrl,d.value=T.gender,c.value=T.postName,v.value=hooks(T.ts).format("YYYY\u5E74MM\u6708DD\u65E5"),g.value=hooks(T.ts).format("HH:mm:ss"),y.value=T.ts,setInterval(()=>{y.value+=1e3,v.value=hooks(y.value).format("YYYY\u5E74MM\u6708DD\u65E5"),g.value=hooks(y.value).format("HH:mm:ss")},1e3)):showDialog({title:"\u63D0\u793A",message:"\u767B\u9646\u8FC7\u671F\uFF0C\u8BF7\u8FD4\u56DE\u91CD\u65B0\u8FDB\u5165",confirmButtonText:"\u5173\u95ED"})}).catch(T=>{showDialog({title:"\u63D0\u793A",message:T.message||"\u6570\u636E\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u8FD4\u56DE\u91CD\u65B0\u8FDB\u5165",confirmButtonText:"\u5173\u95ED"})}).finally(()=>{closeToast()})};function S(){console.log("start apiAuth");const x=window;if(!x.h5sdk){console.log("invalid h5sdk"),alert("please open in feishu");return}const T="cli_a3cf82a02c661013";console.log("AAA",T),x.h5sdk.ready(()=>{x.tt.requestAuthCode({appId:T,success:b=>{console.log("aaaa",b),console.info(b.code),b.code&&_(b.code)},fail:b=>{showDialog({title:"\u63D0\u793A",message:"\u670D\u52A1\u5668\u6388\u6743\u767B\u9646\u8FC7\u671F\uFF0C\u8BF7\u8FD4\u56DE\u91CD\u65B0\u8FDB\u5165",confirmButtonText:"\u5173\u95ED"}),console.error(b)}})})}return S(),(x,T)=>{const b=Image$1;return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[_hoisted_3$2,createVNode$1(b,{fit:"cover",class:"title",src:n.value},null,8,["src"]),createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("ul",null,[(openBlock(),createElementBlock(Fragment,null,renderList(10,A=>createBaseVNode("li",{key:A})),64))]),createVNode$1(b,{class:"user-image",round:"",src:r.value},null,8,["src"])])]),createBaseVNode("div",_hoisted_6$1,toDisplayString(v.value),1),createBaseVNode("div",_hoisted_7,toDisplayString(g.value),1),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[_hoisted_10,createBaseVNode("div",_hoisted_11,toDisplayString(s.value),1)]),createBaseVNode("div",_hoisted_12,[_hoisted_13,createBaseVNode("div",_hoisted_14,toDisplayString(l.value),1)]),createBaseVNode("div",_hoisted_15,[_hoisted_16,createBaseVNode("div",_hoisted_17,toDisplayString(u.value),1)]),createBaseVNode("div",_hoisted_18,[_hoisted_19,createBaseVNode("div",_hoisted_20,toDisplayString(c.value),1)]),createBaseVNode("div",_hoisted_21,[_hoisted_22,createBaseVNode("div",_hoisted_23,[d.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass({"user-message-gender-wz":d.value!=="1"&&d.value!=="0","user-message-gender-lady":d.value==="0","user-message-gender-man":d.value==="1","user-message-gender":!0})},[d.value==="1"||d.value==="0"?(openBlock(),createBlock(b,{key:0,class:"gender-image",round:"",fit:"cover",src:o.value},null,8,["src"])):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(d.value==="1"?"\u7537":d.value==="0"?"\u5973":"\u672A\u77E5"),1)],2)):createCommentVNode("",!0)])])])])])}}}),index_vue_vue_type_style_index_0_scoped_b80fbaea_lang="",_export_sfc=(a,r)=>{const n=a.__vccOpts||a;for(const[o,s]of r)n[o]=s;return n},mian=_export_sfc(_sfc_main$3,[["__scopeId","data-v-b80fbaea"]]),index$4="",index$3="",index$2="",index$1="",_withScopeId=a=>(pushScopeId("data-v-8527c3ea"),a=a(),popScopeId(),a),_hoisted_1$1={class:"container"},_hoisted_2$1=_withScopeId(()=>createBaseVNode("div",{class:"data-label"}," \u6765\u81EA\u5F02\u6B65\u8BF7\u6C42\u7684\u6570\u636E ",-1)),_hoisted_3$1={class:"data-content"},_hoisted_4$1={key:0},_hoisted_5=createTextVNode("\u8BF7\u6C42"),_hoisted_6=createTextVNode("\u6E05\u7A7A"),_sfc_main$2=defineComponent({__name:"index",setup(a){const r=ref(""),n=()=>{queryProse().then(l=>{r.value=l.prose})},o=()=>r.value="",s=()=>history.back();return(l,u)=>{const c=NavBar,d=Empty,v=Button;return openBlock(),createElementBlock(Fragment,null,[createVNode$1(c,{title:"\u{1F4BF} mock \u6307\u5357",onClickLeft:s,"left-arrow":"",fixed:""}),createBaseVNode("div",_hoisted_1$1,[_hoisted_2$1,createBaseVNode("div",_hoisted_3$1,[r.value?(openBlock(),createElementBlock("div",_hoisted_4$1,toDisplayString(r.value),1)):(openBlock(),createBlock(d,{key:1,description:"\u6682\u65E0\u6570\u636E"}))]),createVNode$1(v,{round:"",block:"",type:"primary",onClick:n},{default:withCtx(()=>[_hoisted_5]),_:1}),createVNode$1(v,{round:"",block:"",type:"default",onClick:o},{default:withCtx(()=>[_hoisted_6]),_:1})])],64)}}}),index_vue_vue_type_style_index_0_scoped_8527c3ea_lang="",mock=_export_sfc(_sfc_main$2,[["__scopeId","data-v-8527c3ea"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(a,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},extendStatics(a,r)};function __extends(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(a,r);function n(){this.constructor=a}a.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Browser=function(){function a(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return a}(),Env=function(){function a(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return a}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(a,r){var n=r.browser,o=a.match(/Firefox\/([\d.]+)/),s=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),l=a.match(/Edge?\/([\d.]+)/),u=/micromessenger/i.test(a);o&&(n.firefox=!0,n.version=o[1]),s&&(n.ie=!0,n.version=s[1]),l&&(n.edge=!0,n.version=l[1],n.newEdge=+l[1].split(".")[0]>18),u&&(n.weChat=!0),r.svgSupported=typeof SVGRect<"u",r.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,r.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),r.domSupported=typeof document<"u";var c=document.documentElement.style;r.transform3dSupported=(n.ie&&"transition"in c||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in c)&&!("OTransition"in c),r.transformSupported=r.transform3dSupported||n.ie&&+n.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(a){var r={};if(typeof JSON>"u")return r;for(var n=0;n<a.length;n++){var o=String.fromCharCode(n+32),s=(a.charCodeAt(n)-OFFSET)/SCALE;r[o]=s}return r}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var a,r;return function(n,o){if(!a){var s=platformApi.createCanvas();a=s&&s.getContext("2d")}if(a)return r!==o&&(r=a.font=o||DEFAULT_FONT),a.measureText(n);n=n||"",o=o||DEFAULT_FONT;var l=/^([0-9]*?)px$/.exec(o),u=+(l&&l[1])||DEFAULT_FONT_SIZE,c=0;if(o.indexOf("mono")>=0)c=u*n.length;else for(var d=0;d<n.length;d++){var v=DEFAULT_TEXT_WIDTH_MAP[n[d]];c+=v==null?u:v*u}return{width:c}}}(),loadImage:function(a,r,n){var o=new Image;return o.onload=r,o.onerror=n,o.src=a,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,r){return a["[object "+r+"]"]=!0,a},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,r){return a["[object "+r+"Array]"]=!0,a},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];typeof console<"u"&&console.error.apply(console,a)}function clone$4(a){if(a==null||typeof a!="object")return a;var r=a,n=objToString.call(a);if(n==="[object Array]"){if(!isPrimitive(a)){r=[];for(var o=0,s=a.length;o<s;o++)r[o]=clone$4(a[o])}}else if(TYPED_ARRAY[n]){if(!isPrimitive(a)){var l=a.constructor;if(l.from)r=l.from(a);else{r=new l(a.length);for(var o=0,s=a.length;o<s;o++)r[o]=a[o]}}}else if(!BUILTIN_OBJECT[n]&&!isPrimitive(a)&&!isDom(a)){r={};for(var u in a)a.hasOwnProperty(u)&&u!==protoKey&&(r[u]=clone$4(a[u]))}return r}function merge$1(a,r,n){if(!isObject$5(r)||!isObject$5(a))return n?clone$4(r):a;for(var o in r)if(r.hasOwnProperty(o)&&o!==protoKey){var s=a[o],l=r[o];isObject$5(l)&&isObject$5(s)&&!isArray$1(l)&&!isArray$1(s)&&!isDom(l)&&!isDom(s)&&!isBuiltInObject(l)&&!isBuiltInObject(s)&&!isPrimitive(l)&&!isPrimitive(s)?merge$1(s,l,n):(n||!(o in a))&&(a[o]=clone$4(r[o]))}return a}function mergeAll(a,r){for(var n=a[0],o=1,s=a.length;o<s;o++)n=merge$1(n,a[o],r);return n}function extend(a,r){if(Object.assign)Object.assign(a,r);else for(var n in r)r.hasOwnProperty(n)&&n!==protoKey&&(a[n]=r[n]);return a}function defaults(a,r,n){for(var o=keys(r),s=0;s<o.length;s++){var l=o[s];(n?r[l]!=null:a[l]==null)&&(a[l]=r[l])}return a}platformApi.createCanvas;function indexOf(a,r){if(a){if(a.indexOf)return a.indexOf(r);for(var n=0,o=a.length;n<o;n++)if(a[n]===r)return n}return-1}function inherits(a,r){var n=a.prototype;function o(){}o.prototype=r.prototype,a.prototype=new o;for(var s in n)n.hasOwnProperty(s)&&(a.prototype[s]=n[s]);a.prototype.constructor=a,a.superClass=r}function mixin(a,r,n){if(a="prototype"in a?a.prototype:a,r="prototype"in r?r.prototype:r,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(r),s=0;s<o.length;s++){var l=o[s];l!=="constructor"&&(n?r[l]!=null:a[l]==null)&&(a[l]=r[l])}else defaults(a,r,n)}function isArrayLike(a){return!a||typeof a=="string"?!1:typeof a.length=="number"}function each$f(a,r,n){if(!!(a&&r))if(a.forEach&&a.forEach===nativeForEach)a.forEach(r,n);else if(a.length===+a.length)for(var o=0,s=a.length;o<s;o++)r.call(n,a[o],o,a);else for(var l in a)a.hasOwnProperty(l)&&r.call(n,a[l],l,a)}function map$1(a,r,n){if(!a)return[];if(!r)return slice(a);if(a.map&&a.map===nativeMap)return a.map(r,n);for(var o=[],s=0,l=a.length;s<l;s++)o.push(r.call(n,a[s],s,a));return o}function reduce(a,r,n,o){if(!!(a&&r)){for(var s=0,l=a.length;s<l;s++)n=r.call(o,n,a[s],s,a);return n}}function filter(a,r,n){if(!a)return[];if(!r)return slice(a);if(a.filter&&a.filter===nativeFilter)return a.filter(r,n);for(var o=[],s=0,l=a.length;s<l;s++)r.call(n,a[s],s,a)&&o.push(a[s]);return o}function find(a,r,n){if(!!(a&&r)){for(var o=0,s=a.length;o<s;o++)if(r.call(n,a[o],o,a))return a[o]}}function keys(a){if(!a)return[];if(Object.keys)return Object.keys(a);var r=[];for(var n in a)a.hasOwnProperty(n)&&r.push(n);return r}function bindPolyfill(a,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return function(){return a.apply(r,n.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(a){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return function(){return a.apply(this,r.concat(nativeSlice.call(arguments)))}}function isArray$1(a){return Array.isArray?Array.isArray(a):objToString.call(a)==="[object Array]"}function isFunction(a){return typeof a=="function"}function isString(a){return typeof a=="string"}function isStringSafe(a){return objToString.call(a)==="[object String]"}function isNumber(a){return typeof a=="number"}function isObject$5(a){var r=typeof a;return r==="function"||!!a&&r==="object"}function isBuiltInObject(a){return!!BUILTIN_OBJECT[objToString.call(a)]}function isTypedArray(a){return!!TYPED_ARRAY[objToString.call(a)]}function isDom(a){return typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.ownerDocument=="object"}function isGradientObject(a){return a.colorStops!=null}function isImagePatternObject(a){return a.image!=null}function isRegExp(a){return objToString.call(a)==="[object RegExp]"}function eqNaN(a){return a!==a}function retrieve(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];for(var n=0,o=a.length;n<o;n++)if(a[n]!=null)return a[n]}function retrieve2(a,r){return a!=null?a:r}function retrieve3(a,r,n){return a!=null?a:r!=null?r:n}function slice(a){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return nativeSlice.apply(a,r)}function normalizeCssArray$1(a){if(typeof a=="number")return[a,a,a,a];var r=a.length;return r===2?[a[0],a[1],a[0],a[1]]:r===3?[a[0],a[1],a[2],a[1]]:a}function assert(a,r){if(!a)throw new Error(r)}function trim$1(a){return a==null?null:typeof a.trim=="function"?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(a){a[primitiveKey]=!0}function isPrimitive(a){return a[primitiveKey]}var HashMap=function(){function a(r){this.data={};var n=isArray$1(r);this.data={};var o=this;r instanceof a?r.each(s):r&&each$f(r,s);function s(l,u){n?o.set(l,u):o.set(u,l)}}return a.prototype.get=function(r){return this.data.hasOwnProperty(r)?this.data[r]:null},a.prototype.set=function(r,n){return this.data[r]=n},a.prototype.each=function(r,n){for(var o in this.data)this.data.hasOwnProperty(o)&&r.call(n,this.data[o],o)},a.prototype.keys=function(){return keys(this.data)},a.prototype.removeKey=function(r){delete this.data[r]},a}();function createHashMap(a){return new HashMap(a)}function concatArray(a,r){for(var n=new a.constructor(a.length+r.length),o=0;o<a.length;o++)n[o]=a[o];for(var s=a.length,o=0;o<r.length;o++)n[o+s]=r[o];return n}function createObject(a,r){var n;if(Object.create)n=Object.create(a);else{var o=function(){};o.prototype=a,n=new o}return r&&extend(n,r),n}function disableUserSelect(a){var r=a.style;r.webkitUserSelect="none",r.userSelect="none",r.webkitTapHighlightColor="rgba(0,0,0,0)",r["-webkit-touch-callout"]="none"}function hasOwn(a,r){return a.hasOwnProperty(r)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(a,r){return a==null&&(a=0),r==null&&(r=0),[a,r]}function copy$1(a,r){return a[0]=r[0],a[1]=r[1],a}function clone$3(a){return[a[0],a[1]]}function set$2(a,r,n){return a[0]=r,a[1]=n,a}function add(a,r,n){return a[0]=r[0]+n[0],a[1]=r[1]+n[1],a}function scaleAndAdd$1(a,r,n,o){return a[0]=r[0]+n[0]*o,a[1]=r[1]+n[1]*o,a}function sub(a,r,n){return a[0]=r[0]-n[0],a[1]=r[1]-n[1],a}function len(a){return Math.sqrt(lenSquare(a))}function lenSquare(a){return a[0]*a[0]+a[1]*a[1]}function scale$2(a,r,n){return a[0]=r[0]*n,a[1]=r[1]*n,a}function normalize$3(a,r){var n=len(r);return n===0?(a[0]=0,a[1]=0):(a[0]=r[0]/n,a[1]=r[1]/n),a}function distance(a,r){return Math.sqrt((a[0]-r[0])*(a[0]-r[0])+(a[1]-r[1])*(a[1]-r[1]))}var dist$1=distance;function distanceSquare(a,r){return(a[0]-r[0])*(a[0]-r[0])+(a[1]-r[1])*(a[1]-r[1])}var distSquare=distanceSquare;function lerp$1(a,r,n,o){return a[0]=r[0]+o*(n[0]-r[0]),a[1]=r[1]+o*(n[1]-r[1]),a}function applyTransform$1(a,r,n){var o=r[0],s=r[1];return a[0]=n[0]*o+n[2]*s+n[4],a[1]=n[1]*o+n[3]*s+n[5],a}function min$1(a,r,n){return a[0]=Math.min(r[0],n[0]),a[1]=Math.min(r[1],n[1]),a}function max$1(a,r,n){return a[0]=Math.max(r[0],n[0]),a[1]=Math.max(r[1],n[1]),a}var Param=function(){function a(r,n){this.target=r,this.topTarget=n&&n.topTarget}return a}(),Draggable=function(){function a(r){this.handler=r,r.on("mousedown",this._dragStart,this),r.on("mousemove",this._drag,this),r.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(r){for(var n=r.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=r.offsetX,this._y=r.offsetY,this.handler.dispatchToElement(new Param(n,r),"dragstart",r.event))},a.prototype._drag=function(r){var n=this._draggingTarget;if(n){var o=r.offsetX,s=r.offsetY,l=o-this._x,u=s-this._y;this._x=o,this._y=s,n.drift(l,u,r),this.handler.dispatchToElement(new Param(n,r),"drag",r.event);var c=this.handler.findHover(o,s,n).target,d=this._dropTarget;this._dropTarget=c,n!==c&&(d&&c!==d&&this.handler.dispatchToElement(new Param(d,r),"dragleave",r.event),c&&c!==d&&this.handler.dispatchToElement(new Param(c,r),"dragenter",r.event))}},a.prototype._dragEnd=function(r){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,r),"dragend",r.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,r),"drop",r.event),this._draggingTarget=null,this._dropTarget=null},a}();const Draggable$1=Draggable;var Eventful=function(){function a(r){r&&(this._$eventProcessor=r)}return a.prototype.on=function(r,n,o,s){this._$handlers||(this._$handlers={});var l=this._$handlers;if(typeof n=="function"&&(s=o,o=n,n=null),!o||!r)return this;var u=this._$eventProcessor;n!=null&&u&&u.normalizeQuery&&(n=u.normalizeQuery(n)),l[r]||(l[r]=[]);for(var c=0;c<l[r].length;c++)if(l[r][c].h===o)return this;var d={h:o,query:n,ctx:s||this,callAtLast:o.zrEventfulCallAtLast},v=l[r].length-1,g=l[r][v];return g&&g.callAtLast?l[r].splice(v,0,d):l[r].push(d),this},a.prototype.isSilent=function(r){var n=this._$handlers;return!n||!n[r]||!n[r].length},a.prototype.off=function(r,n){var o=this._$handlers;if(!o)return this;if(!r)return this._$handlers={},this;if(n){if(o[r]){for(var s=[],l=0,u=o[r].length;l<u;l++)o[r][l].h!==n&&s.push(o[r][l]);o[r]=s}o[r]&&o[r].length===0&&delete o[r]}else delete o[r];return this},a.prototype.trigger=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[r],l=this._$eventProcessor;if(s)for(var u=n.length,c=s.length,d=0;d<c;d++){var v=s[d];if(!(l&&l.filter&&v.query!=null&&!l.filter(r,v.query)))switch(u){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,n[0]);break;case 2:v.h.call(v.ctx,n[0],n[1]);break;default:v.h.apply(v.ctx,n);break}}return l&&l.afterTrigger&&l.afterTrigger(r),this},a.prototype.triggerWithContext=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[r],l=this._$eventProcessor;if(s)for(var u=n.length,c=n[u-1],d=s.length,v=0;v<d;v++){var g=s[v];if(!(l&&l.filter&&g.query!=null&&!l.filter(r,g.query)))switch(u){case 0:g.h.call(c);break;case 1:g.h.call(c,n[0]);break;case 2:g.h.call(c,n[0],n[1]);break;default:g.h.apply(c,n.slice(1,u-1));break}}return l&&l.afterTrigger&&l.afterTrigger(r),this},a}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(a,r,n,o,s,l){var u=o+"-"+s,c=a.length;if(l.hasOwnProperty(u))return l[u];if(r===1){var d=Math.round(Math.log((1<<c)-1&~s)/LN2);return a[n][d]}for(var v=o|1<<n,g=n+1;o&1<<g;)g++;for(var y=0,_=0,S=0;_<c;_++){var x=1<<_;x&s||(y+=(S%2?-1:1)*a[n][_]*determinant(a,r-1,g,v,s|x,l),S++)}return l[u]=y,y}function buildTransformer(a,r){var n=[[a[0],a[1],1,0,0,0,-r[0]*a[0],-r[0]*a[1]],[0,0,0,a[0],a[1],1,-r[1]*a[0],-r[1]*a[1]],[a[2],a[3],1,0,0,0,-r[2]*a[2],-r[2]*a[3]],[0,0,0,a[2],a[3],1,-r[3]*a[2],-r[3]*a[3]],[a[4],a[5],1,0,0,0,-r[4]*a[4],-r[4]*a[5]],[0,0,0,a[4],a[5],1,-r[5]*a[4],-r[5]*a[5]],[a[6],a[7],1,0,0,0,-r[6]*a[6],-r[6]*a[7]],[0,0,0,a[6],a[7],1,-r[7]*a[6],-r[7]*a[7]]],o={},s=determinant(n,8,0,0,0,o);if(s!==0){for(var l=[],u=0;u<8;u++)for(var c=0;c<8;c++)l[c]==null&&(l[c]=0),l[c]+=((u+c)%2?-1:1)*determinant(n,7,u===0?1:0,1<<u,1<<c,o)/s*r[u];return function(d,v,g){var y=v*l[6]+g*l[7]+1;d[0]=(v*l[0]+g*l[1]+l[2])/y,d[1]=(v*l[3]+g*l[4]+l[5])/y}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(a,r,n,o,s){return transformCoordWithViewport(_calcOut$1,r,o,s,!0)&&transformCoordWithViewport(a,n,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(a,r,n,o,s){if(r.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(r)){var l=r[EVENT_SAVED_PROP]||(r[EVENT_SAVED_PROP]={}),u=prepareCoordMarkers(r,l),c=preparePointerTransformer(u,l,s);if(c)return c(a,n,o),!0}return!1}function prepareCoordMarkers(a,r){var n=r.markers;if(n)return n;n=r.markers=[];for(var o=["left","right"],s=["top","bottom"],l=0;l<4;l++){var u=document.createElement("div"),c=u.style,d=l%2,v=(l>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",s[v]+":0",o[1-d]+":auto",s[1-v]+":auto",""].join("!important;"),a.appendChild(u),n.push(u)}return n}function preparePointerTransformer(a,r,n){for(var o=n?"invTrans":"trans",s=r[o],l=r.srcCoords,u=[],c=[],d=!0,v=0;v<4;v++){var g=a[v].getBoundingClientRect(),y=2*v,_=g.left,S=g.top;u.push(_,S),d=d&&l&&_===l[y]&&S===l[y+1],c.push(a[v].offsetLeft,a[v].offsetTop)}return d&&s?s:(r.srcCoords=u,r[o]=n?buildTransformer(c,u):buildTransformer(u,c))}function isCanvasEl(a){return a.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(a){return a==null?"":(a+"").replace(replaceReg,function(r,n){return replaceMap[n]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(a,r,n,o){return n=n||{},o?calculateZrXY(a,r,n):firefoxNotSupportOffsetXY&&r.layerX!=null&&r.layerX!==r.offsetX?(n.zrX=r.layerX,n.zrY=r.layerY):r.offsetX!=null?(n.zrX=r.offsetX,n.zrY=r.offsetY):calculateZrXY(a,r,n),n}function calculateZrXY(a,r,n){if(env$1.domSupported&&a.getBoundingClientRect){var o=r.clientX,s=r.clientY;if(isCanvasEl(a)){var l=a.getBoundingClientRect();n.zrX=o-l.left,n.zrY=s-l.top;return}else if(transformCoordWithViewport(_calcOut,a,o,s)){n.zrX=_calcOut[0],n.zrY=_calcOut[1];return}}n.zrX=n.zrY=0}function getNativeEvent(a){return a||window.event}function normalizeEvent(a,r,n){if(r=getNativeEvent(r),r.zrX!=null)return r;var o=r.type,s=o&&o.indexOf("touch")>=0;if(s){var u=o!=="touchend"?r.targetTouches[0]:r.changedTouches[0];u&&clientToLocal(a,u,r,n)}else{clientToLocal(a,r,r,n);var l=getWheelDeltaMayPolyfill(r);r.zrDelta=l?l/120:-(r.detail||0)/3}var c=r.button;return r.which==null&&c!==void 0&&MOUSE_EVENT_REG.test(r.type)&&(r.which=c&1?1:c&2?3:c&4?2:0),r}function getWheelDeltaMayPolyfill(a){var r=a.wheelDelta;if(r)return r;var n=a.deltaX,o=a.deltaY;if(n==null||o==null)return r;var s=Math.abs(o!==0?o:n),l=o>0?-1:o<0?1:n>0?-1:1;return 3*s*l}function addEventListener(a,r,n,o){a.addEventListener(r,n,o)}function removeEventListener(a,r,n,o){a.removeEventListener(r,n,o)}var stop=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(a){return a.which===2||a.which===3}var GestureMgr=function(){function a(){this._track=[]}return a.prototype.recognize=function(r,n,o){return this._doTrack(r,n,o),this._recognize(r)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(r,n,o){var s=r.touches;if(!!s){for(var l={points:[],touches:[],target:n,event:r},u=0,c=s.length;u<c;u++){var d=s[u],v=clientToLocal(o,d,{});l.points.push([v.zrX,v.zrY]),l.touches.push(d)}this._track.push(l)}},a.prototype._recognize=function(r){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var o=recognizers[n](this._track,r);if(o)return o}},a}();function dist(a){var r=a[1][0]-a[0][0],n=a[1][1]-a[0][1];return Math.sqrt(r*r+n*n)}function center$1(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var recognizers={pinch:function(a,r){var n=a.length;if(!!n){var o=(a[n-1]||{}).points,s=(a[n-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var l=dist(o)/dist(s);!isFinite(l)&&(l=1),r.pinchScale=l;var u=center$1(o);return r.pinchX=u[0],r.pinchY=u[1],{type:"pinch",target:a[0].target,event:r}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function copy(a,r){return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a}function mul(a,r,n){var o=r[0]*n[0]+r[2]*n[1],s=r[1]*n[0]+r[3]*n[1],l=r[0]*n[2]+r[2]*n[3],u=r[1]*n[2]+r[3]*n[3],c=r[0]*n[4]+r[2]*n[5]+r[4],d=r[1]*n[4]+r[3]*n[5]+r[5];return a[0]=o,a[1]=s,a[2]=l,a[3]=u,a[4]=c,a[5]=d,a}function translate(a,r,n){return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4]+n[0],a[5]=r[5]+n[1],a}function rotate(a,r,n){var o=r[0],s=r[2],l=r[4],u=r[1],c=r[3],d=r[5],v=Math.sin(n),g=Math.cos(n);return a[0]=o*g+u*v,a[1]=-o*v+u*g,a[2]=s*g+c*v,a[3]=-s*v+g*c,a[4]=g*l+v*d,a[5]=g*d-v*l,a}function scale$1(a,r,n){var o=n[0],s=n[1];return a[0]=r[0]*o,a[1]=r[1]*s,a[2]=r[2]*o,a[3]=r[3]*s,a[4]=r[4]*o,a[5]=r[5]*s,a}function invert(a,r){var n=r[0],o=r[2],s=r[4],l=r[1],u=r[3],c=r[5],d=n*u-l*o;return d?(d=1/d,a[0]=u*d,a[1]=-l*d,a[2]=-o*d,a[3]=n*d,a[4]=(o*c-u*s)*d,a[5]=(l*s-n*c)*d,a):null}function clone$2(a){var r=create$1();return copy(r,a),r}var Point=function(){function a(r,n){this.x=r||0,this.y=n||0}return a.prototype.copy=function(r){return this.x=r.x,this.y=r.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(r,n){return this.x=r,this.y=n,this},a.prototype.equal=function(r){return r.x===this.x&&r.y===this.y},a.prototype.add=function(r){return this.x+=r.x,this.y+=r.y,this},a.prototype.scale=function(r){this.x*=r,this.y*=r},a.prototype.scaleAndAdd=function(r,n){this.x+=r.x*n,this.y+=r.y*n},a.prototype.sub=function(r){return this.x-=r.x,this.y-=r.y,this},a.prototype.dot=function(r){return this.x*r.x+this.y*r.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var r=this.len();return this.x/=r,this.y/=r,this},a.prototype.distance=function(r){var n=this.x-r.x,o=this.y-r.y;return Math.sqrt(n*n+o*o)},a.prototype.distanceSquare=function(r){var n=this.x-r.x,o=this.y-r.y;return n*n+o*o},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(r){if(!!r){var n=this.x,o=this.y;return this.x=r[0]*n+r[2]*o+r[4],this.y=r[1]*n+r[3]*o+r[5],this}},a.prototype.toArray=function(r){return r[0]=this.x,r[1]=this.y,r},a.prototype.fromArray=function(r){this.x=r[0],this.y=r[1]},a.set=function(r,n,o){r.x=n,r.y=o},a.copy=function(r,n){r.x=n.x,r.y=n.y},a.len=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},a.lenSquare=function(r){return r.x*r.x+r.y*r.y},a.dot=function(r,n){return r.x*n.x+r.y*n.y},a.add=function(r,n,o){r.x=n.x+o.x,r.y=n.y+o.y},a.sub=function(r,n,o){r.x=n.x-o.x,r.y=n.y-o.y},a.scale=function(r,n,o){r.x=n.x*o,r.y=n.y*o},a.scaleAndAdd=function(r,n,o,s){r.x=n.x+o.x*s,r.y=n.y+o.y*s},a.lerp=function(r,n,o,s){var l=1-s;r.x=l*n.x+s*o.x,r.y=l*n.y+s*o.y},a}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function a(r,n,o,s){o<0&&(r=r+o,o=-o),s<0&&(n=n+s,s=-s),this.x=r,this.y=n,this.width=o,this.height=s}return a.prototype.union=function(r){var n=mathMin$a(r.x,this.x),o=mathMin$a(r.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(r.x+r.width,this.x+this.width)-n:this.width=r.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(r.y+r.height,this.y+this.height)-o:this.height=r.height,this.x=n,this.y=o},a.prototype.applyTransform=function(r){a.applyTransform(this,this,r)},a.prototype.calculateTransform=function(r){var n=this,o=r.width/n.width,s=r.height/n.height,l=create$1();return translate(l,l,[-n.x,-n.y]),scale$1(l,l,[o,s]),translate(l,l,[r.x,r.y]),l},a.prototype.intersect=function(r,n){if(!r)return!1;r instanceof a||(r=a.create(r));var o=this,s=o.x,l=o.x+o.width,u=o.y,c=o.y+o.height,d=r.x,v=r.x+r.width,g=r.y,y=r.y+r.height,_=!(l<d||v<s||c<g||y<u);if(n){var S=1/0,x=0,T=Math.abs(l-d),b=Math.abs(v-s),A=Math.abs(c-g),w=Math.abs(y-u),$=Math.min(T,b),C=Math.min(A,w);l<d||v<s?$>x&&(x=$,T<b?Point$1.set(maxTv$1,-T,0):Point$1.set(maxTv$1,b,0)):$<S&&(S=$,T<b?Point$1.set(minTv$1,T,0):Point$1.set(minTv$1,-b,0)),c<g||y<u?C>x&&(x=C,A<w?Point$1.set(maxTv$1,0,-A):Point$1.set(maxTv$1,0,w)):$<S&&(S=$,A<w?Point$1.set(minTv$1,0,A):Point$1.set(minTv$1,0,-w))}return n&&Point$1.copy(n,_?minTv$1:maxTv$1),_},a.prototype.contain=function(r,n){var o=this;return r>=o.x&&r<=o.x+o.width&&n>=o.y&&n<=o.y+o.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(r){a.copy(this,r)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return this.width===0||this.height===0},a.create=function(r){return new a(r.x,r.y,r.width,r.height)},a.copy=function(r,n){r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height},a.applyTransform=function(r,n,o){if(!o){r!==n&&a.copy(r,n);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var s=o[0],l=o[3],u=o[4],c=o[5];r.x=n.x*s+u,r.y=n.y*l+c,r.width=n.width*s,r.height=n.height*l,r.width<0&&(r.x+=r.width,r.width=-r.width),r.height<0&&(r.y+=r.height,r.height=-r.height);return}lt.x=lb.x=n.x,lt.y=rt.y=n.y,rb.x=rt.x=n.x+n.width,rb.y=lb.y=n.y+n.height,lt.transform(o),rt.transform(o),rb.transform(o),lb.transform(o),r.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),r.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var d=mathMax$a(lt.x,rb.x,lb.x,rt.x),v=mathMax$a(lt.y,rb.y,lb.y,rt.y);r.width=d-r.x,r.height=v-r.y},a}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(a,r,n){return{type:a,event:n,target:r.target,topTarget:r.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.handler=null,n}return r.prototype.dispose=function(){},r.prototype.setCursor=function(){},r}(Eventful$1),HoveredResult=function(){function a(r,n){this.x=r,this.y=n}return a}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(a){__extends(r,a);function r(n,o,s,l,u){var c=a.call(this)||this;return c._hovered=new HoveredResult(0,0),c.storage=n,c.painter=o,c.painterRoot=l,c._pointerSize=u,s=s||new EmptyProxy,c.proxy=null,c.setHandlerProxy(s),c._draggingMgr=new Draggable$1(c),c}return r.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(each$f(handlerNames,function(o){n.on&&n.on(o,this[o],this)},this),n.handler=this),this.proxy=n},r.prototype.mousemove=function(n){var o=n.zrX,s=n.zrY,l=isOutsideBoundary(this,o,s),u=this._hovered,c=u.target;c&&!c.__zr&&(u=this.findHover(u.x,u.y),c=u.target);var d=this._hovered=l?new HoveredResult(o,s):this.findHover(o,s),v=d.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),c&&v!==c&&this.dispatchToElement(u,"mouseout",n),this.dispatchToElement(d,"mousemove",n),v&&v!==c&&this.dispatchToElement(d,"mouseover",n)},r.prototype.mouseout=function(n){var o=n.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},r.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},r.prototype.dispatch=function(n,o){var s=this[n];s&&s.call(this,o)},r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},r.prototype.setCursorStyle=function(n){var o=this.proxy;o.setCursor&&o.setCursor(n)},r.prototype.dispatchToElement=function(n,o,s){n=n||{};var l=n.target;if(!(l&&l.silent)){for(var u="on"+o,c=makeEventPacket(o,n,s);l&&(l[u]&&(c.cancelBubble=!!l[u].call(l,c)),l.trigger(o,c),l=l.__hostTarget?l.__hostTarget:l.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(o,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[u]=="function"&&d[u].call(d,c),d.trigger&&d.trigger(o,c)}))}},r.prototype.findHover=function(n,o,s){var l=this.storage.getDisplayList(),u=new HoveredResult(n,o);if(setHoverTarget(l,u,n,o,s),this._pointerSize&&!u.target){for(var c=[],d=this._pointerSize,v=d/2,g=new BoundingRect$1(n-v,o-v,d,d),y=l.length-1;y>=0;y--){var _=l[y];_!==s&&!_.ignore&&!_.ignoreCoarsePointer&&(!_.parent||!_.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(_.getBoundingRect()),_.transform&&tmpRect$1.applyTransform(_.transform),tmpRect$1.intersect(g)&&c.push(_))}if(c.length)for(var S=4,x=Math.PI/12,T=Math.PI*2,b=0;b<v;b+=S)for(var A=0;A<T;A+=x){var w=n+b*Math.cos(A),$=o+b*Math.sin(A);if(setHoverTarget(c,u,w,$,s),u.target)return u}}return u},r.prototype.processGesture=function(n,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var s=this._gestureMgr;o==="start"&&s.clear();var l=s.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(o==="end"&&s.clear(),l){var u=l.type;n.gestureEvent=u;var c=new HoveredResult;c.target=l.target,this.dispatchToElement(c,u,l.event)}},r}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){Handler.prototype[a]=function(r){var n=r.zrX,o=r.zrY,s=isOutsideBoundary(this,n,o),l,u;if((a!=="mouseup"||!s)&&(l=this.findHover(n,o),u=l.target),a==="mousedown")this._downEl=u,this._downPoint=[r.zrX,r.zrY],this._upEl=u;else if(a==="mouseup")this._upEl=u;else if(a==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(l,a,r)}});function isHover(a,r,n){if(a[a.rectHover?"rectContain":"contain"](r,n)){for(var o=a,s=void 0,l=!1;o;){if(o.ignoreClip&&(l=!0),!l){var u=o.getClipPath();if(u&&!u.contain(r,n))return!1;o.silent&&(s=!0)}var c=o.__hostTarget;o=c||o.parent}return s?SILENT:!0}return!1}function setHoverTarget(a,r,n,o,s){for(var l=a.length-1;l>=0;l--){var u=a[l],c=void 0;if(u!==s&&!u.ignore&&(c=isHover(u,n,o))&&(!r.topTarget&&(r.topTarget=u),c!==SILENT)){r.target=u;break}}}function isOutsideBoundary(a,r,n){var o=a.painter;return r<0||r>o.getWidth()||n<0||n>o.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(a){for(var r=0;a>=DEFAULT_MIN_MERGE;)r|=a&1,a>>=1;return a+r}function makeAscendingRun(a,r,n,o){var s=r+1;if(s===n)return 1;if(o(a[s++],a[r])<0){for(;s<n&&o(a[s],a[s-1])<0;)s++;reverseRun(a,r,s)}else for(;s<n&&o(a[s],a[s-1])>=0;)s++;return s-r}function reverseRun(a,r,n){for(n--;r<n;){var o=a[r];a[r++]=a[n],a[n--]=o}}function binaryInsertionSort(a,r,n,o,s){for(o===r&&o++;o<n;o++){for(var l=a[o],u=r,c=o,d;u<c;)d=u+c>>>1,s(l,a[d])<0?c=d:u=d+1;var v=o-u;switch(v){case 3:a[u+3]=a[u+2];case 2:a[u+2]=a[u+1];case 1:a[u+1]=a[u];break;default:for(;v>0;)a[u+v]=a[u+v-1],v--}a[u]=l}}function gallopLeft(a,r,n,o,s,l){var u=0,c=0,d=1;if(l(a,r[n+s])>0){for(c=o-s;d<c&&l(a,r[n+s+d])>0;)u=d,d=(d<<1)+1,d<=0&&(d=c);d>c&&(d=c),u+=s,d+=s}else{for(c=s+1;d<c&&l(a,r[n+s-d])<=0;)u=d,d=(d<<1)+1,d<=0&&(d=c);d>c&&(d=c);var v=u;u=s-d,d=s-v}for(u++;u<d;){var g=u+(d-u>>>1);l(a,r[n+g])>0?u=g+1:d=g}return d}function gallopRight(a,r,n,o,s,l){var u=0,c=0,d=1;if(l(a,r[n+s])<0){for(c=s+1;d<c&&l(a,r[n+s-d])<0;)u=d,d=(d<<1)+1,d<=0&&(d=c);d>c&&(d=c);var v=u;u=s-d,d=s-v}else{for(c=o-s;d<c&&l(a,r[n+s+d])>=0;)u=d,d=(d<<1)+1,d<=0&&(d=c);d>c&&(d=c),u+=s,d+=s}for(u++;u<d;){var g=u+(d-u>>>1);l(a,r[n+g])<0?d=g:u=g+1}return d}function TimSort(a,r){var n=DEFAULT_MIN_GALLOPING,o,s,l=0;a.length;var u=[];o=[],s=[];function c(S,x){o[l]=S,s[l]=x,l+=1}function d(){for(;l>1;){var S=l-2;if(S>=1&&s[S-1]<=s[S]+s[S+1]||S>=2&&s[S-2]<=s[S]+s[S-1])s[S-1]<s[S+1]&&S--;else if(s[S]>s[S+1])break;g(S)}}function v(){for(;l>1;){var S=l-2;S>0&&s[S-1]<s[S+1]&&S--,g(S)}}function g(S){var x=o[S],T=s[S],b=o[S+1],A=s[S+1];s[S]=T+A,S===l-3&&(o[S+1]=o[S+2],s[S+1]=s[S+2]),l--;var w=gallopRight(a[b],a,x,T,0,r);x+=w,T-=w,T!==0&&(A=gallopLeft(a[x+T-1],a,b,A,A-1,r),A!==0&&(T<=A?y(x,T,b,A):_(x,T,b,A)))}function y(S,x,T,b){var A=0;for(A=0;A<x;A++)u[A]=a[S+A];var w=0,$=T,C=S;if(a[C++]=a[$++],--b===0){for(A=0;A<x;A++)a[C+A]=u[w+A];return}if(x===1){for(A=0;A<b;A++)a[C+A]=a[$+A];a[C+b]=u[w];return}for(var P=n,M,E,D;;){M=0,E=0,D=!1;do if(r(a[$],u[w])<0){if(a[C++]=a[$++],E++,M=0,--b===0){D=!0;break}}else if(a[C++]=u[w++],M++,E=0,--x===1){D=!0;break}while((M|E)<P);if(D)break;do{if(M=gallopRight(a[$],u,w,x,0,r),M!==0){for(A=0;A<M;A++)a[C+A]=u[w+A];if(C+=M,w+=M,x-=M,x<=1){D=!0;break}}if(a[C++]=a[$++],--b===0){D=!0;break}if(E=gallopLeft(u[w],a,$,b,0,r),E!==0){for(A=0;A<E;A++)a[C+A]=a[$+A];if(C+=E,$+=E,b-=E,b===0){D=!0;break}}if(a[C++]=u[w++],--x===1){D=!0;break}P--}while(M>=DEFAULT_MIN_GALLOPING||E>=DEFAULT_MIN_GALLOPING);if(D)break;P<0&&(P=0),P+=2}if(n=P,n<1&&(n=1),x===1){for(A=0;A<b;A++)a[C+A]=a[$+A];a[C+b]=u[w]}else{if(x===0)throw new Error;for(A=0;A<x;A++)a[C+A]=u[w+A]}}function _(S,x,T,b){var A=0;for(A=0;A<b;A++)u[A]=a[T+A];var w=S+x-1,$=b-1,C=T+b-1,P=0,M=0;if(a[C--]=a[w--],--x===0){for(P=C-(b-1),A=0;A<b;A++)a[P+A]=u[A];return}if(b===1){for(C-=x,w-=x,M=C+1,P=w+1,A=x-1;A>=0;A--)a[M+A]=a[P+A];a[C]=u[$];return}for(var E=n;;){var D=0,I=0,R=!1;do if(r(u[$],a[w])<0){if(a[C--]=a[w--],D++,I=0,--x===0){R=!0;break}}else if(a[C--]=u[$--],I++,D=0,--b===1){R=!0;break}while((D|I)<E);if(R)break;do{if(D=x-gallopRight(u[$],a,S,x,x-1,r),D!==0){for(C-=D,w-=D,x-=D,M=C+1,P=w+1,A=D-1;A>=0;A--)a[M+A]=a[P+A];if(x===0){R=!0;break}}if(a[C--]=u[$--],--b===1){R=!0;break}if(I=b-gallopLeft(a[w],u,0,b,b-1,r),I!==0){for(C-=I,$-=I,b-=I,M=C+1,P=$+1,A=0;A<I;A++)a[M+A]=u[P+A];if(b<=1){R=!0;break}}if(a[C--]=a[w--],--x===0){R=!0;break}E--}while(D>=DEFAULT_MIN_GALLOPING||I>=DEFAULT_MIN_GALLOPING);if(R)break;E<0&&(E=0),E+=2}if(n=E,n<1&&(n=1),b===1){for(C-=x,w-=x,M=C+1,P=w+1,A=x-1;A>=0;A--)a[M+A]=a[P+A];a[C]=u[$]}else{if(b===0)throw new Error;for(P=C-(b-1),A=0;A<b;A++)a[P+A]=u[A]}}return{mergeRuns:d,forceMergeRuns:v,pushRun:c}}function sort$2(a,r,n,o){n||(n=0),o||(o=a.length);var s=o-n;if(!(s<2)){var l=0;if(s<DEFAULT_MIN_MERGE){l=makeAscendingRun(a,n,o,r),binaryInsertionSort(a,n,o,n+l,r);return}var u=TimSort(a,r),c=minRunLength(s);do{if(l=makeAscendingRun(a,n,o,r),l<c){var d=s;d>c&&(d=c),binaryInsertionSort(a,n,n+d,n+l,r),l=d}u.pushRun(n,l),u.mergeRuns(),s-=l,n+=l}while(s!==0);u.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(a,r){return a.zlevel===r.zlevel?a.z===r.z?a.z2-r.z2:a.z-r.z:a.zlevel-r.zlevel}var Storage=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return a.prototype.traverse=function(r,n){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(r,n)},a.prototype.getDisplayList=function(r,n){n=n||!1;var o=this._displayList;return(r||!o.length)&&this.updateDisplayList(n),o},a.prototype.updateDisplayList=function(r){this._displayListLen=0;for(var n=this._roots,o=this._displayList,s=0,l=n.length;s<l;s++)this._updateAndAddDisplayable(n[s],null,r);o.length=this._displayListLen,sort$2(o,shapeCompareFunc)},a.prototype._updateAndAddDisplayable=function(r,n,o){if(!(r.ignore&&!o)){r.beforeUpdate(),r.update(),r.afterUpdate();var s=r.getClipPath();if(r.ignoreClip)n=null;else if(s){n?n=n.slice():n=[];for(var l=s,u=r;l;)l.parent=u,l.updateTransform(),n.push(l),u=l,l=l.getClipPath()}if(r.childrenRef){for(var c=r.childrenRef(),d=0;d<c.length;d++){var v=c[d];r.__dirty&&(v.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(v,n,o)}r.__dirty=0}else{var g=r;n&&n.length?g.__clipPaths=n:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(logInvalidZError(),g.z=0),isNaN(g.z2)&&(logInvalidZError(),g.z2=0),isNaN(g.zlevel)&&(logInvalidZError(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=r.getDecalElement&&r.getDecalElement();y&&this._updateAndAddDisplayable(y,n,o);var _=r.getTextGuideLine();_&&this._updateAndAddDisplayable(_,n,o);var S=r.getTextContent();S&&this._updateAndAddDisplayable(S,n,o)}},a.prototype.addRoot=function(r){r.__zr&&r.__zr.storage===this||this._roots.push(r)},a.prototype.delRoot=function(r){if(r instanceof Array){for(var n=0,o=r.length;n<o;n++)this.delRoot(r[n]);return}var s=indexOf(this._roots,r);s>=0&&this._roots.splice(s,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}();const Storage$1=Storage;var requestAnimationFrame$2;requestAnimationFrame$2=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};const requestAnimationFrame$3=requestAnimationFrame$2;var easingFuncs={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return a===0?0:Math.pow(1024,a-1)},exponentialOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var r,n=.1,o=.4;return a===0?0:a===1?1:(!n||n<1?(n=1,r=o/4):r=o*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(a-=1))*Math.sin((a-r)*(2*Math.PI)/o)))},elasticOut:function(a){var r,n=.1,o=.4;return a===0?0:a===1?1:(!n||n<1?(n=1,r=o/4):r=o*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*a)*Math.sin((a-r)*(2*Math.PI)/o)+1)},elasticInOut:function(a){var r,n=.1,o=.4;return a===0?0:a===1?1:(!n||n<1?(n=1,r=o/4):r=o*Math.asin(1/n)/(2*Math.PI),(a*=2)<1?-.5*(n*Math.pow(2,10*(a-=1))*Math.sin((a-r)*(2*Math.PI)/o)):n*Math.pow(2,-10*(a-=1))*Math.sin((a-r)*(2*Math.PI)/o)*.5+1)},backIn:function(a){var r=1.70158;return a*a*((r+1)*a-r)},backOut:function(a){var r=1.70158;return--a*a*((r+1)*a+r)+1},backInOut:function(a){var r=2.5949095;return(a*=2)<1?.5*(a*a*((r+1)*a-r)):.5*((a-=2)*a*((r+1)*a+r)+2)},bounceIn:function(a){return 1-easingFuncs.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?easingFuncs.bounceIn(a*2)*.5:easingFuncs.bounceOut(a*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(a){return a>-EPSILON$4&&a<EPSILON$4}function isNotAroundZero$1(a){return a>EPSILON$4||a<-EPSILON$4}function cubicAt(a,r,n,o,s){var l=1-s;return l*l*(l*a+3*s*r)+s*s*(s*o+3*l*n)}function cubicDerivativeAt(a,r,n,o,s){var l=1-s;return 3*(((r-a)*l+2*(n-r)*s)*l+(o-n)*s*s)}function cubicRootAt(a,r,n,o,s,l){var u=o+3*(r-n)-a,c=3*(n-r*2+a),d=3*(r-a),v=a-s,g=c*c-3*u*d,y=c*d-9*u*v,_=d*d-3*c*v,S=0;if(isAroundZero$1(g)&&isAroundZero$1(y))if(isAroundZero$1(c))l[0]=0;else{var x=-d/c;x>=0&&x<=1&&(l[S++]=x)}else{var T=y*y-4*g*_;if(isAroundZero$1(T)){var b=y/g,x=-c/u+b,A=-b/2;x>=0&&x<=1&&(l[S++]=x),A>=0&&A<=1&&(l[S++]=A)}else if(T>0){var w=mathSqrt$3(T),$=g*c+1.5*u*(-y+w),C=g*c+1.5*u*(-y-w);$<0?$=-mathPow$2(-$,ONE_THIRD):$=mathPow$2($,ONE_THIRD),C<0?C=-mathPow$2(-C,ONE_THIRD):C=mathPow$2(C,ONE_THIRD);var x=(-c-($+C))/(3*u);x>=0&&x<=1&&(l[S++]=x)}else{var P=(2*g*c-3*u*y)/(2*mathSqrt$3(g*g*g)),M=Math.acos(P)/3,E=mathSqrt$3(g),D=Math.cos(M),x=(-c-2*E*D)/(3*u),A=(-c+E*(D+THREE_SQRT*Math.sin(M)))/(3*u),I=(-c+E*(D-THREE_SQRT*Math.sin(M)))/(3*u);x>=0&&x<=1&&(l[S++]=x),A>=0&&A<=1&&(l[S++]=A),I>=0&&I<=1&&(l[S++]=I)}}return S}function cubicExtrema(a,r,n,o,s){var l=6*n-12*r+6*a,u=9*r+3*o-3*a-9*n,c=3*r-3*a,d=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(l)){var v=-c/l;v>=0&&v<=1&&(s[d++]=v)}}else{var g=l*l-4*u*c;if(isAroundZero$1(g))s[0]=-l/(2*u);else if(g>0){var y=mathSqrt$3(g),v=(-l+y)/(2*u),_=(-l-y)/(2*u);v>=0&&v<=1&&(s[d++]=v),_>=0&&_<=1&&(s[d++]=_)}}return d}function cubicSubdivide(a,r,n,o,s,l){var u=(r-a)*s+a,c=(n-r)*s+r,d=(o-n)*s+n,v=(c-u)*s+u,g=(d-c)*s+c,y=(g-v)*s+v;l[0]=a,l[1]=u,l[2]=v,l[3]=y,l[4]=y,l[5]=g,l[6]=d,l[7]=o}function cubicProjectPoint(a,r,n,o,s,l,u,c,d,v,g){var y,_=.005,S=1/0,x,T,b,A;_v0[0]=d,_v0[1]=v;for(var w=0;w<1;w+=.05)_v1[0]=cubicAt(a,n,s,u,w),_v1[1]=cubicAt(r,o,l,c,w),b=distSquare(_v0,_v1),b<S&&(y=w,S=b);S=1/0;for(var $=0;$<32&&!(_<EPSILON_NUMERIC);$++)x=y-_,T=y+_,_v1[0]=cubicAt(a,n,s,u,x),_v1[1]=cubicAt(r,o,l,c,x),b=distSquare(_v1,_v0),x>=0&&b<S?(y=x,S=b):(_v2[0]=cubicAt(a,n,s,u,T),_v2[1]=cubicAt(r,o,l,c,T),A=distSquare(_v2,_v0),T<=1&&A<S?(y=T,S=A):_*=.5);return g&&(g[0]=cubicAt(a,n,s,u,y),g[1]=cubicAt(r,o,l,c,y)),mathSqrt$3(S)}function cubicLength(a,r,n,o,s,l,u,c,d){for(var v=a,g=r,y=0,_=1/d,S=1;S<=d;S++){var x=S*_,T=cubicAt(a,n,s,u,x),b=cubicAt(r,o,l,c,x),A=T-v,w=b-g;y+=Math.sqrt(A*A+w*w),v=T,g=b}return y}function quadraticAt$1(a,r,n,o){var s=1-o;return s*(s*a+2*o*r)+o*o*n}function quadraticDerivativeAt(a,r,n,o){return 2*((1-o)*(r-a)+o*(n-r))}function quadraticRootAt(a,r,n,o,s){var l=a-2*r+n,u=2*(r-a),c=a-o,d=0;if(isAroundZero$1(l)){if(isNotAroundZero$1(u)){var v=-c/u;v>=0&&v<=1&&(s[d++]=v)}}else{var g=u*u-4*l*c;if(isAroundZero$1(g)){var v=-u/(2*l);v>=0&&v<=1&&(s[d++]=v)}else if(g>0){var y=mathSqrt$3(g),v=(-u+y)/(2*l),_=(-u-y)/(2*l);v>=0&&v<=1&&(s[d++]=v),_>=0&&_<=1&&(s[d++]=_)}}return d}function quadraticExtremum(a,r,n){var o=a+n-2*r;return o===0?.5:(a-r)/o}function quadraticSubdivide(a,r,n,o,s){var l=(r-a)*o+a,u=(n-r)*o+r,c=(u-l)*o+l;s[0]=a,s[1]=l,s[2]=c,s[3]=c,s[4]=u,s[5]=n}function quadraticProjectPoint(a,r,n,o,s,l,u,c,d){var v,g=.005,y=1/0;_v0[0]=u,_v0[1]=c;for(var _=0;_<1;_+=.05){_v1[0]=quadraticAt$1(a,n,s,_),_v1[1]=quadraticAt$1(r,o,l,_);var S=distSquare(_v0,_v1);S<y&&(v=_,y=S)}y=1/0;for(var x=0;x<32&&!(g<EPSILON_NUMERIC);x++){var T=v-g,b=v+g;_v1[0]=quadraticAt$1(a,n,s,T),_v1[1]=quadraticAt$1(r,o,l,T);var S=distSquare(_v1,_v0);if(T>=0&&S<y)v=T,y=S;else{_v2[0]=quadraticAt$1(a,n,s,b),_v2[1]=quadraticAt$1(r,o,l,b);var A=distSquare(_v2,_v0);b<=1&&A<y?(v=b,y=A):g*=.5}}return d&&(d[0]=quadraticAt$1(a,n,s,v),d[1]=quadraticAt$1(r,o,l,v)),mathSqrt$3(y)}function quadraticLength(a,r,n,o,s,l,u){for(var c=a,d=r,v=0,g=1/u,y=1;y<=u;y++){var _=y*g,S=quadraticAt$1(a,n,s,_),x=quadraticAt$1(r,o,l,_),T=S-c,b=x-d;v+=Math.sqrt(T*T+b*b),c=S,d=x}return v}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(a){var r=a&&regexp.exec(a);if(r){var n=r[1].split(","),o=+trim$1(n[0]),s=+trim$1(n[1]),l=+trim$1(n[2]),u=+trim$1(n[3]);if(isNaN(o+s+l+u))return;var c=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,l,1,d,c)&&cubicAt(0,s,u,1,c[0])}}}var Clip=function(){function a(r){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=r.life||1e3,this._delay=r.delay||0,this.loop=r.loop||!1,this.onframe=r.onframe||noop,this.ondestroy=r.ondestroy||noop,this.onrestart=r.onrestart||noop,r.easing&&this.setEasing(r.easing)}return a.prototype.step=function(r,n){if(this._inited||(this._startTime=r+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var o=this._life,s=r-this._startTime-this._pausedTime,l=s/o;l<0&&(l=0),l=Math.min(l,1);var u=this.easingFunc,c=u?u(l):l;if(this.onframe(c),l===1)if(this.loop){var d=s%o;this._startTime=r-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(r){this.easing=r,this.easingFunc=isFunction(r)?r:easingFuncs$1[r]||createCubicEasingFunc(r)},a}();const Clip$1=Clip;var Entry=function(){function a(r){this.value=r}return a}(),LinkedList=function(){function a(){this._len=0}return a.prototype.insert=function(r){var n=new Entry(r);return this.insertEntry(n),n},a.prototype.insertEntry=function(r){this.head?(this.tail.next=r,r.prev=this.tail,r.next=null,this.tail=r):this.head=this.tail=r,this._len++},a.prototype.remove=function(r){var n=r.prev,o=r.next;n?n.next=o:this.head=o,o?o.prev=n:this.tail=n,r.next=r.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}(),LRU=function(){function a(r){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=r}return a.prototype.put=function(r,n){var o=this._list,s=this._map,l=null;if(s[r]==null){var u=o.len(),c=this._lastRemovedEntry;if(u>=this._maxSize&&u>0){var d=o.head;o.remove(d),delete s[d.key],l=d.value,this._lastRemovedEntry=d}c?c.value=n:c=new Entry(n),c.key=r,o.insertEntry(c),s[r]=c}return l},a.prototype.get=function(r){var n=this._map[r],o=this._list;if(n!=null)return n!==o.tail&&(o.remove(n),o.insertEntry(n)),n.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(a){return a=Math.round(a),a<0?0:a>255?255:a}function clampCssAngle(a){return a=Math.round(a),a<0?0:a>360?360:a}function clampCssFloat(a){return a<0?0:a>1?1:a}function parseCssInt(a){var r=a;return r.length&&r.charAt(r.length-1)==="%"?clampCssByte(parseFloat(r)/100*255):clampCssByte(parseInt(r,10))}function parseCssFloat(a){var r=a;return r.length&&r.charAt(r.length-1)==="%"?clampCssFloat(parseFloat(r)/100):clampCssFloat(parseFloat(r))}function cssHueToRgb(a,r,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?a+(r-a)*n*6:n*2<1?r:n*3<2?a+(r-a)*(2/3-n)*6:a}function lerpNumber(a,r,n){return a+(r-a)*n}function setRgba(a,r,n,o,s){return a[0]=r,a[1]=n,a[2]=o,a[3]=s,a}function copyRgba(a,r){return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(a,r){lastRemovedArr&&copyRgba(lastRemovedArr,r),lastRemovedArr=colorCache.put(a,lastRemovedArr||r.slice())}function parse(a,r){if(!!a){r=r||[];var n=colorCache.get(a);if(n)return copyRgba(r,n);a=a+"";var o=a.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(r,kCSSColorTable[o]),putToCache(a,r),r;var s=o.length;if(o.charAt(0)==="#"){if(s===4||s===5){var l=parseInt(o.slice(1,4),16);if(!(l>=0&&l<=4095)){setRgba(r,0,0,0,1);return}return setRgba(r,(l&3840)>>4|(l&3840)>>8,l&240|(l&240)>>4,l&15|(l&15)<<4,s===5?parseInt(o.slice(4),16)/15:1),putToCache(a,r),r}else if(s===7||s===9){var l=parseInt(o.slice(1,7),16);if(!(l>=0&&l<=16777215)){setRgba(r,0,0,0,1);return}return setRgba(r,(l&16711680)>>16,(l&65280)>>8,l&255,s===9?parseInt(o.slice(7),16)/255:1),putToCache(a,r),r}return}var u=o.indexOf("("),c=o.indexOf(")");if(u!==-1&&c+1===s){var d=o.substr(0,u),v=o.substr(u+1,c-(u+1)).split(","),g=1;switch(d){case"rgba":if(v.length!==4)return v.length===3?setRgba(r,+v[0],+v[1],+v[2],1):setRgba(r,0,0,0,1);g=parseCssFloat(v.pop());case"rgb":if(v.length>=3)return setRgba(r,parseCssInt(v[0]),parseCssInt(v[1]),parseCssInt(v[2]),v.length===3?g:parseCssFloat(v[3])),putToCache(a,r),r;setRgba(r,0,0,0,1);return;case"hsla":if(v.length!==4){setRgba(r,0,0,0,1);return}return v[3]=parseCssFloat(v[3]),hsla2rgba(v,r),putToCache(a,r),r;case"hsl":if(v.length!==3){setRgba(r,0,0,0,1);return}return hsla2rgba(v,r),putToCache(a,r),r;default:return}}setRgba(r,0,0,0,1)}}function hsla2rgba(a,r){var n=(parseFloat(a[0])%360+360)%360/360,o=parseCssFloat(a[1]),s=parseCssFloat(a[2]),l=s<=.5?s*(o+1):s+o-s*o,u=s*2-l;return r=r||[],setRgba(r,clampCssByte(cssHueToRgb(u,l,n+1/3)*255),clampCssByte(cssHueToRgb(u,l,n)*255),clampCssByte(cssHueToRgb(u,l,n-1/3)*255),1),a.length===4&&(r[3]=a[3]),r}function rgba2hsla(a){if(!!a){var r=a[0]/255,n=a[1]/255,o=a[2]/255,s=Math.min(r,n,o),l=Math.max(r,n,o),u=l-s,c=(l+s)/2,d,v;if(u===0)d=0,v=0;else{c<.5?v=u/(l+s):v=u/(2-l-s);var g=((l-r)/6+u/2)/u,y=((l-n)/6+u/2)/u,_=((l-o)/6+u/2)/u;r===l?d=_-y:n===l?d=1/3+g-_:o===l&&(d=2/3+y-g),d<0&&(d+=1),d>1&&(d-=1)}var S=[d*360,v,c];return a[3]!=null&&S.push(a[3]),S}}function lift(a,r){var n=parse(a);if(n){for(var o=0;o<3;o++)r<0?n[o]=n[o]*(1-r)|0:n[o]=(255-n[o])*r+n[o]|0,n[o]>255?n[o]=255:n[o]<0&&(n[o]=0);return stringify(n,n.length===4?"rgba":"rgb")}}function fastLerp(a,r,n){if(!(!(r&&r.length)||!(a>=0&&a<=1))){n=n||[];var o=a*(r.length-1),s=Math.floor(o),l=Math.ceil(o),u=r[s],c=r[l],d=o-s;return n[0]=clampCssByte(lerpNumber(u[0],c[0],d)),n[1]=clampCssByte(lerpNumber(u[1],c[1],d)),n[2]=clampCssByte(lerpNumber(u[2],c[2],d)),n[3]=clampCssFloat(lerpNumber(u[3],c[3],d)),n}}function lerp(a,r,n){if(!(!(r&&r.length)||!(a>=0&&a<=1))){var o=a*(r.length-1),s=Math.floor(o),l=Math.ceil(o),u=parse(r[s]),c=parse(r[l]),d=o-s,v=stringify([clampCssByte(lerpNumber(u[0],c[0],d)),clampCssByte(lerpNumber(u[1],c[1],d)),clampCssByte(lerpNumber(u[2],c[2],d)),clampCssFloat(lerpNumber(u[3],c[3],d))],"rgba");return n?{color:v,leftIndex:s,rightIndex:l,value:o}:v}}function modifyHSL(a,r,n,o){var s=parse(a);if(a)return s=rgba2hsla(s),r!=null&&(s[0]=clampCssAngle(r)),n!=null&&(s[1]=parseCssFloat(n)),o!=null&&(s[2]=parseCssFloat(o)),stringify(hsla2rgba(s),"rgba")}function modifyAlpha(a,r){var n=parse(a);if(n&&r!=null)return n[3]=clampCssFloat(r),stringify(n,"rgba")}function stringify(a,r){if(!(!a||!a.length)){var n=a[0]+","+a[1]+","+a[2];return(r==="rgba"||r==="hsva"||r==="hsla")&&(n+=","+a[3]),r+"("+n+")"}}function lum(a,r){var n=parse(a);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*r:0}var mathRound$1=Math.round;function normalizeColor(a){var r;if(!a||a==="transparent")a="none";else if(typeof a=="string"&&a.indexOf("rgba")>-1){var n=parse(a);n&&(a="rgb("+n[0]+","+n[1]+","+n[2]+")",r=n[3])}return{color:a,opacity:r==null?1:r}}var EPSILON$3=1e-4;function isAroundZero(a){return a<EPSILON$3&&a>-EPSILON$3}function round3(a){return mathRound$1(a*1e3)/1e3}function round4(a){return mathRound$1(a*1e4)/1e4}function getMatrixStr(a){return"matrix("+round3(a[0])+","+round3(a[1])+","+round3(a[2])+","+round3(a[3])+","+round4(a[4])+","+round4(a[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(a,r,n){return n==="top"?a+=r/2:n==="bottom"&&(a-=r/2),a}function hasShadow(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}function getShadowKey(a){var r=a.style,n=a.getGlobalScale();return[r.shadowColor,(r.shadowBlur||0).toFixed(2),(r.shadowOffsetX||0).toFixed(2),(r.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function isImagePattern(a){return a&&!!a.image}function isSVGPattern(a){return a&&!!a.svgElement}function isPattern(a){return isImagePattern(a)||isSVGPattern(a)}function isLinearGradient(a){return a.type==="linear"}function isRadialGradient(a){return a.type==="radial"}function isGradient(a){return a&&(a.type==="linear"||a.type==="radial")}function getIdURL(a){return"url(#"+a+")"}function getPathPrecision(a){var r=a.getGlobalScale(),n=Math.max(r[0],r[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function getSRTTransformString(a){var r=a.x||0,n=a.y||0,o=(a.rotation||0)*RADIAN_TO_DEGREE,s=retrieve2(a.scaleX,1),l=retrieve2(a.scaleY,1),u=a.skewX||0,c=a.skewY||0,d=[];return(r||n)&&d.push("translate("+r+"px,"+n+"px)"),o&&d.push("rotate("+o+")"),(s!==1||l!==1)&&d.push("scale("+s+","+l+")"),(u||c)&&d.push("skew("+mathRound$1(u*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(c*RADIAN_TO_DEGREE)+"deg)"),d.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(a){return window.btoa(unescape(a))}:typeof Buffer<"u"?function(a){return Buffer.from(a).toString("base64")}:function(a){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(a,r,n){return(r-a)*n+a}function interpolate1DArray(a,r,n,o){for(var s=r.length,l=0;l<s;l++)a[l]=interpolateNumber$1(r[l],n[l],o);return a}function interpolate2DArray(a,r,n,o){for(var s=r.length,l=s&&r[0].length,u=0;u<s;u++){a[u]||(a[u]=[]);for(var c=0;c<l;c++)a[u][c]=interpolateNumber$1(r[u][c],n[u][c],o)}return a}function add1DArray(a,r,n,o){for(var s=r.length,l=0;l<s;l++)a[l]=r[l]+n[l]*o;return a}function add2DArray(a,r,n,o){for(var s=r.length,l=s&&r[0].length,u=0;u<s;u++){a[u]||(a[u]=[]);for(var c=0;c<l;c++)a[u][c]=r[u][c]+n[u][c]*o}return a}function fillColorStops(a,r){for(var n=a.length,o=r.length,s=n>o?r:a,l=Math.min(n,o),u=s[l-1]||{color:[0,0,0,0],offset:0},c=l;c<Math.max(n,o);c++)s.push({offset:u.offset,color:u.color.slice()})}function fillArray(a,r,n){var o=a,s=r;if(!(!o.push||!s.push)){var l=o.length,u=s.length;if(l!==u){var c=l>u;if(c)o.length=u;else for(var d=l;d<u;d++)o.push(n===1?s[d]:arraySlice.call(s[d]))}for(var v=o[0]&&o[0].length,d=0;d<o.length;d++)if(n===1)isNaN(o[d])&&(o[d]=s[d]);else for(var g=0;g<v;g++)isNaN(o[d][g])&&(o[d][g]=s[d][g])}}function cloneValue(a){if(isArrayLike(a)){var r=a.length;if(isArrayLike(a[0])){for(var n=[],o=0;o<r;o++)n.push(arraySlice.call(a[o]));return n}return arraySlice.call(a)}return a}function rgba2String(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=a[3]==null?1:a[3],"rgba("+a.join(",")+")"}function guessArrayDim(a){return isArrayLike(a&&a[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(a){return a===VALUE_TYPE_LINEAR_GRADIENT||a===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(a){return a===VALUE_TYPE_1D_ARRAY||a===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function a(r){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=r}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(r,n,o){this._needsSort=!0;var s=this.keyframes,l=s.length,u=!1,c=VALUE_TYPE_UNKOWN,d=n;if(isArrayLike(n)){var v=guessArrayDim(n);c=v,(v===1&&!isNumber(n[0])||v===2&&!isNumber(n[0][0]))&&(u=!0)}else if(isNumber(n)&&!eqNaN(n))c=VALUE_TYPE_NUMBER;else if(isString(n))if(!isNaN(+n))c=VALUE_TYPE_NUMBER;else{var g=parse(n);g&&(d=g,c=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var y=extend({},d);y.colorStops=map$1(n.colorStops,function(S){return{offset:S.offset,color:parse(S.color)}}),isLinearGradient(n)?c=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(c=VALUE_TYPE_RADIAL_GRADIENT),d=y}l===0?this.valType=c:(c!==this.valType||c===VALUE_TYPE_UNKOWN)&&(u=!0),this.discrete=this.discrete||u;var _={time:r,value:d,rawValue:n,percent:0};return o&&(_.easing=o,_.easingFunc=isFunction(o)?o:easingFuncs$1[o]||createCubicEasingFunc(o)),s.push(_),_},a.prototype.prepare=function(r,n){var o=this.keyframes;this._needsSort&&o.sort(function(T,b){return T.time-b.time});for(var s=this.valType,l=o.length,u=o[l-1],c=this.discrete,d=isArrayValueType(s),v=isGradientValueType(s),g=0;g<l;g++){var y=o[g],_=y.value,S=u.value;y.percent=y.time/r,c||(d&&g!==l-1?fillArray(_,S,s):v&&fillColorStops(_.colorStops,S.colorStops))}if(!c&&s!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&s===n.valType&&!n._finished){this._additiveTrack=n;for(var x=o[0].value,g=0;g<l;g++)s===VALUE_TYPE_NUMBER?o[g].additiveValue=o[g].value-x:s===VALUE_TYPE_COLOR?o[g].additiveValue=add1DArray([],o[g].value,x,-1):isArrayValueType(s)&&(o[g].additiveValue=s===VALUE_TYPE_1D_ARRAY?add1DArray([],o[g].value,x,-1):add2DArray([],o[g].value,x,-1))}},a.prototype.step=function(r,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,s=o?"additiveValue":"value",l=this.valType,u=this.keyframes,c=u.length,d=this.propName,v=l===VALUE_TYPE_COLOR,g,y=this._lastFr,_=Math.min,S,x;if(c===1)S=x=u[0];else{if(n<0)g=0;else if(n<this._lastFrP){var T=_(y+1,c-1);for(g=T;g>=0&&!(u[g].percent<=n);g--);g=_(g,c-2)}else{for(g=y;g<c&&!(u[g].percent>n);g++);g=_(g-1,c-2)}x=u[g+1],S=u[g]}if(!!(S&&x)){this._lastFr=g,this._lastFrP=n;var b=x.percent-S.percent,A=b===0?1:_((n-S.percent)/b,1);x.easingFunc&&(A=x.easingFunc(A));var w=o?this._additiveValue:v?tmpRgba:r[d];if((isArrayValueType(l)||v)&&!w&&(w=this._additiveValue=[]),this.discrete)r[d]=A<1?S.rawValue:x.rawValue;else if(isArrayValueType(l))l===VALUE_TYPE_1D_ARRAY?interpolate1DArray(w,S[s],x[s],A):interpolate2DArray(w,S[s],x[s],A);else if(isGradientValueType(l)){var $=S[s],C=x[s],P=l===VALUE_TYPE_LINEAR_GRADIENT;r[d]={type:P?"linear":"radial",x:interpolateNumber$1($.x,C.x,A),y:interpolateNumber$1($.y,C.y,A),colorStops:map$1($.colorStops,function(E,D){var I=C.colorStops[D];return{offset:interpolateNumber$1(E.offset,I.offset,A),color:rgba2String(interpolate1DArray([],E.color,I.color,A))}}),global:C.global},P?(r[d].x2=interpolateNumber$1($.x2,C.x2,A),r[d].y2=interpolateNumber$1($.y2,C.y2,A)):r[d].r=interpolateNumber$1($.r,C.r,A)}else if(v)interpolate1DArray(w,S[s],x[s],A),o||(r[d]=rgba2String(w));else{var M=interpolateNumber$1(S[s],x[s],A);o?this._additiveValue=M:r[d]=M}o&&this._addToTarget(r)}}},a.prototype._addToTarget=function(r){var n=this.valType,o=this.propName,s=this._additiveValue;n===VALUE_TYPE_NUMBER?r[o]=r[o]+s:n===VALUE_TYPE_COLOR?(parse(r[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,s,1),r[o]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(r[o],r[o],s,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(r[o],r[o],s,1)},a}(),Animator=function(){function a(r,n,o,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=r,this._loop=n,n&&s){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=o}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(r){this._target=r},a.prototype.when=function(r,n,o){return this.whenWithKeys(r,n,keys(n),o)},a.prototype.whenWithKeys=function(r,n,o,s){for(var l=this._tracks,u=0;u<o.length;u++){var c=o[u],d=l[c];if(!d){d=l[c]=new Track(c);var v=void 0,g=this._getAdditiveTrack(c);if(g){var y=g.keyframes,_=y[y.length-1];v=_&&_.value,g.valType===VALUE_TYPE_COLOR&&v&&(v=rgba2String(v))}else v=this._target[c];if(v==null)continue;r>0&&d.addKeyframe(0,cloneValue(v),s),this._trackKeys.push(c)}d.addKeyframe(r,cloneValue(n[c]),s)}return this._maxTime=Math.max(this._maxTime,r),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(r){return this._maxTime=r,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var r=this._doneCbs;if(r)for(var n=r.length,o=0;o<n;o++)r[o].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var r=this.animation,n=this._abortedCbs;if(r&&r.removeClip(this._clip),this._clip=null,n)for(var o=0;o<n.length;o++)n[o].call(this)},a.prototype._setTracksFinished=function(){for(var r=this._tracks,n=this._trackKeys,o=0;o<n.length;o++)r[n[o]].setFinished()},a.prototype._getAdditiveTrack=function(r){var n,o=this._additiveAnimators;if(o)for(var s=0;s<o.length;s++){var l=o[s].getTrack(r);l&&(n=l)}return n},a.prototype.start=function(r){if(!(this._started>0)){this._started=1;for(var n=this,o=[],s=this._maxTime||0,l=0;l<this._trackKeys.length;l++){var u=this._trackKeys[l],c=this._tracks[u],d=this._getAdditiveTrack(u),v=c.keyframes,g=v.length;if(c.prepare(s,d),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var y=v[g-1];y&&(n._target[c.propName]=y.rawValue),c.setFinished()}else o.push(c)}if(o.length||this._force){var _=new Clip$1({life:s,loop:this._loop,delay:this._delay||0,onframe:function(S){n._started=2;var x=n._additiveAnimators;if(x){for(var T=!1,b=0;b<x.length;b++)if(x[b]._clip){T=!0;break}T||(n._additiveAnimators=null)}for(var b=0;b<o.length;b++)o[b].step(n._target,S);var A=n._onframeCbs;if(A)for(var b=0;b<A.length;b++)A[b](n._target,S)},ondestroy:function(){n._doneCallback()}});this._clip=_,this.animation&&this.animation.addClip(_),r&&_.setEasing(r)}else this._doneCallback();return this}},a.prototype.stop=function(r){if(!!this._clip){var n=this._clip;r&&n.onframe(1),this._abortedCallback()}},a.prototype.delay=function(r){return this._delay=r,this},a.prototype.during=function(r){return r&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(r)),this},a.prototype.done=function(r){return r&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(r)),this},a.prototype.aborted=function(r){return r&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(r)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(r){return this._tracks[r]},a.prototype.getTracks=function(){var r=this;return map$1(this._trackKeys,function(n){return r._tracks[n]})},a.prototype.stopTracks=function(r,n){if(!r.length||!this._clip)return!0;for(var o=this._tracks,s=this._trackKeys,l=0;l<r.length;l++){var u=o[r[l]];u&&!u.isFinished()&&(n?u.step(this._target,1):this._started===1&&u.step(this._target,0),u.setFinished())}for(var c=!0,l=0;l<s.length;l++)if(!o[s[l]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},a.prototype.saveTo=function(r,n,o){if(!!r){n=n||this._trackKeys;for(var s=0;s<n.length;s++){var l=n[s],u=this._tracks[l];if(!(!u||u.isFinished())){var c=u.keyframes,d=c[o?0:c.length-1];d&&(r[l]=cloneValue(d.rawValue))}}}},a.prototype.__changeFinalValue=function(r,n){n=n||keys(r);for(var o=0;o<n.length;o++){var s=n[o],l=this._tracks[s];if(!!l){var u=l.keyframes;if(u.length>1){var c=u.pop();l.addKeyframe(c.time,r[s]),l.prepare(this._maxTime,l.getAdditiveTrack())}}}},a}();function getTime(){return new Date().getTime()}var Animation=function(a){__extends(r,a);function r(n){var o=a.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,n=n||{},o.stage=n.stage||{},o}return r.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},r.prototype.addAnimator=function(n){n.animation=this;var o=n.getClip();o&&this.addClip(o)},r.prototype.removeClip=function(n){if(!!n.animation){var o=n.prev,s=n.next;o?o.next=s:this._head=s,s?s.prev=o:this._tail=o,n.next=n.prev=n.animation=null}},r.prototype.removeAnimator=function(n){var o=n.getClip();o&&this.removeClip(o),n.animation=null},r.prototype.update=function(n){for(var o=getTime()-this._pausedTime,s=o-this._time,l=this._head;l;){var u=l.next,c=l.step(o,s);c&&(l.ondestroy(),this.removeClip(l)),l=u}this._time=o,n||(this.trigger("frame",s),this.stage.update&&this.stage.update())},r.prototype._startLoop=function(){var n=this;this._running=!0;function o(){n._running&&(requestAnimationFrame$3(o),!n._paused&&n.update())}requestAnimationFrame$3(o)},r.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},r.prototype.stop=function(){this._running=!1},r.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},r.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},r.prototype.clear=function(){for(var n=this._head;n;){var o=n.next;n.prev=n.next=n.animation=null,n=o}this._head=this._tail=null},r.prototype.isFinished=function(){return this._head==null},r.prototype.animate=function(n,o){o=o||{},this.start();var s=new Animator(n,o.loop);return this.addAnimator(s),s},r}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var a=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(a,function(s){var l=s.replace("mouse","pointer");return n.hasOwnProperty(l)?l:s});return{mouse:a,touch:r,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(a){var r=a.pointerType;return r==="pen"||r==="touch"}function setTouchTimer(a){a.touching=!0,a.touchTimer!=null&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}function markTouch(a){a&&(a.zrByTouch=!0)}function normalizeGlobalEvent(a,r){return normalizeEvent(a.dom,new FakeGlobalEvent(a,r),!0)}function isLocalEl(a,r){for(var n=r,o=!1;n&&n.nodeType!==9&&!(o=n.domBelongToZr||n!==r&&n===a.painterRoot);)n=n.parentNode;return o}var FakeGlobalEvent=function(){function a(r,n){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=n.type,this.target=this.currentTarget=r.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return a}(),localDOMHandlers={mousedown:function(a){a=normalizeEvent(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=normalizeEvent(this.dom,a);var r=this.__mayPointerCapture;r&&(a.zrX!==r[0]||a.zrY!==r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=normalizeEvent(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){a=normalizeEvent(this.dom,a);var r=a.toElement||a.relatedTarget;isLocalEl(this,r)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){wheelEventSupported=!0,a=normalizeEvent(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){wheelEventSupported||(a=normalizeEvent(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),localDOMHandlers.mousemove.call(this,a),localDOMHandlers.mousedown.call(this,a)},touchmove:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.handler.processGesture(a,"change"),localDOMHandlers.mousemove.call(this,a)},touchend:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.handler.processGesture(a,"end"),localDOMHandlers.mouseup.call(this,a),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,a)},pointerdown:function(a){localDOMHandlers.mousedown.call(this,a)},pointermove:function(a){isPointerFromTouch(a)||localDOMHandlers.mousemove.call(this,a)},pointerup:function(a){localDOMHandlers.mouseup.call(this,a)},pointerout:function(a){isPointerFromTouch(a)||localDOMHandlers.mouseout.call(this,a)}};each$f(["click","dblclick","contextmenu"],function(a){localDOMHandlers[a]=function(r){r=normalizeEvent(this.dom,r),this.trigger(a,r)}});var globalDOMHandlers={pointermove:function(a){isPointerFromTouch(a)||globalDOMHandlers.mousemove.call(this,a)},pointerup:function(a){globalDOMHandlers.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),r&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function mountLocalDOMEventListeners(a,r){var n=r.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(r,o,function(s){n[o].call(a,s)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(r,o,function(s){n[o].call(a,s),setTouchTimer(r)})}),each$f(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(r,o,function(s){s=getNativeEvent(s),r.touching||n[o].call(a,s)})}))}function mountGlobalDOMEventListeners(a,r){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,n):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,n);function n(o){function s(l){l=getNativeEvent(l),isLocalEl(a,l.target)||(l=normalizeGlobalEvent(a,l),r.domHandlers[o].call(a,l))}mountSingleDOMEventListener(r,o,s,{capture:!0})}}function mountSingleDOMEventListener(a,r,n,o){a.mounted[r]=n,a.listenerOpts[r]=o,addEventListener(a.domTarget,r,n,o)}function unmountDOMEventListeners(a){var r=a.mounted;for(var n in r)r.hasOwnProperty(n)&&removeEventListener(a.domTarget,n,r[n],a.listenerOpts[n]);a.mounted={}}var DOMHandlerScope=function(){function a(r,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=r,this.domHandlers=n}return a}(),HandlerDomProxy=function(a){__extends(r,a);function r(n,o){var s=a.call(this)||this;return s.__pointerCapturing=!1,s.dom=n,s.painterRoot=o,s._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(s._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(s,s._localHandlerScope),s}return r.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},r.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},r.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var o=this._globalHandlerScope;n?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},r}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(a){return a>EPSILON$2||a<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function a(){}return a.prototype.getLocalTransform=function(r){return a.getLocalTransform(this,r)},a.prototype.setPosition=function(r){this.x=r[0],this.y=r[1]},a.prototype.setScale=function(r){this.scaleX=r[0],this.scaleY=r[1]},a.prototype.setSkew=function(r){this.skewX=r[0],this.skewY=r[1]},a.prototype.setOrigin=function(r){this.originX=r[0],this.originY=r[1]},a.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},a.prototype.updateTransform=function(){var r=this.parent&&this.parent.transform,n=this.needLocalTransform(),o=this.transform;if(!(n||r)){o&&mIdentity(o);return}o=o||create$1(),n?this.getLocalTransform(o):mIdentity(o),r&&(n?mul(o,r,o):copy(o,r)),this.transform=o,this._resolveGlobalScaleRatio(o)},a.prototype._resolveGlobalScaleRatio=function(r){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,s=scaleTmp[1]<0?-1:1,l=((scaleTmp[0]-o)*n+o)/scaleTmp[0]||0,u=((scaleTmp[1]-s)*n+s)/scaleTmp[1]||0;r[0]*=l,r[1]*=l,r[2]*=u,r[3]*=u}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,r)},a.prototype.getComputedTransform=function(){for(var r=this,n=[];r;)n.push(r),r=r.parent;for(;r=n.pop();)r.updateTransform();return this.transform},a.prototype.setLocalTransform=function(r){if(!!r){var n=r[0]*r[0]+r[1]*r[1],o=r[2]*r[2]+r[3]*r[3],s=Math.atan2(r[1],r[0]),l=Math.PI/2+s-Math.atan2(r[3],r[2]);o=Math.sqrt(o)*Math.cos(l),n=Math.sqrt(n),this.skewX=l,this.skewY=0,this.rotation=-s,this.x=+r[4],this.y=+r[5],this.scaleX=n,this.scaleY=o,this.originX=0,this.originY=0}},a.prototype.decomposeTransform=function(){if(!!this.transform){var r=this.parent,n=this.transform;r&&r.transform&&(mul(tmpTransform,r.invTransform,n),n=tmpTransform);var o=this.originX,s=this.originY;(o||s)&&(originTransform[4]=o,originTransform[5]=s,mul(tmpTransform,n,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=s,n=tmpTransform),this.setLocalTransform(n)}},a.prototype.getGlobalScale=function(r){var n=this.transform;return r=r||[],n?(r[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),r[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(r[0]=-r[0]),n[3]<0&&(r[1]=-r[1]),r):(r[0]=1,r[1]=1,r)},a.prototype.transformCoordToLocal=function(r,n){var o=[r,n],s=this.invTransform;return s&&applyTransform$1(o,o,s),o},a.prototype.transformCoordToGlobal=function(r,n){var o=[r,n],s=this.transform;return s&&applyTransform$1(o,o,s),o},a.prototype.getLineScale=function(){var r=this.transform;return r&&abs(r[0]-1)>1e-10&&abs(r[3]-1)>1e-10?Math.sqrt(abs(r[0]*r[3]-r[2]*r[1])):1},a.prototype.copyTransform=function(r){copyTransform(this,r)},a.getLocalTransform=function(r,n){n=n||[];var o=r.originX||0,s=r.originY||0,l=r.scaleX,u=r.scaleY,c=r.anchorX,d=r.anchorY,v=r.rotation||0,g=r.x,y=r.y,_=r.skewX?Math.tan(r.skewX):0,S=r.skewY?Math.tan(-r.skewY):0;if(o||s||c||d){var x=o+c,T=s+d;n[4]=-x*l-_*T*u,n[5]=-T*u-S*x*l}else n[4]=n[5]=0;return n[0]=l,n[3]=u,n[1]=S*l,n[2]=_*u,v&&rotate(n,n,v),n[4]+=o+g,n[5]+=s+y,n},a.initDefaultProps=function(){var r=a.prototype;r.scaleX=r.scaleY=r.globalScaleRatio=1,r.x=r.y=r.originX=r.originY=r.skewX=r.skewY=r.rotation=r.anchorX=r.anchorY=0}(),a}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(a,r){for(var n=0;n<TRANSFORMABLE_PROPS.length;n++){var o=TRANSFORMABLE_PROPS[n];a[o]=r[o]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(a,r){r=r||DEFAULT_FONT;var n=textWidthCache[r];n||(n=textWidthCache[r]=new LRU$1(500));var o=n.get(a);return o==null&&(o=platformApi.measureText(a,r).width,n.put(a,o)),o}function innerGetBoundingRect(a,r,n,o){var s=getWidth(a,r),l=getLineHeight(r),u=adjustTextX(0,s,n),c=adjustTextY(0,l,o),d=new BoundingRect$1(u,c,s,l);return d}function getBoundingRect(a,r,n,o){var s=((a||"")+"").split(`
`),l=s.length;if(l===1)return innerGetBoundingRect(s[0],r,n,o);for(var u=new BoundingRect$1(0,0,0,0),c=0;c<s.length;c++){var d=innerGetBoundingRect(s[c],r,n,o);c===0?u.copy(d):u.union(d)}return u}function adjustTextX(a,r,n){return n==="right"?a-=r:n==="center"&&(a-=r/2),a}function adjustTextY(a,r,n){return n==="middle"?a-=r/2:n==="bottom"&&(a-=r),a}function getLineHeight(a){return getWidth("\u56FD",a)}function parsePercent$1(a,r){return typeof a=="string"?a.lastIndexOf("%")>=0?parseFloat(a)/100*r:parseFloat(a):a}function calculateTextPosition(a,r,n){var o=r.position||"inside",s=r.distance!=null?r.distance:5,l=n.height,u=n.width,c=l/2,d=n.x,v=n.y,g="left",y="top";if(o instanceof Array)d+=parsePercent$1(o[0],n.width),v+=parsePercent$1(o[1],n.height),g=null,y=null;else switch(o){case"left":d-=s,v+=c,g="right",y="middle";break;case"right":d+=s+u,v+=c,y="middle";break;case"top":d+=u/2,v-=s,g="center",y="bottom";break;case"bottom":d+=u/2,v+=l+s,g="center";break;case"inside":d+=u/2,v+=c,g="center",y="middle";break;case"insideLeft":d+=s,v+=c,y="middle";break;case"insideRight":d+=u-s,v+=c,g="right",y="middle";break;case"insideTop":d+=u/2,v+=s,g="center";break;case"insideBottom":d+=u/2,v+=l-s,g="center",y="bottom";break;case"insideTopLeft":d+=s,v+=s;break;case"insideTopRight":d+=u-s,v+=s,g="right";break;case"insideBottomLeft":d+=s,v+=l-s,y="bottom";break;case"insideBottomRight":d+=u-s,v+=l-s,g="right",y="bottom";break}return a=a||{},a.x=d,a.y=v,a.align=g,a.verticalAlign=y,a}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(a,r){return a[r]=!0,a},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function a(r){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(r)}return a.prototype._init=function(r){this.attr(r)},a.prototype.drift=function(r,n,o){switch(this.draggable){case"horizontal":n=0;break;case"vertical":r=0;break}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=r,s[5]+=n,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(r){var n=this._textContent;if(n&&(!n.ignore||r)){this.textConfig||(this.textConfig={});var o=this.textConfig,s=o.local,l=n.innerTransformable,u=void 0,c=void 0,d=!1;l.parent=s?this:null;var v=!1;if(l.copyTransform(n),o.position!=null){var g=tmpBoundingRect;o.layoutRect?g.copy(o.layoutRect):g.copy(this.getBoundingRect()),s||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,g):calculateTextPosition(tmpTextPosCalcRes,o,g),l.x=tmpTextPosCalcRes.x,l.y=tmpTextPosCalcRes.y,u=tmpTextPosCalcRes.align,c=tmpTextPosCalcRes.verticalAlign;var y=o.origin;if(y&&o.rotation!=null){var _=void 0,S=void 0;y==="center"?(_=g.width*.5,S=g.height*.5):(_=parsePercent$1(y[0],g.width),S=parsePercent$1(y[1],g.height)),v=!0,l.originX=-l.x+_+(s?0:g.x),l.originY=-l.y+S+(s?0:g.y)}}o.rotation!=null&&(l.rotation=o.rotation);var x=o.offset;x&&(l.x+=x[0],l.y+=x[1],v||(l.originX=-x[0],l.originY=-x[1]));var T=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),A=void 0,w=void 0,$=void 0;T&&this.canBeInsideText()?(A=o.insideFill,w=o.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(A),$=!0)):(A=o.outsideFill,w=o.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(A),$=!0)),A=A||"#000",(A!==b.fill||w!==b.stroke||$!==b.autoStroke||u!==b.align||c!==b.verticalAlign)&&(d=!0,b.fill=A,b.stroke=w,b.autoStroke=$,b.align=u,b.verticalAlign=c,n.setDefaultTextStyle(b)),n.__dirty|=REDRAW_BIT,d&&n.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(r){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},a.prototype.getOutsideStroke=function(r){var n=this.__zr&&this.__zr.getBackgroundColor(),o=typeof n=="string"&&parse(n);o||(o=[255,255,255,1]);for(var s=o[3],l=this.__zr.isDarkMode(),u=0;u<3;u++)o[u]=o[u]*s+(l?0:255)*(1-s);return o[3]=1,stringify(o,"rgba")},a.prototype.traverse=function(r,n){},a.prototype.attrKV=function(r,n){r==="textConfig"?this.setTextConfig(n):r==="textContent"?this.setTextContent(n):r==="clipPath"?this.setClipPath(n):r==="extra"?(this.extra=this.extra||{},extend(this.extra,n)):this[r]=n},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(r,n){if(typeof r=="string")this.attrKV(r,n);else if(isObject$5(r))for(var o=r,s=keys(o),l=0;l<s.length;l++){var u=s[l];this.attrKV(u,r[u])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(r){this._innerSaveToNormal(r);for(var n=this._normalState,o=0;o<this.animators.length;o++){var s=this.animators[o],l=s.__fromStateTransition;if(!(s.getLoop()||l&&l!==PRESERVED_NORMAL_STATE)){var u=s.targetName,c=u?n[u]:n;s.saveTo(c)}}},a.prototype._innerSaveToNormal=function(r){var n=this._normalState;n||(n=this._normalState={}),r.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(r,n,PRIMARY_STATES_KEYS$1)},a.prototype._savePrimaryToNormal=function(r,n,o){for(var s=0;s<o.length;s++){var l=o[s];r[l]!=null&&!(l in n)&&(n[l]=this[l])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(r){return this.states[r]},a.prototype.ensureState=function(r){var n=this.states;return n[r]||(n[r]={}),n[r]},a.prototype.clearStates=function(r){this.useState(PRESERVED_NORMAL_STATE,!1,r)},a.prototype.useState=function(r,n,o,s){var l=r===PRESERVED_NORMAL_STATE,u=this.hasState();if(!(!u&&l)){var c=this.currentStates,d=this.stateTransition;if(!(indexOf(c,r)>=0&&(n||c.length===1))){var v;if(this.stateProxy&&!l&&(v=this.stateProxy(r)),v||(v=this.states&&this.states[r]),!v&&!l){logError("State "+r+" not exists.");return}l||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||s);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(r,v,this._normalState,n,!o&&!this.__inHover&&d&&d.duration>0,d);var y=this._textContent,_=this._textGuide;return y&&y.useState(r,n,o,g),_&&_.useState(r,n,o,g),l?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(r):this.currentStates=[r],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),v}}},a.prototype.useStates=function(r,n,o){if(!r.length)this.clearStates();else{var s=[],l=this.currentStates,u=r.length,c=u===l.length;if(c){for(var d=0;d<u;d++)if(r[d]!==l[d]){c=!1;break}}if(c)return;for(var d=0;d<u;d++){var v=r[d],g=void 0;this.stateProxy&&(g=this.stateProxy(v,r)),g||(g=this.states[v]),g&&s.push(g)}var y=s[u-1],_=!!(y&&y.hoverLayer||o);_&&this._toggleHoverLayerFlag(!0);var S=this._mergeStates(s),x=this.stateTransition;this.saveCurrentToNormalState(S),this._applyStateObj(r.join(","),S,this._normalState,!1,!n&&!this.__inHover&&x&&x.duration>0,x);var T=this._textContent,b=this._textGuide;T&&T.useStates(r,n,_),b&&b.useStates(r,n,_),this._updateAnimationTargets(),this.currentStates=r.slice(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},a.prototype._updateAnimationTargets=function(){for(var r=0;r<this.animators.length;r++){var n=this.animators[r];n.targetName&&n.changeTarget(this[n.targetName])}},a.prototype.removeState=function(r){var n=indexOf(this.currentStates,r);if(n>=0){var o=this.currentStates.slice();o.splice(n,1),this.useStates(o)}},a.prototype.replaceState=function(r,n,o){var s=this.currentStates.slice(),l=indexOf(s,r),u=indexOf(s,n)>=0;l>=0?u?s.splice(l,1):s[l]=n:o&&!u&&s.push(n),this.useStates(s)},a.prototype.toggleState=function(r,n){n?this.useState(r,!0):this.removeState(r)},a.prototype._mergeStates=function(r){for(var n={},o,s=0;s<r.length;s++){var l=r[s];extend(n,l),l.textConfig&&(o=o||{},extend(o,l.textConfig))}return o&&(n.textConfig=o),n},a.prototype._applyStateObj=function(r,n,o,s,l,u){var c=!(n&&s);n&&n.textConfig?(this.textConfig=extend({},s?this.textConfig:o.textConfig),extend(this.textConfig,n.textConfig)):c&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},v=!1,g=0;g<PRIMARY_STATES_KEYS$1.length;g++){var y=PRIMARY_STATES_KEYS$1[g],_=l&&DEFAULT_ANIMATABLE_MAP[y];n&&n[y]!=null?_?(v=!0,d[y]=n[y]):this[y]=n[y]:c&&o[y]!=null&&(_?(v=!0,d[y]=o[y]):this[y]=o[y])}if(!l)for(var g=0;g<this.animators.length;g++){var S=this.animators[g],x=S.targetName;S.getLoop()||S.__changeFinalValue(x?(n||o)[x]:n||o)}v&&this._transitionState(r,d,u)},a.prototype._attachComponent=function(r){if(!(r.__zr&&!r.__hostTarget)&&r!==this){var n=this.__zr;n&&r.addSelfToZr(n),r.__zr=n,r.__hostTarget=this}},a.prototype._detachComponent=function(r){r.__zr&&r.removeSelfFromZr(r.__zr),r.__zr=null,r.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(r){this._clipPath&&this._clipPath!==r&&this.removeClipPath(),this._attachComponent(r),this._clipPath=r,this.markRedraw()},a.prototype.removeClipPath=function(){var r=this._clipPath;r&&(this._detachComponent(r),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(r){var n=this._textContent;n!==r&&(n&&n!==r&&this.removeTextContent(),r.innerTransformable=new Transformable$1,this._attachComponent(r),this._textContent=r,this.markRedraw())},a.prototype.setTextConfig=function(r){this.textConfig||(this.textConfig={}),extend(this.textConfig,r),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var r=this._textContent;r&&(r.innerTransformable=null,this._detachComponent(r),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(r){this._textGuide&&this._textGuide!==r&&this.removeTextGuideLine(),this._attachComponent(r),this._textGuide=r,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var r=this._textGuide;r&&(this._detachComponent(r),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var r=this.__zr;r&&(this.__inHover?r.refreshHover():r.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(r){this.__inHover=r;var n=this._textContent,o=this._textGuide;n&&(n.__inHover=r),o&&(o.__inHover=r)},a.prototype.addSelfToZr=function(r){if(this.__zr!==r){this.__zr=r;var n=this.animators;if(n)for(var o=0;o<n.length;o++)r.animation.addAnimator(n[o]);this._clipPath&&this._clipPath.addSelfToZr(r),this._textContent&&this._textContent.addSelfToZr(r),this._textGuide&&this._textGuide.addSelfToZr(r)}},a.prototype.removeSelfFromZr=function(r){if(!!this.__zr){this.__zr=null;var n=this.animators;if(n)for(var o=0;o<n.length;o++)r.animation.removeAnimator(n[o]);this._clipPath&&this._clipPath.removeSelfFromZr(r),this._textContent&&this._textContent.removeSelfFromZr(r),this._textGuide&&this._textGuide.removeSelfFromZr(r)}},a.prototype.animate=function(r,n,o){var s=r?this[r]:this,l=new Animator(s,n,o);return r&&(l.targetName=r),this.addAnimator(l,r),l},a.prototype.addAnimator=function(r,n){var o=this.__zr,s=this;r.during(function(){s.updateDuringAnimation(n)}).done(function(){var l=s.animators,u=indexOf(l,r);u>=0&&l.splice(u,1)}),this.animators.push(r),o&&o.animation.addAnimator(r),o&&o.wakeUp()},a.prototype.updateDuringAnimation=function(r){this.markRedraw()},a.prototype.stopAnimation=function(r,n){for(var o=this.animators,s=o.length,l=[],u=0;u<s;u++){var c=o[u];!r||r===c.scope?c.stop(n):l.push(c)}return this.animators=l,this},a.prototype.animateTo=function(r,n,o){animateTo(this,r,n,o)},a.prototype.animateFrom=function(r,n,o){animateTo(this,r,n,o,!0)},a.prototype._transitionState=function(r,n,o,s){for(var l=animateTo(this,n,o,s),u=0;u<l.length;u++)l[u].__fromStateTransition=r},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var r=a.prototype;r.type="element",r.name="",r.ignore=r.silent=r.isGroup=r.draggable=r.dragging=r.ignoreClip=r.__inHover=!1,r.__dirty=REDRAW_BIT;function n(o,s,l,u){Object.defineProperty(r,o,{get:function(){if(!this[s]){var d=this[s]=[];c(this,d)}return this[s]},set:function(d){this[l]=d[0],this[u]=d[1],this[s]=d,c(this,d)}});function c(d,v){Object.defineProperty(v,0,{get:function(){return d[l]},set:function(g){d[l]=g}}),Object.defineProperty(v,1,{get:function(){return d[u]},set:function(g){d[u]=g}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),a}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo(a,r,n,o,s){n=n||{};var l=[];animateToShallow(a,"",a,r,n,o,l,s);var u=l.length,c=!1,d=n.done,v=n.aborted,g=function(){c=!0,u--,u<=0&&(c?d&&d():v&&v())},y=function(){u--,u<=0&&(c?d&&d():v&&v())};u||d&&d(),l.length>0&&n.during&&l[0].during(function(x,T){n.during(T)});for(var _=0;_<l.length;_++){var S=l[_];g&&S.done(g),y&&S.aborted(y),n.force&&S.duration(n.duration),S.start(n.easing)}return l}function copyArrShallow(a,r,n){for(var o=0;o<n;o++)a[o]=r[o]}function is2DArray(a){return isArrayLike(a[0])}function copyValue(a,r,n){if(isArrayLike(r[n]))if(isArrayLike(a[n])||(a[n]=[]),isTypedArray(r[n])){var o=r[n].length;a[n].length!==o&&(a[n]=new r[n].constructor(o),copyArrShallow(a[n],r[n],o))}else{var s=r[n],l=a[n],u=s.length;if(is2DArray(s))for(var c=s[0].length,d=0;d<u;d++)l[d]?copyArrShallow(l[d],s[d],c):l[d]=Array.prototype.slice.call(s[d]);else copyArrShallow(l,s,u);l.length=s.length}else a[n]=r[n]}function isValueSame(a,r){return a===r||isArrayLike(a)&&isArrayLike(r)&&is1DArraySame(a,r)}function is1DArraySame(a,r){var n=a.length;if(n!==r.length)return!1;for(var o=0;o<n;o++)if(a[o]!==r[o])return!1;return!0}function animateToShallow(a,r,n,o,s,l,u,c){for(var d=keys(o),v=s.duration,g=s.delay,y=s.additive,_=s.setToFinal,S=!isObject$5(l),x=a.animators,T=[],b=0;b<d.length;b++){var A=d[b],w=o[A];if(w!=null&&n[A]!=null&&(S||l[A]))if(isObject$5(w)&&!isArrayLike(w)&&!isGradientObject(w)){if(r){c||(n[A]=w,a.updateDuringAnimation(r));continue}animateToShallow(a,A,n[A],w,s,l&&l[A],u,c)}else T.push(A);else c||(n[A]=w,a.updateDuringAnimation(r),T.push(A))}var $=T.length;if(!y&&$)for(var C=0;C<x.length;C++){var P=x[C];if(P.targetName===r){var M=P.stopTracks(T);if(M){var E=indexOf(x,P);x.splice(E,1)}}}if(s.force||(T=filter(T,function(L){return!isValueSame(o[L],n[L])}),$=T.length),$>0||s.force&&!u.length){var D=void 0,I=void 0,R=void 0;if(c){I={},_&&(D={});for(var C=0;C<$;C++){var A=T[C];I[A]=n[A],_?D[A]=o[A]:n[A]=o[A]}}else if(_){R={};for(var C=0;C<$;C++){var A=T[C];R[A]=cloneValue(n[A]),copyValue(n,o,A)}}var P=new Animator(n,!1,!1,y?filter(x,function(O){return O.targetName===r}):null);P.targetName=r,s.scope&&(P.scope=s.scope),_&&D&&P.whenWithKeys(0,D,T),R&&P.whenWithKeys(0,R,T),P.whenWithKeys(v==null?500:v,c?I:o,T).delay(g||0),a.addAnimator(P,r),u.push(P)}}const Element$2=Element$1;var Group$3=function(a){__extends(r,a);function r(n){var o=a.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(n),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(n){return this._children[n]},r.prototype.childOfName=function(n){for(var o=this._children,s=0;s<o.length;s++)if(o[s].name===n)return o[s]},r.prototype.childCount=function(){return this._children.length},r.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},r.prototype.addBefore=function(n,o){if(n&&n!==this&&n.parent!==this&&o&&o.parent===this){var s=this._children,l=s.indexOf(o);l>=0&&(s.splice(l,0,n),this._doAdd(n))}return this},r.prototype.replace=function(n,o){var s=indexOf(this._children,n);return s>=0&&this.replaceAt(o,s),this},r.prototype.replaceAt=function(n,o){var s=this._children,l=s[o];if(n&&n!==this&&n.parent!==this&&n!==l){s[o]=n,l.parent=null;var u=this.__zr;u&&l.removeSelfFromZr(u),this._doAdd(n)}return this},r.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var o=this.__zr;o&&o!==n.__zr&&n.addSelfToZr(o),o&&o.refresh()},r.prototype.remove=function(n){var o=this.__zr,s=this._children,l=indexOf(s,n);return l<0?this:(s.splice(l,1),n.parent=null,o&&n.removeSelfFromZr(o),o&&o.refresh(),this)},r.prototype.removeAll=function(){for(var n=this._children,o=this.__zr,s=0;s<n.length;s++){var l=n[s];o&&l.removeSelfFromZr(o),l.parent=null}return n.length=0,this},r.prototype.eachChild=function(n,o){for(var s=this._children,l=0;l<s.length;l++){var u=s[l];n.call(o,u,l)}return this},r.prototype.traverse=function(n,o){for(var s=0;s<this._children.length;s++){var l=this._children[s],u=n.call(o,l);l.isGroup&&!u&&l.traverse(n,o)}return this},r.prototype.addSelfToZr=function(n){a.prototype.addSelfToZr.call(this,n);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){a.prototype.removeSelfFromZr.call(this,n);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.removeSelfFromZr(n)}},r.prototype.getBoundingRect=function(n){for(var o=new BoundingRect$1(0,0,0,0),s=n||this._children,l=[],u=null,c=0;c<s.length;c++){var d=s[c];if(!(d.ignore||d.invisible)){var v=d.getBoundingRect(),g=d.getLocalTransform(l);g?(BoundingRect$1.applyTransform(o,v,g),u=u||o.clone(),u.union(o)):(u=u||v.clone(),u.union(v))}}return u||o},r}(Element$2);Group$3.prototype.type="group";const Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(a){delete instances$1[a]}function isDarkMode(a){if(!a)return!1;if(typeof a=="string")return lum(a,1)<DARK_MODE_THRESHOLD;if(a.colorStops){for(var r=a.colorStops,n=0,o=r.length,s=0;s<o;s++)n+=lum(r[s].color,1);return n/=o,n<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function a(r,n,o){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=n,this.id=r;var l=new Storage$1,u=o.renderer||"canvas";painterCtors[u]||(u=keys(painterCtors)[0]),o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var c=new painterCtors[u](n,l,o,r),d=o.ssr||c.ssrOnly;this.storage=l,this.painter=c;var v=!env$1.node&&!env$1.worker&&!d?new HandlerProxy(c.getViewportRoot(),c.root):null,g=o.useCoarsePointer,y=g==null||g==="auto"?env$1.touchEventsSupported:!!g,_=44,S;y&&(S=retrieve2(o.pointerSize,_)),this.handler=new Handler$1(l,c,v,c.root,S),this.animation=new Animation$1({stage:{update:d?null:function(){return s._flush(!0)}}}),d||this.animation.start()}return a.prototype.add=function(r){!r||(this.storage.addRoot(r),r.addSelfToZr(this),this.refresh())},a.prototype.remove=function(r){!r||(this.storage.delRoot(r),r.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(r,n){this.painter.configLayer&&this.painter.configLayer(r,n),this.refresh()},a.prototype.setBackgroundColor=function(r){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(r),this.refresh(),this._backgroundColor=r,this._darkMode=isDarkMode(r)},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(r){this._darkMode=r},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(r){r||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},a.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},a.prototype.flush=function(){this._flush(!1)},a.prototype._flush=function(r){var n,o=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(r)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var s=getTime();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(r){this._sleepAfterStill=r},a.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},a.prototype.resize=function(r){r=r||{},this.painter.resize(r.width,r.height),this.handler.resize()},a.prototype.clearAnimation=function(){this.animation.clear()},a.prototype.getWidth=function(){return this.painter.getWidth()},a.prototype.getHeight=function(){return this.painter.getHeight()},a.prototype.setCursorStyle=function(r){this.handler.setCursorStyle(r)},a.prototype.findHover=function(r,n){return this.handler.findHover(r,n)},a.prototype.on=function(r,n,o){return this.handler.on(r,n,o),this},a.prototype.off=function(r,n){this.handler.off(r,n)},a.prototype.trigger=function(r,n){this.handler.trigger(r,n)},a.prototype.clear=function(){for(var r=this.storage.getRoots(),n=0;n<r.length;n++)r[n]instanceof Group$4&&r[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},a.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},a}();function init$2(a,r){var n=new ZRender(guid(),a,r);return instances$1[n.id]=n,n}function registerPainter(a,r){painterCtors[a]=r}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(a){return a.replace(/^\s+|\s+$/g,"")}function linearMap$2(a,r,n,o){var s=r[0],l=r[1],u=n[0],c=n[1],d=l-s,v=c-u;if(d===0)return v===0?u:(u+c)/2;if(o)if(d>0){if(a<=s)return u;if(a>=l)return c}else{if(a>=s)return u;if(a<=l)return c}else{if(a===s)return u;if(a===l)return c}return(a-s)/d*v+u}function parsePercent(a,r){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%";break}return isString(a)?_trim(a).match(/%$/)?parseFloat(a)/100*r:parseFloat(a):a==null?NaN:+a}function round$3(a,r,n){return r==null&&(r=10),r=Math.min(Math.max(0,r),ROUND_SUPPORTED_PRECISION_MAX),a=(+a).toFixed(r),n?a:+a}function asc$2(a){return a.sort(function(r,n){return r-n}),a}function getPrecision(a){if(a=+a,isNaN(a))return 0;if(a>1e-14){for(var r=1,n=0;n<15;n++,r*=10)if(Math.round(a*r)/r===a)return n}return getPrecisionSafe(a)}function getPrecisionSafe(a){var r=a.toString().toLowerCase(),n=r.indexOf("e"),o=n>0?+r.slice(n+1):0,s=n>0?n:r.length,l=r.indexOf("."),u=l<0?0:s-1-l;return Math.max(0,u-o)}function getPixelPrecision(a,r){var n=Math.log,o=Math.LN10,s=Math.floor(n(a[1]-a[0])/o),l=Math.round(n(Math.abs(r[1]-r[0]))/o),u=Math.min(Math.max(-s+l,0),20);return isFinite(u)?u:20}function getPercentSeats(a,r){var n=reduce(a,function(S,x){return S+(isNaN(x)?0:x)},0);if(n===0)return[];for(var o=Math.pow(10,r),s=map$1(a,function(S){return(isNaN(S)?0:S)/n*o*100}),l=o*100,u=map$1(s,function(S){return Math.floor(S)}),c=reduce(u,function(S,x){return S+x},0),d=map$1(s,function(S,x){return S-u[x]});c<l;){for(var v=Number.NEGATIVE_INFINITY,g=null,y=0,_=d.length;y<_;++y)d[y]>v&&(v=d[y],g=y);++u[g],d[g]=0,++c}return map$1(u,function(S){return S/o})}function addSafe(a,r){var n=Math.max(getPrecision(a),getPrecision(r)),o=a+r;return n>ROUND_SUPPORTED_PRECISION_MAX?o:round$3(o,n)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(a){var r=Math.PI*2;return(a%r+r)%r}function isRadianAroundZero(a){return a>-RADIAN_EPSILON&&a<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(a){if(a instanceof Date)return a;if(isString(a)){var r=TIME_REG.exec(a);if(!r)return new Date(NaN);if(r[8]){var n=+r[4]||0;return r[8].toUpperCase()!=="Z"&&(n-=+r[8].slice(0,3)),new Date(Date.UTC(+r[1],+(r[2]||1)-1,+r[3]||1,n,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0))}else return new Date(+r[1],+(r[2]||1)-1,+r[3]||1,+r[4]||0,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0)}else if(a==null)return new Date(NaN);return new Date(Math.round(a))}function quantity(a){return Math.pow(10,quantityExponent(a))}function quantityExponent(a){if(a===0)return 0;var r=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,r)>=10&&r++,r}function nice(a,r){var n=quantityExponent(a),o=Math.pow(10,n),s=a/o,l;return r?s<1.5?l=1:s<2.5?l=2:s<4?l=3:s<7?l=5:l=10:s<1?l=1:s<2?l=2:s<3?l=3:s<5?l=5:l=10,a=l*o,n>=-20?+a.toFixed(n<0?-n:0):a}function quantile(a,r){var n=(a.length-1)*r+1,o=Math.floor(n),s=+a[o-1],l=n-o;return l?s+l*(a[o]-s):s}function reformIntervals(a){a.sort(function(d,v){return c(d,v,0)?-1:1});for(var r=-1/0,n=1,o=0;o<a.length;){for(var s=a[o].interval,l=a[o].close,u=0;u<2;u++)s[u]<=r&&(s[u]=r,l[u]=u?1:1-n),r=s[u],n=l[u];s[0]===s[1]&&l[0]*l[1]!==1?a.splice(o,1):o++}return a;function c(d,v,g){return d.interval[g]<v.interval[g]||d.interval[g]===v.interval[g]&&(d.close[g]-v.close[g]===(g?-1:1)||!g&&c(d,v,1))}}function numericToNumber(a){var r=parseFloat(a);return r==a&&(r!==0||!isString(a)||a.indexOf("x")<=0)?r:NaN}function isNumeric(a){return!isNaN(numericToNumber(a))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(a,r){return r===0?a:getGreatestCommonDividor(r,a%r)}function getLeastCommonMultiple(a,r){return a==null?r:r==null?a:a*r/getGreatestCommonDividor(a,r)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(a,r,n){if(hasConsole){if(n){if(storedLogs[r])return;storedLogs[r]=!0}console[a](ECHARTS_PREFIX+r)}}function warn(a,r){outputLog("warn",a,r)}function throwError(a){throw new Error(a)}function interpolateNumber(a,r,n){return(r-a)*n+a}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(a){return a instanceof Array?a:a==null?[]:[a]}function defaultEmphasis(a,r,n){if(a){a[r]=a[r]||{},a.emphasis=a.emphasis||{},a.emphasis[r]=a.emphasis[r]||{};for(var o=0,s=n.length;o<s;o++){var l=n[o];!a.emphasis[r].hasOwnProperty(l)&&a[r].hasOwnProperty(l)&&(a.emphasis[r][l]=a[r][l])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(a){return isObject$5(a)&&!isArray$1(a)&&!(a instanceof Date)?a.value:a}function isDataItemOption(a){return isObject$5(a)&&!(a instanceof Array)}function mappingToExists(a,r,n){var o=n==="normalMerge",s=n==="replaceMerge",l=n==="replaceAll";a=a||[],r=(r||[]).slice();var u=createHashMap();each$f(r,function(d,v){if(!isObject$5(d)){r[v]=null;return}});var c=prepareResult(a,u,n);return(o||s)&&mappingById(c,a,u,r),o&&mappingByName(c,r),o||s?mappingByIndex(c,r,s):l&&mappingInReplaceAllMode(c,r),makeIdAndName(c),c}function prepareResult(a,r,n){var o=[];if(n==="replaceAll")return o;for(var s=0;s<a.length;s++){var l=a[s];l&&l.id!=null&&r.set(l.id,s),o.push({existing:n==="replaceMerge"||isComponentIdInternal(l)?null:l,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(a,r,n,o){each$f(o,function(s,l){if(!(!s||s.id==null)){var u=makeComparableKey(s.id),c=n.get(u);if(c!=null){var d=a[c];assert(!d.newOption,'Duplicated option on id "'+u+'".'),d.newOption=s,d.existing=r[c],o[l]=null}}})}function mappingByName(a,r){each$f(r,function(n,o){if(!(!n||n.name==null))for(var s=0;s<a.length;s++){var l=a[s].existing;if(!a[s].newOption&&l&&(l.id==null||n.id==null)&&!isComponentIdInternal(n)&&!isComponentIdInternal(l)&&keyExistAndEqual("name",l,n)){a[s].newOption=n,r[o]=null;return}}})}function mappingByIndex(a,r,n){each$f(r,function(o){if(!!o){for(var s,l=0;(s=a[l])&&(s.newOption||isComponentIdInternal(s.existing)||s.existing&&o.id!=null&&!keyExistAndEqual("id",o,s.existing));)l++;s?(s.newOption=o,s.brandNew=n):a.push({newOption:o,brandNew:n,existing:null,keyInfo:null}),l++}})}function mappingInReplaceAllMode(a,r){each$f(r,function(n){a.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(a){var r=createHashMap();each$f(a,function(n){var o=n.existing;o&&r.set(o.id,n)}),each$f(a,function(n){var o=n.newOption;assert(!o||o.id==null||!r.get(o.id)||r.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&r.set(o.id,n),!n.keyInfo&&(n.keyInfo={})}),each$f(a,function(n,o){var s=n.existing,l=n.newOption,u=n.keyInfo;if(!!isObject$5(l)){if(u.name=l.name!=null?makeComparableKey(l.name):s?s.name:DUMMY_COMPONENT_NAME_PREFIX+o,s)u.id=makeComparableKey(s.id);else if(l.id!=null)u.id=makeComparableKey(l.id);else{var c=0;do u.id="\0"+u.name+"\0"+c++;while(r.get(u.id))}r.set(u.id,n)}})}function keyExistAndEqual(a,r,n){var o=convertOptionIdName(r[a],null),s=convertOptionIdName(n[a],null);return o!=null&&s!=null&&o===s}function makeComparableKey(a){return convertOptionIdName(a,"")}function convertOptionIdName(a,r){return a==null?r:isString(a)?a:isNumber(a)||isStringSafe(a)?a+"":r}function isNameSpecified(a){var r=a.name;return!!(r&&r.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(a){return a&&a.id!=null&&makeComparableKey(a.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(a){return INTERNAL_COMPONENT_ID_PREFIX+a}function setComponentTypeToKeyInfo(a,r,n){each$f(a,function(o){var s=o.newOption;isObject$5(s)&&(o.keyInfo.mainType=r,o.keyInfo.subType=determineSubType(r,s,o.existing,n))})}function determineSubType(a,r,n,o){var s=r.type?r.type:n?n.subType:o.determineSubType(a,r);return s}function compressBatches(a,r){var n={},o={};return s(a||[],n),s(r||[],o,n),[l(n),l(o)];function s(u,c,d){for(var v=0,g=u.length;v<g;v++){var y=convertOptionIdName(u[v].seriesId,null);if(y==null)return;for(var _=normalizeToArray(u[v].dataIndex),S=d&&d[y],x=0,T=_.length;x<T;x++){var b=_[x];S&&S[b]?S[b]=null:(c[y]||(c[y]={}))[b]=1}}}function l(u,c){var d=[];for(var v in u)if(u.hasOwnProperty(v)&&u[v]!=null)if(c)d.push(+v);else{var g=l(u[v],!0);g.length&&d.push({seriesId:v,dataIndex:g})}return d}}function queryDataIndex(a,r){if(r.dataIndexInside!=null)return r.dataIndexInside;if(r.dataIndex!=null)return isArray$1(r.dataIndex)?map$1(r.dataIndex,function(n){return a.indexOfRawIndex(n)}):a.indexOfRawIndex(r.dataIndex);if(r.name!=null)return isArray$1(r.name)?map$1(r.name,function(n){return a.indexOfName(n)}):a.indexOfName(r.name)}function makeInner(){var a="__ec_inner_"+innerUniqueIndex++;return function(r){return r[a]||(r[a]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(a,r,n){var o=preParseFinder(r,n),s=o.mainTypeSpecified,l=o.queryOptionMap,u=o.others,c=u,d=n?n.defaultMainType:null;return!s&&d&&l.set(d,{}),l.each(function(v,g){var y=queryReferringComponents(a,g,v,{useDefault:d===g,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});c[g+"Models"]=y.models,c[g+"Model"]=y.models[0]}),c}function preParseFinder(a,r){var n;if(isString(a)){var o={};o[a+"Index"]=0,n=o}else n=a;var s=createHashMap(),l={},u=!1;return each$f(n,function(c,d){if(d==="dataIndex"||d==="dataIndexInside"){l[d]=c;return}var v=d.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],y=(v[2]||"").toLowerCase();if(!(!g||!y||r&&r.includeMainTypes&&indexOf(r.includeMainTypes,g)<0)){u=u||!!g;var _=s.get(g)||s.set(g,{});_[y]=c}}),{mainTypeSpecified:u,queryOptionMap:s,others:l}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(a,r,n,o){o=o||SINGLE_REFERRING;var s=n.index,l=n.id,u=n.name,c={models:null,specified:s!=null||l!=null||u!=null};if(!c.specified){var d=void 0;return c.models=o.useDefault&&(d=a.getComponent(r))?[d]:[],c}return s==="none"||s===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),c.models=[],c):(s==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),s=l=u=null),c.models=a.queryComponents({mainType:r,index:s,id:l,name:u}),c)}function setAttribute(a,r,n){a.setAttribute?a.setAttribute(r,n):a[r]=n}function getAttribute(a,r){return a.getAttribute?a.getAttribute(r):a[r]}function getTooltipRenderMode(a){return a==="auto"?env$1.domSupported?"html":"richText":a||"html"}function groupData(a,r){var n=createHashMap(),o=[];return each$f(a,function(s){var l=r(s);(n.get(l)||(o.push(l),n.set(l,[]))).push(s)}),{keys:o,buckets:n}}function interpolateRawValues(a,r,n,o,s){var l=r==null||r==="auto";if(o==null)return o;if(isNumber(o)){var u=interpolateNumber(n||0,o,s);return round$3(u,l?Math.max(getPrecision(n||0),getPrecision(o)):r)}else{if(isString(o))return s<1?n:o;for(var c=[],d=n,v=o,g=Math.max(d?d.length:0,v.length),y=0;y<g;++y){var _=a.getDimensionInfo(y);if(_&&_.type==="ordinal")c[y]=(s<1&&d?d:v)[y];else{var S=d&&d[y]?d[y]:0,x=v[y],u=interpolateNumber(S,x,s);c[y]=round$3(u,l?Math.max(getPrecision(S),getPrecision(x)):r)}}return c}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(a){var r={main:"",sub:""};if(a){var n=a.split(TYPE_DELIMITER);r.main=n[0]||"",r.sub=n[1]||""}return r}function checkClassType(a){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function isExtendedClass(a){return!!(a&&a[IS_EXTENDED_CLASS])}function enableClassExtend(a,r){a.$constructor=a,a.extend=function(n){var o=this,s;return isESClass(o)?s=function(l){__extends(u,l);function u(){return l.apply(this,arguments)||this}return u}(o):(s=function(){(n.$constructor||o).apply(this,arguments)},inherits(s,this)),extend(s.prototype,n),s[IS_EXTENDED_CLASS]=!0,s.extend=this.extend,s.superCall=superCall,s.superApply=superApply,s.superClass=o,s}}function isESClass(a){return isFunction(a)&&/^class\s/.test(Function.prototype.toString.call(a))}function mountExtend(a,r){a.extend=r.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(a){var r=["__\0is_clz",classBase++].join("_");a.prototype[r]=!0,a.isInstance=function(n){return!!(n&&n[r])}}function superCall(a,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this.superClass.prototype[r].apply(a,n)}function superApply(a,r,n){return this.superClass.prototype[r].apply(a,n)}function enableClassManagement(a){var r={};a.registerClass=function(o){var s=o.type||o.prototype.type;if(s){checkClassType(s),o.prototype.type=s;var l=parseClassType(s);if(!l.sub)r[l.main]=o;else if(l.sub!==IS_CONTAINER){var u=n(l);u[l.sub]=o}}return o},a.getClass=function(o,s,l){var u=r[o];if(u&&u[IS_CONTAINER]&&(u=s?u[s]:null),l&&!u)throw new Error(s?"Component "+o+"."+(s||"")+" is used but not imported.":o+".type should be specified.");return u},a.getClassesByMainType=function(o){var s=parseClassType(o),l=[],u=r[s.main];return u&&u[IS_CONTAINER]?each$f(u,function(c,d){d!==IS_CONTAINER&&l.push(c)}):l.push(u),l},a.hasClass=function(o){var s=parseClassType(o);return!!r[s.main]},a.getAllClassMainTypes=function(){var o=[];return each$f(r,function(s,l){o.push(l)}),o},a.hasSubTypes=function(o){var s=parseClassType(o),l=r[s.main];return l&&l[IS_CONTAINER]};function n(o){var s=r[o.main];return(!s||!s[IS_CONTAINER])&&(s=r[o.main]={},s[IS_CONTAINER]=!0),s}}function makeStyleMapper(a,r){for(var n=0;n<a.length;n++)a[n][1]||(a[n][1]=a[n][0]);return r=r||!1,function(o,s,l){for(var u={},c=0;c<a.length;c++){var d=a[c][1];if(!(s&&indexOf(s,d)>=0||l&&indexOf(l,d)<0)){var v=o.getShallow(d,r);v!=null&&(u[a[c][0]]=v)}}return u}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function a(){}return a.prototype.getAreaStyle=function(r,n){return getAreaStyle(this,r,n)},a}(),globalImageCache=new LRU$1(50);function findExistImage(a){if(typeof a=="string"){var r=globalImageCache.get(a);return r&&r.image}else return a}function createOrUpdateImage(a,r,n,o,s){if(a)if(typeof a=="string"){if(r&&r.__zrImageSrc===a||!n)return r;var l=globalImageCache.get(a),u={hostEl:n,cb:o,cbPayload:s};return l?(r=l.image,!isImageReady(r)&&l.pending.push(u)):(r=platformApi.loadImage(a,imageOnLoad,imageOnLoad),r.__zrImageSrc=a,globalImageCache.put(a,r.__cachedImgObj={image:r,pending:[u]})),r}else return a;else return r}function imageOnLoad(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var r=0;r<a.pending.length;r++){var n=a.pending[r],o=n.cb;o&&o(this,n.cbPayload),n.hostEl.dirty()}a.pending.length=0}function isImageReady(a){return a&&a.width&&a.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(a,r,n,o,s){if(!r)return"";var l=(a+"").split(`
`);s=prepareTruncateOptions(r,n,o,s);for(var u=0,c=l.length;u<c;u++)l[u]=truncateSingleLine(l[u],s);return l.join(`
`)}function prepareTruncateOptions(a,r,n,o){o=o||{};var s=extend({},o);s.font=r,n=retrieve2(n,"..."),s.maxIterations=retrieve2(o.maxIterations,2);var l=s.minChar=retrieve2(o.minChar,0);s.cnCharWidth=getWidth("\u56FD",r);var u=s.ascCharWidth=getWidth("a",r);s.placeholder=retrieve2(o.placeholder,"");for(var c=a=Math.max(0,a-1),d=0;d<l&&c>=u;d++)c-=u;var v=getWidth(n,r);return v>c&&(n="",v=0),c=a-v,s.ellipsis=n,s.ellipsisWidth=v,s.contentWidth=c,s.containerWidth=a,s}function truncateSingleLine(a,r){var n=r.containerWidth,o=r.font,s=r.contentWidth;if(!n)return"";var l=getWidth(a,o);if(l<=n)return a;for(var u=0;;u++){if(l<=s||u>=r.maxIterations){a+=r.ellipsis;break}var c=u===0?estimateLength(a,s,r.ascCharWidth,r.cnCharWidth):l>0?Math.floor(a.length*s/l):0;a=a.substr(0,c),l=getWidth(a,o)}return a===""&&(a=r.placeholder),a}function estimateLength(a,r,n,o){for(var s=0,l=0,u=a.length;l<u&&s<r;l++){var c=a.charCodeAt(l);s+=0<=c&&c<=127?n:o}return l}function parsePlainText(a,r){a!=null&&(a+="");var n=r.overflow,o=r.padding,s=r.font,l=n==="truncate",u=getLineHeight(s),c=retrieve2(r.lineHeight,u),d=!!r.backgroundColor,v=r.lineOverflow==="truncate",g=r.width,y;g!=null&&(n==="break"||n==="breakAll")?y=a?wrapText(a,r.font,g,n==="breakAll",0).lines:[]:y=a?a.split(`
`):[];var _=y.length*c,S=retrieve2(r.height,_);if(_>S&&v){var x=Math.floor(S/c);y=y.slice(0,x)}if(a&&l&&g!=null)for(var T=prepareTruncateOptions(g,s,r.ellipsis,{minChar:r.truncateMinChar,placeholder:r.placeholder}),b=0;b<y.length;b++)y[b]=truncateSingleLine(y[b],T);for(var A=S,w=0,b=0;b<y.length;b++)w=Math.max(getWidth(y[b],s),w);g==null&&(g=w);var $=w;return o&&(A+=o[0]+o[2],$+=o[1]+o[3],g+=o[1]+o[3]),d&&($=g),{lines:y,height:S,outerWidth:$,outerHeight:A,lineHeight:c,calculatedLineHeight:u,contentWidth:w,contentHeight:_,width:g}}var RichTextToken=function(){function a(){}return a}(),RichTextLine=function(){function a(r){this.tokens=[],r&&(this.tokens=r)}return a}(),RichTextContentBlock=function(){function a(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return a}();function parseRichText(a,r){var n=new RichTextContentBlock;if(a!=null&&(a+=""),!a)return n;for(var o=r.width,s=r.height,l=r.overflow,u=(l==="break"||l==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:l==="breakAll"}:null,c=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(a))!=null;){var v=d.index;v>c&&pushTokens(n,a.substring(c,v),r,u),pushTokens(n,d[2],r,u,d[1]),c=STYLE_REG.lastIndex}c<a.length&&pushTokens(n,a.substring(c,a.length),r,u);var g=[],y=0,_=0,S=r.padding,x=l==="truncate",T=r.lineOverflow==="truncate";function b(H,Y,X){H.width=Y,H.lineHeight=X,y+=X,_=Math.max(_,Y)}e:for(var A=0;A<n.lines.length;A++){for(var w=n.lines[A],$=0,C=0,P=0;P<w.tokens.length;P++){var M=w.tokens[P],E=M.styleName&&r.rich[M.styleName]||{},D=M.textPadding=E.padding,I=D?D[1]+D[3]:0,R=M.font=E.font||r.font;M.contentHeight=getLineHeight(R);var L=retrieve2(E.height,M.contentHeight);if(M.innerHeight=L,D&&(L+=D[0]+D[2]),M.height=L,M.lineHeight=retrieve3(E.lineHeight,r.lineHeight,L),M.align=E&&E.align||r.align,M.verticalAlign=E&&E.verticalAlign||"middle",T&&s!=null&&y+M.lineHeight>s){P>0?(w.tokens=w.tokens.slice(0,P),b(w,C,$),n.lines=n.lines.slice(0,A+1)):n.lines=n.lines.slice(0,A);break e}var O=E.width,N=O==null||O==="auto";if(typeof O=="string"&&O.charAt(O.length-1)==="%")M.percentWidth=O,g.push(M),M.contentWidth=getWidth(M.text,R);else{if(N){var F=E.backgroundColor,B=F&&F.image;B&&(B=findExistImage(B),isImageReady(B)&&(M.width=Math.max(M.width,B.width*L/B.height)))}var z=x&&o!=null?o-C:null;z!=null&&z<M.width?!N||z<I?(M.text="",M.width=M.contentWidth=0):(M.text=truncateText(M.text,z-I,R,r.ellipsis,{minChar:r.truncateMinChar}),M.width=M.contentWidth=getWidth(M.text,R)):M.contentWidth=getWidth(M.text,R)}M.width+=I,C+=M.width,E&&($=Math.max($,M.lineHeight))}b(w,C,$)}n.outerWidth=n.width=retrieve2(o,_),n.outerHeight=n.height=retrieve2(s,y),n.contentHeight=y,n.contentWidth=_,S&&(n.outerWidth+=S[1]+S[3],n.outerHeight+=S[0]+S[2]);for(var A=0;A<g.length;A++){var M=g[A],U=M.percentWidth;M.width=parseInt(U,10)/100*n.width}return n}function pushTokens(a,r,n,o,s){var l=r==="",u=s&&n.rich[s]||{},c=a.lines,d=u.font||n.font,v=!1,g,y;if(o){var _=u.padding,S=_?_[1]+_[3]:0;if(u.width!=null&&u.width!=="auto"){var x=parsePercent$1(u.width,o.width)+S;c.length>0&&x+o.accumWidth>o.width&&(g=r.split(`
`),v=!0),o.accumWidth=x}else{var T=wrapText(r,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=T.accumWidth+S,y=T.linesWidths,g=T.lines}}else g=r.split(`
`);for(var b=0;b<g.length;b++){var A=g[b],w=new RichTextToken;if(w.styleName=s,w.text=A,w.isLineHolder=!A&&!l,typeof u.width=="number"?w.width=u.width:w.width=y?y[b]:getWidth(A,d),!b&&!v){var $=(c[c.length-1]||(c[0]=new RichTextLine)).tokens,C=$.length;C===1&&$[0].isLineHolder?$[0]=w:(A||!C||l)&&$.push(w)}else c.push(new RichTextLine([w]))}}function isLatin(a){var r=a.charCodeAt(0);return r>=33&&r<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(a,r){return a[r]=!0,a},{});function isWordBreakChar(a){return isLatin(a)?!!breakCharMap[a]:!0}function wrapText(a,r,n,o,s){for(var l=[],u=[],c="",d="",v=0,g=0,y=0;y<a.length;y++){var _=a.charAt(y);if(_===`
`){d&&(c+=d,g+=v),l.push(c),u.push(g),c="",d="",v=0,g=0;continue}var S=getWidth(_,r),x=o?!1:!isWordBreakChar(_);if(l.length?g+S>n:s+g+S>n){g?(c||d)&&(x?(c||(c=d,d="",v=0,g=v),l.push(c),u.push(g-v),d+=_,v+=S,c="",g=v):(d&&(c+=d,d="",v=0),l.push(c),u.push(g),c=_,g=S)):x?(l.push(d),u.push(v),d=_,v=S):(l.push(_),u.push(S));continue}g+=S,x?(d+=_,v+=S):(d&&(c+=d,d="",v=0),c+=_)}return!l.length&&!c&&(c=a,d="",v=0),d&&(c+=d),c&&(l.push(c),u.push(g)),l.length===1&&(g+=s),{accumWidth:g,lines:l,linesWidths:u}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype._init=function(n){for(var o=keys(n),s=0;s<o.length;s++){var l=o[s];l==="style"?this.useStyle(n[l]):a.prototype.attrKV.call(this,l,n[l])}this.style||this.useStyle({})},r.prototype.beforeBrush=function(){},r.prototype.afterBrush=function(){},r.prototype.innerBeforeBrush=function(){},r.prototype.innerAfterBrush=function(){},r.prototype.shouldBePainted=function(n,o,s,l){var u=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,n,o)||u&&!u[0]&&!u[3])return!1;if(s&&this.__clipPaths){for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1}if(l&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},r.prototype.contain=function(n,o){return this.rectContain(n,o)},r.prototype.traverse=function(n,o){n.call(o,this)},r.prototype.rectContain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();return l.contain(s[0],s[1])},r.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,s=this.getBoundingRect(),l=this.style,u=l.shadowBlur||0,c=l.shadowOffsetX||0,d=l.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),o?BoundingRect$1.applyTransform(n,s,o):n.copy(s),(u||c||d)&&(n.width+=u*2+Math.abs(c),n.height+=u*2+Math.abs(d),n.x=Math.min(n.x,n.x+c-u),n.y=Math.min(n.y,n.y+d-u));var v=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-v),n.y=Math.floor(n.y-v),n.width=Math.ceil(n.width+1+v*2),n.height=Math.ceil(n.height+1+v*2))}return n},r.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},r.prototype.getPrevPaintRect=function(){return this._prevPaintRect},r.prototype.animateStyle=function(n){return this.animate("style",n)},r.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},r.prototype.attrKV=function(n,o){n!=="style"?a.prototype.attrKV.call(this,n,o):this.style?this.setStyle(o):this.useStyle(o)},r.prototype.setStyle=function(n,o){return typeof n=="string"?this.style[n]=o:extend(this.style,n),this.dirtyStyle(),this},r.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},r.prototype.dirty=function(){this.dirtyStyle()},r.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},r.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},r.prototype.createStyle=function(n){return createObject(DEFAULT_COMMON_STYLE,n)},r.prototype.useStyle=function(n){n[STYLE_MAGIC_KEY]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},r.prototype.isStyleObject=function(n){return n[STYLE_MAGIC_KEY]},r.prototype._innerSaveToNormal=function(n){a.prototype._innerSaveToNormal.call(this,n);var o=this._normalState;n.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,o,PRIMARY_STATES_KEYS)},r.prototype._applyStateObj=function(n,o,s,l,u,c){a.prototype._applyStateObj.call(this,n,o,s,l,u,c);var d=!(o&&l),v;if(o&&o.style?u?l?v=o.style:(v=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(v,o.style)):(v=this._mergeStyle(this.createStyle(),l?this.style:s.style),this._mergeStyle(v,o.style)):d&&(v=s.style),v)if(u){var g=this.style;if(this.style=this.createStyle(d?{}:g),d)for(var y=keys(g),_=0;_<y.length;_++){var S=y[_];S in v&&(v[S]=v[S],this.style[S]=g[S])}for(var x=keys(v),_=0;_<x.length;_++){var S=x[_];this.style[S]=this.style[S]}this._transitionState(n,{style:v},c,this.getAnimationStyleProps())}else this.useStyle(v);for(var T=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,_=0;_<T.length;_++){var S=T[_];o&&o[S]!=null?this[S]=o[S]:d&&s[S]!=null&&(this[S]=s[S])}},r.prototype._mergeStates=function(n){for(var o=a.prototype._mergeStates.call(this,n),s,l=0;l<n.length;l++){var u=n[l];u.style&&(s=s||{},this._mergeStyle(s,u.style))}return s&&(o.style=s),o},r.prototype._mergeStyle=function(n,o){return extend(n,o),n},r.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},r.initDefaultProps=function(){var n=r.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),r}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(a,r,n){return tmpRect.copy(a.getBoundingRect()),a.transform&&tmpRect.applyTransform(a.transform),viewRect.width=r,viewRect.height=n,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(a,r,n){if(a.length!==0){for(var o=a[0],s=o[0],l=o[0],u=o[1],c=o[1],d=1;d<a.length;d++)o=a[d],s=mathMin$9(s,o[0]),l=mathMax$9(l,o[0]),u=mathMin$9(u,o[1]),c=mathMax$9(c,o[1]);r[0]=s,r[1]=u,n[0]=l,n[1]=c}}function fromLine(a,r,n,o,s,l){s[0]=mathMin$9(a,n),s[1]=mathMin$9(r,o),l[0]=mathMax$9(a,n),l[1]=mathMax$9(r,o)}var xDim=[],yDim=[];function fromCubic(a,r,n,o,s,l,u,c,d,v){var g=cubicExtrema,y=cubicAt,_=g(a,n,s,u,xDim);d[0]=1/0,d[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var S=0;S<_;S++){var x=y(a,n,s,u,xDim[S]);d[0]=mathMin$9(x,d[0]),v[0]=mathMax$9(x,v[0])}_=g(r,o,l,c,yDim);for(var S=0;S<_;S++){var T=y(r,o,l,c,yDim[S]);d[1]=mathMin$9(T,d[1]),v[1]=mathMax$9(T,v[1])}d[0]=mathMin$9(a,d[0]),v[0]=mathMax$9(a,v[0]),d[0]=mathMin$9(u,d[0]),v[0]=mathMax$9(u,v[0]),d[1]=mathMin$9(r,d[1]),v[1]=mathMax$9(r,v[1]),d[1]=mathMin$9(c,d[1]),v[1]=mathMax$9(c,v[1])}function fromQuadratic(a,r,n,o,s,l,u,c){var d=quadraticExtremum,v=quadraticAt$1,g=mathMax$9(mathMin$9(d(a,n,s),1),0),y=mathMax$9(mathMin$9(d(r,o,l),1),0),_=v(a,n,s,g),S=v(r,o,l,y);u[0]=mathMin$9(a,s,_),u[1]=mathMin$9(r,l,S),c[0]=mathMax$9(a,s,_),c[1]=mathMax$9(r,l,S)}function fromArc(a,r,n,o,s,l,u,c,d){var v=min$1,g=max$1,y=Math.abs(s-l);if(y%PI2$8<1e-4&&y>1e-4){c[0]=a-n,c[1]=r-o,d[0]=a+n,d[1]=r+o;return}if(start[0]=mathCos$4(s)*n+a,start[1]=mathSin$4(s)*o+r,end[0]=mathCos$4(l)*n+a,end[1]=mathSin$4(l)*o+r,v(c,start,end),g(d,start,end),s=s%PI2$8,s<0&&(s=s+PI2$8),l=l%PI2$8,l<0&&(l=l+PI2$8),s>l&&!u?l+=PI2$8:s<l&&u&&(s+=PI2$8),u){var _=l;l=s,s=_}for(var S=0;S<l;S+=Math.PI/2)S>s&&(extremity[0]=mathCos$4(S)*n+a,extremity[1]=mathSin$4(S)*o+r,v(c,extremity,c),g(d,extremity,d))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(a){var r=Math.round(a/PI$8*1e8)/1e8;return r%2*PI$8}function normalizeArcAngles(a,r){var n=modPI2(a[0]);n<0&&(n+=PI2$7);var o=n-a[0],s=a[1];s+=o,!r&&s-n>=PI2$7?s=n+PI2$7:r&&n-s>=PI2$7?s=n-PI2$7:!r&&n>s?s=n+(PI2$7-modPI2(n-s)):r&&n<s&&(s=n-(PI2$7-modPI2(s-n))),a[0]=n,a[1]=s}var PathProxy=function(){function a(r){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,r&&(this._saveData=!1),this._saveData&&(this.data=[])}return a.prototype.increaseVersion=function(){this._version++},a.prototype.getVersion=function(){return this._version},a.prototype.setScale=function(r,n,o){o=o||0,o>0&&(this._ux=mathAbs$2(o/devicePixelRatio/r)||0,this._uy=mathAbs$2(o/devicePixelRatio/n)||0)},a.prototype.setDPR=function(r){this.dpr=r},a.prototype.setContext=function(r){this._ctx=r},a.prototype.getContext=function(){return this._ctx},a.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},a.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},a.prototype.moveTo=function(r,n){return this._drawPendingPt(),this.addData(CMD$4.M,r,n),this._ctx&&this._ctx.moveTo(r,n),this._x0=r,this._y0=n,this._xi=r,this._yi=n,this},a.prototype.lineTo=function(r,n){var o=mathAbs$2(r-this._xi),s=mathAbs$2(n-this._yi),l=o>this._ux||s>this._uy;if(this.addData(CMD$4.L,r,n),this._ctx&&l&&this._ctx.lineTo(r,n),l)this._xi=r,this._yi=n,this._pendingPtDist=0;else{var u=o*o+s*s;u>this._pendingPtDist&&(this._pendingPtX=r,this._pendingPtY=n,this._pendingPtDist=u)}return this},a.prototype.bezierCurveTo=function(r,n,o,s,l,u){return this._drawPendingPt(),this.addData(CMD$4.C,r,n,o,s,l,u),this._ctx&&this._ctx.bezierCurveTo(r,n,o,s,l,u),this._xi=l,this._yi=u,this},a.prototype.quadraticCurveTo=function(r,n,o,s){return this._drawPendingPt(),this.addData(CMD$4.Q,r,n,o,s),this._ctx&&this._ctx.quadraticCurveTo(r,n,o,s),this._xi=o,this._yi=s,this},a.prototype.arc=function(r,n,o,s,l,u){this._drawPendingPt(),tmpAngles[0]=s,tmpAngles[1]=l,normalizeArcAngles(tmpAngles,u),s=tmpAngles[0],l=tmpAngles[1];var c=l-s;return this.addData(CMD$4.A,r,n,o,o,s,c,0,u?0:1),this._ctx&&this._ctx.arc(r,n,o,s,l,u),this._xi=mathCos$3(l)*o+r,this._yi=mathSin$3(l)*o+n,this},a.prototype.arcTo=function(r,n,o,s,l){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(r,n,o,s,l),this},a.prototype.rect=function(r,n,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(r,n,o,s),this.addData(CMD$4.R,r,n,o,s),this},a.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var r=this._ctx,n=this._x0,o=this._y0;return r&&r.closePath(),this._xi=n,this._yi=o,this},a.prototype.fill=function(r){r&&r.fill(),this.toStatic()},a.prototype.stroke=function(r){r&&r.stroke(),this.toStatic()},a.prototype.len=function(){return this._len},a.prototype.setData=function(r){var n=r.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var o=0;o<n;o++)this.data[o]=r[o];this._len=n},a.prototype.appendPath=function(r){r instanceof Array||(r=[r]);for(var n=r.length,o=0,s=this._len,l=0;l<n;l++)o+=r[l].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+o));for(var l=0;l<n;l++)for(var u=r[l].data,c=0;c<u.length;c++)this.data[s++]=u[c];this._len=s},a.prototype.addData=function(r,n,o,s,l,u,c,d,v){if(!!this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},a.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},a.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var r=[],n=0;n<this._len;n++)r[n]=this.data[n];this.data=r}},a.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var r=this.data;r instanceof Array&&(r.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(r)))}},a.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var r=this.data,n=0,o=0,s=0,l=0,u;for(u=0;u<this._len;){var c=r[u++],d=u===1;switch(d&&(n=r[u],o=r[u+1],s=n,l=o),c){case CMD$4.M:n=s=r[u++],o=l=r[u++],min2[0]=s,min2[1]=l,max2[0]=s,max2[1]=l;break;case CMD$4.L:fromLine(n,o,r[u],r[u+1],min2,max2),n=r[u++],o=r[u++];break;case CMD$4.C:fromCubic(n,o,r[u++],r[u++],r[u++],r[u++],r[u],r[u+1],min2,max2),n=r[u++],o=r[u++];break;case CMD$4.Q:fromQuadratic(n,o,r[u++],r[u++],r[u],r[u+1],min2,max2),n=r[u++],o=r[u++];break;case CMD$4.A:var v=r[u++],g=r[u++],y=r[u++],_=r[u++],S=r[u++],x=r[u++]+S;u+=1;var T=!r[u++];d&&(s=mathCos$3(S)*y+v,l=mathSin$3(S)*_+g),fromArc(v,g,y,_,S,x,T,min2,max2),n=mathCos$3(x)*y+v,o=mathSin$3(x)*_+g;break;case CMD$4.R:s=n=r[u++],l=o=r[u++];var b=r[u++],A=r[u++];fromLine(s,l,s+b,l+A,min2,max2);break;case CMD$4.Z:n=s,o=l;break}min$1(min,min,min2),max$1(max,max,max2)}return u===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},a.prototype._calculateLength=function(){var r=this.data,n=this._len,o=this._ux,s=this._uy,l=0,u=0,c=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,y=0,_=0;_<n;){var S=r[_++],x=_===1;x&&(l=r[_],u=r[_+1],c=l,d=u);var T=-1;switch(S){case CMD$4.M:l=c=r[_++],u=d=r[_++];break;case CMD$4.L:{var b=r[_++],A=r[_++],w=b-l,$=A-u;(mathAbs$2(w)>o||mathAbs$2($)>s||_===n-1)&&(T=Math.sqrt(w*w+$*$),l=b,u=A);break}case CMD$4.C:{var C=r[_++],P=r[_++],b=r[_++],A=r[_++],M=r[_++],E=r[_++];T=cubicLength(l,u,C,P,b,A,M,E,10),l=M,u=E;break}case CMD$4.Q:{var C=r[_++],P=r[_++],b=r[_++],A=r[_++];T=quadraticLength(l,u,C,P,b,A,10),l=b,u=A;break}case CMD$4.A:var D=r[_++],I=r[_++],R=r[_++],L=r[_++],O=r[_++],N=r[_++],F=N+O;_+=1,r[_++],x&&(c=mathCos$3(O)*R+D,d=mathSin$3(O)*L+I),T=mathMax$8(R,L)*mathMin$8(PI2$7,Math.abs(N)),l=mathCos$3(F)*R+D,u=mathSin$3(F)*L+I;break;case CMD$4.R:{c=l=r[_++],d=u=r[_++];var B=r[_++],z=r[_++];T=B*2+z*2;break}case CMD$4.Z:{var w=c-l,$=d-u;T=Math.sqrt(w*w+$*$),l=c,u=d;break}}T>=0&&(v[y++]=T,g+=T)}return this._pathLen=g,g},a.prototype.rebuildPath=function(r,n){var o=this.data,s=this._ux,l=this._uy,u=this._len,c,d,v,g,y,_,S=n<1,x,T,b=0,A=0,w,$=0,C,P;if(S&&(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,T=this._pathLen,w=n*T,!w))return;e:for(var M=0;M<u;){var E=o[M++],D=M===1;switch(D&&(v=o[M],g=o[M+1],c=v,d=g),E!==CMD$4.L&&$>0&&(r.lineTo(C,P),$=0),E){case CMD$4.M:c=v=o[M++],d=g=o[M++],r.moveTo(v,g);break;case CMD$4.L:{y=o[M++],_=o[M++];var I=mathAbs$2(y-v),R=mathAbs$2(_-g);if(I>s||R>l){if(S){var L=x[A++];if(b+L>w){var O=(w-b)/L;r.lineTo(v*(1-O)+y*O,g*(1-O)+_*O);break e}b+=L}r.lineTo(y,_),v=y,g=_,$=0}else{var N=I*I+R*R;N>$&&(C=y,P=_,$=N)}break}case CMD$4.C:{var F=o[M++],B=o[M++],z=o[M++],U=o[M++],H=o[M++],Y=o[M++];if(S){var L=x[A++];if(b+L>w){var O=(w-b)/L;cubicSubdivide(v,F,z,H,O,tmpOutX),cubicSubdivide(g,B,U,Y,O,tmpOutY),r.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}b+=L}r.bezierCurveTo(F,B,z,U,H,Y),v=H,g=Y;break}case CMD$4.Q:{var F=o[M++],B=o[M++],z=o[M++],U=o[M++];if(S){var L=x[A++];if(b+L>w){var O=(w-b)/L;quadraticSubdivide(v,F,z,O,tmpOutX),quadraticSubdivide(g,B,U,O,tmpOutY),r.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}b+=L}r.quadraticCurveTo(F,B,z,U),v=z,g=U;break}case CMD$4.A:var X=o[M++],te=o[M++],oe=o[M++],ce=o[M++],de=o[M++],Z=o[M++],re=o[M++],q=!o[M++],J=oe>ce?oe:ce,he=mathAbs$2(oe-ce)>.001,fe=de+Z,ee=!1;if(S){var L=x[A++];b+L>w&&(fe=de+Z*(w-b)/L,ee=!0),b+=L}if(he&&r.ellipse?r.ellipse(X,te,oe,ce,re,de,fe,q):r.arc(X,te,J,de,fe,q),ee)break e;D&&(c=mathCos$3(de)*oe+X,d=mathSin$3(de)*ce+te),v=mathCos$3(fe)*oe+X,g=mathSin$3(fe)*ce+te;break;case CMD$4.R:c=v=o[M],d=g=o[M+1],y=o[M++],_=o[M++];var ne=o[M++],V=o[M++];if(S){var L=x[A++];if(b+L>w){var G=w-b;r.moveTo(y,_),r.lineTo(y+mathMin$8(G,ne),_),G-=ne,G>0&&r.lineTo(y+ne,_+mathMin$8(G,V)),G-=V,G>0&&r.lineTo(y+mathMax$8(ne-G,0),_+V),G-=ne,G>0&&r.lineTo(y,_+mathMax$8(V-G,0));break e}b+=L}r.rect(y,_,ne,V);break;case CMD$4.Z:if(S){var L=x[A++];if(b+L>w){var O=(w-b)/L;r.lineTo(v*(1-O)+c*O,g*(1-O)+d*O);break e}b+=L}r.closePath(),v=c,g=d}}},a.prototype.clone=function(){var r=new a,n=this.data;return r.data=n.slice?n.slice():Array.prototype.slice.call(n),r._len=this._len,r},a.CMD=CMD$4,a.initDefaultProps=function(){var r=a.prototype;r._saveData=!0,r._ux=0,r._uy=0,r._pendingPtDist=0,r._version=0}(),a}();function containStroke$4(a,r,n,o,s,l,u){if(s===0)return!1;var c=s,d=0,v=a;if(u>r+c&&u>o+c||u<r-c&&u<o-c||l>a+c&&l>n+c||l<a-c&&l<n-c)return!1;if(a!==n)d=(r-o)/(a-n),v=(a*o-n*r)/(a-n);else return Math.abs(l-a)<=c/2;var g=d*l-u+v,y=g*g/(d*d+1);return y<=c/2*c/2}function containStroke$3(a,r,n,o,s,l,u,c,d,v,g){if(d===0)return!1;var y=d;if(g>r+y&&g>o+y&&g>l+y&&g>c+y||g<r-y&&g<o-y&&g<l-y&&g<c-y||v>a+y&&v>n+y&&v>s+y&&v>u+y||v<a-y&&v<n-y&&v<s-y&&v<u-y)return!1;var _=cubicProjectPoint(a,r,n,o,s,l,u,c,v,g,null);return _<=y/2}function containStroke$2(a,r,n,o,s,l,u,c,d){if(u===0)return!1;var v=u;if(d>r+v&&d>o+v&&d>l+v||d<r-v&&d<o-v&&d<l-v||c>a+v&&c>n+v&&c>s+v||c<a-v&&c<n-v&&c<s-v)return!1;var g=quadraticProjectPoint(a,r,n,o,s,l,c,d,null);return g<=v/2}var PI2$6=Math.PI*2;function normalizeRadian(a){return a%=PI2$6,a<0&&(a+=PI2$6),a}var PI2$5=Math.PI*2;function containStroke$1(a,r,n,o,s,l,u,c,d){if(u===0)return!1;var v=u;c-=a,d-=r;var g=Math.sqrt(c*c+d*d);if(g-v>n||g+v<n)return!1;if(Math.abs(o-s)%PI2$5<1e-4)return!0;if(l){var y=o;o=normalizeRadian(s),s=normalizeRadian(y)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI2$5);var _=Math.atan2(d,c);return _<0&&(_+=PI2$5),_>=o&&_<=s||_+PI2$5>=o&&_+PI2$5<=s}function windingLine(a,r,n,o,s,l){if(l>r&&l>o||l<r&&l<o||o===r)return 0;var u=(l-r)/(o-r),c=o<r?1:-1;(u===1||u===0)&&(c=o<r?.5:-.5);var d=u*(n-a)+a;return d===s?1/0:d>s?c:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(a,r){return Math.abs(a-r)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var a=extrema[0];extrema[0]=extrema[1],extrema[1]=a}function windingCubic(a,r,n,o,s,l,u,c,d,v){if(v>r&&v>o&&v>l&&v>c||v<r&&v<o&&v<l&&v<c)return 0;var g=cubicRootAt(r,o,l,c,v,roots);if(g===0)return 0;for(var y=0,_=-1,S=void 0,x=void 0,T=0;T<g;T++){var b=roots[T],A=b===0||b===1?.5:1,w=cubicAt(a,n,s,u,b);w<d||(_<0&&(_=cubicExtrema(r,o,l,c,extrema),extrema[1]<extrema[0]&&_>1&&swapExtrema(),S=cubicAt(r,o,l,c,extrema[0]),_>1&&(x=cubicAt(r,o,l,c,extrema[1]))),_===2?b<extrema[0]?y+=S<r?A:-A:b<extrema[1]?y+=x<S?A:-A:y+=c<x?A:-A:b<extrema[0]?y+=S<r?A:-A:y+=c<S?A:-A)}return y}function windingQuadratic(a,r,n,o,s,l,u,c){if(c>r&&c>o&&c>l||c<r&&c<o&&c<l)return 0;var d=quadraticRootAt(r,o,l,c,roots);if(d===0)return 0;var v=quadraticExtremum(r,o,l);if(v>=0&&v<=1){for(var g=0,y=quadraticAt$1(r,o,l,v),_=0;_<d;_++){var S=roots[_]===0||roots[_]===1?.5:1,x=quadraticAt$1(a,n,s,roots[_]);x<u||(roots[_]<v?g+=y<r?S:-S:g+=l<y?S:-S)}return g}else{var S=roots[0]===0||roots[0]===1?.5:1,x=quadraticAt$1(a,n,s,roots[0]);return x<u?0:l<r?S:-S}}function windingArc(a,r,n,o,s,l,u,c){if(c-=r,c>n||c<-n)return 0;var d=Math.sqrt(n*n-c*c);roots[0]=-d,roots[1]=d;var v=Math.abs(o-s);if(v<1e-4)return 0;if(v>=PI2$4-1e-4){o=0,s=PI2$4;var g=l?1:-1;return u>=roots[0]+a&&u<=roots[1]+a?g:0}if(o>s){var y=o;o=s,s=y}o<0&&(o+=PI2$4,s+=PI2$4);for(var _=0,S=0;S<2;S++){var x=roots[S];if(x+a>u){var T=Math.atan2(c,x),g=l?1:-1;T<0&&(T=PI2$4+T),(T>=o&&T<=s||T+PI2$4>=o&&T+PI2$4<=s)&&(T>Math.PI/2&&T<Math.PI*1.5&&(g=-g),_+=g)}}return _}function containPath(a,r,n,o,s){for(var l=a.data,u=a.len(),c=0,d=0,v=0,g=0,y=0,_,S,x=0;x<u;){var T=l[x++],b=x===1;switch(T===CMD$3.M&&x>1&&(n||(c+=windingLine(d,v,g,y,o,s))),b&&(d=l[x],v=l[x+1],g=d,y=v),T){case CMD$3.M:g=l[x++],y=l[x++],d=g,v=y;break;case CMD$3.L:if(n){if(containStroke$4(d,v,l[x],l[x+1],r,o,s))return!0}else c+=windingLine(d,v,l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD$3.C:if(n){if(containStroke$3(d,v,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],r,o,s))return!0}else c+=windingCubic(d,v,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD$3.Q:if(n){if(containStroke$2(d,v,l[x++],l[x++],l[x],l[x+1],r,o,s))return!0}else c+=windingQuadratic(d,v,l[x++],l[x++],l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD$3.A:var A=l[x++],w=l[x++],$=l[x++],C=l[x++],P=l[x++],M=l[x++];x+=1;var E=!!(1-l[x++]);_=Math.cos(P)*$+A,S=Math.sin(P)*C+w,b?(g=_,y=S):c+=windingLine(d,v,_,S,o,s);var D=(o-A)*C/$+A;if(n){if(containStroke$1(A,w,C,P,P+M,E,r,D,s))return!0}else c+=windingArc(A,w,C,P,P+M,E,D,s);d=Math.cos(P+M)*$+A,v=Math.sin(P+M)*C+w;break;case CMD$3.R:g=d=l[x++],y=v=l[x++];var I=l[x++],R=l[x++];if(_=g+I,S=y+R,n){if(containStroke$4(g,y,_,y,r,o,s)||containStroke$4(_,y,_,S,r,o,s)||containStroke$4(_,S,g,S,r,o,s)||containStroke$4(g,S,g,y,r,o,s))return!0}else c+=windingLine(_,y,_,S,o,s),c+=windingLine(g,S,g,y,o,s);break;case CMD$3.Z:if(n){if(containStroke$4(d,v,g,y,r,o,s))return!0}else c+=windingLine(d,v,g,y,o,s);d=g,v=y;break}}return!n&&!isAroundEqual$1(v,y)&&(c+=windingLine(d,v,g,y,o,s)||0),c!==0}function contain$2(a,r,n){return containPath(a,0,!1,r,n)}function containStroke(a,r,n,o){return containPath(a,r,!0,n,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.update=function(){var n=this;a.prototype.update.call(this);var o=this.style;if(o.decal){var s=this._decalEl=this._decalEl||new r;s.buildPath===r.prototype.buildPath&&(s.buildPath=function(d){n.buildPath(d,n.shape)}),s.silent=!0;var l=s.style;for(var u in o)l[u]!==o[u]&&(l[u]=o[u]);l.fill=o.fill?o.decal:null,l.decal=null,l.shadowColor=null,o.strokeFirst&&(l.stroke=null);for(var c=0;c<pathCopyParams.length;++c)s[pathCopyParams[c]]=this[pathCopyParams[c]];s.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},r.prototype.getDecalElement=function(){return this._decalEl},r.prototype._init=function(n){var o=keys(n);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var l=0;l<o.length;l++){var u=o[l],c=n[u];u==="style"?this.style?extend(this.style,c):this.useStyle(c):u==="shape"?extend(this.shape,c):a.prototype.attrKV.call(this,u,c)}this.style||this.useStyle({})},r.prototype.getDefaultStyle=function(){return null},r.prototype.getDefaultShape=function(){return{}},r.prototype.canBeInsideText=function(){return this.hasFill()},r.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(isString(n)){var o=lum(n,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(n)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},r.prototype.getInsideTextStroke=function(n){var o=this.style.fill;if(isString(o)){var s=this.__zr,l=!!(s&&s.isDarkMode()),u=lum(n,0)<DARK_MODE_THRESHOLD;if(l===u)return o}},r.prototype.buildPath=function(n,o,s){},r.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},r.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},r.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},r.prototype.hasStroke=function(){var n=this.style,o=n.stroke;return!(o==null||o==="none"||!(n.lineWidth>0))},r.prototype.hasFill=function(){var n=this.style,o=n.fill;return o!=null&&o!=="none"},r.prototype.getBoundingRect=function(){var n=this._rect,o=this.style,s=!n;if(s){var l=!1;this.path||(l=!0,this.createPathProxy());var u=this.path;(l||this.__dirty&SHAPE_CHANGED_BIT)&&(u.beginPath(),this.buildPath(u,this.shape,!1),this.pathUpdated()),n=u.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var c=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||s){c.copy(n);var d=o.strokeNoScale?this.getLineScale():1,v=o.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;v=Math.max(v,g==null?4:g)}d>1e-10&&(c.width+=v/d,c.height+=v/d,c.x-=v/d/2,c.y-=v/d/2)}return c}return n},r.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect(),u=this.style;if(n=s[0],o=s[1],l.contain(n,o)){var c=this.path;if(this.hasStroke()){var d=u.lineWidth,v=u.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke(c,d/v,n,o)))return!0}if(this.hasFill())return contain$2(c,n,o)}return!1},r.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},r.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},r.prototype.animateShape=function(n){return this.animate("shape",n)},r.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},r.prototype.attrKV=function(n,o){n==="shape"?this.setShape(o):a.prototype.attrKV.call(this,n,o)},r.prototype.setShape=function(n,o){var s=this.shape;return s||(s=this.shape={}),typeof n=="string"?s[n]=o:extend(s,n),this.dirtyShape(),this},r.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},r.prototype.createStyle=function(n){return createObject(DEFAULT_PATH_STYLE,n)},r.prototype._innerSaveToNormal=function(n){a.prototype._innerSaveToNormal.call(this,n);var o=this._normalState;n.shape&&!o.shape&&(o.shape=extend({},this.shape))},r.prototype._applyStateObj=function(n,o,s,l,u,c){a.prototype._applyStateObj.call(this,n,o,s,l,u,c);var d=!(o&&l),v;if(o&&o.shape?u?l?v=o.shape:(v=extend({},s.shape),extend(v,o.shape)):(v=extend({},l?this.shape:s.shape),extend(v,o.shape)):d&&(v=s.shape),v)if(u){this.shape=extend({},this.shape);for(var g={},y=keys(v),_=0;_<y.length;_++){var S=y[_];typeof v[S]=="object"?this.shape[S]=v[S]:g[S]=v[S]}this._transitionState(n,{shape:g},c)}else this.shape=v,this.dirtyShape()},r.prototype._mergeStates=function(n){for(var o=a.prototype._mergeStates.call(this,n),s,l=0;l<n.length;l++){var u=n[l];u.shape&&(s=s||{},this._mergeStyle(s,u.shape))}return s&&(o.shape=s),o},r.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},r.prototype.isZeroArea=function(){return!1},r.extend=function(n){var o=function(l){__extends(u,l);function u(c){var d=l.call(this,c)||this;return n.init&&n.init.call(d,c),d}return u.prototype.getDefaultStyle=function(){return clone$4(n.style)},u.prototype.getDefaultShape=function(){return clone$4(n.shape)},u}(r);for(var s in n)typeof n[s]=="function"&&(o.prototype[s]=n[s]);return o},r.initDefaultProps=function(){var n=r.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),r}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.hasStroke=function(){var n=this.style,o=n.stroke;return o!=null&&o!=="none"&&n.lineWidth>0},r.prototype.hasFill=function(){var n=this.style,o=n.fill;return o!=null&&o!=="none"},r.prototype.createStyle=function(n){return createObject(DEFAULT_TSPAN_STYLE,n)},r.prototype.setBoundingRect=function(n){this._rect=n},r.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var o=n.text;o!=null?o+="":o="";var s=getBoundingRect(o,n.font,n.textAlign,n.textBaseline);if(s.x+=n.x||0,s.y+=n.y||0,this.hasStroke()){var l=n.lineWidth;s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l}this._rect=s}return this._rect},r.initDefaultProps=function(){var n=r.prototype;n.dirtyRectTolerance=10}(),r}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(a){return!!(a&&typeof a!="string"&&a.width&&a.height)}var ZRImage=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.createStyle=function(n){return createObject(DEFAULT_IMAGE_STYLE,n)},r.prototype._getSize=function(n){var o=this.style,s=o[n];if(s!=null)return s;var l=isImageLike$1(o.image)?o.image:this.__image;if(!l)return 0;var u=n==="width"?"height":"width",c=o[u];return c==null?l[n]:l[n]/l[u]*c},r.prototype.getWidth=function(){return this._getSize("width")},r.prototype.getHeight=function(){return this._getSize("height")},r.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},r.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new BoundingRect$1(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},r}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(a,r){var n=r.x,o=r.y,s=r.width,l=r.height,u=r.r,c,d,v,g;s<0&&(n=n+s,s=-s),l<0&&(o=o+l,l=-l),typeof u=="number"?c=d=v=g=u:u instanceof Array?u.length===1?c=d=v=g=u[0]:u.length===2?(c=v=u[0],d=g=u[1]):u.length===3?(c=u[0],d=g=u[1],v=u[2]):(c=u[0],d=u[1],v=u[2],g=u[3]):c=d=v=g=0;var y;c+d>s&&(y=c+d,c*=s/y,d*=s/y),v+g>s&&(y=v+g,v*=s/y,g*=s/y),d+v>l&&(y=d+v,d*=l/y,v*=l/y),c+g>l&&(y=c+g,c*=l/y,g*=l/y),a.moveTo(n+c,o),a.lineTo(n+s-d,o),d!==0&&a.arc(n+s-d,o+d,d,-Math.PI/2,0),a.lineTo(n+s,o+l-v),v!==0&&a.arc(n+s-v,o+l-v,v,0,Math.PI/2),a.lineTo(n+g,o+l),g!==0&&a.arc(n+g,o+l-g,g,Math.PI/2,Math.PI),a.lineTo(n,o+c),c!==0&&a.arc(n+c,o+c,c,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(a,r,n){if(!!r){var o=r.x1,s=r.x2,l=r.y1,u=r.y2;a.x1=o,a.x2=s,a.y1=l,a.y2=u;var c=n&&n.lineWidth;return c&&(round$2(o*2)===round$2(s*2)&&(a.x1=a.x2=subPixelOptimize$1(o,c,!0)),round$2(l*2)===round$2(u*2)&&(a.y1=a.y2=subPixelOptimize$1(l,c,!0))),a}}function subPixelOptimizeRect$1(a,r,n){if(!!r){var o=r.x,s=r.y,l=r.width,u=r.height;a.x=o,a.y=s,a.width=l,a.height=u;var c=n&&n.lineWidth;return c&&(a.x=subPixelOptimize$1(o,c,!0),a.y=subPixelOptimize$1(s,c,!0),a.width=Math.max(subPixelOptimize$1(o+l,c,!1)-a.x,l===0?0:1),a.height=Math.max(subPixelOptimize$1(s+u,c,!1)-a.y,u===0?0:1)),a}}function subPixelOptimize$1(a,r,n){if(!r)return a;var o=round$2(a*2);return(o+round$2(r))%2===0?o/2:(o+(n?1:-1))/2}var RectShape=function(){function a(){this.x=0,this.y=0,this.width=0,this.height=0}return a}(),subPixelOptimizeOutputShape$1={},Rect$2=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new RectShape},r.prototype.buildPath=function(n,o){var s,l,u,c;if(this.subPixelOptimize){var d=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);s=d.x,l=d.y,u=d.width,c=d.height,d.r=o.r,o=d}else s=o.x,l=o.y,u=o.width,c=o.height;o.r?buildPath$2(n,o):n.rect(s,l,u,c)},r.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},r}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(a){__extends(r,a);function r(n){var o=a.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(n),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var o=this._children[n];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},r.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):a.prototype.updateTransform.call(this)},r.prototype.getLocalTransform=function(n){var o=this.innerTransformable;return o?o.getLocalTransform(n):a.prototype.getLocalTransform.call(this,n)},r.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},r.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},r.prototype.addSelfToZr=function(n){a.prototype.addSelfToZr.call(this,n);for(var o=0;o<this._children.length;o++)this._children[o].__zr=n},r.prototype.removeSelfFromZr=function(n){a.prototype.removeSelfFromZr.call(this,n);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},r.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new BoundingRect$1(0,0,0,0),o=this._children,s=[],l=null,u=0;u<o.length;u++){var c=o[u],d=c.getBoundingRect(),v=c.getLocalTransform(s);v?(n.copy(d),n.applyTransform(v),l=l||n.clone(),l.union(n)):(l=l||d.clone(),l.union(d))}this._rect=l||n}return this._rect},r.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||DEFAULT_RICH_TEXT_COLOR},r.prototype.setTextContent=function(n){},r.prototype._mergeStyle=function(n,o){if(!o)return n;var s=o.rich,l=n.rich||s&&{};return extend(n,o),s&&l?(this._mergeRich(l,s),n.rich=l):l&&(n.rich=l),n},r.prototype._mergeRich=function(n,o){for(var s=keys(o),l=0;l<s.length;l++){var u=s[l];n[u]=n[u]||{},extend(n[u],o[u])}},r.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},r.prototype._getOrCreateChild=function(n){var o=this._children[this._childCursor];return(!o||!(o instanceof n))&&(o=new n),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},r.prototype._updatePlainTexts=function(){var n=this.style,o=n.font||DEFAULT_FONT,s=n.padding,l=getStyleText(n),u=parsePlainText(l,n),c=needDrawBackground(n),d=!!n.backgroundColor,v=u.outerHeight,g=u.outerWidth,y=u.contentWidth,_=u.lines,S=u.lineHeight,x=this._defaultStyle,T=n.x||0,b=n.y||0,A=n.align||x.align||"left",w=n.verticalAlign||x.verticalAlign||"top",$=T,C=adjustTextY(b,u.contentHeight,w);if(c||s){var P=adjustTextX(T,g,A),M=adjustTextY(b,v,w);c&&this._renderBackground(n,n,P,M,g,v)}C+=S/2,s&&($=getTextXForPadding(T,A,s),w==="top"?C+=s[0]:w==="bottom"&&(C-=s[2]));for(var E=0,D=!1,I=getFill("fill"in n?n.fill:(D=!0,x.fill)),R=getStroke("stroke"in n?n.stroke:!d&&(!x.autoStroke||D)?(E=DEFAULT_STROKE_LINE_WIDTH,x.stroke):null),L=n.textShadowBlur>0,O=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),N=u.calculatedLineHeight,F=0;F<_.length;F++){var B=this._getOrCreateChild(TSpan$1),z=B.createStyle();B.useStyle(z),z.text=_[F],z.x=$,z.y=C,A&&(z.textAlign=A),z.textBaseline="middle",z.opacity=n.opacity,z.strokeFirst=!0,L&&(z.shadowBlur=n.textShadowBlur||0,z.shadowColor=n.textShadowColor||"transparent",z.shadowOffsetX=n.textShadowOffsetX||0,z.shadowOffsetY=n.textShadowOffsetY||0),z.stroke=R,z.fill=I,R&&(z.lineWidth=n.lineWidth||E,z.lineDash=n.lineDash,z.lineDashOffset=n.lineDashOffset||0),z.font=o,setSeparateFont(z,n),C+=S,O&&B.setBoundingRect(new BoundingRect$1(adjustTextX(z.x,n.width,z.textAlign),adjustTextY(z.y,N,z.textBaseline),y,N))}},r.prototype._updateRichTexts=function(){var n=this.style,o=getStyleText(n),s=parseRichText(o,n),l=s.width,u=s.outerWidth,c=s.outerHeight,d=n.padding,v=n.x||0,g=n.y||0,y=this._defaultStyle,_=n.align||y.align,S=n.verticalAlign||y.verticalAlign,x=adjustTextX(v,u,_),T=adjustTextY(g,c,S),b=x,A=T;d&&(b+=d[3],A+=d[0]);var w=b+l;needDrawBackground(n)&&this._renderBackground(n,n,x,T,u,c);for(var $=!!n.backgroundColor,C=0;C<s.lines.length;C++){for(var P=s.lines[C],M=P.tokens,E=M.length,D=P.lineHeight,I=P.width,R=0,L=b,O=w,N=E-1,F=void 0;R<E&&(F=M[R],!F.align||F.align==="left");)this._placeToken(F,n,D,A,L,"left",$),I-=F.width,L+=F.width,R++;for(;N>=0&&(F=M[N],F.align==="right");)this._placeToken(F,n,D,A,O,"right",$),I-=F.width,O-=F.width,N--;for(L+=(l-(L-b)-(w-O)-I)/2;R<=N;)F=M[R],this._placeToken(F,n,D,A,L+F.width/2,"center",$),L+=F.width,R++;A+=D}},r.prototype._placeToken=function(n,o,s,l,u,c,d){var v=o.rich[n.styleName]||{};v.text=n.text;var g=n.verticalAlign,y=l+s/2;g==="top"?y=l+n.height/2:g==="bottom"&&(y=l+s-n.height/2);var _=!n.isLineHolder&&needDrawBackground(v);_&&this._renderBackground(v,o,c==="right"?u-n.width:c==="center"?u-n.width/2:u,y-n.height/2,n.width,n.height);var S=!!v.backgroundColor,x=n.textPadding;x&&(u=getTextXForPadding(u,c,x),y-=n.height/2-x[0]-n.innerHeight/2);var T=this._getOrCreateChild(TSpan$1),b=T.createStyle();T.useStyle(b);var A=this._defaultStyle,w=!1,$=0,C=getFill("fill"in v?v.fill:"fill"in o?o.fill:(w=!0,A.fill)),P=getStroke("stroke"in v?v.stroke:"stroke"in o?o.stroke:!S&&!d&&(!A.autoStroke||w)?($=DEFAULT_STROKE_LINE_WIDTH,A.stroke):null),M=v.textShadowBlur>0||o.textShadowBlur>0;b.text=n.text,b.x=u,b.y=y,M&&(b.shadowBlur=v.textShadowBlur||o.textShadowBlur||0,b.shadowColor=v.textShadowColor||o.textShadowColor||"transparent",b.shadowOffsetX=v.textShadowOffsetX||o.textShadowOffsetX||0,b.shadowOffsetY=v.textShadowOffsetY||o.textShadowOffsetY||0),b.textAlign=c,b.textBaseline="middle",b.font=n.font||DEFAULT_FONT,b.opacity=retrieve3(v.opacity,o.opacity,1),setSeparateFont(b,v),P&&(b.lineWidth=retrieve3(v.lineWidth,o.lineWidth,$),b.lineDash=retrieve2(v.lineDash,o.lineDash),b.lineDashOffset=o.lineDashOffset||0,b.stroke=P),C&&(b.fill=C);var E=n.contentWidth,D=n.contentHeight;T.setBoundingRect(new BoundingRect$1(adjustTextX(b.x,E,b.textAlign),adjustTextY(b.y,D,b.textBaseline),E,D))},r.prototype._renderBackground=function(n,o,s,l,u,c){var d=n.backgroundColor,v=n.borderWidth,g=n.borderColor,y=d&&d.image,_=d&&!y,S=n.borderRadius,x=this,T,b;if(_||n.lineHeight||v&&g){T=this._getOrCreateChild(Rect$3),T.useStyle(T.createStyle()),T.style.fill=null;var A=T.shape;A.x=s,A.y=l,A.width=u,A.height=c,A.r=S,T.dirtyShape()}if(_){var w=T.style;w.fill=d||null,w.fillOpacity=retrieve2(n.fillOpacity,1)}else if(y){b=this._getOrCreateChild(ZRImage$1),b.onload=function(){x.dirtyStyle()};var $=b.style;$.image=d.image,$.x=s,$.y=l,$.width=u,$.height=c}if(v&&g){var w=T.style;w.lineWidth=v,w.stroke=g,w.strokeOpacity=retrieve2(n.strokeOpacity,1),w.lineDash=n.borderDash,w.lineDashOffset=n.borderDashOffset||0,T.strokeContainThreshold=0,T.hasFill()&&T.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var C=(T||b).style;C.shadowBlur=n.shadowBlur||0,C.shadowColor=n.shadowColor||"transparent",C.shadowOffsetX=n.shadowOffsetX||0,C.shadowOffsetY=n.shadowOffsetY||0,C.opacity=retrieve3(n.opacity,o.opacity,1)},r.makeFont=function(n){var o="";return hasSeparateFont(n)&&(o=[n.fontStyle,n.fontWeight,parseFontSize(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),o&&trim$1(o)||n.textFont||n.font},r}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(a){return typeof a=="string"&&(a.indexOf("px")!==-1||a.indexOf("rem")!==-1||a.indexOf("em")!==-1)?a:isNaN(+a)?DEFAULT_FONT_SIZE+"px":a+"px"}function setSeparateFont(a,r){for(var n=0;n<FONT_PARTS.length;n++){var o=FONT_PARTS[n],s=r[o];s!=null&&(a[o]=s)}}function hasSeparateFont(a){return a.fontSize!=null||a.fontFamily||a.fontWeight}function normalizeTextStyle(a){return normalizeStyle(a),each$f(a.rich,normalizeStyle),a}function normalizeStyle(a){if(a){a.font=ZRText.makeFont(a);var r=a.align;r==="middle"&&(r="center"),a.align=r==null||VALID_TEXT_ALIGN[r]?r:"left";var n=a.verticalAlign;n==="center"&&(n="middle"),a.verticalAlign=n==null||VALID_TEXT_VERTICAL_ALIGN[n]?n:"top";var o=a.padding;o&&(a.padding=normalizeCssArray$1(a.padding))}}function getStroke(a,r){return a==null||r<=0||a==="transparent"||a==="none"?null:a.image||a.colorStops?"#000":a}function getFill(a){return a==null||a==="none"?null:a.image||a.colorStops?"#000":a}function getTextXForPadding(a,r,n){return r==="right"?a-n[1]:r==="center"?a+n[3]/2-n[1]/2:a+n[3]}function getStyleText(a){var r=a.text;return r!=null&&(r+=""),r}function needDrawBackground(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(a,r,n,o){if(o){var s=getECData(o);s.dataIndex=n,s.dataType=r,s.seriesIndex=a,o.type==="group"&&o.traverse(function(l){var u=getECData(l);u.seriesIndex=a,u.dataIndex=n,u.dataType=r})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(a){return a!=null&&a!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(a){if(isString(a)){var r=liftedColorCache.get(a);return r||(r=lift(a,-.1),liftedColorCache.put(a,r)),r}else if(isGradientObject(a)){var n=extend({},a);return n.colorStops=map$1(a.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),n}return a}function doChangeHoverState(a,r,n){a.onHoverStateChange&&(a.hoverState||0)!==n&&a.onHoverStateChange(r),a.hoverState=n}function singleEnterEmphasis(a){doChangeHoverState(a,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(a){a.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(a,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(a){doChangeHoverState(a,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(a){a.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(a,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(a){a.selected=!0}function singleLeaveSelect(a){a.selected=!1}function updateElementState(a,r,n){r(a,n)}function traverseUpdateState(a,r,n){updateElementState(a,r,n),a.isGroup&&a.traverse(function(o){updateElementState(o,r,n)})}function setStatesFlag(a,r){switch(r){case"emphasis":a.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":a.hoverState=HOVER_STATE_NORMAL;break;case"blur":a.hoverState=HOVER_STATE_BLUR;break;case"select":a.selected=!0}}function getFromStateStyle(a,r,n,o){for(var s=a.style,l={},u=0;u<r.length;u++){var c=r[u],d=s[c];l[c]=d==null?o&&o[c]:d}for(var u=0;u<a.animators.length;u++){var v=a.animators[u];v.__fromStateTransition&&v.__fromStateTransition.indexOf(n)<0&&v.targetName==="style"&&v.saveTo(l,r)}return l}function createEmphasisDefaultState(a,r,n,o){var s=n&&indexOf(n,"select")>=0,l=!1;if(a instanceof Path$1){var u=getSavedStates(a),c=s&&u.selectFill||u.normalFill,d=s&&u.selectStroke||u.normalStroke;if(hasFillOrStroke(c)||hasFillOrStroke(d)){o=o||{};var v=o.style||{};v.fill==="inherit"?(l=!0,o=extend({},o),v=extend({},v),v.fill=c):!hasFillOrStroke(v.fill)&&hasFillOrStroke(c)?(l=!0,o=extend({},o),v=extend({},v),v.fill=liftColor(c)):!hasFillOrStroke(v.stroke)&&hasFillOrStroke(d)&&(l||(o=extend({},o),v=extend({},v)),v.stroke=liftColor(d)),o.style=v}}if(o&&o.z2==null){l||(o=extend({},o));var g=a.z2EmphasisLift;o.z2=a.z2+(g!=null?g:Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(a,r,n){if(n&&n.z2==null){n=extend({},n);var o=a.z2SelectLift;n.z2=a.z2+(o!=null?o:Z2_SELECT_LIFT)}return n}function createBlurDefaultState(a,r,n){var o=indexOf(a.currentStates,r)>=0,s=a.style.opacity,l=o?null:getFromStateStyle(a,["opacity"],r,{opacity:1});n=n||{};var u=n.style||{};return u.opacity==null&&(n=extend({},n),u=extend({opacity:o?s:l.opacity*.1},u),n.style=u),n}function elementStateProxy(a,r){var n=this.states[a];if(this.style){if(a==="emphasis")return createEmphasisDefaultState(this,a,r,n);if(a==="blur")return createBlurDefaultState(this,a,n);if(a==="select")return createSelectDefaultState(this,a,n)}return n}function setDefaultStateProxy(a){a.stateProxy=elementStateProxy;var r=a.getTextContent(),n=a.getTextGuideLine();r&&(r.stateProxy=elementStateProxy),n&&(n.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(a,r){!shouldSilent(a,r)&&!a.__highByOuter&&traverseUpdateState(a,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(a,r){!shouldSilent(a,r)&&!a.__highByOuter&&traverseUpdateState(a,singleLeaveEmphasis)}function enterEmphasis(a,r){a.__highByOuter|=1<<(r||0),traverseUpdateState(a,singleEnterEmphasis)}function leaveEmphasis(a,r){!(a.__highByOuter&=~(1<<(r||0)))&&traverseUpdateState(a,singleLeaveEmphasis)}function enterBlur(a){traverseUpdateState(a,singleEnterBlur)}function leaveBlur(a){traverseUpdateState(a,singleLeaveBlur)}function enterSelect(a){traverseUpdateState(a,singleEnterSelect)}function leaveSelect(a){traverseUpdateState(a,singleLeaveSelect)}function shouldSilent(a,r){return a.__highDownSilentOnTouch&&r.zrByTouch}function allLeaveBlur(a){var r=a.getModel(),n=[],o=[];r.eachComponent(function(s,l){var u=getComponentStates(l),c=s==="series",d=c?a.getViewOfSeriesModel(l):a.getViewOfComponentModel(l);!c&&o.push(d),u.isBlured&&(d.group.traverse(function(v){singleLeaveBlur(v)}),c&&n.push(l)),u.isBlured=!1}),each$f(o,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(n,!1,r)})}function blurSeries(a,r,n,o){var s=o.getModel();n=n||"coordinateSystem";function l(v,g){for(var y=0;y<g.length;y++){var _=v.getItemGraphicEl(g[y]);_&&leaveBlur(_)}}if(a!=null&&!(!r||r==="none")){var u=s.getSeriesByIndex(a),c=u.coordinateSystem;c&&c.master&&(c=c.master);var d=[];s.eachSeries(function(v){var g=u===v,y=v.coordinateSystem;y&&y.master&&(y=y.master);var _=y&&c?y===c:g;if(!(n==="series"&&!g||n==="coordinateSystem"&&!_||r==="series"&&g)){var S=o.getViewOfSeriesModel(v);if(S.group.traverse(function(b){singleEnterBlur(b)}),isArrayLike(r))l(v.getData(),r);else if(isObject$5(r))for(var x=keys(r),T=0;T<x.length;T++)l(v.getData(x[T]),r[x[T]]);d.push(v),getComponentStates(v).isBlured=!0}}),s.eachComponent(function(v,g){if(v!=="series"){var y=o.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(d,!0,s)}})}}function blurComponent(a,r,n){if(!(a==null||r==null)){var o=n.getModel().getComponent(a,r);if(!!o){getComponentStates(o).isBlured=!0;var s=n.getViewOfComponentModel(o);!s||!s.focusBlurEnabled||s.group.traverse(function(l){singleEnterBlur(l)})}}}function blurSeriesFromHighlightPayload(a,r,n){var o=a.seriesIndex,s=a.getData(r.dataType);if(!!s){var l=queryDataIndex(s,r);l=(isArray$1(l)?l[0]:l)||0;var u=s.getItemGraphicEl(l);if(!u)for(var c=s.count(),d=0;!u&&d<c;)u=s.getItemGraphicEl(d++);if(u){var v=getECData(u);blurSeries(o,v.focus,v.blurScope,n)}else{var g=a.get(["emphasis","focus"]),y=a.get(["emphasis","blurScope"]);g!=null&&blurSeries(o,g,y,n)}}}function findComponentHighDownDispatchers(a,r,n,o){var s={focusSelf:!1,dispatchers:null};if(a==null||a==="series"||r==null||n==null)return s;var l=o.getModel().getComponent(a,r);if(!l)return s;var u=o.getViewOfComponentModel(l);if(!u||!u.findHighDownDispatchers)return s;for(var c=u.findHighDownDispatchers(n),d,v=0;v<c.length;v++)if(getECData(c[v]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:c}}function handleGlobalMouseOverForHighDown(a,r,n){var o=getECData(a),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,n),l=s.dispatchers,u=s.focusSelf;l?(u&&blurComponent(o.componentMainType,o.componentIndex,n),each$f(l,function(c){return enterEmphasisWhenMouseOver(c,r)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,n),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,n),enterEmphasisWhenMouseOver(a,r))}function handleGlobalMouseOutForHighDown(a,r,n){allLeaveBlur(n);var o=getECData(a),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,n).dispatchers;s?each$f(s,function(l){return leaveEmphasisWhenMouseOut(l,r)}):leaveEmphasisWhenMouseOut(a,r)}function toggleSelectionFromPayload(a,r,n){if(!!isSelectChangePayload(r)){var o=r.dataType,s=a.getData(o),l=queryDataIndex(s,r);isArray$1(l)||(l=[l]),a[r.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":r.type===SELECT_ACTION_TYPE?"select":"unselect"](l,o)}}function updateSeriesElementSelection(a){var r=a.getAllData();each$f(r,function(n){var o=n.data,s=n.type;o.eachItemGraphicEl(function(l,u){a.isSelected(u,s)?enterSelect(l):leaveSelect(l)})})}function getAllSelectedIndices(a){var r=[];return a.eachSeries(function(n){var o=n.getAllData();each$f(o,function(s){s.data;var l=s.type,u=n.getSelectedDataIndices();if(u.length>0){var c={dataIndex:u,seriesIndex:n.seriesIndex};l!=null&&(c.dataType=l),r.push(c)}})}),r}function enableHoverEmphasis(a,r,n){setAsHighDownDispatcher(a,!0),traverseUpdateState(a,setDefaultStateProxy),enableHoverFocus(a,r,n)}function disableHoverEmphasis(a){setAsHighDownDispatcher(a,!1)}function toggleHoverEmphasis(a,r,n,o){o?disableHoverEmphasis(a):enableHoverEmphasis(a,r,n)}function enableHoverFocus(a,r,n){var o=getECData(a);r!=null?(o.focus=r,o.blurScope=n):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(a,r,n,o){n=n||"itemStyle";for(var s=0;s<OTHER_STATES.length;s++){var l=OTHER_STATES[s],u=r.getModel([l,n]),c=a.ensureState(l);c.style=o?o(u):u[defaultStyleGetterMap[n]]()}}function setAsHighDownDispatcher(a,r){var n=r===!1,o=a;a.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!n||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!n)}function isHighDownDispatcher(a){return!!(a&&a.__highDownDispatcher)}function enableComponentHighDownFeatures(a,r,n){var o=getECData(a);o.componentMainType=r.mainType,o.componentIndex=r.componentIndex,o.componentHighDownName=n}function getHighlightDigit(a){var r=_highlightKeyMap[a];return r==null&&_highlightNextDigit<=32&&(r=_highlightKeyMap[a]=_highlightNextDigit++),r}function isSelectChangePayload(a){var r=a.type;return r===SELECT_ACTION_TYPE||r===UNSELECT_ACTION_TYPE||r===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(a){var r=a.type;return r===HIGHLIGHT_ACTION_TYPE||r===DOWNPLAY_ACTION_TYPE}function savePathStates(a){var r=getSavedStates(a);r.normalFill=a.style.fill,r.normalStroke=a.style.stroke;var n=a.states.select||{};r.selectFill=n.style&&n.style.fill||null,r.selectStroke=n.style&&n.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(a,r){if(!!r){var n=a.data,o=a.len(),s,l,u,c,d,v,g=CMD$2.M,y=CMD$2.C,_=CMD$2.L,S=CMD$2.R,x=CMD$2.A,T=CMD$2.Q;for(u=0,c=0;u<o;){switch(s=n[u++],c=u,l=0,s){case g:l=1;break;case _:l=1;break;case y:l=3;break;case T:l=2;break;case x:var b=r[4],A=r[5],w=mathSqrt$2(r[0]*r[0]+r[1]*r[1]),$=mathSqrt$2(r[2]*r[2]+r[3]*r[3]),C=mathAtan2(-r[1]/$,r[0]/w);n[u]*=w,n[u++]+=b,n[u]*=$,n[u++]+=A,n[u++]*=w,n[u++]*=$,n[u++]+=C,n[u++]+=C,u+=2,c=u;break;case S:v[0]=n[u++],v[1]=n[u++],applyTransform$1(v,v,r),n[c++]=v[0],n[c++]=v[1],v[0]+=n[u++],v[1]+=n[u++],applyTransform$1(v,v,r),n[c++]=v[0],n[c++]=v[1]}for(d=0;d<l;d++){var P=points$2[d];P[0]=n[u++],P[1]=n[u++],applyTransform$1(P,P,r),n[c++]=P[0],n[c++]=P[1]}}a.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function vRatio(a,r){return(a[0]*r[0]+a[1]*r[1])/(vMag(a)*vMag(r))}function vAngle(a,r){return(a[0]*r[1]<a[1]*r[0]?-1:1)*Math.acos(vRatio(a,r))}function processArc(a,r,n,o,s,l,u,c,d,v,g){var y=d*(PI$7/180),_=mathCos$2(y)*(a-n)/2+mathSin$2(y)*(r-o)/2,S=-1*mathSin$2(y)*(a-n)/2+mathCos$2(y)*(r-o)/2,x=_*_/(u*u)+S*S/(c*c);x>1&&(u*=mathSqrt$1(x),c*=mathSqrt$1(x));var T=(s===l?-1:1)*mathSqrt$1((u*u*(c*c)-u*u*(S*S)-c*c*(_*_))/(u*u*(S*S)+c*c*(_*_)))||0,b=T*u*S/c,A=T*-c*_/u,w=(a+n)/2+mathCos$2(y)*b-mathSin$2(y)*A,$=(r+o)/2+mathSin$2(y)*b+mathCos$2(y)*A,C=vAngle([1,0],[(_-b)/u,(S-A)/c]),P=[(_-b)/u,(S-A)/c],M=[(-1*_-b)/u,(-1*S-A)/c],E=vAngle(P,M);if(vRatio(P,M)<=-1&&(E=PI$7),vRatio(P,M)>=1&&(E=0),E<0){var D=Math.round(E/PI$7*1e6)/1e6;E=PI$7*2+D%2*PI$7}g.addData(v,w,$,u,c,C,E,y,l)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(a){var r=new PathProxy;if(!a)return r;var n=0,o=0,s=n,l=o,u,c=PathProxy.CMD,d=a.match(commandReg);if(!d)return r;for(var v=0;v<d.length;v++){for(var g=d[v],y=g.charAt(0),_=void 0,S=g.match(numberReg$1)||[],x=S.length,T=0;T<x;T++)S[T]=parseFloat(S[T]);for(var b=0;b<x;){var A=void 0,w=void 0,$=void 0,C=void 0,P=void 0,M=void 0,E=void 0,D=n,I=o,R=void 0,L=void 0;switch(y){case"l":n+=S[b++],o+=S[b++],_=c.L,r.addData(_,n,o);break;case"L":n=S[b++],o=S[b++],_=c.L,r.addData(_,n,o);break;case"m":n+=S[b++],o+=S[b++],_=c.M,r.addData(_,n,o),s=n,l=o,y="l";break;case"M":n=S[b++],o=S[b++],_=c.M,r.addData(_,n,o),s=n,l=o,y="L";break;case"h":n+=S[b++],_=c.L,r.addData(_,n,o);break;case"H":n=S[b++],_=c.L,r.addData(_,n,o);break;case"v":o+=S[b++],_=c.L,r.addData(_,n,o);break;case"V":o=S[b++],_=c.L,r.addData(_,n,o);break;case"C":_=c.C,r.addData(_,S[b++],S[b++],S[b++],S[b++],S[b++],S[b++]),n=S[b-2],o=S[b-1];break;case"c":_=c.C,r.addData(_,S[b++]+n,S[b++]+o,S[b++]+n,S[b++]+o,S[b++]+n,S[b++]+o),n+=S[b-2],o+=S[b-1];break;case"S":A=n,w=o,R=r.len(),L=r.data,u===c.C&&(A+=n-L[R-4],w+=o-L[R-3]),_=c.C,D=S[b++],I=S[b++],n=S[b++],o=S[b++],r.addData(_,A,w,D,I,n,o);break;case"s":A=n,w=o,R=r.len(),L=r.data,u===c.C&&(A+=n-L[R-4],w+=o-L[R-3]),_=c.C,D=n+S[b++],I=o+S[b++],n+=S[b++],o+=S[b++],r.addData(_,A,w,D,I,n,o);break;case"Q":D=S[b++],I=S[b++],n=S[b++],o=S[b++],_=c.Q,r.addData(_,D,I,n,o);break;case"q":D=S[b++]+n,I=S[b++]+o,n+=S[b++],o+=S[b++],_=c.Q,r.addData(_,D,I,n,o);break;case"T":A=n,w=o,R=r.len(),L=r.data,u===c.Q&&(A+=n-L[R-4],w+=o-L[R-3]),n=S[b++],o=S[b++],_=c.Q,r.addData(_,A,w,n,o);break;case"t":A=n,w=o,R=r.len(),L=r.data,u===c.Q&&(A+=n-L[R-4],w+=o-L[R-3]),n+=S[b++],o+=S[b++],_=c.Q,r.addData(_,A,w,n,o);break;case"A":$=S[b++],C=S[b++],P=S[b++],M=S[b++],E=S[b++],D=n,I=o,n=S[b++],o=S[b++],_=c.A,processArc(D,I,n,o,M,E,$,C,P,_,r);break;case"a":$=S[b++],C=S[b++],P=S[b++],M=S[b++],E=S[b++],D=n,I=o,n+=S[b++],o+=S[b++],_=c.A,processArc(D,I,n,o,M,E,$,C,P,_,r);break}}(y==="z"||y==="Z")&&(_=c.Z,r.addData(_),n=s,o=l),u=_}return r.toStatic(),r}var SVGPath=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.applyTransform=function(n){},r}(Path$1);function isPathProxy(a){return a.setData!=null}function createPathOptions(a,r){var n=createPathProxyFromString(a),o=extend({},r);return o.buildPath=function(s){if(isPathProxy(s)){s.setData(n.data);var l=s.getContext();l&&s.rebuildPath(l,1)}else{var l=s;n.rebuildPath(l,1)}},o.applyTransform=function(s){transformPath(n,s),this.dirtyShape()},o}function createFromString(a,r){return new SVGPath(createPathOptions(a,r))}function extendFromString(a,r){var n=createPathOptions(a,r),o=function(s){__extends(l,s);function l(u){var c=s.call(this,u)||this;return c.applyTransform=n.applyTransform,c.buildPath=n.buildPath,c}return l}(SVGPath);return o}function mergePath$1(a,r){for(var n=[],o=a.length,s=0;s<o;s++){var l=a[s];n.push(l.getUpdatedPathProxy(!0))}var u=new Path$1(r);return u.createPathProxy(),u.buildPath=function(c){if(isPathProxy(c)){c.appendPath(n);var d=c.getContext();d&&c.rebuildPath(d,1)}},u}function clonePath(a,r){r=r||{};var n=new Path$1;return a.shape&&n.setShape(a.shape),n.setStyle(a.style),r.bakeTransform?transformPath(n.path,a.getComputedTransform()):r.toLocal?n.setLocalTransform(a.getComputedTransform()):n.copyTransform(a),n.buildPath=a.buildPath,n.applyTransform=n.applyTransform,n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel,n}var CircleShape=function(){function a(){this.cx=0,this.cy=0,this.r=0}return a}(),Circle=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new CircleShape},r.prototype.buildPath=function(n,o){n.moveTo(o.cx+o.r,o.cy),n.arc(o.cx,o.cy,o.r,0,Math.PI*2)},r}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function a(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return a}(),Ellipse=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new EllipseShape},r.prototype.buildPath=function(n,o){var s=.5522848,l=o.cx,u=o.cy,c=o.rx,d=o.ry,v=c*s,g=d*s;n.moveTo(l-c,u),n.bezierCurveTo(l-c,u-g,l-v,u-d,l,u-d),n.bezierCurveTo(l+v,u-d,l+c,u-g,l+c,u),n.bezierCurveTo(l+c,u+g,l+v,u+d,l,u+d),n.bezierCurveTo(l-v,u+d,l-c,u+g,l-c,u),n.closePath()},r}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(a,r,n,o,s,l,u,c){var d=n-a,v=o-r,g=u-s,y=c-l,_=y*d-g*v;if(!(_*_<e))return _=(g*(r-l)-y*(a-s))/_,[a+_*d,r+_*v]}function computeCornerTangents(a,r,n,o,s,l,u){var c=a-n,d=r-o,v=(u?l:-l)/mathSqrt(c*c+d*d),g=v*d,y=-v*c,_=a+g,S=r+y,x=n+g,T=o+y,b=(_+x)/2,A=(S+T)/2,w=x-_,$=T-S,C=w*w+$*$,P=s-l,M=_*T-x*S,E=($<0?-1:1)*mathSqrt(mathMax$7(0,P*P*C-M*M)),D=(M*$-w*E)/C,I=(-M*w-$*E)/C,R=(M*$+w*E)/C,L=(-M*w+$*E)/C,O=D-b,N=I-A,F=R-b,B=L-A;return O*O+N*N>F*F+B*B&&(D=R,I=L),{cx:D,cy:I,x0:-g,y0:-y,x1:D*(s/P-1),y1:I*(s/P-1)}}function normalizeCornerRadius(a){var r;if(isArray$1(a)){var n=a.length;if(!n)return a;n===1?r=[a[0],a[0],0,0]:n===2?r=[a[0],a[0],a[1],a[1]]:n===3?r=a.concat(a[2]):r=a}else r=[a,a,a,a];return r}function buildPath$1(a,r){var n,o=mathMax$7(r.r,0),s=mathMax$7(r.r0||0,0),l=o>0,u=s>0;if(!(!l&&!u)){if(l||(o=s,s=0),s>o){var c=o;o=s,s=c}var d=r.startAngle,v=r.endAngle;if(!(isNaN(d)||isNaN(v))){var g=r.cx,y=r.cy,_=!!r.clockwise,S=mathAbs$1(v-d),x=S>PI2$3&&S%PI2$3;if(x>e&&(S=x),!(o>e))a.moveTo(g,y);else if(S>PI2$3-e)a.moveTo(g+o*mathCos$1(d),y+o*mathSin$1(d)),a.arc(g,y,o,d,v,!_),s>e&&(a.moveTo(g+s*mathCos$1(v),y+s*mathSin$1(v)),a.arc(g,y,s,v,d,_));else{var T=void 0,b=void 0,A=void 0,w=void 0,$=void 0,C=void 0,P=void 0,M=void 0,E=void 0,D=void 0,I=void 0,R=void 0,L=void 0,O=void 0,N=void 0,F=void 0,B=o*mathCos$1(d),z=o*mathSin$1(d),U=s*mathCos$1(v),H=s*mathSin$1(v),Y=S>e;if(Y){var X=r.cornerRadius;X&&(n=normalizeCornerRadius(X),T=n[0],b=n[1],A=n[2],w=n[3]);var te=mathAbs$1(o-s)/2;if($=mathMin$7(te,A),C=mathMin$7(te,w),P=mathMin$7(te,T),M=mathMin$7(te,b),I=E=mathMax$7($,C),R=D=mathMax$7(P,M),(E>e||D>e)&&(L=o*mathCos$1(v),O=o*mathSin$1(v),N=s*mathCos$1(d),F=s*mathSin$1(d),S<PI$6)){var oe=intersect(B,z,N,F,L,O,U,H);if(oe){var ce=B-oe[0],de=z-oe[1],Z=L-oe[0],re=O-oe[1],q=1/mathSin$1(mathACos((ce*Z+de*re)/(mathSqrt(ce*ce+de*de)*mathSqrt(Z*Z+re*re)))/2),J=mathSqrt(oe[0]*oe[0]+oe[1]*oe[1]);I=mathMin$7(E,(o-J)/(q+1)),R=mathMin$7(D,(s-J)/(q-1))}}}if(!Y)a.moveTo(g+B,y+z);else if(I>e){var he=mathMin$7(A,I),fe=mathMin$7(w,I),ee=computeCornerTangents(N,F,B,z,o,he,_),ne=computeCornerTangents(L,O,U,H,o,fe,_);a.moveTo(g+ee.cx+ee.x0,y+ee.cy+ee.y0),I<E&&he===fe?a.arc(g+ee.cx,y+ee.cy,I,mathATan2(ee.y0,ee.x0),mathATan2(ne.y0,ne.x0),!_):(he>0&&a.arc(g+ee.cx,y+ee.cy,he,mathATan2(ee.y0,ee.x0),mathATan2(ee.y1,ee.x1),!_),a.arc(g,y,o,mathATan2(ee.cy+ee.y1,ee.cx+ee.x1),mathATan2(ne.cy+ne.y1,ne.cx+ne.x1),!_),fe>0&&a.arc(g+ne.cx,y+ne.cy,fe,mathATan2(ne.y1,ne.x1),mathATan2(ne.y0,ne.x0),!_))}else a.moveTo(g+B,y+z),a.arc(g,y,o,d,v,!_);if(!(s>e)||!Y)a.lineTo(g+U,y+H);else if(R>e){var he=mathMin$7(T,R),fe=mathMin$7(b,R),ee=computeCornerTangents(U,H,L,O,s,-fe,_),ne=computeCornerTangents(B,z,N,F,s,-he,_);a.lineTo(g+ee.cx+ee.x0,y+ee.cy+ee.y0),R<D&&he===fe?a.arc(g+ee.cx,y+ee.cy,R,mathATan2(ee.y0,ee.x0),mathATan2(ne.y0,ne.x0),!_):(fe>0&&a.arc(g+ee.cx,y+ee.cy,fe,mathATan2(ee.y0,ee.x0),mathATan2(ee.y1,ee.x1),!_),a.arc(g,y,s,mathATan2(ee.cy+ee.y1,ee.cx+ee.x1),mathATan2(ne.cy+ne.y1,ne.cx+ne.x1),_),he>0&&a.arc(g+ne.cx,y+ne.cy,he,mathATan2(ne.y1,ne.x1),mathATan2(ne.y0,ne.x0),!_))}else a.lineTo(g+U,y+H),a.arc(g,y,s,v,d,_)}a.closePath()}}}var SectorShape=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return a}(),Sector=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new SectorShape},r.prototype.buildPath=function(n,o){buildPath$1(n,o)},r.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},r}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return a}(),Ring=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new RingShape},r.prototype.buildPath=function(n,o){var s=o.cx,l=o.cy,u=Math.PI*2;n.moveTo(s+o.r,l),n.arc(s,l,o.r,0,u,!1),n.moveTo(s+o.r0,l),n.arc(s,l,o.r0,0,u,!0)},r}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(a,r,n,o){var s=[],l=[],u=[],c=[],d,v,g,y;if(o){g=[1/0,1/0],y=[-1/0,-1/0];for(var _=0,S=a.length;_<S;_++)min$1(g,g,a[_]),max$1(y,y,a[_]);min$1(g,g,o[0]),max$1(y,y,o[1])}for(var _=0,S=a.length;_<S;_++){var x=a[_];if(n)d=a[_?_-1:S-1],v=a[(_+1)%S];else if(_===0||_===S-1){s.push(clone$3(a[_]));continue}else d=a[_-1],v=a[_+1];sub(l,v,d),scale$2(l,l,r);var T=distance(x,d),b=distance(x,v),A=T+b;A!==0&&(T/=A,b/=A),scale$2(u,l,-T),scale$2(c,l,b);var w=add([],x,u),$=add([],x,c);o&&(max$1(w,w,g),min$1(w,w,y),max$1($,$,g),min$1($,$,y)),s.push(w),s.push($)}return n&&s.push(s.shift()),s}function buildPath(a,r,n){var o=r.smooth,s=r.points;if(s&&s.length>=2){if(o){var l=smoothBezier(s,o,n,r.smoothConstraint);a.moveTo(s[0][0],s[0][1]);for(var u=s.length,c=0;c<(n?u:u-1);c++){var d=l[c*2],v=l[c*2+1],g=s[(c+1)%u];a.bezierCurveTo(d[0],d[1],v[0],v[1],g[0],g[1])}}else{a.moveTo(s[0][0],s[0][1]);for(var c=1,y=s.length;c<y;c++)a.lineTo(s[c][0],s[c][1])}n&&a.closePath()}}var PolygonShape=function(){function a(){this.points=null,this.smooth=0,this.smoothConstraint=null}return a}(),Polygon=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new PolygonShape},r.prototype.buildPath=function(n,o){buildPath(n,o,!0)},r}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function a(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return a}(),Polyline$2=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new PolylineShape},r.prototype.buildPath=function(n,o){buildPath(n,o,!1)},r}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}(),Line$2=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new LineShape},r.prototype.buildPath=function(n,o){var s,l,u,c;if(this.subPixelOptimize){var d=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);s=d.x1,l=d.y1,u=d.x2,c=d.y2}else s=o.x1,l=o.y1,u=o.x2,c=o.y2;var v=o.percent;v!==0&&(n.moveTo(s,l),v<1&&(u=s*(1-v)+u*v,c=l*(1-v)+c*v),n.lineTo(u,c))},r.prototype.pointAt=function(n){var o=this.shape;return[o.x1*(1-n)+o.x2*n,o.y1*(1-n)+o.y2*n]},r}(Path$1);Line$2.prototype.type="line";const Line$3=Line$2;var out=[],BezierCurveShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return a}();function someVectorAt(a,r,n){var o=a.cpx2,s=a.cpy2;return o!=null||s!=null?[(n?cubicDerivativeAt:cubicAt)(a.x1,a.cpx1,a.cpx2,a.x2,r),(n?cubicDerivativeAt:cubicAt)(a.y1,a.cpy1,a.cpy2,a.y2,r)]:[(n?quadraticDerivativeAt:quadraticAt$1)(a.x1,a.cpx1,a.x2,r),(n?quadraticDerivativeAt:quadraticAt$1)(a.y1,a.cpy1,a.y2,r)]}var BezierCurve=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new BezierCurveShape},r.prototype.buildPath=function(n,o){var s=o.x1,l=o.y1,u=o.x2,c=o.y2,d=o.cpx1,v=o.cpy1,g=o.cpx2,y=o.cpy2,_=o.percent;_!==0&&(n.moveTo(s,l),g==null||y==null?(_<1&&(quadraticSubdivide(s,d,u,_,out),d=out[1],u=out[2],quadraticSubdivide(l,v,c,_,out),v=out[1],c=out[2]),n.quadraticCurveTo(d,v,u,c)):(_<1&&(cubicSubdivide(s,d,g,u,_,out),d=out[1],g=out[2],u=out[3],cubicSubdivide(l,v,y,c,_,out),v=out[1],y=out[2],c=out[3]),n.bezierCurveTo(d,v,g,y,u,c)))},r.prototype.pointAt=function(n){return someVectorAt(this.shape,n,!1)},r.prototype.tangentAt=function(n){var o=someVectorAt(this.shape,n,!0);return normalize$3(o,o)},r}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Arc=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ArcShape},r.prototype.buildPath=function(n,o){var s=o.cx,l=o.cy,u=Math.max(o.r,0),c=o.startAngle,d=o.endAngle,v=o.clockwise,g=Math.cos(c),y=Math.sin(c);n.moveTo(g*u+s,y*u+l),n.arc(s,l,u,c,d,!v)},r}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="compound",n}return r.prototype._updatePathDirty=function(){for(var n=this.shape.paths,o=this.shapeChanged(),s=0;s<n.length;s++)o=o||n[s].shapeChanged();o&&this.dirtyShape()},r.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],o=this.getGlobalScale(),s=0;s<n.length;s++)n[s].path||n[s].createPathProxy(),n[s].path.setScale(o[0],o[1],n[s].segmentIgnoreThreshold)},r.prototype.buildPath=function(n,o){for(var s=o.paths||[],l=0;l<s.length;l++)s[l].buildPath(n,s[l].shape,!0)},r.prototype.afterBrush=function(){for(var n=this.shape.paths||[],o=0;o<n.length;o++)n[o].pathUpdated()},r.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},r}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function a(r){this.colorStops=r||[]}return a.prototype.addColorStop=function(r,n){this.colorStops.push({offset:r,color:n})},a}();const Gradient$1=Gradient;var LinearGradient=function(a){__extends(r,a);function r(n,o,s,l,u,c){var d=a.call(this,u)||this;return d.x=n==null?0:n,d.y=o==null?0:o,d.x2=s==null?1:s,d.y2=l==null?0:l,d.type="linear",d.global=c||!1,d}return r}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(a){__extends(r,a);function r(n,o,s,l,u){var c=a.call(this,l)||this;return c.x=n==null?.5:n,c.y=o==null?.5:o,c.r=s==null?.5:s,c.type="radial",c.global=u||!1,c}return r}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function a(r,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point$1;for(var o=0;o<2;o++)this._axes[o]=new Point$1;r&&this.fromBoundingRect(r,n)}return a.prototype.fromBoundingRect=function(r,n){var o=this._corners,s=this._axes,l=r.x,u=r.y,c=l+r.width,d=u+r.height;if(o[0].set(l,u),o[1].set(c,u),o[2].set(c,d),o[3].set(l,d),n)for(var v=0;v<4;v++)o[v].transform(n);Point$1.sub(s[0],o[1],o[0]),Point$1.sub(s[1],o[3],o[0]),s[0].normalize(),s[1].normalize();for(var v=0;v<2;v++)this._origin[v]=s[v].dot(o[0])},a.prototype.intersect=function(r,n){var o=!0,s=!n;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,r,minTv,maxTv,s,1)&&(o=!1,s)||!this._intersectCheckOneSide(r,this,minTv,maxTv,s,-1)&&(o=!1,s)||s||Point$1.copy(n,o?minTv:maxTv),o},a.prototype._intersectCheckOneSide=function(r,n,o,s,l,u){for(var c=!0,d=0;d<2;d++){var v=this._axes[d];if(this._getProjMinMaxOnAxis(d,r._corners,extent),this._getProjMinMaxOnAxis(d,n._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(c=!1,l)return c;var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)>s.len()&&(g<y?Point$1.scale(s,v,-g*u):Point$1.scale(s,v,y*u))}else if(o){var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)<o.len()&&(g<y?Point$1.scale(o,v,g*u):Point$1.scale(o,v,-y*u))}}return c},a.prototype._getProjMinMaxOnAxis=function(r,n,o){for(var s=this._axes[r],l=this._origin,u=n[0].dot(s)+l[r],c=u,d=u,v=1;v<n.length;v++){var g=n[v].dot(s)+l[r];c=Math.min(g,c),d=Math.max(g,d)}o[0]=c,o[1]=d},a}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return r.prototype.traverse=function(n,o){n.call(o,this)},r.prototype.useStyle=function(){this.style={}},r.prototype.getCursor=function(){return this._cursor},r.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},r.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},r.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},r.prototype.addDisplayable=function(n,o){o?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},r.prototype.addDisplayables=function(n,o){o=o||!1;for(var s=0;s<n.length;s++)this.addDisplayable(n[s],o)},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},r.prototype.eachPendingDisplayable=function(n){for(var o=this._cursor;o<this._displayables.length;o++)n&&n(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)n&&n(this._temporaryDisplayables[o])},r.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var o=this._displayables[n];o.parent=this,o.update(),o.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var o=this._temporaryDisplayables[n];o.parent=this,o.update(),o.parent=null}},r.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new BoundingRect$1(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var s=this._displayables[o],l=s.getBoundingRect().clone();s.needLocalTransform()&&l.applyTransform(s.getLocalTransform(m)),n.union(l)}this._rect=n}return this._rect},r.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();if(l.contain(s[0],s[1]))for(var u=0;u<this._displayables.length;u++){var c=this._displayables[u];if(c.contain(n,o))return!0}return!1},r}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(a,r,n,o,s){var l;if(r&&r.ecModel){var u=r.ecModel.getUpdatePayload();l=u&&u.animation}var c=r&&r.isAnimationEnabled(),d=a==="update";if(c){var v=void 0,g=void 0,y=void 0;o?(v=retrieve2(o.duration,200),g=retrieve2(o.easing,"cubicOut"),y=0):(v=r.getShallow(d?"animationDurationUpdate":"animationDuration"),g=r.getShallow(d?"animationEasingUpdate":"animationEasing"),y=r.getShallow(d?"animationDelayUpdate":"animationDelay")),l&&(l.duration!=null&&(v=l.duration),l.easing!=null&&(g=l.easing),l.delay!=null&&(y=l.delay)),isFunction(y)&&(y=y(n,s)),isFunction(v)&&(v=v(n));var _={duration:v||0,delay:y,easing:g};return _}else return null}function animateOrSetProps(a,r,n,o,s,l,u){var c=!1,d;isFunction(s)?(u=l,l=s,s=null):isObject$5(s)&&(l=s.cb,u=s.during,c=s.isFrom,d=s.removeOpt,s=s.dataIndex);var v=a==="leave";v||r.stopAnimation("leave");var g=getAnimationConfig(a,o,s,v?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(r,s):null);if(g&&g.duration>0){var y=g.duration,_=g.delay,S=g.easing,x={duration:y,delay:_||0,easing:S,done:l,force:!!l||!!u,setToFinal:!v,scope:a,during:u};c?r.animateFrom(n,x):r.animateTo(n,x)}else r.stopAnimation(),!c&&r.attr(n),u&&u(1),l&&l()}function updateProps$1(a,r,n,o,s,l){animateOrSetProps("update",a,r,n,o,s,l)}function initProps(a,r,n,o,s,l){animateOrSetProps("enter",a,r,n,o,s,l)}function isElementRemoved(a){if(!a.__zr)return!0;for(var r=0;r<a.animators.length;r++){var n=a.animators[r];if(n.scope==="leave")return!0}return!1}function removeElement(a,r,n,o,s,l){isElementRemoved(a)||animateOrSetProps("leave",a,r,n,o,s,l)}function fadeOutDisplayable(a,r,n,o){a.removeTextContent(),a.removeTextGuideLine(),removeElement(a,{style:{opacity:0}},r,n,o)}function removeElementWithFadeOut(a,r,n){function o(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(s){s.isGroup||fadeOutDisplayable(s,r,n,o)}):fadeOutDisplayable(a,r,n,o)}function saveOldStyle(a){transitionStore(a).oldStyle=a.style}function getOldStyle(a){return transitionStore(a).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(a){return Path$1.extend(a)}var extendPathFromString=extendFromString;function extendPath(a,r){return extendPathFromString(a,r)}function registerShape(a,r){_customShapeMap[a]=r}function getShapeClass(a){if(_customShapeMap.hasOwnProperty(a))return _customShapeMap[a]}function makePath(a,r,n,o){var s=createFromString(a,r);return n&&(o==="center"&&(n=centerGraphic(n,s.getBoundingRect())),resizePath(s,n)),s}function makeImage(a,r,n){var o=new ZRImage$1({style:{image:a,x:r.x,y:r.y,width:r.width,height:r.height},onload:function(s){if(n==="center"){var l={width:s.width,height:s.height};o.setStyle(centerGraphic(r,l))}}});return o}function centerGraphic(a,r){var n=r.width/r.height,o=a.height*n,s;o<=a.width?s=a.height:(o=a.width,s=o/n);var l=a.x+a.width/2,u=a.y+a.height/2;return{x:l-o/2,y:u-s/2,width:o,height:s}}var mergePath=mergePath$1;function resizePath(a,r){if(!!a.applyTransform){var n=a.getBoundingRect(),o=n.calculateTransform(r);a.applyTransform(o)}}function subPixelOptimizeLine(a,r){return subPixelOptimizeLine$1(a,a,{lineWidth:r}),a}function subPixelOptimizeRect(a){return subPixelOptimizeRect$1(a.shape,a.shape,a.style),a}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(a,r){for(var n=identity([]);a&&a!==r;)mul(n,a.getLocalTransform(),n),a=a.parent;return n}function applyTransform(a,r,n){return r&&!isArrayLike(r)&&(r=Transformable$1.getLocalTransform(r)),n&&(r=invert([],r)),applyTransform$1([],a,r)}function transformDirection(a,r,n){var o=r[4]===0||r[5]===0||r[0]===0?1:Math.abs(2*r[4]/r[0]),s=r[4]===0||r[5]===0||r[2]===0?1:Math.abs(2*r[4]/r[2]),l=[a==="left"?-o:a==="right"?o:0,a==="top"?-s:a==="bottom"?s:0];return l=applyTransform(l,r,n),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"}function isNotGroup(a){return!a.isGroup}function isPath$1(a){return a.shape!=null}function groupTransition(a,r,n){if(!a||!r)return;function o(u){var c={};return u.traverse(function(d){isNotGroup(d)&&d.anid&&(c[d.anid]=d)}),c}function s(u){var c={x:u.x,y:u.y,rotation:u.rotation};return isPath$1(u)&&(c.shape=extend({},u.shape)),c}var l=o(a);r.traverse(function(u){if(isNotGroup(u)&&u.anid){var c=l[u.anid];if(c){var d=s(u);u.attr(s(c)),updateProps$1(u,d,n,getECData(u).dataIndex)}}})}function clipPointsByRect(a,r){return map$1(a,function(n){var o=n[0];o=mathMax$6(o,r.x),o=mathMin$6(o,r.x+r.width);var s=n[1];return s=mathMax$6(s,r.y),s=mathMin$6(s,r.y+r.height),[o,s]})}function clipRectByRect(a,r){var n=mathMax$6(a.x,r.x),o=mathMin$6(a.x+a.width,r.x+r.width),s=mathMax$6(a.y,r.y),l=mathMin$6(a.y+a.height,r.y+r.height);if(o>=n&&l>=s)return{x:n,y:s,width:o-n,height:l-s}}function createIcon(a,r,n){var o=extend({rectHover:!0},r),s=o.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},a)return a.indexOf("image://")===0?(s.image=a.slice(8),defaults(s,n),new ZRImage$1(o)):makePath(a.replace("path://",""),o,n,"center")}function linePolygonIntersect(a,r,n,o,s){for(var l=0,u=s[s.length-1];l<s.length;l++){var c=s[l];if(lineLineIntersect$1(a,r,n,o,c[0],c[1],u[0],u[1]))return!0;u=c}}function lineLineIntersect$1(a,r,n,o,s,l,u,c){var d=n-a,v=o-r,g=u-s,y=c-l,_=crossProduct2d$1(g,y,d,v);if(nearZero(_))return!1;var S=a-s,x=r-l,T=crossProduct2d$1(S,x,d,v)/_;if(T<0||T>1)return!1;var b=crossProduct2d$1(S,x,g,y)/_;return!(b<0||b>1)}function crossProduct2d$1(a,r,n,o){return a*o-n*r}function nearZero(a){return a<=1e-6&&a>=-1e-6}function setTooltipConfig(a){var r=a.itemTooltipOption,n=a.componentModel,o=a.itemName,s=isString(r)?{formatter:r}:r,l=n.mainType,u=n.componentIndex,c={componentType:l,name:o,$vars:["name"]};c[l+"Index"]=u;var d=a.formatterParamsExtra;d&&each$f(keys(d),function(g){hasOwn(c,g)||(c[g]=d[g],c.$vars.push(g))});var v=getECData(a.el);v.componentMainType=l,v.componentIndex=u,v.tooltipConfig={name:o,option:defaults({content:o,formatterParams:c},s)}}function traverseElement(a,r){var n;a.isGroup&&(n=r(a)),n||a.traverse(r)}function traverseElements(a,r){if(a)if(isArray$1(a))for(var n=0;n<a.length;n++)traverseElement(a[n],r);else traverseElement(a,r)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$1,initProps,removeElement,removeElementWithFadeOut,isElementRemoved,extendShape,extendPath,registerShape,getShapeClass,makePath,makeImage,mergePath,resizePath,subPixelOptimizeLine,subPixelOptimizeRect,subPixelOptimize,getTransform:getTransform$1,applyTransform,transformDirection,groupTransition,clipPointsByRect,clipRectByRect,createIcon,linePolygonIntersect,lineLineIntersect:lineLineIntersect$1,setTooltipConfig,traverseElements,Group:Group$4,Image:ZRImage$1,Text:ZRText$1,Circle:Circle$1,Ellipse:Ellipse$1,Sector:Sector$1,Ring:Ring$1,Polygon:Polygon$1,Polyline:Polyline$3,Rect:Rect$3,Line:Line$3,BezierCurve:BezierCurve$1,Arc:Arc$1,IncrementalDisplayable:IncrementalDisplayable$1,CompoundPath:CompoundPath$1,LinearGradient:LinearGradient$1,RadialGradient:RadialGradient$1,BoundingRect:BoundingRect$1,OrientedBoundingRect:OrientedBoundingRect$1,Point:Point$1,Path:Path$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(a,r){for(var n=0;n<SPECIAL_STATES.length;n++){var o=SPECIAL_STATES[n],s=r[o],l=a.ensureState(o);l.style=l.style||{},l.style.text=s}var u=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:r.normal}),a.useStates(u,!0)}function getLabelText(a,r,n){var o=a.labelFetcher,s=a.labelDataIndex,l=a.labelDimIndex,u=r.normal,c;o&&(c=o.getFormattedLabel(s,"normal",null,l,u&&u.get("formatter"),n!=null?{interpolatedValue:n}:null)),c==null&&(c=isFunction(a.defaultText)?a.defaultText(s,a,n):a.defaultText);for(var d={normal:c},v=0;v<SPECIAL_STATES.length;v++){var g=SPECIAL_STATES[v],y=r[g];d[g]=retrieve2(o?o.getFormattedLabel(s,g,null,l,y&&y.get("formatter")):null,c)}return d}function setLabelStyle(a,r,n,o){n=n||EMPTY_OBJ;for(var s=a instanceof ZRText$1,l=!1,u=0;u<DISPLAY_STATES.length;u++){var c=r[DISPLAY_STATES[u]];if(c&&c.getShallow("show")){l=!0;break}}var d=s?a:a.getTextContent();if(l){s||(d||(d=new ZRText$1,a.setTextContent(d)),a.stateProxy&&(d.stateProxy=a.stateProxy));var v=getLabelText(n,r),g=r.normal,y=!!g.getShallow("show"),_=createTextStyle(g,o&&o.normal,n,!1,!s);_.text=v.normal,s||a.setTextConfig(createTextConfig(g,n,!1));for(var u=0;u<SPECIAL_STATES.length;u++){var S=SPECIAL_STATES[u],c=r[S];if(c){var x=d.ensureState(S),T=!!retrieve2(c.getShallow("show"),y);if(T!==y&&(x.ignore=!T),x.style=createTextStyle(c,o&&o[S],n,!0,!s),x.style.text=v[S],!s){var b=a.ensureState(S);b.textConfig=createTextConfig(c,n,!0)}}}d.silent=!!g.getShallow("silent"),d.style.x!=null&&(_.x=d.style.x),d.style.y!=null&&(_.y=d.style.y),d.ignore=!y,d.useStyle(_),d.dirty(),n.enableTextSetter&&(labelInner(d).setLabelText=function(A){var w=getLabelText(n,r,A);setLabelText(d,w)})}else d&&(d.ignore=!0);a.dirty()}function getLabelStatesModels(a,r){r=r||"label";for(var n={normal:a.getModel(r)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];n[s]=a.getModel([s,r])}return n}function createTextStyle(a,r,n,o,s){var l={};return setTextStyleCommon(l,a,n,o,s),r&&extend(l,r),l}function createTextConfig(a,r,n){r=r||{};var o={},s,l=a.getShallow("rotate"),u=retrieve2(a.getShallow("distance"),n?null:5),c=a.getShallow("offset");return s=a.getShallow("position")||(n?null:"inside"),s==="outside"&&(s=r.defaultOutsidePosition||"top"),s!=null&&(o.position=s),c!=null&&(o.offset=c),l!=null&&(l*=Math.PI/180,o.rotation=l),u!=null&&(o.distance=u),o.outsideFill=a.get("color")==="inherit"?r.inheritColor||null:"auto",o}function setTextStyleCommon(a,r,n,o,s){n=n||EMPTY_OBJ;var l=r.ecModel,u=l&&l.option.textStyle,c=getRichItemNames(r),d;if(c){d={};for(var v in c)if(c.hasOwnProperty(v)){var g=r.getModel(["rich",v]);setTokenTextStyle(d[v]={},g,u,n,o,s,!1,!0)}}d&&(a.rich=d);var y=r.get("overflow");y&&(a.overflow=y);var _=r.get("minMargin");_!=null&&(a.margin=_),setTokenTextStyle(a,r,u,n,o,s,!0,!1)}function getRichItemNames(a){for(var r;a&&a!==a.ecModel;){var n=(a.option||EMPTY_OBJ).rich;if(n){r=r||{};for(var o=keys(n),s=0;s<o.length;s++){var l=o[s];r[l]=1}}a=a.parentModel}return r}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(a,r,n,o,s,l,u,c){n=!s&&n||EMPTY_OBJ;var d=o&&o.inheritColor,v=r.getShallow("color"),g=r.getShallow("textBorderColor"),y=retrieve2(r.getShallow("opacity"),n.opacity);(v==="inherit"||v==="auto")&&(d?v=d:v=null),(g==="inherit"||g==="auto")&&(d?g=d:g=null),l||(v=v||n.color,g=g||n.textBorderColor),v!=null&&(a.fill=v),g!=null&&(a.stroke=g);var _=retrieve2(r.getShallow("textBorderWidth"),n.textBorderWidth);_!=null&&(a.lineWidth=_);var S=retrieve2(r.getShallow("textBorderType"),n.textBorderType);S!=null&&(a.lineDash=S);var x=retrieve2(r.getShallow("textBorderDashOffset"),n.textBorderDashOffset);x!=null&&(a.lineDashOffset=x),!s&&y==null&&!c&&(y=o&&o.defaultOpacity),y!=null&&(a.opacity=y),!s&&!l&&a.fill==null&&o.inheritColor&&(a.fill=o.inheritColor);for(var T=0;T<TEXT_PROPS_WITH_GLOBAL.length;T++){var b=TEXT_PROPS_WITH_GLOBAL[T],A=retrieve2(r.getShallow(b),n[b]);A!=null&&(a[b]=A)}for(var T=0;T<TEXT_PROPS_SELF.length;T++){var b=TEXT_PROPS_SELF[T],A=r.getShallow(b);A!=null&&(a[b]=A)}if(a.verticalAlign==null){var w=r.getShallow("baseline");w!=null&&(a.verticalAlign=w)}if(!u||!o.disableBox){for(var T=0;T<TEXT_PROPS_BOX.length;T++){var b=TEXT_PROPS_BOX[T],A=r.getShallow(b);A!=null&&(a[b]=A)}var $=r.getShallow("borderType");$!=null&&(a.borderDash=$),(a.backgroundColor==="auto"||a.backgroundColor==="inherit")&&d&&(a.backgroundColor=d),(a.borderColor==="auto"||a.borderColor==="inherit")&&d&&(a.borderColor=d)}}function getFont(a,r){var n=r&&r.getModel("textStyle");return trim$1([a.fontStyle||n&&n.getShallow("fontStyle")||"",a.fontWeight||n&&n.getShallow("fontWeight")||"",(a.fontSize||n&&n.getShallow("fontSize")||12)+"px",a.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(a,r,n,o){if(!!a){var s=labelInner(a);s.prevValue=s.value,s.value=n;var l=r.normal;s.valueAnimation=l.get("valueAnimation"),s.valueAnimation&&(s.precision=l.get("precision"),s.defaultInterpolatedText=o,s.statesModels=r)}}function animateLabelValue(a,r,n,o,s){var l=labelInner(a);if(!l.valueAnimation||l.prevValue===l.value)return;var u=l.defaultInterpolatedText,c=retrieve2(l.interpolatedValue,l.prevValue),d=l.value;function v(g){var y=interpolateRawValues(n,l.precision,c,d,g);l.interpolatedValue=g===1?null:y;var _=getLabelText({labelDataIndex:r,labelFetcher:s,defaultText:u?u(y):y+""},l.statesModels,y);setLabelText(a,_)}a.percent=0,(l.prevValue==null?initProps:updateProps$1)(a,{percent:1},o,r,null,v)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function a(){}return a.prototype.getTextColor=function(r){var n=this.ecModel;return this.getShallow("color")||(!r&&n?n.get(PATH_COLOR):null)},a.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(r){for(var n={text:r,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)n[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},a}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function a(){}return a.prototype.getLineStyle=function(r){return getLineStyle(this,r)},a}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function a(){}return a.prototype.getItemStyle=function(r,n){return getItemStyle(this,r,n)},a}(),Model=function(){function a(r,n,o){this.parentModel=n,this.ecModel=o,this.option=r}return a.prototype.init=function(r,n,o){},a.prototype.mergeOption=function(r,n){merge$1(this.option,r,!0)},a.prototype.get=function(r,n){return r==null?this.option:this._doGet(this.parsePath(r),!n&&this.parentModel)},a.prototype.getShallow=function(r,n){var o=this.option,s=o==null?o:o[r];if(s==null&&!n){var l=this.parentModel;l&&(s=l.getShallow(r))}return s},a.prototype.getModel=function(r,n){var o=r!=null,s=o?this.parsePath(r):null,l=o?this._doGet(s):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),new a(l,n,this.ecModel)},a.prototype.isEmpty=function(){return this.option==null},a.prototype.restoreData=function(){},a.prototype.clone=function(){var r=this.constructor;return new r(clone$4(this.option))},a.prototype.parsePath=function(r){return typeof r=="string"?r.split("."):r},a.prototype.resolveParentPath=function(r){return r},a.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(r,n){var o=this.option;if(!r)return o;for(var s=0;s<r.length&&!(!!r[s]&&(o=o&&typeof o=="object"?o[r[s]]:null,o==null));s++);return o==null&&n&&(o=n._doGet(this.resolveParentPath(r),n.parentModel)),o},a}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(a){return[a||"",base++].join("_")}function enableSubTypeDefaulter(a){var r={};a.registerSubTypeDefaulter=function(n,o){var s=parseClassType(n);r[s.main]=o},a.determineSubType=function(n,o){var s=o.type;if(!s){var l=parseClassType(n).main;a.hasSubTypes(n)&&r[l]&&(s=r[l](o))}return s}}function enableTopologicalTravel(a,r){a.topologicalTravel=function(l,u,c,d){if(!l.length)return;var v=n(u),g=v.graph,y=v.noEntryList,_={};for(each$f(l,function(w){_[w]=!0});y.length;){var S=y.pop(),x=g[S],T=!!_[S];T&&(c.call(d,S,x.originalDeps.slice()),delete _[S]),each$f(x.successor,T?A:b)}each$f(_,function(){var w="";throw new Error(w)});function b(w){g[w].entryCount--,g[w].entryCount===0&&y.push(w)}function A(w){_[w]=!0,b(w)}};function n(l){var u={},c=[];return each$f(l,function(d){var v=o(u,d),g=v.originalDeps=r(d),y=s(g,l);v.entryCount=y.length,v.entryCount===0&&c.push(d),each$f(y,function(_){indexOf(v.predecessor,_)<0&&v.predecessor.push(_);var S=o(u,_);indexOf(S.successor,_)<0&&S.successor.push(d)})}),{graph:u,noEntryList:c}}function o(l,u){return l[u]||(l[u]={predecessor:[],successor:[]}),l[u]}function s(l,u){var c=[];return each$f(l,function(d){indexOf(u,d)>=0&&c.push(d)}),c}}function inheritDefaultOption(a,r){return merge$1(merge$1({},a,!0),r,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var a=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return a.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(a,r){a=a.toUpperCase(),localeModels[a]=new Model$1(r),localeStorage[a]=r}function createLocaleObject(a){if(isString(a)){var r=localeStorage[a.toUpperCase()]||{};return a===LOCALE_ZH||a===LOCALE_EN?clone$4(r):merge$1(clone$4(r),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge$1(clone$4(a),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(a){return localeModels[a]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(a,r){return a+="","0000".substr(0,r-a.length)+a}function getPrimaryTimeUnit(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function isPrimaryTimeUnit(a){return a===getPrimaryTimeUnit(a)}function getDefaultFormatPrecisionOfInterval(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(a,r,n,o){var s=parseDate(a),l=s[fullYearGetterName(n)](),u=s[monthGetterName(n)]()+1,c=Math.floor((u-1)/3)+1,d=s[dateGetterName(n)](),v=s["get"+(n?"UTC":"")+"Day"](),g=s[hoursGetterName(n)](),y=(g-1)%12+1,_=s[minutesGetterName(n)](),S=s[secondsGetterName(n)](),x=s[millisecondsGetterName(n)](),T=o instanceof Model$1?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),b=T.getModel("time"),A=b.get("month"),w=b.get("monthAbbr"),$=b.get("dayOfWeek"),C=b.get("dayOfWeekAbbr");return(r||"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,l%100+"").replace(/{Q}/g,c+"").replace(/{MMMM}/g,A[u-1]).replace(/{MMM}/g,w[u-1]).replace(/{MM}/g,pad(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,$[v]).replace(/{ee}/g,C[v]).replace(/{e}/g,v+"").replace(/{HH}/g,pad(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,pad(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,pad(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,pad(S,2)).replace(/{s}/g,S+"").replace(/{SSS}/g,pad(x,3)).replace(/{S}/g,x+"")}function leveledFormat(a,r,n,o,s){var l=null;if(isString(n))l=n;else if(isFunction(n))l=n(a.value,r,{level:a.level});else{var u=extend({},defaultLeveledFormatter);if(a.level>0)for(var c=0;c<primaryTimeUnits.length;++c)u[primaryTimeUnits[c]]="{primary|"+u[primaryTimeUnits[c]]+"}";var d=n?n.inherit===!1?n:defaults(n,u):u,v=getUnitFromValue(a.value,s);if(d[v])l=d[v];else if(d.inherit){for(var g=timeUnits.indexOf(v),c=g-1;c>=0;--c)if(d[v]){l=d[v];break}l=l||u.none}if(isArray$1(l)){var y=a.level==null?0:a.level>=0?a.level:l.length+a.level;y=Math.min(y,l.length-1),l=l[y]}}return format(new Date(a.value),l,s,o)}function getUnitFromValue(a,r){var n=parseDate(a),o=n[monthGetterName(r)]()+1,s=n[dateGetterName(r)](),l=n[hoursGetterName(r)](),u=n[minutesGetterName(r)](),c=n[secondsGetterName(r)](),d=n[millisecondsGetterName(r)](),v=d===0,g=v&&c===0,y=g&&u===0,_=y&&l===0,S=_&&s===1,x=S&&o===1;return x?"year":S?"month":_?"day":y?"hour":g?"minute":v?"second":"millisecond"}function getUnitValue(a,r,n){var o=isNumber(a)?parseDate(a):a;switch(r=r||getUnitFromValue(a,n),r){case"year":return o[fullYearGetterName(n)]();case"half-year":return o[monthGetterName(n)]()>=6?1:0;case"quarter":return Math.floor((o[monthGetterName(n)]()+1)/4);case"month":return o[monthGetterName(n)]();case"day":return o[dateGetterName(n)]();case"half-day":return o[hoursGetterName(n)]()/24;case"hour":return o[hoursGetterName(n)]();case"minute":return o[minutesGetterName(n)]();case"second":return o[secondsGetterName(n)]();case"millisecond":return o[millisecondsGetterName(n)]()}}function fullYearGetterName(a){return a?"getUTCFullYear":"getFullYear"}function monthGetterName(a){return a?"getUTCMonth":"getMonth"}function dateGetterName(a){return a?"getUTCDate":"getDate"}function hoursGetterName(a){return a?"getUTCHours":"getHours"}function minutesGetterName(a){return a?"getUTCMinutes":"getMinutes"}function secondsGetterName(a){return a?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(a){return a?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(a){return a?"setUTCFullYear":"setFullYear"}function monthSetterName(a){return a?"setUTCMonth":"setMonth"}function dateSetterName(a){return a?"setUTCDate":"setDate"}function hoursSetterName(a){return a?"setUTCHours":"setHours"}function minutesSetterName(a){return a?"setUTCMinutes":"setMinutes"}function secondsSetterName(a){return a?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(a){return a?"setUTCMilliseconds":"setMilliseconds"}function addCommas(a){if(!isNumeric(a))return isString(a)?a:"-";var r=(a+"").split(".");return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}function toCamelCase(a,r){return a=(a||"").toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()}),r&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(a,r,n){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function s(g){return g&&trim$1(g)?g:"-"}function l(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var u=r==="time",c=a instanceof Date;if(u||c){var d=u?parseDate(a):a;if(isNaN(+d)){if(c)return"-"}else return format(d,o,n)}if(r==="ordinal")return isStringSafe(a)?s(a):isNumber(a)&&l(a)?a+"":"-";var v=numericToNumber(a);return l(v)?addCommas(v):isStringSafe(a)?s(a):typeof a=="boolean"?a+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(a,r){return"{"+a+(r==null?"":r)+"}"};function formatTpl(a,r,n){isArray$1(r)||(r=[r]);var o=r.length;if(!o)return"";for(var s=r[0].$vars||[],l=0;l<s.length;l++){var u=TPL_VAR_ALIAS[l];a=a.replace(wrapVar(u),wrapVar(u,0))}for(var c=0;c<o;c++)for(var d=0;d<s.length;d++){var v=r[c][s[d]];a=a.replace(wrapVar(TPL_VAR_ALIAS[d],c),n?encodeHTML(v):v)}return a}function formatTplSimple(a,r,n){return each$f(r,function(o,s){a=a.replace("{"+s+"}",n?encodeHTML(o):o)}),a}function getTooltipMarker(a,r){var n=isString(a)?{color:a,extraCssText:r}:a||{},o=n.color,s=n.type;r=n.extraCssText;var l=n.renderMode||"html";if(!o)return"";if(l==="html")return s==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(r||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(r||"")+'"></span>';var u=n.markerId||"markerX";return{renderMode:l,content:"{"+u+"|}  ",style:s==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(a,r){return r=r||"transparent",isString(a)?a:isObject$5(a)&&a.colorStops&&(a.colorStops[0]||{}).color||r}function windowOpen(a,r){if(r==="_blank"||r==="blank"){var n=window.open();n.opener=null,n.location.href=a}else window.open(a,r)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(a,r,n,o,s){var l=0,u=0;o==null&&(o=1/0),s==null&&(s=1/0);var c=0;r.eachChild(function(d,v){var g=d.getBoundingRect(),y=r.childAt(v+1),_=y&&y.getBoundingRect(),S,x;if(a==="horizontal"){var T=g.width+(_?-_.x+g.x:0);S=l+T,S>o||d.newline?(l=0,S=T,u+=c+n,c=g.height):c=Math.max(c,g.height)}else{var b=g.height+(_?-_.y+g.y:0);x=u+b,x>s||d.newline?(l+=c+n,u=0,x=b,c=g.width):c=Math.max(c,g.width)}d.newline||(d.x=l,d.y=u,d.markRedraw(),a==="horizontal"?l=S+n:u=x+n)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(a,r,n){var o=r.width,s=r.height,l=parsePercent(a.left,o),u=parsePercent(a.top,s),c=parsePercent(a.right,o),d=parsePercent(a.bottom,s);return(isNaN(l)||isNaN(parseFloat(a.left)))&&(l=0),(isNaN(c)||isNaN(parseFloat(a.right)))&&(c=o),(isNaN(u)||isNaN(parseFloat(a.top)))&&(u=0),(isNaN(d)||isNaN(parseFloat(a.bottom)))&&(d=s),n=normalizeCssArray(n||0),{width:Math.max(c-l-n[1]-n[3],0),height:Math.max(d-u-n[0]-n[2],0)}}function getLayoutRect(a,r,n){n=normalizeCssArray(n||0);var o=r.width,s=r.height,l=parsePercent(a.left,o),u=parsePercent(a.top,s),c=parsePercent(a.right,o),d=parsePercent(a.bottom,s),v=parsePercent(a.width,o),g=parsePercent(a.height,s),y=n[2]+n[0],_=n[1]+n[3],S=a.aspect;switch(isNaN(v)&&(v=o-c-_-l),isNaN(g)&&(g=s-d-y-u),S!=null&&(isNaN(v)&&isNaN(g)&&(S>o/s?v=o*.8:g=s*.8),isNaN(v)&&(v=S*g),isNaN(g)&&(g=v/S)),isNaN(l)&&(l=o-c-v-_),isNaN(u)&&(u=s-d-g-y),a.left||a.right){case"center":l=o/2-v/2-n[3];break;case"right":l=o-v-_;break}switch(a.top||a.bottom){case"middle":case"center":u=s/2-g/2-n[0];break;case"bottom":u=s-g-y;break}l=l||0,u=u||0,isNaN(v)&&(v=o-_-l-(c||0)),isNaN(g)&&(g=s-y-u-(d||0));var x=new BoundingRect$1(l+n[3],u+n[0],v,g);return x.margin=n,x}function positionElement(a,r,n,o,s,l){var u=!s||!s.hv||s.hv[0],c=!s||!s.hv||s.hv[1],d=s&&s.boundingMode||"all";if(l=l||a,l.x=a.x,l.y=a.y,!u&&!c)return!1;var v;if(d==="raw")v=a.type==="group"?new BoundingRect$1(0,0,+r.width||0,+r.height||0):a.getBoundingRect();else if(v=a.getBoundingRect(),a.needLocalTransform()){var g=a.getLocalTransform();v=v.clone(),v.applyTransform(g)}var y=getLayoutRect(defaults({width:v.width,height:v.height},r),n,o),_=u?y.x-v.x:0,S=c?y.y-v.y:0;return d==="raw"?(l.x=_,l.y=S):(l.x+=_,l.y+=S),l===a&&a.markRedraw(),!0}function sizeCalculable(a,r){return a[HV_NAMES[r][0]]!=null||a[HV_NAMES[r][1]]!=null&&a[HV_NAMES[r][2]]!=null}function fetchLayoutMode(a){var r=a.layoutMode||a.constructor.layoutMode;return isObject$5(r)?r:r?{type:r}:null}function mergeLayoutParam(a,r,n){var o=n&&n.ignoreSize;!isArray$1(o)&&(o=[o,o]);var s=u(HV_NAMES[0],0),l=u(HV_NAMES[1],1);v(HV_NAMES[0],a,s),v(HV_NAMES[1],a,l);function u(g,y){var _={},S=0,x={},T=0,b=2;if(each$e(g,function($){x[$]=a[$]}),each$e(g,function($){c(r,$)&&(_[$]=x[$]=r[$]),d(_,$)&&S++,d(x,$)&&T++}),o[y])return d(r,g[1])?x[g[2]]=null:d(r,g[2])&&(x[g[1]]=null),x;if(T===b||!S)return x;if(S>=b)return _;for(var A=0;A<g.length;A++){var w=g[A];if(!c(_,w)&&c(a,w)){_[w]=a[w];break}}return _}function c(g,y){return g.hasOwnProperty(y)}function d(g,y){return g[y]!=null&&g[y]!=="auto"}function v(g,y,_){each$e(g,function(S){y[S]=_[S]})}}function getLayoutParams(a){return copyLayoutParams({},a)}function copyLayoutParams(a,r){return r&&a&&each$e(LOCATION_PARAMS,function(n){r.hasOwnProperty(n)&&(a[n]=r[n])}),a}var inner$l=makeInner(),ComponentModel=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this,n,o,s)||this;return l.uid=getUID("ec_cpt_model"),l}return r.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s)},r.prototype.mergeDefaultAndTheme=function(n,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(n):{},u=o.getTheme();merge$1(n,u.get(this.mainType)),merge$1(n,this.getDefaultOption()),s&&mergeLayoutParam(n,l,s)},r.prototype.mergeOption=function(n,o){merge$1(this.option,n,!0);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,n,s)},r.prototype.optionUpdated=function(n,o){},r.prototype.getDefaultOption=function(){var n=this.constructor;if(!isExtendedClass(n))return n.defaultOption;var o=inner$l(this);if(!o.defaultOption){for(var s=[],l=n;l;){var u=l.prototype.defaultOption;u&&s.push(u),l=l.superClass}for(var c={},d=s.length-1;d>=0;d--)c=merge$1(c,s[d],!0);o.defaultOption=c}return o.defaultOption},r.prototype.getReferringComponents=function(n,o){var s=n+"Index",l=n+"Id";return queryReferringComponents(this.ecModel,n,{index:this.get(s,!0),id:this.get(l,!0)},o)},r.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},r.prototype.getZLevelKey=function(){return""},r.prototype.setZLevel=function(n){this.option.zlevel=n},r.protoInitialize=function(){var n=r.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),r}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(a){var r=[];return each$f(ComponentModel.getClassesByMainType(a),function(n){r=r.concat(n.dependencies||n.prototype.dependencies||[])}),r=map$1(r,function(n){return parseClassType(n).main}),a!=="dataset"&&indexOf(r,"dataset")<=0&&r.unshift("dataset"),r}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(a){innerGlobalModel(a).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(a,r,n){var o={},s=querySeriesUpstreamDatasetModel(r);if(!s||!a)return o;var l=[],u=[],c=r.ecModel,d=innerGlobalModel(c).datasetMap,v=s.uid+"_"+n.seriesLayoutBy,g,y;a=a.slice(),each$f(a,function(T,b){var A=isObject$5(T)?T:a[b]={name:T};A.type==="ordinal"&&g==null&&(g=b,y=x(A)),o[A.name]=[]});var _=d.get(v)||d.set(v,{categoryWayDim:y,valueWayDim:0});each$f(a,function(T,b){var A=T.name,w=x(T);if(g==null){var $=_.valueWayDim;S(o[A],$,w),S(u,$,w),_.valueWayDim+=w}else if(g===b)S(o[A],0,w),S(l,0,w);else{var $=_.categoryWayDim;S(o[A],$,w),S(u,$,w),_.categoryWayDim+=w}});function S(T,b,A){for(var w=0;w<A;w++)T.push(b+w)}function x(T){var b=T.dimsDef;return b?b.length:1}return l.length&&(o.itemName=l),u.length&&(o.seriesName=u),o}function makeSeriesEncodeForNameBased(a,r,n){var o={},s=querySeriesUpstreamDatasetModel(a);if(!s)return o;var l=r.sourceFormat,u=r.dimensionsDefine,c;(l===SOURCE_FORMAT_OBJECT_ROWS||l===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(u,function(g,y){(isObject$5(g)?g.name:g)==="name"&&(c=y)});var d=function(){for(var g={},y={},_=[],S=0,x=Math.min(5,n);S<x;S++){var T=doGuessOrdinal(r.data,l,r.seriesLayoutBy,u,r.startIndex,S);_.push(T);var b=T===BE_ORDINAL.Not;if(b&&g.v==null&&S!==c&&(g.v=S),(g.n==null||g.n===g.v||!b&&_[g.n]===BE_ORDINAL.Not)&&(g.n=S),A(g)&&_[g.n]!==BE_ORDINAL.Not)return g;b||(T===BE_ORDINAL.Might&&y.v==null&&S!==c&&(y.v=S),(y.n==null||y.n===y.v)&&(y.n=S))}function A(w){return w.v!=null&&w.n!=null}return A(g)?g:A(y)?y:null}();if(d){o.value=[d.v];var v=c!=null?c:d.n;o.itemName=[v],o.seriesName=[v]}return o}function querySeriesUpstreamDatasetModel(a){var r=a.get("data",!0);if(!r)return queryReferringComponents(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(a){return!a.get("transform",!0)&&!a.get("fromTransformResult",!0)?[]:queryReferringComponents(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(a,r){return doGuessOrdinal(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,r)}function doGuessOrdinal(a,r,n,o,s,l){var u,c=5;if(isTypedArray(a))return BE_ORDINAL.Not;var d,v;if(o){var g=o[l];isObject$5(g)?(d=g.name,v=g.type):isString(g)&&(d=g)}if(v!=null)return v==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(r===SOURCE_FORMAT_ARRAY_ROWS){var y=a;if(n===SERIES_LAYOUT_BY_ROW){for(var _=y[l],S=0;S<(_||[]).length&&S<c;S++)if((u=C(_[s+S]))!=null)return u}else for(var S=0;S<y.length&&S<c;S++){var x=y[s+S];if(x&&(u=C(x[l]))!=null)return u}}else if(r===SOURCE_FORMAT_OBJECT_ROWS){var T=a;if(!d)return BE_ORDINAL.Not;for(var S=0;S<T.length&&S<c;S++){var b=T[S];if(b&&(u=C(b[d]))!=null)return u}}else if(r===SOURCE_FORMAT_KEYED_COLUMNS){var A=a;if(!d)return BE_ORDINAL.Not;var _=A[d];if(!_||isTypedArray(_))return BE_ORDINAL.Not;for(var S=0;S<_.length&&S<c;S++)if((u=C(_[S]))!=null)return u}else if(r===SOURCE_FORMAT_ORIGINAL)for(var w=a,S=0;S<w.length&&S<c;S++){var b=w[S],$=getDataItemValue(b);if(!isArray$1($))return BE_ORDINAL.Not;if((u=C($[l]))!=null)return u}function C(P){var M=isString(P);if(P!=null&&isFinite(P)&&P!=="")return M?BE_ORDINAL.Might:BE_ORDINAL.Not;if(M&&P!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(a,r){assert(internalOptionCreatorMap.get(a)==null&&r),internalOptionCreatorMap.set(a,r)}function concatInternalOptions(a,r,n){var o=internalOptionCreatorMap.get(r);if(!o)return n;var s=o(a);return s?n.concat(s):n}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function a(){}return a.prototype.getColorFromPalette=function(r,n,o){var s=normalizeToArray(this.get("color",!0)),l=this.get("colorLayer",!0);return getFromPalette(this,innerColor,s,l,r,n,o)},a.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},a}();function getDecalFromPalette(a,r,n,o){var s=normalizeToArray(a.get(["aria","decal","decals"]));return getFromPalette(a,innerDecal,s,null,r,n,o)}function getNearestPalette(a,r){for(var n=a.length,o=0;o<n;o++)if(a[o].length>r)return a[o];return a[n-1]}function getFromPalette(a,r,n,o,s,l,u){l=l||a;var c=r(l),d=c.paletteIdx||0,v=c.paletteNameMap=c.paletteNameMap||{};if(v.hasOwnProperty(s))return v[s];var g=u==null||!o?n:getNearestPalette(o,u);if(g=g||n,!(!g||!g.length)){var y=g[d];return s&&(v[s]=y),c.paletteIdx=(d+1)%g.length,y}}function clearPalette(a,r){r(a).paletteIdx=0,r(a).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.init=function(n,o,s,l,u,c){l=l||{},this.option=null,this._theme=new Model$1(l),this._locale=new Model$1(u),this._optionManager=c},r.prototype.setOption=function(n,o,s){var l=normalizeSetOptionInput(o);this._optionManager.setOption(n,s,l),this._resetOption(null,l)},r.prototype.resetOption=function(n,o){return this._resetOption(n,normalizeSetOptionInput(o))},r.prototype._resetOption=function(n,o){var s=!1,l=this._optionManager;if(!n||n==="recreate"){var u=l.mountOption(n==="recreate");!this.option||n==="recreate"?initBase(this,u):(this.restoreData(),this._mergeOption(u,o)),s=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var c=l.getTimelineOption(this);c&&(s=!0,this._mergeOption(c,o))}if(!n||n==="recreate"||n==="media"){var d=l.getMediaOption(this);d.length&&each$f(d,function(v){s=!0,this._mergeOption(v,o)},this)}return s},r.prototype.mergeOption=function(n){this._mergeOption(n,null)},r.prototype._mergeOption=function(n,o){var s=this.option,l=this._componentsMap,u=this._componentsCount,c=[],d=createHashMap(),v=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(n,function(y,_){y!=null&&(ComponentModel$1.hasClass(_)?_&&(c.push(_),d.set(_,!0)):s[_]=s[_]==null?clone$4(y):merge$1(s[_],y,!0))}),v&&v.each(function(y,_){ComponentModel$1.hasClass(_)&&!d.get(_)&&(c.push(_),d.set(_,!0))}),ComponentModel$1.topologicalTravel(c,ComponentModel$1.getAllClassMainTypes(),g,this);function g(y){var _=concatInternalOptions(this,y,normalizeToArray(n[y])),S=l.get(y),x=S?v&&v.get(y)?"replaceMerge":"normalMerge":"replaceAll",T=mappingToExists(S,_,x);setComponentTypeToKeyInfo(T,y,ComponentModel$1),s[y]=null,l.set(y,null),u.set(y,0);var b=[],A=[],w=0,$;each$f(T,function(C,P){var M=C.existing,E=C.newOption;if(!E)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var D=y==="series",I=ComponentModel$1.getClass(y,C.keyInfo.subType,!D);if(!I)return;if(y==="tooltip"){if($)return;$=!0}if(M&&M.constructor===I)M.name=C.keyInfo.name,M.mergeOption(E,this),M.optionUpdated(E,!1);else{var R=extend({componentIndex:P},C.keyInfo);M=new I(E,this,this,R),extend(M,R),C.brandNew&&(M.__requireNewView=!0),M.init(E,this,this),M.optionUpdated(null,!0)}}M?(b.push(M.option),A.push(M),w++):(b.push(void 0),A.push(void 0))},this),s[y]=b,l.set(y,A),u.set(y,w),y==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},r.prototype.getOption=function(){var n=clone$4(this.option);return each$f(n,function(o,s){if(ComponentModel$1.hasClass(s)){for(var l=normalizeToArray(o),u=l.length,c=!1,d=u-1;d>=0;d--)l[d]&&!isComponentIdInternal(l[d])?c=!0:(l[d]=null,!c&&u--);l.length=u,n[s]=l}}),delete n[OPTION_INNER_KEY],n},r.prototype.getTheme=function(){return this._theme},r.prototype.getLocaleModel=function(){return this._locale},r.prototype.setUpdatePayload=function(n){this._payload=n},r.prototype.getUpdatePayload=function(){return this._payload},r.prototype.getComponent=function(n,o){var s=this._componentsMap.get(n);if(s){var l=s[o||0];if(l)return l;if(o==null){for(var u=0;u<s.length;u++)if(s[u])return s[u]}}},r.prototype.queryComponents=function(n){var o=n.mainType;if(!o)return[];var s=n.index,l=n.id,u=n.name,c=this._componentsMap.get(o);if(!c||!c.length)return[];var d;return s!=null?(d=[],each$f(normalizeToArray(s),function(v){c[v]&&d.push(c[v])})):l!=null?d=queryByIdOrName("id",l,c):u!=null?d=queryByIdOrName("name",u,c):d=filter(c,function(v){return!!v}),filterBySubType(d,n)},r.prototype.findComponents=function(n){var o=n.query,s=n.mainType,l=c(o),u=l?this.queryComponents(l):filter(this._componentsMap.get(s),function(v){return!!v});return d(filterBySubType(u,n));function c(v){var g=s+"Index",y=s+"Id",_=s+"Name";return v&&(v[g]!=null||v[y]!=null||v[_]!=null)?{mainType:s,index:v[g],id:v[y],name:v[_]}:null}function d(v){return n.filter?filter(v,n.filter):v}},r.prototype.eachComponent=function(n,o,s){var l=this._componentsMap;if(isFunction(n)){var u=o,c=n;l.each(function(y,_){for(var S=0;y&&S<y.length;S++){var x=y[S];x&&c.call(u,_,x,x.componentIndex)}})}else for(var d=isString(n)?l.get(n):isObject$5(n)?this.findComponents(n):null,v=0;d&&v<d.length;v++){var g=d[v];g&&o.call(s,g,g.componentIndex)}},r.prototype.getSeriesByName=function(n){var o=convertOptionIdName(n,null);return filter(this._componentsMap.get("series"),function(s){return!!s&&o!=null&&s.name===o})},r.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},r.prototype.getSeriesByType=function(n){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===n})},r.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(n){return!!n})},r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},r.prototype.eachSeries=function(n,o){assertSeriesInitialized(this),each$f(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];n.call(o,l,s)},this)},r.prototype.eachRawSeries=function(n,o){each$f(this._componentsMap.get("series"),function(s){s&&n.call(o,s,s.componentIndex)})},r.prototype.eachSeriesByType=function(n,o,s){assertSeriesInitialized(this),each$f(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];u.subType===n&&o.call(s,u,l)},this)},r.prototype.eachRawSeriesByType=function(n,o,s){return each$f(this.getSeriesByType(n),o,s)},r.prototype.isSeriesFiltered=function(n){return assertSeriesInitialized(this),this._seriesIndicesMap.get(n.componentIndex)==null},r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},r.prototype.filterSeries=function(n,o){assertSeriesInitialized(this);var s=[];each$f(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];n.call(o,u,l)&&s.push(l)},this),this._seriesIndices=s,this._seriesIndicesMap=createHashMap(s)},r.prototype.restoreData=function(n){reCreateSeriesIndices(this);var o=this._componentsMap,s=[];o.each(function(l,u){ComponentModel$1.hasClass(u)&&s.push(u)}),ComponentModel$1.topologicalTravel(s,ComponentModel$1.getAllClassMainTypes(),function(l){each$f(o.get(l),function(u){u&&(l!=="series"||!isNotTargetSeries(u,n))&&u.restoreData()})})},r.internalField=function(){reCreateSeriesIndices=function(n){var o=n._seriesIndices=[];each$f(n._componentsMap.get("series"),function(s){s&&o.push(s.componentIndex)}),n._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(n){},initBase=function(n,o){n.option={},n.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,n._componentsMap=createHashMap({series:[]}),n._componentsCount=createHashMap();var s=o.aria;isObject$5(s)&&s.enabled==null&&(s.enabled=!0),mergeTheme(o,n._theme.option),merge$1(o,globalDefault,!1),n._mergeOption(o,null)}}(),r}(Model$1);function isNotTargetSeries(a,r){if(r){var n=r.seriesIndex,o=r.seriesId,s=r.seriesName;return n!=null&&a.componentIndex!==n||o!=null&&a.id!==o||s!=null&&a.name!==s}}function mergeTheme(a,r){var n=a.color&&!a.colorLayer;each$f(r,function(o,s){s==="colorLayer"&&n||ComponentModel$1.hasClass(s)||(typeof o=="object"?a[s]=a[s]?merge$1(a[s],o,!1):clone$4(o):a[s]==null&&(a[s]=o))})}function queryByIdOrName(a,r,n){if(isArray$1(r)){var o=createHashMap();return each$f(r,function(l){if(l!=null){var u=convertOptionIdName(l,null);u!=null&&o.set(l,!0)}}),filter(n,function(l){return l&&o.get(l[a])})}else{var s=convertOptionIdName(r,null);return filter(n,function(l){return l&&s!=null&&l[a]===s})}}function filterBySubType(a,r){return r.hasOwnProperty("subType")?filter(a,function(n){return n&&n.subType===r.subType}):a}function normalizeSetOptionInput(a){var r=createHashMap();return a&&each$f(normalizeToArray(a.replaceMerge),function(n){r.set(n,!0)}),{replaceMergeMainTypeMap:r}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function a(r){each$f(availableMethods,function(n){this[n]=bind$1(r[n],r)},this)}return a}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function a(){this._coordinateSystems=[]}return a.prototype.create=function(r,n){var o=[];each$f(coordinateSystemCreators,function(s,l){var u=s.create(r,n);o=o.concat(u||[])}),this._coordinateSystems=o},a.prototype.update=function(r,n){each$f(this._coordinateSystems,function(o){o.update&&o.update(r,n)})},a.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},a.register=function(r,n){coordinateSystemCreators[r]=n},a.get=function(r){return coordinateSystemCreators[r]},a}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function a(r){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=r}return a.prototype.setOption=function(r,n,o){r&&(each$f(normalizeToArray(r.series),function(u){u&&u.data&&isTypedArray(u.data)&&setAsPrimitive(u.data)}),each$f(normalizeToArray(r.dataset),function(u){u&&u.source&&isTypedArray(u.source)&&setAsPrimitive(u.source)})),r=clone$4(r);var s=this._optionBackup,l=parseRawOption(r,n,!s);this._newBaseOption=l.baseOption,s?(l.timelineOptions.length&&(s.timelineOptions=l.timelineOptions),l.mediaList.length&&(s.mediaList=l.mediaList),l.mediaDefault&&(s.mediaDefault=l.mediaDefault)):this._optionBackup=l},a.prototype.mountOption=function(r){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$4(r?n.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(r){var n,o=this._timelineOptions;if(o.length){var s=r.getComponent("timeline");s&&(n=clone$4(o[s.getCurrentIndex()]))}return n},a.prototype.getMediaOption=function(r){var n=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,u=[],c=[];if(!s.length&&!l)return c;for(var d=0,v=s.length;d<v;d++)applyMediaQuery(s[d].query,n,o)&&u.push(d);return!u.length&&l&&(u=[-1]),u.length&&!indicesEquals(u,this._currentMediaIndices)&&(c=map$1(u,function(g){return clone$4(g===-1?l.option:s[g].option)})),this._currentMediaIndices=u,c},a}();function parseRawOption(a,r,n){var o=[],s,l,u=a.baseOption,c=a.timeline,d=a.options,v=a.media,g=!!a.media,y=!!(d||c||u&&u.timeline);u?(l=u,l.timeline||(l.timeline=c)):((y||g)&&(a.options=a.media=null),l=a),g&&isArray$1(v)&&each$f(v,function(S){S&&S.option&&(S.query?o.push(S):s||(s=S))}),_(l),each$f(d,function(S){return _(S)}),each$f(o,function(S){return _(S.option)});function _(S){each$f(r,function(x){x(S,n)})}return{baseOption:l,timelineOptions:d||[],mediaDefault:s,mediaList:o}}function applyMediaQuery(a,r,n){var o={width:r,height:n,aspectratio:r/n},s=!0;return each$f(a,function(l,u){var c=u.match(QUERY_REG);if(!(!c||!c[1]||!c[2])){var d=c[1],v=c[2].toLowerCase();compare(o[v],l,d)||(s=!1)}}),s}function compare(a,r,n){return n==="min"?a>=r:n==="max"?a<=r:a===r}function indicesEquals(a,r){return a.join(",")===r.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$4=isObject$5,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(a){var r=a&&a.itemStyle;if(!!r)for(var n=0,o=POSSIBLE_STYLES.length;n<o;n++){var s=POSSIBLE_STYLES[n],l=r.normal,u=r.emphasis;l&&l[s]&&(a[s]=a[s]||{},a[s].normal?merge$1(a[s].normal,l[s]):a[s].normal=l[s],l[s]=null),u&&u[s]&&(a[s]=a[s]||{},a[s].emphasis?merge$1(a[s].emphasis,u[s]):a[s].emphasis=u[s],u[s]=null)}}function convertNormalEmphasis(a,r,n){if(a&&a[r]&&(a[r].normal||a[r].emphasis)){var o=a[r].normal,s=a[r].emphasis;o&&(n?(a[r].normal=a[r].emphasis=null,defaults(a[r],o)):a[r]=o),s&&(a.emphasis=a.emphasis||{},a.emphasis[r]=s,s.focus&&(a.emphasis.focus=s.focus),s.blurScope&&(a.emphasis.blurScope=s.blurScope))}}function removeEC3NormalStatus(a){convertNormalEmphasis(a,"itemStyle"),convertNormalEmphasis(a,"lineStyle"),convertNormalEmphasis(a,"areaStyle"),convertNormalEmphasis(a,"label"),convertNormalEmphasis(a,"labelLine"),convertNormalEmphasis(a,"upperLabel"),convertNormalEmphasis(a,"edgeLabel")}function compatTextStyle(a,r){var n=isObject$4(a)&&a[r],o=isObject$4(n)&&n.textStyle;if(o)for(var s=0,l=TEXT_STYLE_OPTIONS.length;s<l;s++){var u=TEXT_STYLE_OPTIONS[s];o.hasOwnProperty(u)&&(n[u]=o[u])}}function compatEC3CommonStyles(a){a&&(removeEC3NormalStatus(a),compatTextStyle(a,"label"),a.emphasis&&compatTextStyle(a.emphasis,"label"))}function processSeries(a){if(!!isObject$4(a)){compatEC2ItemStyle(a),removeEC3NormalStatus(a),compatTextStyle(a,"label"),compatTextStyle(a,"upperLabel"),compatTextStyle(a,"edgeLabel"),a.emphasis&&(compatTextStyle(a.emphasis,"label"),compatTextStyle(a.emphasis,"upperLabel"),compatTextStyle(a.emphasis,"edgeLabel"));var r=a.markPoint;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var n=a.markLine;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var o=a.markArea;o&&compatEC3CommonStyles(o);var s=a.data;if(a.type==="graph"){s=s||a.nodes;var l=a.links||a.edges;if(l&&!isTypedArray(l))for(var u=0;u<l.length;u++)compatEC3CommonStyles(l[u]);each$f(a.categories,function(v){removeEC3NormalStatus(v)})}if(s&&!isTypedArray(s))for(var u=0;u<s.length;u++)compatEC3CommonStyles(s[u]);if(r=a.markPoint,r&&r.data)for(var c=r.data,u=0;u<c.length;u++)compatEC3CommonStyles(c[u]);if(n=a.markLine,n&&n.data)for(var d=n.data,u=0;u<d.length;u++)isArray$1(d[u])?(compatEC3CommonStyles(d[u][0]),compatEC3CommonStyles(d[u][1])):compatEC3CommonStyles(d[u]);a.type==="gauge"?(compatTextStyle(a,"axisLabel"),compatTextStyle(a,"title"),compatTextStyle(a,"detail")):a.type==="treemap"?(convertNormalEmphasis(a.breadcrumb,"itemStyle"),each$f(a.levels,function(v){removeEC3NormalStatus(v)})):a.type==="tree"&&removeEC3NormalStatus(a.leaves)}}function toArr(a){return isArray$1(a)?a:a?[a]:[]}function toObj(a){return(isArray$1(a)?a[0]:a)||{}}function globalCompatStyle(a,r){each$d(toArr(a.series),function(o){isObject$4(o)&&processSeries(o)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];r&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(n,function(o){each$d(toArr(a[o]),function(s){s&&(compatTextStyle(s,"axisLabel"),compatTextStyle(s.axisPointer,"label"))})}),each$d(toArr(a.parallel),function(o){var s=o&&o.parallelAxisDefault;compatTextStyle(s,"axisLabel"),compatTextStyle(s&&s.axisPointer,"label")}),each$d(toArr(a.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$d(toArr(a.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),each$d(toArr(a.geo),function(o){isObject$4(o)&&(compatEC3CommonStyles(o),each$d(toArr(o.regions),function(s){compatEC3CommonStyles(s)}))}),each$d(toArr(a.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var s=o.data;isArray$1(s)&&each$f(s,function(l){isObject$5(l)&&(convertNormalEmphasis(l,"label"),convertNormalEmphasis(l,"itemStyle"))})}),each$d(toArr(a.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$d(o.feature,function(s){convertNormalEmphasis(s,"iconStyle")})}),compatTextStyle(toObj(a.axisPointer),"label"),compatTextStyle(toObj(a.tooltip).axisPointer,"label")}function get$1(a,r){for(var n=r.split(","),o=a,s=0;s<n.length&&(o=o&&o[n[s]],o!=null);s++);return o}function set$1(a,r,n,o){for(var s=r.split(","),l=a,u,c=0;c<s.length-1;c++)u=s[c],l[u]==null&&(l[u]={}),l=l[u];(o||l[s[c]]==null)&&(l[s[c]]=n)}function compatLayoutProperties(a){a&&each$f(LAYOUT_PROPERTIES,function(r){r[0]in a&&!(r[1]in a)&&(a[r[1]]=a[r[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(a){var r=a&&a.itemStyle;if(r)for(var n=0;n<BAR_ITEM_STYLE_MAP.length;n++){var o=BAR_ITEM_STYLE_MAP[n][1],s=BAR_ITEM_STYLE_MAP[n][0];r[o]!=null&&(r[s]=r[o])}}function compatPieLabel(a){!a||a.alignTo==="edge"&&a.margin!=null&&a.edgeDistance==null&&(a.edgeDistance=a.margin)}function compatSunburstState(a){!a||a.downplay&&!a.blur&&(a.blur=a.downplay)}function compatGraphFocus(a){!a||a.focusNodeAdjacency!=null&&(a.emphasis=a.emphasis||{},a.emphasis.focus==null&&(a.emphasis.focus="adjacency"))}function traverseTree(a,r){if(a)for(var n=0;n<a.length;n++)r(a[n]),a[n]&&traverseTree(a[n].children,r)}function globalBackwardCompat(a,r){globalCompatStyle(a,r),a.series=normalizeToArray(a.series),each$f(a.series,function(n){if(!!isObject$5(n)){var o=n.type;if(o==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(o==="pie"||o==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),compatPieLabel(n.label);var s=n.data;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)compatPieLabel(s[l]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(o==="gauge"){var u=get$1(n,"pointer.color");u!=null&&set$1(n,"itemStyle.color",u)}else if(o==="bar"){compatBarItemStyle(n),compatBarItemStyle(n.backgroundStyle),compatBarItemStyle(n.emphasis);var s=n.data;if(s&&!isTypedArray(s))for(var l=0;l<s.length;l++)typeof s[l]=="object"&&(compatBarItemStyle(s[l]),compatBarItemStyle(s[l]&&s[l].emphasis))}else if(o==="sunburst"){var c=n.highlightPolicy;c&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=c)),compatSunburstState(n),traverseTree(n.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(n):o==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&defaults(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),compatLayoutProperties(n)}}),a.dataRange&&(a.visualMap=a.dataRange),each$f(COMPATITABLE_COMPONENTS,function(n){var o=a[n];o&&(isArray$1(o)||(o=[o]),each$f(o,function(s){compatLayoutProperties(s)}))})}function dataStack(a){var r=createHashMap();a.eachSeries(function(n){var o=n.get("stack");if(o){var s=r.get(o)||r.set(o,[]),l=n.getData(),u={stackResultDimension:l.getCalculationInfo("stackResultDimension"),stackedOverDimension:l.getCalculationInfo("stackedOverDimension"),stackedDimension:l.getCalculationInfo("stackedDimension"),stackedByDimension:l.getCalculationInfo("stackedByDimension"),isStackedByIndex:l.getCalculationInfo("isStackedByIndex"),data:l,seriesModel:n};if(!u.stackedDimension||!(u.isStackedByIndex||u.stackedByDimension))return;s.length&&l.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(u)}}),r.each(calculateStack)}function calculateStack(a){each$f(a,function(r,n){var o=[],s=[NaN,NaN],l=[r.stackResultDimension,r.stackedOverDimension],u=r.data,c=r.isStackedByIndex,d=r.seriesModel.get("stackStrategy")||"samesign";u.modify(l,function(v,g,y){var _=u.get(r.stackedDimension,y);if(isNaN(_))return s;var S,x;c?x=u.getRawIndex(y):S=u.get(r.stackedByDimension,y);for(var T=NaN,b=n-1;b>=0;b--){var A=a[b];if(c||(x=A.data.rawIndexOf(A.stackedByDimension,S)),x>=0){var w=A.data.getByRawIndex(A.stackResultDimension,x);if(d==="all"||d==="positive"&&w>0||d==="negative"&&w<0||d==="samesign"&&_>=0&&w>0||d==="samesign"&&_<=0&&w<0){_=addSafe(_,w),T=w;break}}}return o[0]=_,o[1]=T,o})})}var SourceImpl=function(){function a(r){this.data=r.data||(r.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=r.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=r.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=r.startIndex||0,this.dimensionsDetectedCount=r.dimensionsDetectedCount,this.metaRawOption=r.metaRawOption;var n=this.dimensionsDefine=r.dimensionsDefine;if(n)for(var o=0;o<n.length;o++){var s=n[o];s.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(s.type="ordinal")}}return a}();function isSourceInstance(a){return a instanceof SourceImpl}function createSource(a,r,n){n=n||detectSourceFormat(a);var o=r.seriesLayoutBy,s=determineSourceDimensions(a,n,o,r.sourceHeader,r.dimensions),l=new SourceImpl({data:a,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:clone$4(r)});return l}function createSourceFromSeriesDataOption(a){return new SourceImpl({data:a,sourceFormat:isTypedArray(a)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(a){return new SourceImpl({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:clone$4(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount})}function detectSourceFormat(a){var r=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(a))r=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(a)){a.length===0&&(r=SOURCE_FORMAT_ARRAY_ROWS);for(var n=0,o=a.length;n<o;n++){var s=a[n];if(s!=null){if(isArray$1(s)){r=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$5(s)){r=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$5(a)){for(var l in a)if(hasOwn(a,l)&&isArrayLike(a[l])){r=SOURCE_FORMAT_KEYED_COLUMNS;break}}return r}function determineSourceDimensions(a,r,n,o,s){var l,u;if(!a)return{dimensionsDefine:normalizeDimensionsOption(s),startIndex:u,dimensionsDetectedCount:l};if(r===SOURCE_FORMAT_ARRAY_ROWS){var c=a;o==="auto"||o==null?arrayRowsTravelFirst(function(v){v!=null&&v!=="-"&&(isString(v)?u==null&&(u=1):u=0)},n,c,10):u=isNumber(o)?o:o?1:0,!s&&u===1&&(s=[],arrayRowsTravelFirst(function(v,g){s[g]=v!=null?v+"":""},n,c,1/0)),l=s?s.length:n===SERIES_LAYOUT_BY_ROW?c.length:c[0]?c[0].length:null}else if(r===SOURCE_FORMAT_OBJECT_ROWS)s||(s=objectRowsCollectDimensions(a));else if(r===SOURCE_FORMAT_KEYED_COLUMNS)s||(s=[],each$f(a,function(v,g){s.push(g)}));else if(r===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(a[0]);l=isArray$1(d)&&d.length||1}return{startIndex:u,dimensionsDefine:normalizeDimensionsOption(s),dimensionsDetectedCount:l}}function objectRowsCollectDimensions(a){for(var r=0,n;r<a.length&&!(n=a[r++]););if(n){var o=[];return each$f(n,function(s,l){o.push(l)}),o}}function normalizeDimensionsOption(a){if(!!a){var r=createHashMap();return map$1(a,function(n,o){n=isObject$5(n)?n:{name:n};var s={name:n.name,displayName:n.displayName,type:n.type};if(s.name==null)return s;s.name+="",s.displayName==null&&(s.displayName=s.name);var l=r.get(s.name);return l?s.name+="-"+l.count++:r.set(s.name,{count:1}),s})}}function arrayRowsTravelFirst(a,r,n,o){if(r===SERIES_LAYOUT_BY_ROW)for(var s=0;s<n.length&&s<o;s++)a(n[s]?n[s][0]:null,s);else for(var l=n[0]||[],s=0;s<l.length&&s<o;s++)a(l[s],s)}function shouldRetrieveDataByName(a){var r=a.sourceFormat;return r===SOURCE_FORMAT_OBJECT_ROWS||r===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function a(r,n){var o=isSourceInstance(r)?r:createSourceFromSeriesDataOption(r);this._source=o;var s=this._data=o.data;o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=n,this._data=s),mountMethods(this,s,o)}return a.prototype.getSource=function(){return this._source},a.prototype.count=function(){return 0},a.prototype.getItem=function(r,n){},a.prototype.appendData=function(r){},a.prototype.clean=function(){},a.protoInitialize=function(){var r=a.prototype;r.pure=!1,r.persistent=!0}(),a.internalField=function(){var r;mountMethods=function(u,c,d){var v=d.sourceFormat,g=d.seriesLayoutBy,y=d.startIndex,_=d.dimensionsDefine,S=providerMethods[getMethodMapKey(v,g)];if(extend(u,S),v===SOURCE_FORMAT_TYPED_ARRAY)u.getItem=n,u.count=s,u.fillStorage=o;else{var x=getRawSourceItemGetter(v,g);u.getItem=bind$1(x,null,c,y,_);var T=getRawSourceDataCounter(v,g);u.count=bind$1(T,null,c,y,_)}};var n=function(u,c){u=u-this._offset,c=c||[];for(var d=this._data,v=this._dimSize,g=v*u,y=0;y<v;y++)c[y]=d[g+y];return c},o=function(u,c,d,v){for(var g=this._data,y=this._dimSize,_=0;_<y;_++){for(var S=v[_],x=S[0]==null?1/0:S[0],T=S[1]==null?-1/0:S[1],b=c-u,A=d[_],w=0;w<b;w++){var $=g[w*y+_];A[u+w]=$,$<x&&(x=$),$>T&&(T=$)}S[0]=x,S[1]=T}},s=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(r={},r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:l},r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},r[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:l},r[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(u){var c=this._data;each$f(u,function(d,v){for(var g=c[v]||(c[v]=[]),y=0;y<(d||[]).length;y++)g.push(d[y])})}},r[SOURCE_FORMAT_ORIGINAL]={appendData:l},r[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(u){this._data=u},clean:function(){this._offset+=this.count(),this._data=null}},r);function l(u){for(var c=0;c<u.length;c++)this._data.push(u[c])}}(),a}(),getItemSimply=function(a,r,n,o){return a[o]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(a,r,n,o){return a[o+r]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(a,r,n,o,s){o+=r;for(var l=s||[],u=a,c=0;c<u.length;c++){var d=u[c];l[c]=d?d[o]:null}return l},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(a,r,n,o,s){for(var l=s||[],u=0;u<n.length;u++){var c=n[u].name,d=a[c];l[u]=d?d[o]:null}return l},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(a,r){var n=rawSourceItemGetterMap[getMethodMapKey(a,r)];return n}var countSimply=function(a,r,n){return a.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(a,r,n){return Math.max(0,a.length-r)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(a,r,n){var o=a[0];return o?Math.max(0,o.length-r):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(a,r,n){var o=n[0].name,s=a[o];return s?s.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(a,r){var n=rawSourceDataCounterMap[getMethodMapKey(a,r)];return n}var getRawValueSimply=function(a,r,n){return a[r]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(a,r,n){return a[n]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(a,r,n){var o=getDataItemValue(a);return o instanceof Array?o[r]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(a){var r=rawSourceValueGetterMap[a];return r}function getMethodMapKey(a,r){return a===SOURCE_FORMAT_ARRAY_ROWS?a+"_"+r:a}function retrieveRawValue(a,r,n){if(!!a){var o=a.getRawDataItem(r);if(o!=null){var s=a.getStore(),l=s.getSource().sourceFormat;if(n!=null){var u=a.getDimensionIndex(n),c=s.getDimensionProperty(u);return getRawSourceValueGetter(l)(o,u,c)}else{var d=o;return l===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function a(){}return a.prototype.getDataParams=function(r,n){var o=this.getData(n),s=this.getRawValue(r,n),l=o.getRawIndex(r),u=o.getName(r),c=o.getRawDataItem(r),d=o.getItemVisual(r,"style"),v=d&&d[o.getItemVisual(r,"drawType")||"fill"],g=d&&d.stroke,y=this.mainType,_=y==="series",S=o.userOutput&&o.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:_?this.subType:null,seriesIndex:this.seriesIndex,seriesId:_?this.id:null,seriesName:_?this.name:null,name:u,dataIndex:l,data:c,dataType:n,value:s,color:v,borderColor:g,dimensionNames:S?S.fullDimensions:null,encode:S?S.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(r,n,o,s,l,u){n=n||"normal";var c=this.getData(o),d=this.getDataParams(r,o);if(u&&(d.value=u.interpolatedValue),s!=null&&isArray$1(d.value)&&(d.value=d.value[s]),!l){var v=c.getItemModel(r);l=v.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(isFunction(l))return d.status=n,d.dimensionIndex=s,l(d);if(isString(l)){var g=formatTpl(l,d);return g.replace(DIMENSION_LABEL_REG,function(y,_){var S=_.length,x=_;x.charAt(0)==="["&&x.charAt(S-1)==="]"&&(x=+x.slice(1,S-1));var T=retrieveRawValue(c,r,x);if(u&&isArray$1(u.interpolatedValue)){var b=c.getDimensionIndex(x);b>=0&&(T=u.interpolatedValue[b])}return T!=null?T+"":""})}},a.prototype.getRawValue=function(r,n){return retrieveRawValue(this.getData(n),r)},a.prototype.formatTooltip=function(r,n,o){},a}();function normalizeTooltipFormatResult(a){var r,n;return isObject$5(a)?a.type&&(n=a):r=a,{text:r,frag:n}}function createTask(a){return new Task(a)}var Task=function(){function a(r){r=r||{},this._reset=r.reset,this._plan=r.plan,this._count=r.count,this._onDirty=r.onDirty,this._dirty=!0}return a.prototype.perform=function(r){var n=this._upstream,o=r&&r.skip;if(this._dirty&&n){var s=this.context;s.data=s.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var l;this._plan&&!o&&(l=this._plan(this.context));var u=g(this._modBy),c=this._modDataCount||0,d=g(r&&r.modBy),v=r&&r.modDataCount||0;(u!==d||c!==v)&&(l="reset");function g(w){return!(w>=1)&&(w=1),w}var y;(this._dirty||l==="reset")&&(this._dirty=!1,y=this._doReset(o)),this._modBy=d,this._modDataCount=v;var _=r&&r.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var S=this._dueIndex,x=Math.min(_!=null?this._dueIndex+_:1/0,this._dueEnd);if(!o&&(y||S<x)){var T=this._progress;if(isArray$1(T))for(var b=0;b<T.length;b++)this._doProgress(T[b],S,x,d,v);else this._doProgress(T,S,x,d,v)}this._dueIndex=x;var A=this._settedOutputEnd!=null?this._settedOutputEnd:x;this._outputDueEnd=A}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(r,n,o,s,l){iterator.reset(n,o,s,l),this._callingProgress=r,this._callingProgress({start:n,end:o,count:o-n,next:iterator.next},this.context)},a.prototype._doReset=function(r){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,o;!r&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(o=n.forceFirstProgress,n=n.progress),isArray$1(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),o},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(r){(this._downstream!==r||this._dirty)&&(this._downstream=r,r._upstream=this,r.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(r){this._outputDueEnd=this._settedOutputEnd=r},a}(),iterator=function(){var a,r,n,o,s,l={reset:function(d,v,g,y){r=d,a=v,n=g,o=y,s=Math.ceil(o/n),l.next=n>1&&o>0?c:u}};return l;function u(){return r<a?r++:null}function c(){var d=r%s*n+Math.ceil(r/s),v=r>=a?null:d<o?d:r;return r++,v}}();function parseDataValue(a,r){var n=r&&r.type;return n==="ordinal"?a:(n==="time"&&!isNumber(a)&&a!=null&&a!=="-"&&(a=+parseDate(a)),a==null||a===""?NaN:+a)}var valueParserMap=createHashMap({number:function(a){return parseFloat(a)},time:function(a){return+parseDate(a)},trim:function(a){return isString(a)?trim$1(a):a}});function getRawValueParser(a){return valueParserMap.get(a)}var ORDER_COMPARISON_OP_MAP={lt:function(a,r){return a<r},lte:function(a,r){return a<=r},gt:function(a,r){return a>r},gte:function(a,r){return a>=r}},FilterOrderComparator=function(){function a(r,n){if(!isNumber(n)){var o="";throwError(o)}this._opFn=ORDER_COMPARISON_OP_MAP[r],this._rvalFloat=numericToNumber(n)}return a.prototype.evaluate=function(r){return isNumber(r)?this._opFn(r,this._rvalFloat):this._opFn(numericToNumber(r),this._rvalFloat)},a}(),SortOrderComparator=function(){function a(r,n){var o=r==="desc";this._resultLT=o?1:-1,n==null&&(n=o?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return a.prototype.evaluate=function(r,n){var o=isNumber(r)?r:numericToNumber(r),s=isNumber(n)?n:numericToNumber(n),l=isNaN(o),u=isNaN(s);if(l&&(o=this._incomparable),u&&(s=this._incomparable),l&&u){var c=isString(r),d=isString(n);c&&(o=d?r:0),d&&(s=c?n:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},a}(),FilterEqualityComparator=function(){function a(r,n){this._rval=n,this._isEQ=r,this._rvalTypeof=typeof n,this._rvalFloat=numericToNumber(n)}return a.prototype.evaluate=function(r){var n=r===this._rval;if(!n){var o=typeof r;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(n=numericToNumber(r)===this._rvalFloat)}return this._isEQ?n:!n},a}();function createFilterComparator(a,r){return a==="eq"||a==="ne"?new FilterEqualityComparator(a==="eq",r):hasOwn(ORDER_COMPARISON_OP_MAP,a)?new FilterOrderComparator(a,r):null}var ExternalSource=function(){function a(){}return a.prototype.getRawData=function(){throw new Error("not supported")},a.prototype.getRawDataItem=function(r){throw new Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(r){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(r,n){},a.prototype.retrieveValueFromItem=function(r,n){},a.prototype.convertValue=function(r,n){return parseDataValue(r,n)},a}();function createExternalSource(a,r){var n=new ExternalSource,o=a.data,s=n.sourceFormat=a.sourceFormat,l=a.startIndex,u="";a.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(u);var c=[],d={},v=a.dimensionsDefine;if(v)each$f(v,function(T,b){var A=T.name,w={index:b,name:A,displayName:T.displayName};if(c.push(w),A!=null){var $="";hasOwn(d,A)&&throwError($),d[A]=w}});else for(var g=0;g<a.dimensionsDetectedCount;g++)c.push({index:g});var y=getRawSourceItemGetter(s,SERIES_LAYOUT_BY_COLUMN);r.__isBuiltIn&&(n.getRawDataItem=function(T){return y(o,l,c,T)},n.getRawData=bind$1(getRawData,null,a)),n.cloneRawData=bind$1(cloneRawData,null,a);var _=getRawSourceDataCounter(s,SERIES_LAYOUT_BY_COLUMN);n.count=bind$1(_,null,o,l,c);var S=getRawSourceValueGetter(s);n.retrieveValue=function(T,b){var A=y(o,l,c,T);return x(A,b)};var x=n.retrieveValueFromItem=function(T,b){if(T!=null){var A=c[b];if(A)return S(T,b,A.name)}};return n.getDimensionInfo=bind$1(getDimensionInfo,null,c,d),n.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,c),n}function getRawData(a){var r=a.sourceFormat;if(!isSupportedSourceFormat(r)){var n="";throwError(n)}return a.data}function cloneRawData(a){var r=a.sourceFormat,n=a.data;if(!isSupportedSourceFormat(r)){var o="";throwError(o)}if(r===SOURCE_FORMAT_ARRAY_ROWS){for(var s=[],l=0,u=n.length;l<u;l++)s.push(n[l].slice());return s}else if(r===SOURCE_FORMAT_OBJECT_ROWS){for(var s=[],l=0,u=n.length;l<u;l++)s.push(extend({},n[l]));return s}}function getDimensionInfo(a,r,n){if(n!=null){if(isNumber(n)||!isNaN(n)&&!hasOwn(r,n))return a[n];if(hasOwn(r,n))return r[n]}}function cloneAllDimensionInfo(a){return clone$4(a)}var externalTransformMap=createHashMap();function registerExternalTransform(a){a=clone$4(a);var r=a.type,n="";r||throwError(n);var o=r.split(":");o.length!==2&&throwError(n);var s=!1;o[0]==="echarts"&&(r=o[1],s=!0),a.__isBuiltIn=s,externalTransformMap.set(r,a)}function applyDataTransform(a,r,n){var o=normalizeToArray(a),s=o.length,l="";s||throwError(l);for(var u=0,c=s;u<c;u++){var d=o[u];r=applySingleDataTransform(d,r),u!==c-1&&(r.length=Math.max(r.length,1))}return r}function applySingleDataTransform(a,r,n,o){var s="";r.length||throwError(s),isObject$5(a)||throwError(s);var l=a.type,u=externalTransformMap.get(l);u||throwError(s);var c=map$1(r,function(v){return createExternalSource(v,u)}),d=normalizeToArray(u.transform({upstream:c[0],upstreamList:c,config:clone$4(a.config)}));return map$1(d,function(v,g){var y="";isObject$5(v)||throwError(y),v.data||throwError(y);var _=detectSourceFormat(v.data);isSupportedSourceFormat(_)||throwError(y);var S,x=r[0];if(x&&g===0&&!v.dimensions){var T=x.startIndex;T&&(v.data=x.data.slice(0,T).concat(v.data)),S={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:T,dimensions:x.metaRawOption.dimensions}}else S={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:v.dimensions};return createSource(v.data,S,null)})}function isSupportedSourceFormat(a){return a===SOURCE_FORMAT_ARRAY_ROWS||a===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(a){return a>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(a){var r=a.constructor;return r===Array?a.slice():new r(a)}function prepareStore(a,r,n,o,s){var l=dataCtors[n||"float"];if(s){var u=a[r],c=u&&u.length;if(c!==o){for(var d=new l(o),v=0;v<c;v++)d[v]=u[v];a[r]=d}}else a[r]=new l(o)}var DataStore=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return a.prototype.initData=function(r,n,o){this._provider=r,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=r.getSource(),l=this.defaultDimValueGetter=defaultDimValueGetters[s.sourceFormat];this._dimValueGetter=o||l,this._rawExtent=[],shouldRetrieveDataByName(s),this._dimensions=map$1(n,function(u){return{type:u.type,property:u.property}}),this._initDataFromProvider(0,r.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(r,n){var o=this._calcDimNameToIdx,s=this._dimensions,l=o.get(r);if(l!=null){if(s[l].type===n)return l}else l=s.length;return s[l]={type:n},o.set(r,l),this._chunks[l]=new dataCtors[n||"float"](this._rawCount),this._rawExtent[l]=getInitialExtent(),l},a.prototype.collectOrdinalMeta=function(r,n){var o=this._chunks[r],s=this._dimensions[r],l=this._rawExtent,u=s.ordinalOffset||0,c=o.length;u===0&&(l[r]=getInitialExtent());for(var d=l[r],v=u;v<c;v++){var g=o[v]=n.parseAndCollect(o[v]);isNaN(g)||(d[0]=Math.min(g,d[0]),d[1]=Math.max(g,d[1]))}s.ordinalMeta=n,s.ordinalOffset=c,s.type="ordinal"},a.prototype.getOrdinalMeta=function(r){var n=this._dimensions[r],o=n.ordinalMeta;return o},a.prototype.getDimensionProperty=function(r){var n=this._dimensions[r];return n&&n.property},a.prototype.appendData=function(r){var n=this._provider,o=this.count();n.appendData(r);var s=n.count();return n.persistent||(s+=o),o<s&&this._initDataFromProvider(o,s,!0),[o,s]},a.prototype.appendValues=function(r,n){for(var o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,c=this.count(),d=c+Math.max(r.length,n||0),v=0;v<l;v++){var g=s[v];prepareStore(o,v,g.type,d,!0)}for(var y=[],_=c;_<d;_++)for(var S=_-c,x=0;x<l;x++){var g=s[x],T=defaultDimValueGetters.arrayRows.call(this,r[S]||y,g.property,S,x);o[x][_]=T;var b=u[x];T<b[0]&&(b[0]=T),T>b[1]&&(b[1]=T)}return this._rawCount=this._count=d,{start:c,end:d}},a.prototype._initDataFromProvider=function(r,n,o){for(var s=this._provider,l=this._chunks,u=this._dimensions,c=u.length,d=this._rawExtent,v=map$1(u,function(w){return w.property}),g=0;g<c;g++){var y=u[g];d[g]||(d[g]=getInitialExtent()),prepareStore(l,g,y.type,n,o)}if(s.fillStorage)s.fillStorage(r,n,l,d);else for(var _=[],S=r;S<n;S++){_=s.getItem(S,_);for(var x=0;x<c;x++){var T=l[x],b=this._dimValueGetter(_,v[x],S,x);T[S]=b;var A=d[x];b<A[0]&&(A[0]=b),b>A[1]&&(A[1]=b)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=n,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(r,n){if(!(n>=0&&n<this._count))return NaN;var o=this._chunks[r];return o?o[this.getRawIndex(n)]:NaN},a.prototype.getValues=function(r,n){var o=[],s=[];if(n==null){n=r,r=[];for(var l=0;l<this._dimensions.length;l++)s.push(l)}else s=r;for(var l=0,u=s.length;l<u;l++)o.push(this.get(s[l],n));return o},a.prototype.getByRawIndex=function(r,n){if(!(n>=0&&n<this._rawCount))return NaN;var o=this._chunks[r];return o?o[n]:NaN},a.prototype.getSum=function(r){var n=this._chunks[r],o=0;if(n)for(var s=0,l=this.count();s<l;s++){var u=this.get(r,s);isNaN(u)||(o+=u)}return o},a.prototype.getMedian=function(r){var n=[];this.each([r],function(l){isNaN(l)||n.push(l)});var o=n.sort(function(l,u){return l-u}),s=this.count();return s===0?0:s%2===1?o[(s-1)/2]:(o[s/2]+o[s/2-1])/2},a.prototype.indexOfRawIndex=function(r){if(r>=this._rawCount||r<0)return-1;if(!this._indices)return r;var n=this._indices,o=n[r];if(o!=null&&o<this._count&&o===r)return r;for(var s=0,l=this._count-1;s<=l;){var u=(s+l)/2|0;if(n[u]<r)s=u+1;else if(n[u]>r)l=u-1;else return u}return-1},a.prototype.indicesOfNearest=function(r,n,o){var s=this._chunks,l=s[r],u=[];if(!l)return u;o==null&&(o=1/0);for(var c=1/0,d=-1,v=0,g=0,y=this.count();g<y;g++){var _=this.getRawIndex(g),S=n-l[_],x=Math.abs(S);x<=o&&((x<c||x===c&&S>=0&&d<0)&&(c=x,d=S,v=0),S===d&&(u[v++]=g))}return u.length=v,u},a.prototype.getIndices=function(){var r,n=this._indices;if(n){var o=n.constructor,s=this._count;if(o===Array){r=new o(s);for(var l=0;l<s;l++)r[l]=n[l]}else r=new o(n.buffer,0,s)}else{var o=getIndicesCtor(this._rawCount);r=new o(this.count());for(var l=0;l<r.length;l++)r[l]=l}return r},a.prototype.filter=function(r,n){if(!this._count)return this;for(var o=this.clone(),s=o.count(),l=getIndicesCtor(o._rawCount),u=new l(s),c=[],d=r.length,v=0,g=r[0],y=o._chunks,_=0;_<s;_++){var S=void 0,x=o.getRawIndex(_);if(d===0)S=n(_);else if(d===1){var T=y[g][x];S=n(T,_)}else{for(var b=0;b<d;b++)c[b]=y[r[b]][x];c[b]=_,S=n.apply(null,c)}S&&(u[v++]=x)}return v<s&&(o._indices=u),o._count=v,o._extent=[],o._updateGetRawIdx(),o},a.prototype.selectRange=function(r){var n=this.clone(),o=n._count;if(!o)return this;var s=keys(r),l=s.length;if(!l)return this;var u=n.count(),c=getIndicesCtor(n._rawCount),d=new c(u),v=0,g=s[0],y=r[g][0],_=r[g][1],S=n._chunks,x=!1;if(!n._indices){var T=0;if(l===1){for(var b=S[s[0]],A=0;A<o;A++){var w=b[A];(w>=y&&w<=_||isNaN(w))&&(d[v++]=T),T++}x=!0}else if(l===2){for(var b=S[s[0]],$=S[s[1]],C=r[s[1]][0],P=r[s[1]][1],A=0;A<o;A++){var w=b[A],M=$[A];(w>=y&&w<=_||isNaN(w))&&(M>=C&&M<=P||isNaN(M))&&(d[v++]=T),T++}x=!0}}if(!x)if(l===1)for(var A=0;A<u;A++){var E=n.getRawIndex(A),w=S[s[0]][E];(w>=y&&w<=_||isNaN(w))&&(d[v++]=E)}else for(var A=0;A<u;A++){for(var D=!0,E=n.getRawIndex(A),I=0;I<l;I++){var R=s[I],w=S[R][E];(w<r[R][0]||w>r[R][1])&&(D=!1)}D&&(d[v++]=n.getRawIndex(A))}return v<u&&(n._indices=d),n._count=v,n._extent=[],n._updateGetRawIdx(),n},a.prototype.map=function(r,n){var o=this.clone(r);return this._updateDims(o,r,n),o},a.prototype.modify=function(r,n){this._updateDims(this,r,n)},a.prototype._updateDims=function(r,n,o){for(var s=r._chunks,l=[],u=n.length,c=r.count(),d=[],v=r._rawExtent,g=0;g<n.length;g++)v[n[g]]=getInitialExtent();for(var y=0;y<c;y++){for(var _=r.getRawIndex(y),S=0;S<u;S++)d[S]=s[n[S]][_];d[u]=y;var x=o&&o.apply(null,d);if(x!=null){typeof x!="object"&&(l[0]=x,x=l);for(var g=0;g<x.length;g++){var T=n[g],b=x[g],A=v[T],w=s[T];w&&(w[_]=b),b<A[0]&&(A[0]=b),b>A[1]&&(A[1]=b)}}}},a.prototype.lttbDownSample=function(r,n){var o=this.clone([r],!0),s=o._chunks,l=s[r],u=this.count(),c=0,d=Math.floor(1/n),v=this.getRawIndex(0),g,y,_,S=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(u/d)+2)*2,u));S[c++]=v;for(var x=1;x<u-1;x+=d){for(var T=Math.min(x+d,u-1),b=Math.min(x+d*2,u),A=(b+T)/2,w=0,$=T;$<b;$++){var C=this.getRawIndex($),P=l[C];isNaN(P)||(w+=P)}w/=b-T;var M=x,E=Math.min(x+d,u),D=x-1,I=l[v];g=-1,_=M;for(var R=-1,L=0,$=M;$<E;$++){var C=this.getRawIndex($),P=l[C];if(isNaN(P)){L++,R<0&&(R=C);continue}y=Math.abs((D-A)*(P-I)-(D-$)*(w-I)),y>g&&(g=y,_=C)}L>0&&L<E-M&&(S[c++]=Math.min(R,_),_=Math.max(R,_)),S[c++]=_,v=_}return S[c++]=this.getRawIndex(u-1),o._count=c,o._indices=S,o.getRawIndex=this._getRawIdx,o},a.prototype.downSample=function(r,n,o,s){for(var l=this.clone([r],!0),u=l._chunks,c=[],d=Math.floor(1/n),v=u[r],g=this.count(),y=l._rawExtent[r]=getInitialExtent(),_=new(getIndicesCtor(this._rawCount))(Math.ceil(g/d)),S=0,x=0;x<g;x+=d){d>g-x&&(d=g-x,c.length=d);for(var T=0;T<d;T++){var b=this.getRawIndex(x+T);c[T]=v[b]}var A=o(c),w=this.getRawIndex(Math.min(x+s(c,A)||0,g-1));v[w]=A,A<y[0]&&(y[0]=A),A>y[1]&&(y[1]=A),_[S++]=w}return l._count=S,l._indices=_,l._updateGetRawIdx(),l},a.prototype.each=function(r,n){if(!!this._count)for(var o=r.length,s=this._chunks,l=0,u=this.count();l<u;l++){var c=this.getRawIndex(l);switch(o){case 0:n(l);break;case 1:n(s[r[0]][c],l);break;case 2:n(s[r[0]][c],s[r[1]][c],l);break;default:for(var d=0,v=[];d<o;d++)v[d]=s[r[d]][c];v[d]=l,n.apply(null,v)}}},a.prototype.getDataExtent=function(r){var n=this._chunks[r],o=getInitialExtent();if(!n)return o;var s=this.count(),l=!this._indices,u;if(l)return this._rawExtent[r].slice();if(u=this._extent[r],u)return u.slice();u=o;for(var c=u[0],d=u[1],v=0;v<s;v++){var g=this.getRawIndex(v),y=n[g];y<c&&(c=y),y>d&&(d=y)}return u=[c,d],this._extent[r]=u,u},a.prototype.getRawDataItem=function(r){var n=this.getRawIndex(r);if(this._provider.persistent)return this._provider.getItem(n);for(var o=[],s=this._chunks,l=0;l<s.length;l++)o.push(s[l][n]);return o},a.prototype.clone=function(r,n){var o=new a,s=this._chunks,l=r&&reduce(r,function(c,d){return c[d]=!0,c},{});if(l)for(var u=0;u<s.length;u++)o._chunks[u]=l[u]?cloneChunk(s[u]):s[u];else o._chunks=s;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},a.prototype._copyCommonProps=function(r){r._count=this._count,r._rawCount=this._rawCount,r._provider=this._provider,r._dimensions=this._dimensions,r._extent=clone$4(this._extent),r._rawExtent=clone$4(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var r=this._indices.constructor,n=void 0;if(r===Array){var o=this._indices.length;n=new r(o);for(var s=0;s<o;s++)n[s]=this._indices[s]}else n=new r(this._indices);return n}return null},a.prototype._getRawIdxIdentity=function(r){return r},a.prototype._getRawIdx=function(r){return r<this._count&&r>=0?this._indices[r]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function r(n,o,s,l){return parseDataValue(n[l],this._dimensions[l])}defaultDimValueGetters={arrayRows:r,objectRows:function(n,o,s,l){return parseDataValue(n[o],this._dimensions[l])},keyedColumns:r,original:function(n,o,s,l){var u=n&&(n.value==null?n:n.value);return parseDataValue(u instanceof Array?u[l]:u,this._dimensions[l])},typedArray:function(n,o,s,l){return n[l]}}}(),a}(),SourceManager=function(){function a(r){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=r}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(r,n){this._sourceList=r,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var r=this._sourceHost,n=this._getUpstreamSourceManagers(),o=!!n.length,s,l;if(isSeries(r)){var u=r,c=void 0,d=void 0,v=void 0;if(o){var g=n[0];g.prepareSource(),v=g.getSource(),c=v.data,d=v.sourceFormat,l=[g._getVersionSign()]}else c=u.get("data",!0),d=isTypedArray(c)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,l=[];var y=this._getSourceMetaRawOption()||{},_=v&&v.metaRawOption||{},S=retrieve2(y.seriesLayoutBy,_.seriesLayoutBy)||null,x=retrieve2(y.sourceHeader,_.sourceHeader),T=retrieve2(y.dimensions,_.dimensions),b=S!==_.seriesLayoutBy||!!x!=!!_.sourceHeader||T;s=b?[createSource(c,{seriesLayoutBy:S,sourceHeader:x,dimensions:T},d)]:[]}else{var A=r;if(o){var w=this._applyTransform(n);s=w.sourceList,l=w.upstreamSignList}else{var $=A.get("source",!0);s=[createSource($,this._getSourceMetaRawOption(),null)],l=[]}}this._setLocalSource(s,l)},a.prototype._applyTransform=function(r){var n=this._sourceHost,o=n.get("transform",!0),s=n.get("fromTransformResult",!0);if(s!=null){var l="";r.length!==1&&doThrow(l)}var u,c=[],d=[];return each$f(r,function(v){v.prepareSource();var g=v.getSource(s||0),y="";s!=null&&!g&&doThrow(y),c.push(g),d.push(v._getVersionSign())}),o?u=applyDataTransform(o,c,{datasetIndex:n.componentIndex}):s!=null&&(u=[cloneSourceShallow(c[0])]),{sourceList:u,upstreamSignList:d}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var r=this._getUpstreamSourceManagers(),n=0;n<r.length;n++){var o=r[n];if(o._isDirty()||this._upstreamSignList[n]!==o._getVersionSign())return!0}},a.prototype.getSource=function(r){r=r||0;var n=this._sourceList[r];if(!n){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(r)}return n},a.prototype.getSharedDataStore=function(r){var n=r.makeStoreSchema();return this._innerGetDataStore(n.dimensions,r.source,n.hash)},a.prototype._innerGetDataStore=function(r,n,o){var s=0,l=this._storeList,u=l[s];u||(u=l[s]={});var c=u[o];if(!c){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?c=d._innerGetDataStore(r,n,o):(c=new DataStore,c.initData(new DefaultDataProvider(n,r.length),r)),u[o]=c}return c},a.prototype._getUpstreamSourceManagers=function(){var r=this._sourceHost;if(isSeries(r)){var n=querySeriesUpstreamDatasetModel(r);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(r),function(o){return o.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var r=this._sourceHost,n,o,s;if(isSeries(r))n=r.get("seriesLayoutBy",!0),o=r.get("sourceHeader",!0),s=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var l=r;n=l.get("seriesLayoutBy",!0),o=l.get("sourceHeader",!0),s=l.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:o,dimensions:s}},a}();function disableTransformOptionMerge(a){var r=a.option.transform;r&&setAsPrimitive(a.option.transform)}function isSeries(a){return a.mainType==="series"}function doThrow(a){throw new Error(a)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(a,r){var n=a.color||"#6e7079",o=a.fontSize||12,s=a.fontWeight||"400",l=a.color||"#464646",u=a.fontSize||14,c=a.fontWeight||"900";return r==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(n)+";font-weight:"+encodeHTML(s+""),valueStyle:"font-size:"+encodeHTML(u+"")+"px;color:"+encodeHTML(l)+";font-weight:"+encodeHTML(c+"")}:{nameStyle:{fontSize:o,fill:n,fontWeight:s},valueStyle:{fontSize:u,fill:l,fontWeight:c}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(a,r){return r.type=a,r}function isSectionFragment(a){return a.type==="section"}function getBuilder(a){return isSectionFragment(a)?buildSection:buildNameValue}function getBlockGapLevel(a){if(isSectionFragment(a)){var r=0,n=a.blocks.length,o=n>1||n>0&&!a.noHeader;return each$f(a.blocks,function(s){var l=getBlockGapLevel(s);l>=r&&(r=l+ +(o&&(!l||isSectionFragment(s)&&!s.noHeader)))}),r}return 0}function buildSection(a,r,n,o){var s=r.noHeader,l=getGap(getBlockGapLevel(r)),u=[],c=r.blocks||[];assert(!c||isArray$1(c)),c=c||[];var d=a.orderMode;if(r.sortBlocks&&d){c=c.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(v,d)){var g=new SortOrderComparator(v[d],null);c.sort(function(x,T){return g.evaluate(x.sortParam,T.sortParam)})}else d==="seriesDesc"&&c.reverse()}each$f(c,function(x,T){var b=r.valueFormatter,A=getBuilder(x)(b?extend(extend({},a),{valueFormatter:b}):a,x,T>0?l.html:0,o);A!=null&&u.push(A)});var y=a.renderMode==="richText"?u.join(l.richText):wrapBlockHTML(u.join(""),s?n:l.html);if(s)return y;var _=makeValueReadable(r.header,"ordinal",a.useUTC),S=getTooltipTextStyle(o,a.renderMode).nameStyle;return a.renderMode==="richText"?wrapInlineNameRichText(a,_,S)+l.richText+y:wrapBlockHTML('<div style="'+S+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(_)+"</div>"+y,n)}function buildNameValue(a,r,n,o){var s=a.renderMode,l=r.noName,u=r.noValue,c=!r.markerType,d=r.name,v=a.useUTC,g=r.valueFormatter||a.valueFormatter||function(C){return C=isArray$1(C)?C:[C],map$1(C,function(P,M){return makeValueReadable(P,isArray$1(S)?S[M]:S,v)})};if(!(l&&u)){var y=c?"":a.markupStyleCreator.makeTooltipMarker(r.markerType,r.markerColor||"#333",s),_=l?"":makeValueReadable(d,"ordinal",v),S=r.valueType,x=u?[]:g(r.value),T=!c||!l,b=!c&&l,A=getTooltipTextStyle(o,s),w=A.nameStyle,$=A.valueStyle;return s==="richText"?(c?"":y)+(l?"":wrapInlineNameRichText(a,_,w))+(u?"":wrapInlineValueRichText(a,x,T,b,$)):wrapBlockHTML((c?"":y)+(l?"":wrapInlineNameHTML(_,!c,w))+(u?"":wrapInlineValueHTML(x,T,b,$)),n)}}function buildTooltipMarkup(a,r,n,o,s,l){if(!!a){var u=getBuilder(a),c={useUTC:s,renderMode:n,orderMode:o,markupStyleCreator:r,valueFormatter:a.valueFormatter};return u(c,a,0,l)}}function getGap(a){return{html:HTML_GAPS[a],richText:RICH_TEXT_GAPS[a]}}function wrapBlockHTML(a,r){var n='<div style="clear:both"></div>',o="margin: "+r+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+a+n+"</div>"}function wrapInlineNameHTML(a,r,n){var o=r?"margin-left:2px":"";return'<span style="'+n+";"+o+'">'+encodeHTML(a)+"</span>"}function wrapInlineValueHTML(a,r,n,o){var s=n?"10px":"20px",l=r?"float:right;margin-left:"+s:"";return a=isArray$1(a)?a:[a],'<span style="'+l+";"+o+'">'+map$1(a,function(u){return encodeHTML(u)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(a,r,n){return a.markupStyleCreator.wrapRichTextStyle(r,n)}function wrapInlineValueRichText(a,r,n,o,s){var l=[s],u=o?10:20;return n&&l.push({padding:[0,0,0,u],align:"right"}),a.markupStyleCreator.wrapRichTextStyle(isArray$1(r)?r.join("  "):r,l)}function retrieveVisualColorForTooltipMarker(a,r){var n=a.getData().getItemVisual(r,"style"),o=n[a.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(a,r){var n=a.get("padding");return n!=null?n:r==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function a(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(r,n,o){var s=o==="richText"?this._generateStyleName():null,l=getTooltipMarker({color:n,type:r,renderMode:o,markerId:s});return isString(l)?l:(this.richTextStyles[s]=l.style,l.content)},a.prototype.wrapRichTextStyle=function(r,n){var o={};isArray$1(n)?each$f(n,function(l){return extend(o,l)}):extend(o,n);var s=this._generateStyleName();return this.richTextStyles[s]=o,"{"+s+"|"+r+"}"},a}();function defaultSeriesFormatTooltip(a){var r=a.series,n=a.dataIndex,o=a.multipleSeries,s=r.getData(),l=s.mapDimensionsAll("defaultedTooltip"),u=l.length,c=r.getRawValue(n),d=isArray$1(c),v=retrieveVisualColorForTooltipMarker(r,n),g,y,_,S;if(u>1||d&&!u){var x=formatTooltipArrayValue(c,r,n,l,v);g=x.inlineValues,y=x.inlineValueTypes,_=x.blocks,S=x.inlineValues[0]}else if(u){var T=s.getDimensionInfo(l[0]);S=g=retrieveRawValue(s,n,l[0]),y=T.type}else S=g=d?c[0]:c;var b=isNameSpecified(r),A=b&&r.name||"",w=s.getName(n),$=o?A:w;return createTooltipMarkup("section",{header:A,noHeader:o||!b,sortParam:S,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:v,name:$,noName:!trim$1($),value:g,valueType:y})].concat(_||[])})}function formatTooltipArrayValue(a,r,n,o,s){var l=r.getData(),u=reduce(a,function(y,_,S){var x=l.getDimensionInfo(S);return y=y||x&&x.tooltip!==!1&&x.displayName!=null},!1),c=[],d=[],v=[];o.length?each$f(o,function(y){g(retrieveRawValue(l,n,y),y)}):each$f(a,g);function g(y,_){var S=l.getDimensionInfo(_);!S||S.otherDims.tooltip===!1||(u?v.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:s,name:S.displayName,value:y,valueType:S.type})):(c.push(y),d.push(S.type)))}return{inlineValues:c,inlineValueTypes:d,blocks:v}}var inner$k=makeInner();function getSelectionKey(a,r){return a.getName(r)||a.getId(r)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return r.prototype.init=function(n,o,s){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,s);var l=inner$k(this).sourceManager=new SourceManager(this);l.prepareSource();var u=this.getInitialData(n,s);wrapData(u,this),this.dataTask.context.data=u,inner$k(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},r.prototype.mergeDefaultAndTheme=function(n,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(n):{},u=this.subType;ComponentModel$1.hasClass(u)&&(u+="Series"),merge$1(n,o.getTheme().get(this.subType)),merge$1(n,this.getDefaultOption()),defaultEmphasis(n,"label",["show"]),this.fillDataTextStyle(n.data),s&&mergeLayoutParam(n,l,s)},r.prototype.mergeOption=function(n,o){n=merge$1(this.option,n,!0),this.fillDataTextStyle(n.data);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,n,s);var l=inner$k(this).sourceManager;l.dirty(),l.prepareSource();var u=this.getInitialData(n,o);wrapData(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,inner$k(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},r.prototype.fillDataTextStyle=function(n){if(n&&!isTypedArray(n))for(var o=["show"],s=0;s<n.length;s++)n[s]&&n[s].label&&defaultEmphasis(n[s],"label",o)},r.prototype.getInitialData=function(n,o){},r.prototype.appendData=function(n){var o=this.getRawData();o.appendData(n.data)},r.prototype.getData=function(n){var o=getCurrentTask(this);if(o){var s=o.context.data;return n==null?s:s.getLinkedData(n)}else return inner$k(this).data},r.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},r.prototype.setData=function(n){var o=getCurrentTask(this);if(o){var s=o.context;s.outputData=n,o!==this.dataTask&&(s.data=n)}inner$k(this).data=n},r.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return createHashMap(n)},r.prototype.getSourceManager=function(){return inner$k(this).sourceManager},r.prototype.getSource=function(){return this.getSourceManager().getSource()},r.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},r.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},r.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},r.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},r.prototype.formatTooltip=function(n,o,s){return defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:o})},r.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(env$1.node&&!(n&&n.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},r.prototype.restoreData=function(){this.dataTask.dirty()},r.prototype.getColorFromPalette=function(n,o,s){var l=this.ecModel,u=PaletteMixin.prototype.getColorFromPalette.call(this,n,o,s);return u||(u=l.getColorFromPalette(n,o,s)),u},r.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},r.prototype.getProgressive=function(){return this.get("progressive")},r.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},r.prototype.select=function(n,o){this._innerSelect(this.getData(o),n)},r.prototype.unselect=function(n,o){var s=this.option.selectedMap;if(!!s){var l=this.option.selectedMode,u=this.getData(o);if(l==="series"||s==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var c=0;c<n.length;c++){var d=n[c],v=getSelectionKey(u,d);s[v]=!1,this._selectedDataIndicesMap[v]=-1}}},r.prototype.toggleSelect=function(n,o){for(var s=[],l=0;l<n.length;l++)s[0]=n[l],this.isSelected(n[l],o)?this.unselect(s,o):this.select(s,o)},r.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,o=keys(n),s=[],l=0;l<o.length;l++){var u=n[o[l]];u>=0&&s.push(u)}return s},r.prototype.isSelected=function(n,o){var s=this.option.selectedMap;if(!s)return!1;var l=this.getData(o);return(s==="all"||s[getSelectionKey(l,n)])&&!l.getItemModel(n).get(["select","disabled"])},r.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},r.prototype._innerSelect=function(n,o){var s,l,u=this.option,c=u.selectedMode,d=o.length;if(!(!c||!d)){if(c==="series")u.selectedMap="all";else if(c==="multiple"){isObject$5(u.selectedMap)||(u.selectedMap={});for(var v=u.selectedMap,g=0;g<d;g++){var y=o[g],_=getSelectionKey(n,y);v[_]=!0,this._selectedDataIndicesMap[_]=n.getRawIndex(y)}}else if(c==="single"||c===!0){var S=o[d-1],_=getSelectionKey(n,S);u.selectedMap=(s={},s[_]=!0,s),this._selectedDataIndicesMap=(l={},l[_]=n.getRawIndex(S),l)}}},r.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var o=[];n.hasItemOption&&n.each(function(s){var l=n.getRawDataItem(s);l&&l.selected&&o.push(s)}),o.length>0&&this._innerSelect(n,o)}},r.registerClass=function(n){return ComponentModel$1.registerClass(n)},r.protoInitialize=function(){var n=r.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),r}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(a){var r=a.name;isNameSpecified(a)||(a.name=getSeriesAutoName(a)||r)}function getSeriesAutoName(a){var r=a.getRawData(),n=r.mapDimensionsAll("seriesName"),o=[];return each$f(n,function(s){var l=r.getDimensionInfo(s);l.displayName&&o.push(l.displayName)}),o.join(" ")}function dataTaskCount(a){return a.model.getRawData().count()}function dataTaskReset(a){var r=a.model;return r.setData(r.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(a,r){r.outputData&&a.end>r.outputData.count()&&r.model.getRawData().cloneShallow(r.outputData)}function wrapData(a,r){each$f(concatArray(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(n){a.wrapMethod(n,curry$1(onDataChange,r))})}function onDataChange(a,r){var n=getCurrentTask(a);return n&&n.setOutputEnd((r||this).count()),r}function getCurrentTask(a){var r=(a.ecModel||{}).scheduler,n=r&&r.getPipeline(a.uid);if(n){var o=n.currentTask;if(o){var s=o.agentStubMap;s&&(o=s.get(a.uid))}return o}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function a(){this.group=new Group$4,this.uid=getUID("viewComponent")}return a.prototype.init=function(r,n){},a.prototype.render=function(r,n,o,s){},a.prototype.dispose=function(r,n){},a.prototype.updateView=function(r,n,o,s){},a.prototype.updateLayout=function(r,n,o,s){},a.prototype.updateVisual=function(r,n,o,s){},a.prototype.toggleBlurSeries=function(r,n,o){},a.prototype.eachRendered=function(r){var n=this.group;n&&n.traverse(r)},a}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var a=makeInner();return function(r){var n=a(r),o=r.pipelineContext,s=!!n.large,l=!!n.progressiveRender,u=n.large=!!(o&&o.large),c=n.progressiveRender=!!(o&&o.progressiveRender);return(s!==u||l!==c)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function a(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return a.prototype.init=function(r,n){},a.prototype.render=function(r,n,o,s){},a.prototype.highlight=function(r,n,o,s){var l=r.getData(s&&s.dataType);!l||toggleHighlight(l,s,"emphasis")},a.prototype.downplay=function(r,n,o,s){var l=r.getData(s&&s.dataType);!l||toggleHighlight(l,s,"normal")},a.prototype.remove=function(r,n){this.group.removeAll()},a.prototype.dispose=function(r,n){},a.prototype.updateView=function(r,n,o,s){this.render(r,n,o,s)},a.prototype.updateLayout=function(r,n,o,s){this.render(r,n,o,s)},a.prototype.updateVisual=function(r,n,o,s){this.render(r,n,o,s)},a.prototype.eachRendered=function(r){traverseElements(this.group,r)},a.markUpdateMethod=function(r,n){inner$j(r).updateMethod=n},a.protoInitialize=function(){var r=a.prototype;r.type="chart"}(),a}();function elSetState(a,r,n){a&&isHighDownDispatcher(a)&&(r==="emphasis"?enterEmphasis:leaveEmphasis)(a,n)}function toggleHighlight(a,r,n){var o=queryDataIndex(a,r),s=r&&r.highlightKey!=null?getHighlightDigit(r.highlightKey):null;o!=null?each$f(normalizeToArray(o),function(l){elSetState(a.getItemGraphicEl(l),n,s)}):a.eachItemGraphicEl(function(l){elSetState(l,n,s)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(a){return renderPlanner(a.model)}function renderTaskReset(a){var r=a.model,n=a.ecModel,o=a.api,s=a.payload,l=r.pipelineContext.progressiveRender,u=a.view,c=s&&inner$j(s).updateMethod,d=l?"incrementalPrepareRender":c&&u[c]?c:"render";return d!=="render"&&u[d](r,n,o,s),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(a,r){r.view.incrementalRender(a,r.model,r.ecModel,r.api,r.payload)}},render:{forceFirstProgress:!0,progress:function(a,r){r.view.render(r.model,r.ecModel,r.api,r.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(a,r,n){var o,s=0,l=0,u=null,c,d,v,g;r=r||0;function y(){l=new Date().getTime(),u=null,a.apply(d,v||[])}var _=function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];o=new Date().getTime(),d=this,v=S;var T=g||r,b=g||n;g=null,c=o-(b?s:l)-T,clearTimeout(u),b?u=setTimeout(y,T):c>=0?y():u=setTimeout(y,-c),s=o};return _.clear=function(){u&&(clearTimeout(u),u=null)},_.debounceNextCall=function(S){g=S},_}function createOrUpdate(a,r,n,o){var s=a[r];if(!!s){var l=s[ORIGIN_METHOD]||s,u=s[THROTTLE_TYPE],c=s[RATE];if(c!==n||u!==o){if(n==null||!o)return a[r]=l;s=a[r]=throttle(l,n,o==="debounce"),s[ORIGIN_METHOD]=l,s[THROTTLE_TYPE]=o,s[RATE]=n}return s}}function clear$1(a,r){var n=a[r];n&&n[ORIGIN_METHOD]&&(n.clear&&n.clear(),a[r]=n[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(a,r){var n=a.visualStyleMapper||defaultStyleMappers[r];return n||(console.warn("Unkown style type '"+r+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(a,r){var n=a.visualDrawType||defaultColorKey[r];return n||(console.warn("Unkown style type '"+r+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,r){var n=a.getData(),o=a.visualStyleAccessPath||"itemStyle",s=a.getModel(o),l=getStyleMapper(a,o),u=l(s),c=s.getShallow("decal");c&&(n.setVisual("decal",c),c.dirty=!0);var d=getDefaultColorKey(a,o),v=u[d],g=isFunction(v)?v:null,y=u.fill==="auto"||u.stroke==="auto";if(!u[d]||g||y){var _=a.getColorFromPalette(a.name,null,r.getSeriesCount());u[d]||(u[d]=_,n.setVisual("colorFromPalette",!0)),u.fill=u.fill==="auto"||isFunction(u.fill)?_:u.fill,u.stroke=u.stroke==="auto"||isFunction(u.stroke)?_:u.stroke}if(n.setVisual("style",u),n.setVisual("drawType",d),!r.isSeriesFiltered(a)&&g)return n.setVisual("colorFromPalette",!1),{dataEach:function(S,x){var T=a.getDataParams(x),b=extend({},u);b[d]=g(T),S.setItemVisual(x,"style",b)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,r){if(!(a.ignoreStyleOnData||r.isSeriesFiltered(a))){var n=a.getData(),o=a.visualStyleAccessPath||"itemStyle",s=getStyleMapper(a,o),l=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(u,c){var d=u.getRawDataItem(c);if(d&&d[o]){sharedModel.option=d[o];var v=s(sharedModel),g=u.ensureUniqueItemVisual(c,"style");extend(g,v),sharedModel.option.decal&&(u.setItemVisual(c,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),l in v&&u.setItemVisual(c,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(a){var r=createHashMap();a.eachSeries(function(n){var o=n.getColorBy();if(!n.isColorBySeries()){var s=n.type+"-"+o,l=r.get(s);l||(l={},r.set(s,l)),inner$i(n).scope=l}}),a.eachSeries(function(n){if(!(n.isColorBySeries()||a.isSeriesFiltered(n))){var o=n.getRawData(),s={},l=n.getData(),u=inner$i(n).scope,c=n.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(n,c);l.each(function(v){var g=l.getRawIndex(v);s[g]=v}),o.each(function(v){var g=s[v],y=l.getItemVisual(g,"colorFromPalette");if(y){var _=l.ensureUniqueItemVisual(g,"style"),S=o.getName(v)||v+"",x=o.count();_[d]=n.getColorFromPalette(S,u,x)}})}})}},PI$5=Math.PI;function defaultLoading(a,r){r=r||{},defaults(r,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Group$4,o=new Rect$3({style:{fill:r.maskColor},zlevel:r.zlevel,z:1e4});n.add(o);var s=new ZRText$1({style:{text:r.text,fill:r.textColor,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:r.fontFamily},zlevel:r.zlevel,z:10001}),l=new Rect$3({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:r.zlevel,z:10001});n.add(l);var u;return r.showSpinner&&(u=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:r.spinnerRadius},style:{stroke:r.color,lineCap:"round",lineWidth:r.lineWidth},zlevel:r.zlevel,z:10001}),u.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),n.add(u)),n.resize=function(){var c=s.getBoundingRect().width,d=r.showSpinner?r.spinnerRadius:0,v=(a.getWidth()-d*2-(r.showSpinner&&c?10:0)-c)/2-(r.showSpinner&&c?0:5+c/2)+(r.showSpinner?0:c/2)+(c?0:d),g=a.getHeight()/2;r.showSpinner&&u.setShape({cx:v,cy:g}),l.setShape({x:v-d,y:g-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},n.resize(),n}var Scheduler=function(){function a(r,n,o,s){this._stageTaskMap=createHashMap(),this.ecInstance=r,this.api=n,o=this._dataProcessorHandlers=o.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=o.concat(s)}return a.prototype.restoreData=function(r,n){r.restoreData(n),this._stageTaskMap.each(function(o){var s=o.overallTask;s&&s.dirty()})},a.prototype.getPerformArgs=function(r,n){if(!!r.__pipeline){var o=this._pipelineMap.get(r.__pipeline.id),s=o.context,l=!n&&o.progressiveEnabled&&(!s||s.progressiveRender)&&r.__idxInPipeline>o.blockIndex,u=l?o.step:null,c=s&&s.modDataCount,d=c!=null?Math.ceil(c/u):null;return{step:u,modBy:d,modDataCount:c}}},a.prototype.getPipeline=function(r){return this._pipelineMap.get(r)},a.prototype.updateStreamModes=function(r,n){var o=this._pipelineMap.get(r.uid),s=r.getData(),l=s.count(),u=o.progressiveEnabled&&n.incrementalPrepareRender&&l>=o.threshold,c=r.get("large")&&l>=r.get("largeThreshold"),d=r.get("progressiveChunkMode")==="mod"?l:null;r.pipelineContext=o.context={progressiveRender:u,modDataCount:d,large:c}},a.prototype.restorePipelines=function(r){var n=this,o=n._pipelineMap=createHashMap();r.eachSeries(function(s){var l=s.getProgressive(),u=s.uid;o.set(u,{id:u,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:l&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(l||700),count:0}),n._pipe(s,s.dataTask)})},a.prototype.prepareStageTasks=function(){var r=this._stageTaskMap,n=this.api.getModel(),o=this.api;each$f(this._allHandlers,function(s){var l=r.get(s.uid)||r.set(s.uid,{}),u="";assert(!(s.reset&&s.overallReset),u),s.reset&&this._createSeriesStageTask(s,l,n,o),s.overallReset&&this._createOverallStageTask(s,l,n,o)},this)},a.prototype.prepareView=function(r,n,o,s){var l=r.renderTask,u=l.context;u.model=n,u.ecModel=o,u.api=s,l.__block=!r.incrementalPrepareRender,this._pipe(n,l)},a.prototype.performDataProcessorTasks=function(r,n){this._performStageTasks(this._dataProcessorHandlers,r,n,{block:!0})},a.prototype.performVisualTasks=function(r,n,o){this._performStageTasks(this._visualHandlers,r,n,o)},a.prototype._performStageTasks=function(r,n,o,s){s=s||{};var l=!1,u=this;each$f(r,function(d,v){if(!(s.visualType&&s.visualType!==d.visualType)){var g=u._stageTaskMap.get(d.uid),y=g.seriesTaskMap,_=g.overallTask;if(_){var S,x=_.agentStubMap;x.each(function(b){c(s,b)&&(b.dirty(),S=!0)}),S&&_.dirty(),u.updatePayload(_,o);var T=u.getPerformArgs(_,s.block);x.each(function(b){b.perform(T)}),_.perform(T)&&(l=!0)}else y&&y.each(function(b,A){c(s,b)&&b.dirty();var w=u.getPerformArgs(b,s.block);w.skip=!d.performRawSeries&&n.isSeriesFiltered(b.context.model),u.updatePayload(b,o),b.perform(w)&&(l=!0)})}});function c(d,v){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(v.__pipeline.id))}this.unfinished=l||this.unfinished},a.prototype.performSeriesTasks=function(r){var n;r.eachSeries(function(o){n=o.dataTask.perform()||n}),this.unfinished=n||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(r){var n=r.tail;do{if(n.__block){r.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},a.prototype.updatePayload=function(r,n){n!=="remain"&&(r.context.payload=n)},a.prototype._createSeriesStageTask=function(r,n,o,s){var l=this,u=n.seriesTaskMap,c=n.seriesTaskMap=createHashMap(),d=r.seriesType,v=r.getTargetSeries;r.createOnAllSeries?o.eachRawSeries(g):d?o.eachRawSeriesByType(d,g):v&&v(o,s).each(g);function g(y){var _=y.uid,S=c.set(_,u&&u.get(_)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));S.context={model:y,ecModel:o,api:s,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:l},l._pipe(y,S)}},a.prototype._createOverallStageTask=function(r,n,o,s){var l=this,u=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});u.context={ecModel:o,api:s,overallReset:r.overallReset,scheduler:l};var c=u.agentStubMap,d=u.agentStubMap=createHashMap(),v=r.seriesType,g=r.getTargetSeries,y=!0,_=!1,S="";assert(!r.createOnAllSeries,S),v?o.eachRawSeriesByType(v,x):g?g(o,s).each(x):(y=!1,each$f(o.getSeries(),x));function x(T){var b=T.uid,A=d.set(b,c&&c.get(b)||(_=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));A.context={model:T,overallProgress:y},A.agent=u,A.__block=y,l._pipe(T,A)}_&&u.dirty()},a.prototype._pipe=function(r,n){var o=r.uid,s=this._pipelineMap.get(o);!s.head&&(s.head=n),s.tail&&s.tail.pipe(n),s.tail=n,n.__idxInPipeline=s.count++,n.__pipeline=s},a.wrapStageHandler=function(r,n){return isFunction(r)&&(r={overallReset:r,seriesType:detectSeriseType(r)}),r.uid=getUID("stageHandler"),n&&(r.visualType=n),r},a}();function overallTaskReset(a){a.overallReset(a.ecModel,a.api,a.payload)}function stubReset(a){return a.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function seriesTaskReset(a){a.useClearVisual&&a.data.clearAllVisual();var r=a.resetDefines=normalizeToArray(a.reset(a.model,a.ecModel,a.api,a.payload));return r.length>1?map$1(r,function(n,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(a){return function(r,n){var o=n.data,s=n.resetDefines[a];if(s&&s.dataEach)for(var l=r.start;l<r.end;l++)s.dataEach(o,l);else s&&s.progress&&s.progress(r,o)}}function seriesTaskCount(a){return a.data.count()}function detectSeriseType(a){seriesType=null;try{a(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(a){seriesType=a};ecModelMock.eachComponent=function(a){a.mainType==="series"&&a.subType&&(seriesType=a.subType)};function mockMethods(a,r){for(var n in r.prototype)a[n]=noop}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor$1="#B9B8CE",backgroundColor$1="#100C2A",axisCommon$1=function(){return{axisLine:{lineStyle:{color:contrastColor$1}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette$1=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme$1={darkMode:!0,color:colorPalette$1,backgroundColor:backgroundColor$1,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor$1}},textStyle:{color:contrastColor$1},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor$1}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor$1},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor$1}},timeline:{lineStyle:{color:contrastColor$1},label:{color:contrastColor$1},controlStyle:{color:contrastColor$1,borderColor:contrastColor$1}},calendar:{itemStyle:{color:backgroundColor$1},dayLabel:{color:contrastColor$1},monthLabel:{color:contrastColor$1},yearLabel:{color:contrastColor$1}},timeAxis:axisCommon$1(),logAxis:axisCommon$1(),valueAxis:axisCommon$1(),categoryAxis:axisCommon$1(),line:{symbol:"circle"},graph:{color:colorPalette$1},gauge:{title:{color:contrastColor$1},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor$1},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme$1.categoryAxis.splitLine.show=!1;const darkTheme=theme$1;var ECEventProcessor=function(){function a(){}return a.prototype.normalizeQuery=function(r){var n={},o={},s={};if(isString(r)){var l=parseClassType(r);n.mainType=l.main||null,n.subType=l.sub||null}else{var u=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};each$f(r,function(d,v){for(var g=!1,y=0;y<u.length;y++){var _=u[y],S=v.lastIndexOf(_);if(S>0&&S===v.length-_.length){var x=v.slice(0,S);x!=="data"&&(n.mainType=x,n[_.toLowerCase()]=d,g=!0)}}c.hasOwnProperty(v)&&(o[v]=d,g=!0),g||(s[v]=d)})}return{cptQuery:n,dataQuery:o,otherQuery:s}},a.prototype.filter=function(r,n){var o=this.eventInfo;if(!o)return!0;var s=o.targetEl,l=o.packedEvent,u=o.model,c=o.view;if(!u||!c)return!0;var d=n.cptQuery,v=n.dataQuery;return g(d,u,"mainType")&&g(d,u,"subType")&&g(d,u,"index","componentIndex")&&g(d,u,"name")&&g(d,u,"id")&&g(v,l,"name")&&g(v,l,"dataIndex")&&g(v,l,"dataType")&&(!c.filterForExposedEvent||c.filterForExposedEvent(r,n.otherQuery,s,l));function g(y,_,S,x){return y[S]==null||_[x||S]===y[S]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,r){var n=a.getData();if(a.legendIcon&&n.setVisual("legendIcon",a.legendIcon),!a.hasSymbolVisual)return;for(var o={},s={},l=!1,u=0;u<SYMBOL_PROPS_WITH_CB.length;u++){var c=SYMBOL_PROPS_WITH_CB[u],d=a.get(c);isFunction(d)?(l=!0,s[c]=d):o[c]=d}if(o.symbol=o.symbol||a.defaultSymbol,n.setVisual(extend({legendIcon:a.legendIcon||o.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},o)),r.isSeriesFiltered(a))return;var v=keys(s);function g(y,_){for(var S=a.getRawValue(_),x=a.getDataParams(_),T=0;T<v.length;T++){var b=v[T];y.setItemVisual(_,b,s[b](S,x))}}return{dataEach:l?g:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,r){if(!a.hasSymbolVisual||r.isSeriesFiltered(a))return;var n=a.getData();function o(s,l){for(var u=s.getItemModel(l),c=0;c<SYMBOL_PROPS.length;c++){var d=SYMBOL_PROPS[c],v=u.getShallow(d,!0);v!=null&&s.setItemVisual(l,d,v)}}return{dataEach:n.hasItemOption?o:null}}};function getItemVisualFromData(a,r,n){switch(n){case"color":var o=a.getItemVisual(r,"style");return o[a.getVisual("drawType")];case"opacity":return a.getItemVisual(r,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(r,n)}}function getVisualFromData(a,r){switch(r){case"color":var n=a.getVisual("style");return n[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(r)}}function setItemVisualFromData(a,r,n,o){switch(n){case"color":var s=a.ensureUniqueItemVisual(r,"style");s[a.getVisual("drawType")]=o,a.setItemVisual(r,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(r,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(r,n,o);break}}function createLegacyDataSelectAction(a,r){function n(o,s){var l=[];return o.eachComponent({mainType:"series",subType:a,query:s},function(u){l.push(u.seriesIndex)}),l}each$f([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(o){r(o[0],function(s,l,u){s=extend({},s),u.dispatchAction(extend(s,{type:o[1],seriesIndex:n(l,s)}))})})}function handleSeriesLegacySelectEvents(a,r,n,o,s){var l=a+r;n.isSilent(l)||o.eachComponent({mainType:"series",subType:"pie"},function(u){for(var c=u.seriesIndex,d=u.option.selectedMap,v=s.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===c){var y=u.getData(),_=queryDataIndex(y,s.fromActionPayload);n.trigger(l,{type:l,seriesId:u.id,name:isArray$1(_)?y.getName(_[0]):y.getName(_),selected:isString(d)?d:extend({},d)})}})}function handleLegacySelectEvents(a,r,n){a.on("selectchanged",function(o){var s=n.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",r,s,o),handleSeriesLegacySelectEvents("pie","selectchanged",r,s,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",r,s,o),handleSeriesLegacySelectEvents("pie","selected",r,s,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",r,s,o),handleSeriesLegacySelectEvents("pie","unselected",r,s,o))})}function findEventDispatcher(a,r,n){for(var o;a&&!(r(a)&&(o=a,n));)a=a.__hostTarget||a.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function a(){this._id="__ec_inner_"+wmUniqueIndex++}return a.prototype.get=function(r){return this._guard(r)[this._id]},a.prototype.set=function(r,n){var o=this._guard(r);return supportDefineProperty?Object.defineProperty(o,this._id,{value:n,enumerable:!1,configurable:!0}):o[this._id]=n,this},a.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},a.prototype.has=function(r){return!!this._guard(r)[this._id]},a.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},a}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,r){var n=r.cx,o=r.cy,s=r.width/2,l=r.height/2;a.moveTo(n,o-l),a.lineTo(n+s,o+l),a.lineTo(n-s,o+l),a.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,r){var n=r.cx,o=r.cy,s=r.width/2,l=r.height/2;a.moveTo(n,o-l),a.lineTo(n+s,o),a.lineTo(n,o+l),a.lineTo(n-s,o),a.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,r){var n=r.x,o=r.y,s=r.width/5*3,l=Math.max(s,r.height),u=s/2,c=u*u/(l-u),d=o-l+u+c,v=Math.asin(c/u),g=Math.cos(v)*u,y=Math.sin(v),_=Math.cos(v),S=u*.6,x=u*.7;a.moveTo(n-g,d+c),a.arc(n,d,u,Math.PI-v,Math.PI*2+v),a.bezierCurveTo(n+g-y*S,d+c+_*S,n,o-x,n,o),a.bezierCurveTo(n,o-x,n-g+y*S,d+c+_*S,n-g,d+c),a.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,r){var n=r.height,o=r.width,s=r.x,l=r.y,u=o/3*2;a.moveTo(s,l),a.lineTo(s+u,l+n),a.lineTo(s,l+n/4*3),a.lineTo(s-u,l+n),a.lineTo(s,l),a.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(a,r,n,o,s){s.x1=a,s.y1=r+o/2,s.x2=a+n,s.y2=r+o/2},rect:function(a,r,n,o,s){s.x=a,s.y=r,s.width=n,s.height=o},roundRect:function(a,r,n,o,s){s.x=a,s.y=r,s.width=n,s.height=o,s.r=Math.min(n,o)/4},square:function(a,r,n,o,s){var l=Math.min(n,o);s.x=a,s.y=r,s.width=l,s.height=l},circle:function(a,r,n,o,s){s.cx=a+n/2,s.cy=r+o/2,s.r=Math.min(n,o)/2},diamond:function(a,r,n,o,s){s.cx=a+n/2,s.cy=r+o/2,s.width=n,s.height=o},pin:function(a,r,n,o,s){s.x=a+n/2,s.y=r+o/2,s.width=n,s.height=o},arrow:function(a,r,n,o,s){s.x=a+n/2,s.y=r+o/2,s.width=n,s.height=o},triangle:function(a,r,n,o,s){s.cx=a+n/2,s.cy=r+o/2,s.width=n,s.height=o}},symbolBuildProxies={};each$f(symbolCtors,function(a,r){symbolBuildProxies[r]=new a});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,r,n){var o=calculateTextPosition(a,r,n),s=this.shape;return s&&s.symbolType==="pin"&&r.position==="inside"&&(o.y=n.y+n.height*.4),o},buildPath:function(a,r,n){var o=r.symbolType;if(o!=="none"){var s=symbolBuildProxies[o];s||(o="rect",s=symbolBuildProxies[o]),symbolShapeMakers[o](r.x,r.y,r.width,r.height,s.shape),s.buildPath(a,s.shape,n)}}});function symbolPathSetColor(a,r){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=a,n.fill=r||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=a:n.fill=a,this.markRedraw()}}function createSymbol$1(a,r,n,o,s,l,u){var c=a.indexOf("empty")===0;c&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var d;return a.indexOf("image://")===0?d=makeImage(a.slice(8),new BoundingRect$1(r,n,o,s),u?"center":"cover"):a.indexOf("path://")===0?d=makePath(a.slice(7),{},new BoundingRect$1(r,n,o,s),u?"center":"cover"):d=new SymbolClz$1({shape:{symbolType:a,x:r,y:n,width:o,height:s}}),d.__isEmptyBrush=c,d.setColor=symbolPathSetColor,l&&d.setColor(l),d}function normalizeSymbolSize(a){return isArray$1(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function normalizeSymbolOffset(a,r){if(a!=null)return isArray$1(a)||(a=[a,a]),[parsePercent(a[0],r[0])||0,parsePercent(retrieve2(a[1],a[0]),r[1])||0]}function isSafeNum(a){return isFinite(a)}function createLinearGradient(a,r,n){var o=r.x==null?0:r.x,s=r.x2==null?1:r.x2,l=r.y==null?0:r.y,u=r.y2==null?0:r.y2;r.global||(o=o*n.width+n.x,s=s*n.width+n.x,l=l*n.height+n.y,u=u*n.height+n.y),o=isSafeNum(o)?o:0,s=isSafeNum(s)?s:1,l=isSafeNum(l)?l:0,u=isSafeNum(u)?u:0;var c=a.createLinearGradient(o,l,s,u);return c}function createRadialGradient(a,r,n){var o=n.width,s=n.height,l=Math.min(o,s),u=r.x==null?.5:r.x,c=r.y==null?.5:r.y,d=r.r==null?.5:r.r;r.global||(u=u*o+n.x,c=c*s+n.y,d=d*l),u=isSafeNum(u)?u:.5,c=isSafeNum(c)?c:.5,d=d>=0&&isSafeNum(d)?d:.5;var v=a.createRadialGradient(u,c,0,u,c,d);return v}function getCanvasGradient(a,r,n){for(var o=r.type==="radial"?createRadialGradient(a,r,n):createLinearGradient(a,r,n),s=r.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}function isClipPathChanged(a,r){if(a===r||!a&&!r)return!1;if(!a||!r||a.length!==r.length)return!0;for(var n=0;n<a.length;n++)if(a[n]!==r[n])return!0;return!1}function parseInt10(a){return parseInt(a,10)}function getSize$1(a,r,n){var o=["width","height"][r],s=["clientWidth","clientHeight"][r],l=["paddingLeft","paddingTop"][r],u=["paddingRight","paddingBottom"][r];if(n[o]!=null&&n[o]!=="auto")return parseFloat(n[o]);var c=document.defaultView.getComputedStyle(a);return(a[s]||parseInt10(c[o])||parseInt10(a.style[o]))-(parseInt10(c[l])||0)-(parseInt10(c[u])||0)|0}function normalizeLineDash(a,r){return!a||a==="solid"||!(r>0)?null:a==="dashed"?[4*r,2*r]:a==="dotted"?[r]:isNumber(a)?[a]:isArray$1(a)?a:null}function getLineDash(a){var r=a.style,n=r.lineDash&&r.lineWidth>0&&normalizeLineDash(r.lineDash,r.lineWidth),o=r.lineDashOffset;if(n){var s=r.strokeNoScale&&a.getLineScale?a.getLineScale():1;s&&s!==1&&(n=map$1(n,function(l){return l/s}),o/=s)}return[n,o]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(a){var r=a.stroke;return!(r==null||r==="none"||!(a.lineWidth>0))}function isValidStrokeFillStyle(a){return typeof a=="string"&&a!=="none"}function styleHasFill(a){var r=a.fill;return r!=null&&r!=="none"}function doFillPath(a,r){if(r.fillOpacity!=null&&r.fillOpacity!==1){var n=a.globalAlpha;a.globalAlpha=r.fillOpacity*r.opacity,a.fill(),a.globalAlpha=n}else a.fill()}function doStrokePath(a,r){if(r.strokeOpacity!=null&&r.strokeOpacity!==1){var n=a.globalAlpha;a.globalAlpha=r.strokeOpacity*r.opacity,a.stroke(),a.globalAlpha=n}else a.stroke()}function createCanvasPattern(a,r,n){var o=createOrUpdateImage(r.image,r.__image,n);if(isImageReady(o)){var s=a.createPattern(o,r.repeat||"repeat");if(typeof DOMMatrix=="function"&&s&&s.setTransform){var l=new DOMMatrix;l.translateSelf(r.x||0,r.y||0),l.rotateSelf(0,0,(r.rotation||0)*RADIAN_TO_DEGREE),l.scaleSelf(r.scaleX||1,r.scaleY||1),s.setTransform(l)}return s}}function brushPath(a,r,n,o){var s,l=styleHasStroke(n),u=styleHasFill(n),c=n.strokePercent,d=c<1,v=!r.path;(!r.silent||d)&&v&&r.createPathProxy();var g=r.path||pathProxyForDraw,y=r.__dirty;if(!o){var _=n.fill,S=n.stroke,x=u&&!!_.colorStops,T=l&&!!S.colorStops,b=u&&!!_.image,A=l&&!!S.image,w=void 0,$=void 0,C=void 0,P=void 0,M=void 0;(x||T)&&(M=r.getBoundingRect()),x&&(w=y?getCanvasGradient(a,_,M):r.__canvasFillGradient,r.__canvasFillGradient=w),T&&($=y?getCanvasGradient(a,S,M):r.__canvasStrokeGradient,r.__canvasStrokeGradient=$),b&&(C=y||!r.__canvasFillPattern?createCanvasPattern(a,_,r):r.__canvasFillPattern,r.__canvasFillPattern=C),A&&(P=y||!r.__canvasStrokePattern?createCanvasPattern(a,S,r):r.__canvasStrokePattern,r.__canvasStrokePattern=C),x?a.fillStyle=w:b&&(C?a.fillStyle=C:u=!1),T?a.strokeStyle=$:A&&(P?a.strokeStyle=P:l=!1)}var E=r.getGlobalScale();g.setScale(E[0],E[1],r.segmentIgnoreThreshold);var D,I;a.setLineDash&&n.lineDash&&(s=getLineDash(r),D=s[0],I=s[1]);var R=!0;(v||y&SHAPE_CHANGED_BIT)&&(g.setDPR(a.dpr),d?g.setContext(null):(g.setContext(a),R=!1),g.reset(),r.buildPath(g,r.shape,o),g.toStatic(),r.pathUpdated()),R&&g.rebuildPath(a,d?c:1),D&&(a.setLineDash(D),a.lineDashOffset=I),o||(n.strokeFirst?(l&&doStrokePath(a,n),u&&doFillPath(a,n)):(u&&doFillPath(a,n),l&&doStrokePath(a,n))),D&&a.setLineDash([])}function brushImage(a,r,n){var o=r.__image=createOrUpdateImage(n.image,r.__image,r,r.onload);if(!(!o||!isImageReady(o))){var s=n.x||0,l=n.y||0,u=r.getWidth(),c=r.getHeight(),d=o.width/o.height;if(u==null&&c!=null?u=c*d:c==null&&u!=null?c=u/d:u==null&&c==null&&(u=o.width,c=o.height),n.sWidth&&n.sHeight){var v=n.sx||0,g=n.sy||0;a.drawImage(o,v,g,n.sWidth,n.sHeight,s,l,u,c)}else if(n.sx&&n.sy){var v=n.sx,g=n.sy,y=u-v,_=c-g;a.drawImage(o,v,g,y,_,s,l,u,c)}else a.drawImage(o,s,l,u,c)}}function brushText(a,r,n){var o,s=n.text;if(s!=null&&(s+=""),s){a.font=n.font||DEFAULT_FONT,a.textAlign=n.textAlign,a.textBaseline=n.textBaseline;var l=void 0,u=void 0;a.setLineDash&&n.lineDash&&(o=getLineDash(r),l=o[0],u=o[1]),l&&(a.setLineDash(l),a.lineDashOffset=u),n.strokeFirst?(styleHasStroke(n)&&a.strokeText(s,n.x,n.y),styleHasFill(n)&&a.fillText(s,n.x,n.y)):(styleHasFill(n)&&a.fillText(s,n.x,n.y),styleHasStroke(n)&&a.strokeText(s,n.x,n.y)),l&&a.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(a,r,n,o,s){var l=!1;if(!o&&(n=n||{},r===n))return!1;if(o||r.opacity!==n.opacity){flushPathDrawn(a,s),l=!0;var u=Math.max(Math.min(r.opacity,1),0);a.globalAlpha=isNaN(u)?DEFAULT_COMMON_STYLE.opacity:u}(o||r.blend!==n.blend)&&(l||(flushPathDrawn(a,s),l=!0),a.globalCompositeOperation=r.blend||DEFAULT_COMMON_STYLE.blend);for(var c=0;c<SHADOW_NUMBER_PROPS.length;c++){var d=SHADOW_NUMBER_PROPS[c];(o||r[d]!==n[d])&&(l||(flushPathDrawn(a,s),l=!0),a[d]=a.dpr*(r[d]||0))}return(o||r.shadowColor!==n.shadowColor)&&(l||(flushPathDrawn(a,s),l=!0),a.shadowColor=r.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),l}function bindPathAndTextCommonStyle(a,r,n,o,s){var l=getStyle(r,s.inHover),u=o?null:n&&getStyle(n,s.inHover)||{};if(l===u)return!1;var c=bindCommonProps(a,l,u,o,s);if((o||l.fill!==u.fill)&&(c||(flushPathDrawn(a,s),c=!0),isValidStrokeFillStyle(l.fill)&&(a.fillStyle=l.fill)),(o||l.stroke!==u.stroke)&&(c||(flushPathDrawn(a,s),c=!0),isValidStrokeFillStyle(l.stroke)&&(a.strokeStyle=l.stroke)),(o||l.opacity!==u.opacity)&&(c||(flushPathDrawn(a,s),c=!0),a.globalAlpha=l.opacity==null?1:l.opacity),r.hasStroke()){var d=l.lineWidth,v=d/(l.strokeNoScale&&r.getLineScale?r.getLineScale():1);a.lineWidth!==v&&(c||(flushPathDrawn(a,s),c=!0),a.lineWidth=v)}for(var g=0;g<STROKE_PROPS.length;g++){var y=STROKE_PROPS[g],_=y[0];(o||l[_]!==u[_])&&(c||(flushPathDrawn(a,s),c=!0),a[_]=l[_]||y[1])}return c}function bindImageStyle(a,r,n,o,s){return bindCommonProps(a,getStyle(r,s.inHover),n&&getStyle(n,s.inHover),o,s)}function setContextTransform(a,r){var n=r.transform,o=a.dpr||1;n?a.setTransform(o*n[0],o*n[1],o*n[2],o*n[3],o*n[4],o*n[5]):a.setTransform(o,0,0,o,0,0)}function updateClipStatus(a,r,n){for(var o=!1,s=0;s<a.length;s++){var l=a[s];o=o||l.isZeroArea(),setContextTransform(r,l),r.beginPath(),l.buildPath(r,l.shape),r.clip()}n.allClipped=o}function isTransformChanged(a,r){return a&&r?a[0]!==r[0]||a[1]!==r[1]||a[2]!==r[2]||a[3]!==r[3]||a[4]!==r[4]||a[5]!==r[5]:!(!a&&!r)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(a){var r=styleHasFill(a),n=styleHasStroke(a);return!(a.lineDash||!(+r^+n)||r&&typeof a.fill!="string"||n&&typeof a.stroke!="string"||a.strokePercent<1||a.strokeOpacity<1||a.fillOpacity<1)}function flushPathDrawn(a,r){r.batchFill&&a.fill(),r.batchStroke&&a.stroke(),r.batchFill="",r.batchStroke=""}function getStyle(a,r){return r&&a.__hoverStyle||a.style}function brushSingle(a,r){brush$1(a,r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(a,r,n,o){var s=r.transform;if(!r.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){r.__dirty&=~REDRAW_BIT,r.__isRendered=!1;return}var l=r.__clipPaths,u=n.prevElClipPaths,c=!1,d=!1;if((!u||isClipPathChanged(l,u))&&(u&&u.length&&(flushPathDrawn(a,n),a.restore(),d=c=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),l&&l.length&&(flushPathDrawn(a,n),a.save(),updateClipStatus(l,a,n),c=!0),n.prevElClipPaths=l),n.allClipped){r.__isRendered=!1;return}r.beforeBrush&&r.beforeBrush(),r.innerBeforeBrush();var v=n.prevEl;v||(d=c=!0);var g=r instanceof Path$1&&r.autoBatch&&canPathBatch(r.style);c||isTransformChanged(s,v.transform)?(flushPathDrawn(a,n),setContextTransform(a,r)):g||flushPathDrawn(a,n);var y=getStyle(r,n.inHover);r instanceof Path$1?(n.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,n.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(a,r,v,d,n),(!g||!n.batchFill&&!n.batchStroke)&&a.beginPath(),brushPath(a,r,y,g),g&&(n.batchFill=y.fill||"",n.batchStroke=y.stroke||"")):r instanceof TSpan$1?(n.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,n.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(a,r,v,d,n),brushText(a,r,y)):r instanceof ZRImage$1?(n.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,n.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(a,r,v,d,n),brushImage(a,r,y)):r.getTemporalDisplayables&&(n.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,n.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(a,r,n)),g&&o&&flushPathDrawn(a,n),r.innerAfterBrush(),r.afterBrush&&r.afterBrush(),n.prevEl=r,r.__dirty=0,r.__isRendered=!0}function brushIncremental(a,r,n){var o=r.getDisplayables(),s=r.getTemporalDisplayables();a.save();var l={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},u,c;for(u=r.getCursor(),c=o.length;u<c;u++){var d=o[u];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(a,d,l,u===c-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}for(var v=0,g=s.length;v<g;v++){var d=s[v];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(a,d,l,v===g-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}r.clearTemporalDisplayables(),r.notClear=!0,a.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(a,r){if(a==="none")return null;var n=r.getDevicePixelRatio(),o=r.getZr(),s=o.painter.type==="svg";a.dirty&&decalMap.delete(a);var l=decalMap.get(a);if(l)return l;var u=defaults(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});u.backgroundColor==="none"&&(u.backgroundColor=null);var c={repeat:"repeat"};return d(c),c.rotation=u.rotation,c.scaleX=c.scaleY=s?1:1/n,decalMap.set(a,c),a.dirty=!1,c;function d(v){for(var g=[n],y=!0,_=0;_<decalKeys.length;++_){var S=u[decalKeys[_]];if(S!=null&&!isArray$1(S)&&!isString(S)&&!isNumber(S)&&typeof S!="boolean"){y=!1;break}g.push(S)}var x;if(y){x=g.join(",")+(s?"-svg":"");var T=decalCache.get(x);T&&(s?v.svgElement=T:v.image=T)}var b=normalizeDashArrayX(u.dashArrayX),A=normalizeDashArrayY(u.dashArrayY),w=normalizeSymbolArray(u.symbol),$=getLineBlockLengthX(b),C=getLineBlockLengthY(A),P=!s&&platformApi.createCanvas(),M=s&&{tag:"g",attrs:{},key:"dcl",children:[]},E=I(),D;P&&(P.width=E.width*n,P.height=E.height*n,D=P.getContext("2d")),R(),y&&decalCache.put(x,P||M),v.image=P,v.svgElement=M,v.svgWidth=E.width,v.svgHeight=E.height;function I(){for(var L=1,O=0,N=$.length;O<N;++O)L=getLeastCommonMultiple(L,$[O]);for(var F=1,O=0,N=w.length;O<N;++O)F=getLeastCommonMultiple(F,w[O].length);L*=F;var B=C*$.length*w.length;return{width:Math.max(1,Math.min(L,u.maxTileWidth)),height:Math.max(1,Math.min(B,u.maxTileHeight))}}function R(){D&&(D.clearRect(0,0,P.width,P.height),u.backgroundColor&&(D.fillStyle=u.backgroundColor,D.fillRect(0,0,P.width,P.height)));for(var L=0,O=0;O<A.length;++O)L+=A[O];if(L<=0)return;for(var N=-C,F=0,B=0,z=0;N<E.height;){if(F%2===0){for(var U=B/2%w.length,H=0,Y=0,X=0;H<E.width*2;){for(var te=0,O=0;O<b[z].length;++O)te+=b[z][O];if(te<=0)break;if(Y%2===0){var oe=(1-u.symbolSize)*.5,ce=H+b[z][Y]*oe,de=N+A[F]*oe,Z=b[z][Y]*u.symbolSize,re=A[F]*u.symbolSize,q=X/2%w[U].length;J(ce,de,Z,re,w[U][q])}H+=b[z][Y],++X,++Y,Y===b[z].length&&(Y=0)}++z,z===b.length&&(z=0)}N+=A[F],++B,++F,F===A.length&&(F=0)}function J(he,fe,ee,ne,V){var G=s?1:n,W=createSymbol$1(V,he*G,fe*G,ee*G,ne*G,u.color,u.symbolKeepAspect);if(s){var K=o.painter.renderOneToVNode(W);K&&M.children.push(K)}else brushSingle(D,W)}}}}function normalizeSymbolArray(a){if(!a||a.length===0)return[["rect"]];if(isString(a))return[[a]];for(var r=!0,n=0;n<a.length;++n)if(!isString(a[n])){r=!1;break}if(r)return normalizeSymbolArray([a]);for(var o=[],n=0;n<a.length;++n)isString(a[n])?o.push([a[n]]):o.push(a[n]);return o}function normalizeDashArrayX(a){if(!a||a.length===0)return[[0,0]];if(isNumber(a)){var r=Math.ceil(a);return[[r,r]]}for(var n=!0,o=0;o<a.length;++o)if(!isNumber(a[o])){n=!1;break}if(n)return normalizeDashArrayX([a]);for(var s=[],o=0;o<a.length;++o)if(isNumber(a[o])){var r=Math.ceil(a[o]);s.push([r,r])}else{var r=map$1(a[o],function(c){return Math.ceil(c)});r.length%2===1?s.push(r.concat(r)):s.push(r)}return s}function normalizeDashArrayY(a){if(!a||typeof a=="object"&&a.length===0)return[0,0];if(isNumber(a)){var r=Math.ceil(a);return[r,r]}var n=map$1(a,function(o){return Math.ceil(o)});return a.length%2?n.concat(n):n}function getLineBlockLengthX(a){return map$1(a,function(r){return getLineBlockLengthY(r)})}function getLineBlockLengthY(a){for(var r=0,n=0;n<a.length;++n)r+=a[n];return a.length%2===1?r*2:r}function decalVisual(a,r){a.eachRawSeries(function(n){if(!a.isSeriesFiltered(n)){var o=n.getData();o.hasItemVisual()&&o.each(function(u){var c=o.getItemVisual(u,"decal");if(c){var d=o.ensureUniqueItemVisual(u,"style");d.decal=createOrUpdatePatternFromDecal(c,r)}});var s=o.getVisual("decal");if(s){var l=o.getVisual("style");l.decal=createOrUpdatePatternFromDecal(s,r)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(a,r){implsStore[a]=r}function getImpl(a){return implsStore[a]}var hasWindow=typeof window<"u",TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,a,r)}}function createRegisterEventWithLowercaseMessageCenter(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return toLowercaseNameAndCallEventful(this,a,r)}}function toLowercaseNameAndCallEventful(a,r,n){return n[0]=n[0]&&n[0].toLowerCase(),Eventful$1.prototype[r].apply(a,n)}var MessageCenter=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this,new ECEventProcessor)||this;l._chartsViews=[],l._chartsMap={},l._componentsViews=[],l._componentsMap={},l._pendingActions=[],s=s||{},isString(o)&&(o=themeStorage[o]),l._dom=n;var u="canvas",c="auto",d=!1,v=l._zr=init$2(n,{renderer:s.renderer||u,devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:retrieve2(s.useDirtyRect,d),useCoarsePointer:retrieve2(s.useCoarsePointer,c),pointerSize:s.pointerSize});l._ssr=s.ssr,l._throttledZrFlush=throttle(bind$1(v.flush,v),17),o=clone$4(o),o&&globalBackwardCompat(o,!0),l._theme=o,l._locale=createLocaleObject(s.locale||SYSTEM_LANG),l._coordSysMgr=new CoordinateSystem;var g=l._api=createExtensionAPI(l);function y(_,S){return _.__prio-S.__prio}return sort$2(visualFuncs,y),sort$2(dataProcessorFuncs,y),l._scheduler=new Scheduler$1(l,g,dataProcessorFuncs,visualFuncs),l._messageCenter=new MessageCenter,l._initEvents(),l.resize=bind$1(l.resize,l),v.animation.on("frame",l._onframe,l),bindRenderedEvent(v,l),bindMouseEvent(v,l),setAsPrimitive(l),l}return r.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var n=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(n.unfinished){var s=TEST_FRAME_REMAIN_TIME,l=this._model,u=this._api;n.unfinished=!1;do{var c=+new Date;n.performSeriesTasks(l),n.performDataProcessorTasks(l),updateStreamModes(this,l),n.performVisualTasks(l),renderSeries(this,this._model,u,"remain",{}),s-=+new Date-c}while(s>0&&n.unfinished);n.unfinished||this._zr.flush()}}},r.prototype.getDom=function(){return this._dom},r.prototype.getId=function(){return this.id},r.prototype.getZr=function(){return this._zr},r.prototype.isSSR=function(){return this._ssr},r.prototype.setOption=function(n,o,s){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var l,u,c;if(isObject$5(o)&&(s=o.lazyUpdate,l=o.silent,u=o.replaceMerge,c=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager$1(this._api),v=this._theme,g=this._model=new GlobalModel$1;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,d)}this._model.setOption(n,{replaceMerge:u},optionPreprocessorFuncs);var y={seriesTransition:c,optionChanged:!0};if(s)this[PENDING_UPDATE]={silent:l,updateParams:y},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,y)}catch(_){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,_}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}}},r.prototype.setTheme=function(){},r.prototype.getModel=function(){return this._model},r.prototype.getOption=function(){return this._model&&this._model.getOption()},r.prototype.getWidth=function(){return this._zr.getWidth()},r.prototype.getHeight=function(){return this._zr.getHeight()},r.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hasWindow&&window.devicePixelRatio||1},r.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},r.prototype.renderToCanvas=function(n){n=n||{};var o=this._zr.painter;return o.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},r.prototype.renderToSVGString=function(n){n=n||{};var o=this._zr.painter;return o.renderToString({useViewBox:n.useViewBox})},r.prototype.getSvgDataURL=function(){if(!!env$1.svgSupported){var n=this._zr,o=n.storage.getDisplayList();return each$f(o,function(s){s.stopAnimation(null,!0)}),n.painter.toDataURL()}},r.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var o=n.excludeComponents,s=this._model,l=[],u=this;each$f(o,function(d){s.eachComponent({mainType:d},function(v){var g=u._componentsMap[v.__viewId];g.group.ignore||(l.push(g),g.group.ignore=!0)})});var c=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return each$f(l,function(d){d.group.ignore=!1}),c},r.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var o=n.type==="svg",s=this.group,l=Math.min,u=Math.max,c=1/0;if(connectedGroups[s]){var d=c,v=c,g=-c,y=-c,_=[],S=n&&n.pixelRatio||this.getDevicePixelRatio();each$f(instances,function($,C){if($.group===s){var P=o?$.getZr().painter.getSvgDom().innerHTML:$.renderToCanvas(clone$4(n)),M=$.getDom().getBoundingClientRect();d=l(M.left,d),v=l(M.top,v),g=u(M.right,g),y=u(M.bottom,y),_.push({dom:P,left:M.left,top:M.top})}}),d*=S,v*=S,g*=S,y*=S;var x=g-d,T=y-v,b=platformApi.createCanvas(),A=init$2(b,{renderer:o?"svg":"canvas"});if(A.resize({width:x,height:T}),o){var w="";return each$f(_,function($){var C=$.left-d,P=$.top-v;w+='<g transform="translate('+C+","+P+')">'+$.dom+"</g>"}),A.painter.getSvgRoot().innerHTML=w,n.connectedBackgroundColor&&A.painter.setBackgroundColor(n.connectedBackgroundColor),A.refreshImmediately(),A.painter.toDataURL()}else return n.connectedBackgroundColor&&A.add(new Rect$3({shape:{x:0,y:0,width:x,height:T},style:{fill:n.connectedBackgroundColor}})),each$f(_,function($){var C=new ZRImage$1({style:{x:$.left*S-d,y:$.top*S-v,image:$.dom}});A.add(C)}),A.refreshImmediately(),b.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},r.prototype.convertToPixel=function(n,o){return doConvertPixel(this,"convertToPixel",n,o)},r.prototype.convertFromPixel=function(n,o){return doConvertPixel(this,"convertFromPixel",n,o)},r.prototype.containPixel=function(n,o){if(this._disposed){this.id;return}var s=this._model,l,u=parseFinder$1(s,n);return each$f(u,function(c,d){d.indexOf("Models")>=0&&each$f(c,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)l=l||!!g.containPoint(o);else if(d==="seriesModels"){var y=this._chartsMap[v.__viewId];y&&y.containPoint&&(l=l||y.containPoint(o,v))}},this)},this),!!l},r.prototype.getVisual=function(n,o){var s=this._model,l=parseFinder$1(s,n,{defaultMainType:"series"}),u=l.seriesModel,c=u.getData(),d=l.hasOwnProperty("dataIndexInside")?l.dataIndexInside:l.hasOwnProperty("dataIndex")?c.indexOfRawIndex(l.dataIndex):null;return d!=null?getItemVisualFromData(c,d,o):getVisualFromData(c,o)},r.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},r.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},r.prototype._initEvents=function(){var n=this;each$f(MOUSE_EVENT_NAMES,function(o){var s=function(l){var u=n.getModel(),c=l.target,d,v=o==="globalout";if(v?d={}:c&&findEventDispatcher(c,function(x){var T=getECData(x);if(T&&T.dataIndex!=null){var b=T.dataModel||u.getSeriesByIndex(T.seriesIndex);return d=b&&b.getDataParams(T.dataIndex,T.dataType)||{},!0}else if(T.eventData)return d=extend({},T.eventData),!0},!0),d){var g=d.componentType,y=d.componentIndex;(g==="markLine"||g==="markPoint"||g==="markArea")&&(g="series",y=d.seriesIndex);var _=g&&y!=null&&u.getComponent(g,y),S=_&&n[_.mainType==="series"?"_chartsMap":"_componentsMap"][_.__viewId];d.event=l,d.type=o,n._$eventProcessor.eventInfo={targetEl:c,packedEvent:d,model:_,view:S},n.trigger(o,d)}};s.zrEventfulCallAtLast=!0,n._zr.on(o,s,n)}),each$f(eventActionMap,function(o,s){n._messageCenter.on(s,function(l){this.trigger(s,l)},n)}),each$f(["selectchanged"],function(o){n._messageCenter.on(o,function(s){this.trigger(o,s)},n)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},r.prototype.isDisposed=function(){return this._disposed},r.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},r.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,s=o._api,l=o._model;each$f(o._componentsViews,function(u){u.dispose(l,s)}),each$f(o._chartsViews,function(u){u.dispose(l,s)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},r.prototype.resize=function(n){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(n);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var s=o.resetOption("media"),l=n&&n.silent;this[PENDING_UPDATE]&&(l==null&&(l=this[PENDING_UPDATE].silent),s=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{s&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},n&&n.animation)})}catch(u){throw this[IN_MAIN_PROCESS_KEY]=!1,u}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}}},r.prototype.showLoading=function(n,o){if(this._disposed){this.id;return}if(isObject$5(n)&&(o=n,n=""),n=n||"default",this.hideLoading(),!!loadingEffects[n]){var s=loadingEffects[n](this._api,o),l=this._zr;this._loadingFX=s,l.add(s)}},r.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},r.prototype.makeActionFromEvent=function(n){var o=extend({},n);return o.type=eventActionMap[n.type],o},r.prototype.dispatchAction=function(n,o){if(this._disposed){this.id;return}if(isObject$5(o)||(o={silent:!!o}),!!actions[n.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(n);return}var s=o.silent;doDispatchAction.call(this,n,s);var l=o.flush;l?this._zr.flush():l!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}},r.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},r.prototype.appendData=function(n){if(this._disposed){this.id;return}var o=n.seriesIndex,s=this.getModel(),l=s.getSeriesByIndex(o);l.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},r.internalField=function(){prepare=function(y){var _=y._scheduler;_.restorePipelines(y._model),_.prepareStageTasks(),prepareView(y,!0),prepareView(y,!1),_.plan()},prepareView=function(y,_){for(var S=y._model,x=y._scheduler,T=_?y._componentsViews:y._chartsViews,b=_?y._componentsMap:y._chartsMap,A=y._zr,w=y._api,$=0;$<T.length;$++)T[$].__alive=!1;_?S.eachComponent(function(M,E){M!=="series"&&C(E)}):S.eachSeries(C);function C(M){var E=M.__requireNewView;M.__requireNewView=!1;var D="_ec_"+M.id+"_"+M.type,I=!E&&b[D];if(!I){var R=parseClassType(M.type),L=_?ComponentView$1.getClass(R.main,R.sub):ChartView$1.getClass(R.sub);I=new L,I.init(S,w),b[D]=I,T.push(I),A.add(I.group)}M.__viewId=I.__id=D,I.__alive=!0,I.__model=M,I.group.__ecComponentInfo={mainType:M.mainType,index:M.componentIndex},!_&&x.prepareView(I,M,S,w)}for(var $=0;$<T.length;){var P=T[$];P.__alive?$++:(!_&&P.renderTask.dispose(),A.remove(P.group),P.dispose(S,w),T.splice($,1),b[P.__id]===P&&delete b[P.__id],P.__id=P.group.__ecComponentInfo=null)}},updateDirectly=function(y,_,S,x,T){var b=y._model;if(b.setUpdatePayload(S),!x){each$f([].concat(y._componentsViews).concat(y._chartsViews),P);return}var A={};A[x+"Id"]=S[x+"Id"],A[x+"Index"]=S[x+"Index"],A[x+"Name"]=S[x+"Name"];var w={mainType:x,query:A};T&&(w.subType=T);var $=S.excludeSeriesId,C;$!=null&&(C=createHashMap(),each$f(normalizeToArray($),function(M){var E=convertOptionIdName(M,null);E!=null&&C.set(E,!0)})),b&&b.eachComponent(w,function(M){var E=C&&C.get(M.id)!==null;if(!E)if(isHighDownPayload(S))if(M instanceof SeriesModel$1)S.type===HIGHLIGHT_ACTION_TYPE&&!S.notBlur&&!M.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(M,S,y._api);else{var D=findComponentHighDownDispatchers(M.mainType,M.componentIndex,S.name,y._api),I=D.focusSelf,R=D.dispatchers;S.type===HIGHLIGHT_ACTION_TYPE&&I&&!S.notBlur&&blurComponent(M.mainType,M.componentIndex,y._api),R&&each$f(R,function(L){S.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(L):leaveEmphasis(L)})}else isSelectChangePayload(S)&&M instanceof SeriesModel$1&&(toggleSelectionFromPayload(M,S,y._api),updateSeriesElementSelection(M),markStatusToUpdate(y))},y),b&&b.eachComponent(w,function(M){var E=C&&C.get(M.id)!==null;E||P(y[x==="series"?"_chartsMap":"_componentsMap"][M.__viewId])},y);function P(M){M&&M.__alive&&M[_]&&M[_](M.__model,b,y._api,S)}},updateMethods={prepareAndUpdate:function(y){prepare(this),updateMethods.update.call(this,y,{optionChanged:y.newOption!=null})},update:function(y,_){var S=this._model,x=this._api,T=this._zr,b=this._coordSysMgr,A=this._scheduler;if(!!S){S.setUpdatePayload(y),A.restoreData(S,y),A.performSeriesTasks(S),b.create(S,x),A.performDataProcessorTasks(S,y),updateStreamModes(this,S),b.update(S,x),n(S),A.performVisualTasks(S,y),render(this,S,x,y,_);var w=S.get("backgroundColor")||"transparent",$=S.get("darkMode");T.setBackgroundColor(w),$!=null&&$!=="auto"&&T.setDarkMode($),lifecycle$1.trigger("afterupdate",S,x)}},updateTransform:function(y){var _=this,S=this._model,x=this._api;if(!!S){S.setUpdatePayload(y);var T=[];S.eachComponent(function(A,w){if(A!=="series"){var $=_.getViewOfComponentModel(w);if($&&$.__alive)if($.updateTransform){var C=$.updateTransform(w,S,x,y);C&&C.update&&T.push($)}else T.push($)}});var b=createHashMap();S.eachSeries(function(A){var w=_._chartsMap[A.__viewId];if(w.updateTransform){var $=w.updateTransform(A,S,x,y);$&&$.update&&b.set(A.uid,1)}else b.set(A.uid,1)}),n(S),this._scheduler.performVisualTasks(S,y,{setDirty:!0,dirtyMap:b}),renderSeries(this,S,x,y,{},b),lifecycle$1.trigger("afterupdate",S,x)}},updateView:function(y){var _=this._model;!_||(_.setUpdatePayload(y),ChartView$1.markUpdateMethod(y,"updateView"),n(_),this._scheduler.performVisualTasks(_,y,{setDirty:!0}),render(this,_,this._api,y,{}),lifecycle$1.trigger("afterupdate",_,this._api))},updateVisual:function(y){var _=this,S=this._model;!S||(S.setUpdatePayload(y),S.eachSeries(function(x){x.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(y,"updateVisual"),n(S),this._scheduler.performVisualTasks(S,y,{visualType:"visual",setDirty:!0}),S.eachComponent(function(x,T){if(x!=="series"){var b=_.getViewOfComponentModel(T);b&&b.__alive&&b.updateVisual(T,S,_._api,y)}}),S.eachSeries(function(x){var T=_._chartsMap[x.__viewId];T.updateVisual(x,S,_._api,y)}),lifecycle$1.trigger("afterupdate",S,this._api))},updateLayout:function(y){updateMethods.update.call(this,y)}},doConvertPixel=function(y,_,S,x){if(y._disposed){y.id;return}for(var T=y._model,b=y._coordSysMgr.getCoordinateSystems(),A,w=parseFinder$1(T,S),$=0;$<b.length;$++){var C=b[$];if(C[_]&&(A=C[_](T,w,x))!=null)return A}},updateStreamModes=function(y,_){var S=y._chartsMap,x=y._scheduler;_.eachSeries(function(T){x.updateStreamModes(T,S[T.__viewId])})},doDispatchAction=function(y,_){var S=this,x=this.getModel(),T=y.type,b=y.escapeConnect,A=actions[T],w=A.actionInfo,$=(w.update||"update").split(":"),C=$.pop(),P=$[0]!=null&&parseClassType($[0]);this[IN_MAIN_PROCESS_KEY]=!0;var M=[y],E=!1;y.batch&&(E=!0,M=map$1(y.batch,function(F){return F=defaults(extend({},F),y),F.batch=null,F}));var D=[],I,R=isSelectChangePayload(y),L=isHighDownPayload(y);if(L&&allLeaveBlur(this._api),each$f(M,function(F){if(I=A.action(F,S._model,S._api),I=I||extend({},F),I.type=w.event||I.type,D.push(I),L){var B=preParseFinder(y),z=B.queryOptionMap,U=B.mainTypeSpecified,H=U?z.keys()[0]:"series";updateDirectly(S,C,F,H),markStatusToUpdate(S)}else R?(updateDirectly(S,C,F,"series"),markStatusToUpdate(S)):P&&updateDirectly(S,C,F,P.main,P.sub)}),C!=="none"&&!L&&!R&&!P)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,y),this[PENDING_UPDATE]=null):updateMethods[C].call(this,y)}catch(F){throw this[IN_MAIN_PROCESS_KEY]=!1,F}if(E?I={type:w.event||T,escapeConnect:b,batch:D}:I=D[0],this[IN_MAIN_PROCESS_KEY]=!1,!_){var O=this._messageCenter;if(O.trigger(I.type,I),R){var N={type:"selectchanged",escapeConnect:b,selected:getAllSelectedIndices(x),isFromClick:y.isFromClick||!1,fromAction:y.type,fromActionPayload:y};O.trigger(N.type,N)}}},flushPendingActions=function(y){for(var _=this._pendingActions;_.length;){var S=_.shift();doDispatchAction.call(this,S,y)}},triggerUpdatedEvent=function(y){!y&&this.trigger("updated")},bindRenderedEvent=function(y,_){y.on("rendered",function(S){_.trigger("rendered",S),y.animation.isFinished()&&!_[PENDING_UPDATE]&&!_._scheduler.unfinished&&!_._pendingActions.length&&_.trigger("finished")})},bindMouseEvent=function(y,_){y.on("mouseover",function(S){var x=S.target,T=findEventDispatcher(x,isHighDownDispatcher);T&&(handleGlobalMouseOverForHighDown(T,S,_._api),markStatusToUpdate(_))}).on("mouseout",function(S){var x=S.target,T=findEventDispatcher(x,isHighDownDispatcher);T&&(handleGlobalMouseOutForHighDown(T,S,_._api),markStatusToUpdate(_))}).on("click",function(S){var x=S.target,T=findEventDispatcher(x,function(w){return getECData(w).dataIndex!=null},!0);if(T){var b=T.selected?"unselect":"select",A=getECData(T);_._api.dispatchAction({type:b,dataType:A.dataType,dataIndexInside:A.dataIndex,seriesIndex:A.seriesIndex,isFromClick:!0})}})};function n(y){y.clearColorPalette(),y.eachSeries(function(_){_.clearColorPalette()})}function o(y){var _=[],S=[],x=!1;if(y.eachComponent(function(w,$){var C=$.get("zlevel")||0,P=$.get("z")||0,M=$.getZLevelKey();x=x||!!M,(w==="series"?S:_).push({zlevel:C,z:P,idx:$.componentIndex,type:w,key:M})}),x){var T=_.concat(S),b,A;sort$2(T,function(w,$){return w.zlevel===$.zlevel?w.z-$.z:w.zlevel-$.zlevel}),each$f(T,function(w){var $=y.getComponent(w.type,w.idx),C=w.zlevel,P=w.key;b!=null&&(C=Math.max(b,C)),P?(C===b&&P!==A&&C++,A=P):A&&(C===b&&C++,A=""),b=C,$.setZLevel(C)})}}render=function(y,_,S,x,T){o(_),renderComponents(y,_,S,x,T),each$f(y._chartsViews,function(b){b.__alive=!1}),renderSeries(y,_,S,x,T),each$f(y._chartsViews,function(b){b.__alive||b.remove(_,S)})},renderComponents=function(y,_,S,x,T,b){each$f(b||y._componentsViews,function(A){var w=A.__model;v(w,A),A.render(w,_,S,x),c(w,A),g(w,A)})},renderSeries=function(y,_,S,x,T,b){var A=y._scheduler;T=extend(T||{},{updatedSeries:_.getSeries()}),lifecycle$1.trigger("series:beforeupdate",_,S,T);var w=!1;_.eachSeries(function($){var C=y._chartsMap[$.__viewId];C.__alive=!0;var P=C.renderTask;A.updatePayload(P,x),v($,C),b&&b.get($.uid)&&P.dirty(),P.perform(A.getPerformArgs(P))&&(w=!0),C.group.silent=!!$.get("silent"),u($,C),updateSeriesElementSelection($)}),A.unfinished=w||A.unfinished,lifecycle$1.trigger("series:layoutlabels",_,S,T),lifecycle$1.trigger("series:transition",_,S,T),_.eachSeries(function($){var C=y._chartsMap[$.__viewId];c($,C),g($,C)}),l(y,_),lifecycle$1.trigger("series:afterupdate",_,S,T)},markStatusToUpdate=function(y){y[STATUS_NEEDS_UPDATE_KEY]=!0,y.getZr().wakeUp()},applyChangedStates=function(y){!y[STATUS_NEEDS_UPDATE_KEY]||(y.getZr().storage.traverse(function(_){isElementRemoved(_)||s(_)}),y[STATUS_NEEDS_UPDATE_KEY]=!1)};function s(y){for(var _=[],S=y.currentStates,x=0;x<S.length;x++){var T=S[x];T==="emphasis"||T==="blur"||T==="select"||_.push(T)}y.selected&&y.states.select&&_.push("select"),y.hoverState===HOVER_STATE_EMPHASIS&&y.states.emphasis?_.push("emphasis"):y.hoverState===HOVER_STATE_BLUR&&y.states.blur&&_.push("blur"),y.useStates(_)}function l(y,_){var S=y._zr,x=S.storage,T=0;x.traverse(function(b){b.isGroup||T++}),T>_.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&_.eachSeries(function(b){if(!b.preventUsingHoverLayer){var A=y._chartsMap[b.__viewId];A.__alive&&A.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function u(y,_){var S=y.get("blendMode")||null;_.eachRendered(function(x){x.isGroup||(x.style.blend=S)})}function c(y,_){if(!y.preventAutoZ){var S=y.get("z")||0,x=y.get("zlevel")||0;_.eachRendered(function(T){return d(T,S,x,-1/0),!0})}}function d(y,_,S,x){var T=y.getTextContent(),b=y.getTextGuideLine(),A=y.isGroup;if(A)for(var w=y.childrenRef(),$=0;$<w.length;$++)x=Math.max(d(w[$],_,S,x),x);else y.z=_,y.zlevel=S,x=Math.max(y.z2,x);if(T&&(T.z=_,T.zlevel=S,isFinite(x)&&(T.z2=x+2)),b){var C=y.textGuideLineConfig;b.z=_,b.zlevel=S,isFinite(x)&&(b.z2=x+(C&&C.showAbove?1:-1))}return x}function v(y,_){_.eachRendered(function(S){if(!isElementRemoved(S)){var x=S.getTextContent(),T=S.getTextGuideLine();S.stateTransition&&(S.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),T&&T.stateTransition&&(T.stateTransition=null),S.hasState()?(S.prevStates=S.currentStates,S.clearStates()):S.prevStates&&(S.prevStates=null)}})}function g(y,_){var S=y.getModel("stateAnimation"),x=y.isAnimationEnabled(),T=S.get("duration"),b=T>0?{duration:T,delay:S.get("delay"),easing:S.get("easing")}:null;_.eachRendered(function(A){if(A.states&&A.states.emphasis){if(isElementRemoved(A))return;if(A instanceof Path$1&&savePathStates(A),A.__dirty){var w=A.prevStates;w&&A.useStates(w)}if(x){A.stateTransition=b;var $=A.getTextContent(),C=A.getTextGuideLine();$&&($.stateTransition=b),C&&(C.stateTransition=b)}A.__dirty&&s(A)}})}createExtensionAPI=function(y){return new(function(_){__extends(S,_);function S(){return _!==null&&_.apply(this,arguments)||this}return S.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},S.prototype.getComponentByElement=function(x){for(;x;){var T=x.__ecComponentInfo;if(T!=null)return y._model.getComponent(T.mainType,T.index);x=x.parent}},S.prototype.enterEmphasis=function(x,T){enterEmphasis(x,T),markStatusToUpdate(y)},S.prototype.leaveEmphasis=function(x,T){leaveEmphasis(x,T),markStatusToUpdate(y)},S.prototype.enterBlur=function(x){enterBlur(x),markStatusToUpdate(y)},S.prototype.leaveBlur=function(x){leaveBlur(x),markStatusToUpdate(y)},S.prototype.enterSelect=function(x){enterSelect(x),markStatusToUpdate(y)},S.prototype.leaveSelect=function(x){leaveSelect(x),markStatusToUpdate(y)},S.prototype.getModel=function(){return y.getModel()},S.prototype.getViewOfComponentModel=function(x){return y.getViewOfComponentModel(x)},S.prototype.getViewOfSeriesModel=function(x){return y.getViewOfSeriesModel(x)},S}(ExtensionAPI$1))(y)},enableConnect=function(y){function _(S,x){for(var T=0;T<S.length;T++){var b=S[T];b[CONNECT_STATUS_KEY]=x}}each$f(eventActionMap,function(S,x){y._messageCenter.on(x,function(T){if(connectedGroups[y.group]&&y[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(T&&T.escapeConnect)return;var b=y.makeActionFromEvent(T),A=[];each$f(instances,function(w){w!==y&&w.group===y.group&&A.push(w)}),_(A,CONNECT_STATUS_PENDING),each$f(A,function(w){w[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&w.dispatchAction(b)}),_(A,CONNECT_STATUS_UPDATED)}})})}}(),r}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(a,r,n){var o=this;function s(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];r&&r.apply&&r.apply(this,l),o.off(a,s)}this.on.call(this,a,s,n)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(a){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(a,r,n){var o=!(n&&n.ssr);if(o){var s=getInstanceByDom(a);if(s)return s}var l=new ECharts(a,r,n);return l.id="ec_"+idBase++,instances[l.id]=l,o&&setAttribute(a,DOM_ATTRIBUTE_KEY,l.id),enableConnect(l),lifecycle$1.trigger("afterinit",l),l}function getInstanceByDom(a){return instances[getAttribute(a,DOM_ATTRIBUTE_KEY)]}function registerTheme(a,r){themeStorage[a]=r}function registerPreprocessor(a){indexOf(optionPreprocessorFuncs,a)<0&&optionPreprocessorFuncs.push(a)}function registerProcessor(a,r){normalizeRegister(dataProcessorFuncs,a,r,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(a){registerUpdateLifecycle("afterinit",a)}function registerPostUpdate(a){registerUpdateLifecycle("afterupdate",a)}function registerUpdateLifecycle(a,r){lifecycle$1.on(a,r)}function registerAction(a,r,n){isFunction(r)&&(n=r,r="");var o=isObject$5(a)?a.type:[a,a={event:r}][0];a.event=(a.event||o).toLowerCase(),r=a.event,!eventActionMap[r]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(r)),actions[o]||(actions[o]={action:n,actionInfo:a}),eventActionMap[r]=o)}function registerCoordinateSystem(a,r){CoordinateSystem.register(a,r)}function registerLayout(a,r){normalizeRegister(visualFuncs,a,r,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(a,r){normalizeRegister(visualFuncs,a,r,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(a,r,n,o,s){if((isFunction(r)||isObject$5(r))&&(n=r,r=o),!(indexOf(registeredTasks,n)>=0)){registeredTasks.push(n);var l=Scheduler$1.wrapStageHandler(n,s);l.__prio=r,l.__raw=n,a.push(l)}}function registerLoading(a,r){loadingEffects[a]=r}function registerMap$1(a,r,n){var o=getImpl("registerMap");o&&o(a,r,n)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(a){ComponentModel$1.registerClass(a)},registerComponentView:function(a){ComponentView$1.registerClass(a)},registerSeriesModel:function(a){SeriesModel$1.registerClass(a)},registerChartView:function(a){ChartView$1.registerClass(a)},registerSubTypeDefaulter:function(a,r){ComponentModel$1.registerSubTypeDefaulter(a,r)},registerPainter:function(a,r){registerPainter(a,r)}};function use(a){if(isArray$1(a)){each$f(a,function(r){use(r)});return}indexOf(extensions,a)>=0||(extensions.push(a),isFunction(a)&&(a={install:a}),a.install(extensionRegisters))}function dataIndexMapValueLength(a){return a==null?0:a.length||1}function defaultKeyGetter(a){return a}var DataDiffer=function(){function a(r,n,o,s,l,u){this._old=r,this._new=n,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=s||defaultKeyGetter,this.context=l,this._diffModeMultiple=u==="multiple"}return a.prototype.add=function(r){return this._add=r,this},a.prototype.update=function(r){return this._update=r,this},a.prototype.updateManyToOne=function(r){return this._updateManyToOne=r,this},a.prototype.updateOneToMany=function(r){return this._updateOneToMany=r,this},a.prototype.updateManyToMany=function(r){return this._updateManyToMany=r,this},a.prototype.remove=function(r){return this._remove=r,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var r=this._old,n=this._new,o={},s=new Array(r.length),l=new Array(n.length);this._initIndexMap(r,null,s,"_oldKeyGetter"),this._initIndexMap(n,o,l,"_newKeyGetter");for(var u=0;u<r.length;u++){var c=s[u],d=o[c],v=dataIndexMapValueLength(d);if(v>1){var g=d.shift();d.length===1&&(o[c]=d[0]),this._update&&this._update(g,u)}else v===1?(o[c]=null,this._update&&this._update(d,u)):this._remove&&this._remove(u)}this._performRestAdd(l,o)},a.prototype._executeMultiple=function(){var r=this._old,n=this._new,o={},s={},l=[],u=[];this._initIndexMap(r,o,l,"_oldKeyGetter"),this._initIndexMap(n,s,u,"_newKeyGetter");for(var c=0;c<l.length;c++){var d=l[c],v=o[d],g=s[d],y=dataIndexMapValueLength(v),_=dataIndexMapValueLength(g);if(y>1&&_===1)this._updateManyToOne&&this._updateManyToOne(g,v),s[d]=null;else if(y===1&&_>1)this._updateOneToMany&&this._updateOneToMany(g,v),s[d]=null;else if(y===1&&_===1)this._update&&this._update(g,v),s[d]=null;else if(y>1&&_>1)this._updateManyToMany&&this._updateManyToMany(g,v),s[d]=null;else if(y>1)for(var S=0;S<y;S++)this._remove&&this._remove(v[S]);else this._remove&&this._remove(v)}this._performRestAdd(u,s)},a.prototype._performRestAdd=function(r,n){for(var o=0;o<r.length;o++){var s=r[o],l=n[s],u=dataIndexMapValueLength(l);if(u>1)for(var c=0;c<u;c++)this._add&&this._add(l[c]);else u===1&&this._add&&this._add(l);n[s]=null}},a.prototype._initIndexMap=function(r,n,o,s){for(var l=this._diffModeMultiple,u=0;u<r.length;u++){var c="_ec_"+this[s](r[u],u);if(l||(o[u]=c),!!n){var d=n[c],v=dataIndexMapValueLength(d);v===0?(n[c]=u,l&&o.push(c)):v===1?n[c]=[d,u]:d.push(u)}}},a}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function a(r,n){this._encode=r,this._schema=n}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function summarizeDimensions(a,r){var n={},o=n.encode={},s=createHashMap(),l=[],u=[],c={};each$f(a.dimensions,function(_){var S=a.getDimensionInfo(_),x=S.coordDim;if(x){var T=S.coordDimIndex;getOrCreateEncodeArr(o,x)[T]=_,S.isExtraCoord||(s.set(x,1),mayLabelDimType(S.type)&&(l[0]=_),getOrCreateEncodeArr(c,x)[T]=a.getDimensionIndex(S.name)),S.defaultTooltip&&u.push(_)}VISUAL_DIMENSIONS.each(function(b,A){var w=getOrCreateEncodeArr(o,A),$=S.otherDims[A];$!=null&&$!==!1&&(w[$]=S.name)})});var d=[],v={};s.each(function(_,S){var x=o[S];v[S]=x[0],d=d.concat(x)}),n.dataDimsOnCoord=d,n.dataDimIndicesOnCoord=map$1(d,function(_){return a.getDimensionInfo(_).storeDimIndex}),n.encodeFirstDimNotExtra=v;var g=o.label;g&&g.length&&(l=g.slice());var y=o.tooltip;return y&&y.length?u=y.slice():u.length||(u=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=u,n.userOutput=new DimensionUserOuput(c,r),n}function getOrCreateEncodeArr(a,r){return a.hasOwnProperty(r)||(a[r]=[]),a[r]}function getDimensionTypeByAxis(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function mayLabelDimType(a){return!(a==="ordinal"||a==="time")}var SeriesDimensionDefine=function(){function a(r){this.otherDims={},r!=null&&extend(this,r)}return a}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function a(r){this.dimensions=r.dimensions,this._dimOmitted=r.dimensionOmitted,this.source=r.source,this._fullDimCount=r.fullDimensionCount,this._updateDimOmitted(r.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(r){this._dimOmitted=r,r&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},a.prototype.getSourceDimensionIndex=function(r){return retrieve2(this._dimNameMap.get(r),-1)},a.prototype.getSourceDimension=function(r){var n=this.source.dimensionsDefine;if(n)return n[r]},a.prototype.makeStoreSchema=function(){for(var r=this._fullDimCount,n=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(r),s="",l=[],u=0,c=0;u<r;u++){var d=void 0,v=void 0,g=void 0,y=this.dimensions[c];if(y&&y.storeDimIndex===u)d=n?y.name:null,v=y.type,g=y.ordinalMeta,c++;else{var _=this.getSourceDimension(u);_&&(d=n?_.name:null,v=_.type)}l.push({property:d,type:v,ordinalMeta:g}),n&&d!=null&&(!y||!y.isCalculationCoord)&&(s+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),s+="$",s+=dimTypeShort[v]||"f",g&&(s+=g.uid),s+="$"}var S=this.source,x=[S.seriesLayoutBy,S.startIndex,s].join("$$");return{dimensions:l,hash:x}},a.prototype.makeOutputDimensionNames=function(){for(var r=[],n=0,o=0;n<this._fullDimCount;n++){var s=void 0,l=this.dimensions[o];if(l&&l.storeDimIndex===n)l.isCalculationCoord||(s=l.name),o++;else{var u=this.getSourceDimension(n);u&&(s=u.name)}r.push(s)}return r},a.prototype.appendCalculationDimension=function(r){this.dimensions.push(r),r.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function isSeriesDataSchema(a){return a instanceof SeriesDataSchema}function createDimNameMap(a){for(var r=createHashMap(),n=0;n<(a||[]).length;n++){var o=a[n],s=isObject$5(o)?o.name:o;s!=null&&r.get(s)==null&&r.set(s,n)}return r}function ensureSourceDimNameMap(a){var r=inner$h(a);return r.dimNameMap||(r.dimNameMap=createDimNameMap(a.dimensionsDefine))}function shouldOmitUnusedDimensions(a){return a>30}var isObject$3=isObject$5,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function a(r,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,s=!1;isSeriesDataSchema(r)?(o=r.dimensions,this._dimOmitted=r.isDimensionOmitted(),this._schema=r):(s=!0,o=r),o=o||["x","y"];for(var l={},u=[],c={},d=!1,v={},g=0;g<o.length;g++){var y=o[g],_=isString(y)?new SeriesDimensionDefine$1({name:y}):y instanceof SeriesDimensionDefine$1?y:new SeriesDimensionDefine$1(y),S=_.name;_.type=_.type||"float",_.coordDim||(_.coordDim=S,_.coordDimIndex=0);var x=_.otherDims=_.otherDims||{};u.push(S),l[S]=_,v[S]!=null&&(d=!0),_.createInvertedIndices&&(c[S]=[]),x.itemName===0&&(this._nameDimIdx=g),x.itemId===0&&(this._idDimIdx=g),s&&(_.storeDimIndex=g)}if(this.dimensions=u,this._dimInfos=l,this._initGetDimensionInfo(d),this.hostModel=n,this._invertedIndicesMap=c,this._dimOmitted){var T=this._dimIdxToName=createHashMap();each$f(u,function(b){T.set(l[b].storeDimIndex,b)})}}return a.prototype.getDimension=function(r){var n=this._recognizeDimIndex(r);if(n==null)return r;if(n=r,!this._dimOmitted)return this.dimensions[n];var o=this._dimIdxToName.get(n);if(o!=null)return o;var s=this._schema.getSourceDimension(n);if(s)return s.name},a.prototype.getDimensionIndex=function(r){var n=this._recognizeDimIndex(r);if(n!=null)return n;if(r==null)return-1;var o=this._getDimInfo(r);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(r):-1},a.prototype._recognizeDimIndex=function(r){if(isNumber(r)||r!=null&&!isNaN(r)&&!this._getDimInfo(r)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(r)<0))return+r},a.prototype._getStoreDimIndex=function(r){var n=this.getDimensionIndex(r);return n},a.prototype.getDimensionInfo=function(r){return this._getDimInfo(this.getDimension(r))},a.prototype._initGetDimensionInfo=function(r){var n=this._dimInfos;this._getDimInfo=r?function(o){return n.hasOwnProperty(o)?n[o]:void 0}:function(o){return n[o]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(r,n){var o=this._dimSummary;if(n==null)return o.encodeFirstDimNotExtra[r];var s=o.encode[r];return s?s[n]:null},a.prototype.mapDimensionsAll=function(r){var n=this._dimSummary,o=n.encode[r];return(o||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(r,n,o){var s=this,l;if(r instanceof DataStore&&(l=r),!l){var u=this.dimensions,c=isSourceInstance(r)||isArrayLike(r)?new DefaultDataProvider(r,u.length):r;l=new DataStore;var d=map(u,function(v){return{type:s._dimInfos[v].type,property:v}});l.initData(c,d,o)}this._store=l,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,l.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(r){var n=this._store.appendData(r);this._doInit(n[0],n[1])},a.prototype.appendValues=function(r,n){var o=this._store.appendValues(r,n.length),s=o.start,l=o.end,u=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var c=s;c<l;c++){var d=c-s;this._nameList[c]=n[d],u&&makeIdFromName(this,c)}},a.prototype._updateOrdinalMeta=function(){for(var r=this._store,n=this.dimensions,o=0;o<n.length;o++){var s=this._dimInfos[n[o]];s.ordinalMeta&&r.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var r=this._store.getProvider();return this._idDimIdx==null&&r.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!r.fillStorage},a.prototype._doInit=function(r,n){if(!(r>=n)){var o=this._store,s=o.getProvider();this._updateOrdinalMeta();var l=this._nameList,u=this._idList,c=s.getSource().sourceFormat,d=c===SOURCE_FORMAT_ORIGINAL;if(d&&!s.pure)for(var v=[],g=r;g<n;g++){var y=s.getItem(g,v);if(!this.hasItemOption&&isDataItemOption(y)&&(this.hasItemOption=!0),y){var _=y.name;l[g]==null&&_!=null&&(l[g]=convertOptionIdName(_,null));var S=y.id;u[g]==null&&S!=null&&(u[g]=convertOptionIdName(S,null))}}if(this._shouldMakeIdFromName())for(var g=r;g<n;g++)makeIdFromName(this,g);prepareInvertedIndex(this)}},a.prototype.getApproximateExtent=function(r){return this._approximateExtent[r]||this._store.getDataExtent(this._getStoreDimIndex(r))},a.prototype.setApproximateExtent=function(r,n){n=this.getDimension(n),this._approximateExtent[n]=r.slice()},a.prototype.getCalculationInfo=function(r){return this._calculationInfo[r]},a.prototype.setCalculationInfo=function(r,n){isObject$3(r)?extend(this._calculationInfo,r):this._calculationInfo[r]=n},a.prototype.getName=function(r){var n=this.getRawIndex(r),o=this._nameList[n];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,n)),o==null&&(o=""),o},a.prototype._getCategory=function(r,n){var o=this._store.get(r,n),s=this._store.getOrdinalMeta(r);return s?s.categories[o]:o},a.prototype.getId=function(r){return getId(this,this.getRawIndex(r))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(r,n){var o=this._store,s=this._dimInfos[r];if(s)return o.get(s.storeDimIndex,n)},a.prototype.getByRawIndex=function(r,n){var o=this._store,s=this._dimInfos[r];if(s)return o.getByRawIndex(s.storeDimIndex,n)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(r){return this._store.getDataExtent(this._getStoreDimIndex(r))},a.prototype.getSum=function(r){return this._store.getSum(this._getStoreDimIndex(r))},a.prototype.getMedian=function(r){return this._store.getMedian(this._getStoreDimIndex(r))},a.prototype.getValues=function(r,n){var o=this,s=this._store;return isArray$1(r)?s.getValues(map(r,function(l){return o._getStoreDimIndex(l)}),n):s.getValues(r)},a.prototype.hasValue=function(r){for(var n=this._dimSummary.dataDimIndicesOnCoord,o=0,s=n.length;o<s;o++)if(isNaN(this._store.get(n[o],r)))return!1;return!0},a.prototype.indexOfName=function(r){for(var n=0,o=this._store.count();n<o;n++)if(this.getName(n)===r)return n;return-1},a.prototype.getRawIndex=function(r){return this._store.getRawIndex(r)},a.prototype.indexOfRawIndex=function(r){return this._store.indexOfRawIndex(r)},a.prototype.rawIndexOf=function(r,n){var o=r&&this._invertedIndicesMap[r],s=o[n];return s==null||isNaN(s)?INDEX_NOT_FOUND:s},a.prototype.indicesOfNearest=function(r,n,o){return this._store.indicesOfNearest(this._getStoreDimIndex(r),n,o)},a.prototype.each=function(r,n,o){isFunction(r)&&(o=n,n=r,r=[]);var s=o||this,l=map(normalizeDimensions(r),this._getStoreDimIndex,this);this._store.each(l,s?bind$1(n,s):n)},a.prototype.filterSelf=function(r,n,o){isFunction(r)&&(o=n,n=r,r=[]);var s=o||this,l=map(normalizeDimensions(r),this._getStoreDimIndex,this);return this._store=this._store.filter(l,s?bind$1(n,s):n),this},a.prototype.selectRange=function(r){var n=this,o={},s=keys(r);return each$f(s,function(l){var u=n._getStoreDimIndex(l);o[u]=r[l]}),this._store=this._store.selectRange(o),this},a.prototype.mapArray=function(r,n,o){isFunction(r)&&(o=n,n=r,r=[]),o=o||this;var s=[];return this.each(r,function(){s.push(n&&n.apply(this,arguments))},o),s},a.prototype.map=function(r,n,o,s){var l=o||s||this,u=map(normalizeDimensions(r),this._getStoreDimIndex,this),c=cloneListForMapAndSample(this);return c._store=this._store.map(u,l?bind$1(n,l):n),c},a.prototype.modify=function(r,n,o,s){var l=o||s||this,u=map(normalizeDimensions(r),this._getStoreDimIndex,this);this._store.modify(u,l?bind$1(n,l):n)},a.prototype.downSample=function(r,n,o,s){var l=cloneListForMapAndSample(this);return l._store=this._store.downSample(this._getStoreDimIndex(r),n,o,s),l},a.prototype.lttbDownSample=function(r,n){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(r),n),o},a.prototype.getRawDataItem=function(r){return this._store.getRawDataItem(r)},a.prototype.getItemModel=function(r){var n=this.hostModel,o=this.getRawDataItem(r);return new Model$1(o,n,n&&n.ecModel)},a.prototype.diff=function(r){var n=this;return new DataDiffer$1(r?r.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(r,o)},function(o){return getId(n,o)})},a.prototype.getVisual=function(r){var n=this._visual;return n&&n[r]},a.prototype.setVisual=function(r,n){this._visual=this._visual||{},isObject$3(r)?extend(this._visual,r):this._visual[r]=n},a.prototype.getItemVisual=function(r,n){var o=this._itemVisuals[r],s=o&&o[n];return s==null?this.getVisual(n):s},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(r,n){var o=this._itemVisuals,s=o[r];s||(s=o[r]={});var l=s[n];return l==null&&(l=this.getVisual(n),isArray$1(l)?l=l.slice():isObject$3(l)&&(l=extend({},l)),s[n]=l),l},a.prototype.setItemVisual=function(r,n,o){var s=this._itemVisuals[r]||{};this._itemVisuals[r]=s,isObject$3(n)?extend(s,n):s[n]=o},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(r,n){isObject$3(r)?extend(this._layout,r):this._layout[r]=n},a.prototype.getLayout=function(r){return this._layout[r]},a.prototype.getItemLayout=function(r){return this._itemLayouts[r]},a.prototype.setItemLayout=function(r,n,o){this._itemLayouts[r]=o?extend(this._itemLayouts[r]||{},n):n},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(r,n){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,r,n),this._graphicEls[r]=n},a.prototype.getItemGraphicEl=function(r){return this._graphicEls[r]},a.prototype.eachItemGraphicEl=function(r,n){each$f(this._graphicEls,function(o,s){o&&r&&r.call(n,o,s)})},a.prototype.cloneShallow=function(r){return r||(r=new a(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(r,this),r._store=this._store,r},a.prototype.wrapMethod=function(r,n){var o=this[r];!isFunction(o)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(r),this[r]=function(){var s=o.apply(this,arguments);return n.apply(this,[s].concat(slice(arguments)))})},a.internalField=function(){prepareInvertedIndex=function(r){var n=r._invertedIndicesMap;each$f(n,function(o,s){var l=r._dimInfos[s],u=l.ordinalMeta,c=r._store;if(u){o=n[s]=new CtorInt32Array(u.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<c.count();d++)o[c.get(l.storeDimIndex,d)]=d}})},getIdNameFromStore=function(r,n,o){return convertOptionIdName(r._getCategory(n,o),null)},getId=function(r,n){var o=r._idList[n];return o==null&&r._idDimIdx!=null&&(o=getIdNameFromStore(r,r._idDimIdx,n)),o==null&&(o=ID_PREFIX+n),o},normalizeDimensions=function(r){return isArray$1(r)||(r=r!=null?[r]:[]),r},cloneListForMapAndSample=function(r){var n=new a(r._schema?r._schema:map(r.dimensions,r._getDimInfo,r),r.hostModel);return transferProperties(n,r),n},transferProperties=function(r,n){each$f(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(o){n.hasOwnProperty(o)&&(r[o]=n[o])}),r.__wrappedMethods=n.__wrappedMethods,each$f(CLONE_PROPERTIES,function(o){r[o]=clone$4(n[o])}),r._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(r,n){var o=r._nameList,s=r._idList,l=r._nameDimIdx,u=r._idDimIdx,c=o[n],d=s[n];if(c==null&&l!=null&&(o[n]=c=getIdNameFromStore(r,l,n)),d==null&&u!=null&&(s[n]=d=getIdNameFromStore(r,u,n)),d==null&&c!=null){var v=r._nameRepeatCount,g=v[c]=(v[c]||0)+1;d=c,g>1&&(d+="__ec__"+g),s[n]=d}}}(),a}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(a,r){isSourceInstance(a)||(a=createSourceFromSeriesDataOption(a)),r=r||{};var n=r.coordDimensions||[],o=r.dimensionsDefine||a.dimensionsDefine||[],s=createHashMap(),l=[],u=getDimCount(a,n,o,r.dimensionsCount),c=r.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(u),d=o===a.dimensionsDefine,v=d?ensureSourceDimNameMap(a):createDimNameMap(o),g=r.encodeDefine;!g&&r.encodeDefaulter&&(g=r.encodeDefaulter(a,u));for(var y=createHashMap(g),_=new CtorInt32Array$1(u),S=0;S<_.length;S++)_[S]=-1;function x(I){var R=_[I];if(R<0){var L=o[I],O=isObject$5(L)?L:{name:L},N=new SeriesDimensionDefine$1,F=O.name;F!=null&&v.get(F)!=null&&(N.name=N.displayName=F),O.type!=null&&(N.type=O.type),O.displayName!=null&&(N.displayName=O.displayName);var B=l.length;return _[I]=B,N.storeDimIndex=I,l.push(N),N}return l[R]}if(!c)for(var S=0;S<u;S++)x(S);y.each(function(I,R){var L=normalizeToArray(I).slice();if(L.length===1&&!isString(L[0])&&L[0]<0){y.set(R,!1);return}var O=y.set(R,[]);each$f(L,function(N,F){var B=isString(N)?v.get(N):N;B!=null&&B<u&&(O[F]=B,b(x(B),R,F))})});var T=0;each$f(n,function(I){var R,L,O,N;if(isString(I))R=I,N={};else{N=I,R=N.name;var F=N.ordinalMeta;N.ordinalMeta=null,N=extend({},N),N.ordinalMeta=F,L=N.dimsDef,O=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var B=y.get(R);if(B!==!1){if(B=normalizeToArray(B),!B.length)for(var z=0;z<(L&&L.length||1);z++){for(;T<u&&x(T).coordDim!=null;)T++;T<u&&B.push(T++)}each$f(B,function(U,H){var Y=x(U);if(d&&N.type!=null&&(Y.type=N.type),b(defaults(Y,N),R,H),Y.name==null&&L){var X=L[H];!isObject$5(X)&&(X={name:X}),Y.name=Y.displayName=X.name,Y.defaultTooltip=X.defaultTooltip}O&&defaults(Y.otherDims,O)})}});function b(I,R,L){VISUAL_DIMENSIONS.get(R)!=null?I.otherDims[R]=L:(I.coordDim=R,I.coordDimIndex=L,s.set(R,!0))}var A=r.generateCoord,w=r.generateCoordCount,$=w!=null;w=A?w||1:0;var C=A||"value";function P(I){I.name==null&&(I.name=I.coordDim)}if(c)each$f(l,function(I){P(I)}),l.sort(function(I,R){return I.storeDimIndex-R.storeDimIndex});else for(var M=0;M<u;M++){var E=x(M),D=E.coordDim;D==null&&(E.coordDim=genCoordDimName(C,s,$),E.coordDimIndex=0,(!A||w<=0)&&(E.isExtraCoord=!0),w--),P(E),E.type==null&&(guessOrdinal(a,M)===BE_ORDINAL.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return removeDuplication(l),new SeriesDataSchema({source:a,dimensions:l,fullDimensionCount:u,dimensionOmitted:c})}function removeDuplication(a){for(var r=createHashMap(),n=0;n<a.length;n++){var o=a[n],s=o.name,l=r.get(s)||0;l>0&&(o.name=s+(l-1)),l++,r.set(s,l)}}function getDimCount(a,r,n,o){var s=Math.max(a.dimensionsDetectedCount||1,r.length,n.length,o||0);return each$f(r,function(l){var u;isObject$5(l)&&(u=l.dimsDef)&&(s=Math.max(s,u.length))}),s}function genCoordDimName(a,r,n){var o=r.data;if(n||o.hasOwnProperty(a)){for(var s=0;o.hasOwnProperty(a+s);)s++;a+=s}return r.set(a,!0),a}var CoordSysInfo=function(){function a(r){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=r}return a}();function getCoordSysInfoBySeries(a){var r=a.get("coordinateSystem"),n=new CoordSysInfo(r),o=fetchers[r];if(o)return o(a,n,n.axisMap,n.categoryAxisMap),n}var fetchers={cartesian2d:function(a,r,n,o){var s=a.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],l=a.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];r.coordSysDims=["x","y"],n.set("x",s),n.set("y",l),isCategory(s)&&(o.set("x",s),r.firstCategoryDimIndex=0),isCategory(l)&&(o.set("y",l),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=1))},singleAxis:function(a,r,n,o){var s=a.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];r.coordSysDims=["single"],n.set("single",s),isCategory(s)&&(o.set("single",s),r.firstCategoryDimIndex=0)},polar:function(a,r,n,o){var s=a.getReferringComponents("polar",SINGLE_REFERRING).models[0],l=s.findAxisModel("radiusAxis"),u=s.findAxisModel("angleAxis");r.coordSysDims=["radius","angle"],n.set("radius",l),n.set("angle",u),isCategory(l)&&(o.set("radius",l),r.firstCategoryDimIndex=0),isCategory(u)&&(o.set("angle",u),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=1))},geo:function(a,r,n,o){r.coordSysDims=["lng","lat"]},parallel:function(a,r,n,o){var s=a.ecModel,l=s.getComponent("parallel",a.get("parallelIndex")),u=r.coordSysDims=l.dimensions.slice();each$f(l.parallelAxisIndex,function(c,d){var v=s.getComponent("parallelAxis",c),g=u[d];n.set(g,v),isCategory(v)&&(o.set(g,v),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=d))})}};function isCategory(a){return a.get("type")==="category"}function enableDataStack(a,r,n){n=n||{};var o=n.byIndex,s=n.stackedCoordDimension,l,u,c;isLegacyDimensionsInput(r)?l=r:(u=r.schema,l=u.dimensions,c=r.store);var d=!!(a&&a.get("stack")),v,g,y,_;if(each$f(l,function(w,$){isString(w)&&(l[$]=w={name:w}),d&&!w.isExtraCoord&&(!o&&!v&&w.ordinalMeta&&(v=w),!g&&w.type!=="ordinal"&&w.type!=="time"&&(!s||s===w.coordDim)&&(g=w))}),g&&!o&&!v&&(o=!0),g){y="__\0ecstackresult_"+a.id,_="__\0ecstackedover_"+a.id,v&&(v.createInvertedIndices=!0);var S=g.coordDim,x=g.type,T=0;each$f(l,function(w){w.coordDim===S&&T++});var b={name:y,coordDim:S,coordDimIndex:T,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length},A={name:_,coordDim:_,coordDimIndex:T+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length+1};u?(c&&(b.storeDimIndex=c.ensureCalculationDimension(_,x),A.storeDimIndex=c.ensureCalculationDimension(y,x)),u.appendCalculationDimension(b),u.appendCalculationDimension(A)):(l.push(b),l.push(A))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:o,stackedOverDimension:_,stackResultDimension:y}}function isLegacyDimensionsInput(a){return!isSeriesDataSchema(a.schema)}function isDimensionStacked(a,r){return!!r&&r===a.getCalculationInfo("stackedDimension")}function getStackedDimension(a,r){return isDimensionStacked(a,r)?a.getCalculationInfo("stackResultDimension"):r}function getCoordSysDimDefs(a,r){var n=a.get("coordinateSystem"),o=CoordinateSystem.get(n),s;return r&&r.coordSysDims&&(s=map$1(r.coordSysDims,function(l){var u={name:l},c=r.axisMap.get(l);if(c){var d=c.get("type");u.type=getDimensionTypeByAxis(d)}return u})),s||(s=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s}function injectOrdinalMeta(a,r,n){var o,s;return n&&each$f(a,function(l,u){var c=l.coordDim,d=n.categoryAxisMap.get(c);d&&(o==null&&(o=u),l.ordinalMeta=d.getOrdinalMeta(),r&&(l.createInvertedIndices=!0)),l.otherDims.itemName!=null&&(s=!0)}),!s&&o!=null&&(a[o].otherDims.itemName=0),o}function createSeriesData(a,r,n){n=n||{};var o=r.getSourceManager(),s,l=!1;a?(l=!0,s=createSourceFromSeriesDataOption(a)):(s=o.getSource(),l=s.sourceFormat===SOURCE_FORMAT_ORIGINAL);var u=getCoordSysInfoBySeries(r),c=getCoordSysDimDefs(r,u),d=n.useEncodeDefaulter,v=isFunction(d)?d:d?curry$1(makeSeriesEncodeForAxisCoordSys,c,r):null,g={coordDimensions:c,generateCoord:n.generateCoord,encodeDefine:r.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!l},y=prepareSeriesDataSchema(s,g),_=injectOrdinalMeta(y.dimensions,n.createInvertedIndices,u),S=l?null:o.getSharedDataStore(y),x=enableDataStack(r,{schema:y,store:S}),T=new SeriesData$1(y,r);T.setCalculationInfo(x);var b=_!=null&&isNeedCompleteOrdinalData(s)?function(A,w,$,C){return C===_?$:this.defaultDimValueGetter(A,w,$,C)}:null;return T.hasItemOption=!1,T.initData(l?s:S,null,b),T}function isNeedCompleteOrdinalData(a){if(a.sourceFormat===SOURCE_FORMAT_ORIGINAL){var r=firstDataNotNull(a.data||[]);return!isArray$1(getDataItemValue(r))}}function firstDataNotNull(a){for(var r=0;r<a.length&&a[r]==null;)r++;return a[r]}var Scale=function(){function a(r){this._setting=r||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(r){return this._setting[r]},a.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])},a.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(r,n){var o=this._extent;isNaN(r)||(o[0]=r),isNaN(n)||(o[1]=n)},a.prototype.isInExtentRange=function(r){return this._extent[0]<=r&&this._extent[1]>=r},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(r){this._isBlank=r},a}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function a(r){this.categories=r.categories||[],this._needCollect=r.needCollect,this._deduplication=r.deduplication,this.uid=++uidBase}return a.createByAxisModel=function(r){var n=r.option,o=n.data,s=o&&map$1(o,getName);return new a({categories:s,needCollect:!s,deduplication:n.dedplication!==!1})},a.prototype.getOrdinal=function(r){return this._getOrCreateMap().get(r)},a.prototype.parseAndCollect=function(r){var n,o=this._needCollect;if(!isString(r)&&!o)return r;if(o&&!this._deduplication)return n=this.categories.length,this.categories[n]=r,n;var s=this._getOrCreateMap();return n=s.get(r),n==null&&(o?(n=this.categories.length,this.categories[n]=r,s.set(r,n)):n=NaN),n},a.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},a}();function getName(a){return isObject$5(a)&&a.value!=null?a.value:a+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(a){return a.type==="interval"||a.type==="log"}function intervalScaleNiceTicks(a,r,n,o){var s={},l=a[1]-a[0],u=s.interval=nice(l/r,!0);n!=null&&u<n&&(u=s.interval=n),o!=null&&u>o&&(u=s.interval=o);var c=s.intervalPrecision=getIntervalPrecision(u),d=s.niceTickExtent=[round$3(Math.ceil(a[0]/u)*u,c),round$3(Math.floor(a[1]/u)*u,c)];return fixExtent(d,a),s}function increaseInterval(a){var r=Math.pow(10,quantityExponent(a)),n=a/r;return n?n===2?n=3:n===3?n=5:n*=2:n=1,round$3(n*r)}function getIntervalPrecision(a){return getPrecision(a)+2}function clamp(a,r,n){a[r]=Math.max(Math.min(a[r],n[1]),n[0])}function fixExtent(a,r){!isFinite(a[0])&&(a[0]=r[0]),!isFinite(a[1])&&(a[1]=r[1]),clamp(a,0,r),clamp(a,1,r),a[0]>a[1]&&(a[0]=a[1])}function contain$1(a,r){return a>=r[0]&&a<=r[1]}function normalize$2(a,r){return r[1]===r[0]?.5:(a-r[0])/(r[1]-r[0])}function scale(a,r){return a*(r[1]-r[0])+r[0]}var OrdinalScale=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;o.type="ordinal";var s=o.getSetting("ordinalMeta");return s||(s=new OrdinalMeta$1({})),isArray$1(s)&&(s=new OrdinalMeta$1({categories:map$1(s,function(l){return isObject$5(l)?l.value:l})})),o._ordinalMeta=s,o._extent=o.getSetting("extent")||[0,s.categories.length-1],o}return r.prototype.parse=function(n){return n==null?NaN:isString(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},r.prototype.contain=function(n){return n=this.parse(n),contain$1(n,this._extent)&&this._ordinalMeta.categories[n]!=null},r.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),normalize$2(n,this._extent)},r.prototype.scale=function(n){return n=Math.round(scale(n,this._extent)),this.getRawOrdinalNumber(n)},r.prototype.getTicks=function(){for(var n=[],o=this._extent,s=o[0];s<=o[1];)n.push({value:s}),s++;return n},r.prototype.getMinorTicks=function(n){},r.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=n.ordinalNumbers,s=this._ordinalNumbersByTick=[],l=this._ticksByOrdinalNumber=[],u=0,c=this._ordinalMeta.categories.length,d=Math.min(c,o.length);u<d;++u){var v=o[u];s[u]=v,l[v]=u}for(var g=0;u<c;++u){for(;l[g]!=null;)g++;s.push(g),l[g]=u}},r.prototype._getTickNumber=function(n){var o=this._ticksByOrdinalNumber;return o&&n>=0&&n<o.length?o[n]:n},r.prototype.getRawOrdinalNumber=function(n){var o=this._ordinalNumbersByTick;return o&&n>=0&&n<o.length?o[n]:n},r.prototype.getLabel=function(n){if(!this.isBlank()){var o=this.getRawOrdinalNumber(n.value),s=this._ordinalMeta.categories[o];return s==null?"":s+""}},r.prototype.count=function(){return this._extent[1]-this._extent[0]+1},r.prototype.unionExtentFromData=function(n,o){this.unionExtent(n.getApproximateExtent(o))},r.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r.prototype.calcNiceTicks=function(){},r.prototype.calcNiceExtent=function(){},r.type="ordinal",r}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return r.prototype.parse=function(n){return n},r.prototype.contain=function(n){return contain$1(n,this._extent)},r.prototype.normalize=function(n){return normalize$2(n,this._extent)},r.prototype.scale=function(n){return scale(n,this._extent)},r.prototype.setExtent=function(n,o){var s=this._extent;isNaN(n)||(s[0]=parseFloat(n)),isNaN(o)||(s[1]=parseFloat(o))},r.prototype.unionExtent=function(n){var o=this._extent;n[0]<o[0]&&(o[0]=n[0]),n[1]>o[1]&&(o[1]=n[1]),this.setExtent(o[0],o[1])},r.prototype.getInterval=function(){return this._interval},r.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(n)},r.prototype.getTicks=function(n){var o=this._interval,s=this._extent,l=this._niceExtent,u=this._intervalPrecision,c=[];if(!o)return c;var d=1e4;s[0]<l[0]&&(n?c.push({value:roundNumber(l[0]-o,u)}):c.push({value:s[0]}));for(var v=l[0];v<=l[1]&&(c.push({value:v}),v=roundNumber(v+o,u),v!==c[c.length-1].value);)if(c.length>d)return[];var g=c.length?c[c.length-1].value:l[1];return s[1]>g&&(n?c.push({value:roundNumber(g+o,u)}):c.push({value:s[1]})),c},r.prototype.getMinorTicks=function(n){for(var o=this.getTicks(!0),s=[],l=this.getExtent(),u=1;u<o.length;u++){for(var c=o[u],d=o[u-1],v=0,g=[],y=c.value-d.value,_=y/n;v<n-1;){var S=roundNumber(d.value+(v+1)*_);S>l[0]&&S<l[1]&&g.push(S),v++}s.push(g)}return s},r.prototype.getLabel=function(n,o){if(n==null)return"";var s=o&&o.precision;s==null?s=getPrecision(n.value)||0:s==="auto"&&(s=this._intervalPrecision);var l=roundNumber(n.value,s,!0);return addCommas(l)},r.prototype.calcNiceTicks=function(n,o,s){n=n||5;var l=this._extent,u=l[1]-l[0];if(!!isFinite(u)){u<0&&(u=-u,l.reverse());var c=intervalScaleNiceTicks(l,n,o,s);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},r.prototype.calcNiceExtent=function(n){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var s=Math.abs(o[0]);n.fixMax||(o[1]+=s/2),o[0]-=s/2}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var u=this._interval;n.fixMin||(o[0]=roundNumber(Math.floor(o[0]/u)*u)),n.fixMax||(o[1]=roundNumber(Math.ceil(o[1]/u)*u))},r.prototype.setNiceExtent=function(n,o){this._niceExtent=[n,o]},r.type="interval",r}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(a){return isArray$1(a)?supportFloat32Array?new Float32Array(a):a:new Float32ArrayCtor(a)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(a){return a.get("stack")||STACK_PREFIX+a.seriesIndex}function getAxisKey$1(a){return a.dim+a.index}function getLayoutOnAxis(a){var r=[],n=a.axis,o="axis0";if(n.type==="category"){for(var s=n.getBandWidth(),l=0;l<a.count;l++)r.push(defaults({bandWidth:s,axisKey:o,stackId:STACK_PREFIX+l},a));for(var u=doCalBarWidthAndOffset(r),c=[],l=0;l<a.count;l++){var d=u[o][STACK_PREFIX+l];d.offsetCenter=d.offset+d.width/2,c.push(d)}return c}}function prepareLayoutBarSeries(a,r){var n=[];return r.eachSeriesByType(a,function(o){isOnCartesian(o)&&n.push(o)}),n}function getValueAxesMinGaps(a){var r={};each$f(a,function(d){var v=d.coordinateSystem,g=v.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=d.getData(),_=g.dim+"_"+g.index,S=y.getDimensionIndex(y.mapDimension(g.dim)),x=y.getStore(),T=0,b=x.count();T<b;++T){var A=x.get(S,T);r[_]?r[_].push(A):r[_]=[A]}});var n={};for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];if(s){s.sort(function(d,v){return d-v});for(var l=null,u=1;u<s.length;++u){var c=s[u]-s[u-1];c>0&&(l=l===null?c:Math.min(l,c))}n[o]=l}}return n}function makeColumnLayout(a){var r=getValueAxesMinGaps(a),n=[];return each$f(a,function(o){var s=o.coordinateSystem,l=s.getBaseAxis(),u=l.getExtent(),c;if(l.type==="category")c=l.getBandWidth();else if(l.type==="value"||l.type==="time"){var d=l.dim+"_"+l.index,v=r[d],g=Math.abs(u[1]-u[0]),y=l.scale.getExtent(),_=Math.abs(y[1]-y[0]);c=v?g/_*v:g}else{var S=o.getData();c=Math.abs(u[1]-u[0])/S.count()}var x=parsePercent(o.get("barWidth"),c),T=parsePercent(o.get("barMaxWidth"),c),b=parsePercent(o.get("barMinWidth")||(isInLargeMode(o)?.5:1),c),A=o.get("barGap"),w=o.get("barCategoryGap");n.push({bandWidth:c,barWidth:x,barMaxWidth:T,barMinWidth:b,barGap:A,barCategoryGap:w,axisKey:getAxisKey$1(l),stackId:getSeriesStackId$1(o)})}),doCalBarWidthAndOffset(n)}function doCalBarWidthAndOffset(a){var r={};each$f(a,function(o,s){var l=o.axisKey,u=o.bandWidth,c=r[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=c.stacks;r[l]=c;var v=o.stackId;d[v]||c.autoWidthCount++,d[v]=d[v]||{width:0,maxWidth:0};var g=o.barWidth;g&&!d[v].width&&(d[v].width=g,g=Math.min(c.remainedWidth,g),c.remainedWidth-=g);var y=o.barMaxWidth;y&&(d[v].maxWidth=y);var _=o.barMinWidth;_&&(d[v].minWidth=_);var S=o.barGap;S!=null&&(c.gap=S);var x=o.barCategoryGap;x!=null&&(c.categoryGap=x)});var n={};return each$f(r,function(o,s){n[s]={};var l=o.stacks,u=o.bandWidth,c=o.categoryGap;if(c==null){var d=keys(l).length;c=Math.max(35-d*4,15)+"%"}var v=parsePercent(c,u),g=parsePercent(o.gap,1),y=o.remainedWidth,_=o.autoWidthCount,S=(y-v)/(_+(_-1)*g);S=Math.max(S,0),each$f(l,function(A){var w=A.maxWidth,$=A.minWidth;if(A.width){var C=A.width;w&&(C=Math.min(C,w)),$&&(C=Math.max(C,$)),A.width=C,y-=C+g*C,_--}else{var C=S;w&&w<C&&(C=Math.min(w,y)),$&&$>C&&(C=$),C!==S&&(A.width=C,y-=C+g*C,_--)}}),S=(y-v)/(_+(_-1)*g),S=Math.max(S,0);var x=0,T;each$f(l,function(A,w){A.width||(A.width=S),T=A,x+=A.width*(1+g)}),T&&(x-=T.width*g);var b=-x/2;each$f(l,function(A,w){n[s][w]=n[s][w]||{bandWidth:u,offset:b,width:A.width},b+=A.width*(1+g)})}),n}function retrieveColumnLayout(a,r,n){if(a&&r){var o=a[getAxisKey$1(r)];return o!=null&&n!=null?o[getSeriesStackId$1(n)]:o}}function layout$3(a,r){var n=prepareLayoutBarSeries(a,r),o=makeColumnLayout(n);each$f(n,function(s){var l=s.getData(),u=s.coordinateSystem,c=u.getBaseAxis(),d=getSeriesStackId$1(s),v=o[getAxisKey$1(c)][d],g=v.offset,y=v.width;l.setLayout({bandWidth:v.bandWidth,offset:g,size:y})})}function createProgressiveLayout(a){return{seriesType:a,plan:createRenderPlanner(),reset:function(r){if(!!isOnCartesian(r)){var n=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=o.getOtherAxis(s),u=n.getDimensionIndex(n.mapDimension(l.dim)),c=n.getDimensionIndex(n.mapDimension(s.dim)),d=r.get("showBackground",!0),v=n.mapDimension(l.dim),g=n.getCalculationInfo("stackResultDimension"),y=isDimensionStacked(n,v)&&!!n.getCalculationInfo("stackedOnSeries"),_=l.isHorizontal(),S=getValueAxisStart(s,l),x=isInLargeMode(r),T=r.get("barMinHeight")||0,b=g&&n.getDimensionIndex(g),A=n.getLayout("size"),w=n.getLayout("offset");return{progress:function($,C){for(var P=$.count,M=x&&createFloat32Array(P*3),E=x&&d&&createFloat32Array(P*3),D=x&&createFloat32Array(P),I=o.master.getRect(),R=_?I.width:I.height,L,O=C.getStore(),N=0;(L=$.next())!=null;){var F=O.get(y?b:u,L),B=O.get(c,L),z=S,U=void 0;y&&(U=+F-O.get(u,L));var H=void 0,Y=void 0,X=void 0,te=void 0;if(_){var oe=o.dataToPoint([F,B]);if(y){var ce=o.dataToPoint([U,B]);z=ce[0]}H=z,Y=oe[1]+w,X=oe[0]-z,te=A,Math.abs(X)<T&&(X=(X<0?-1:1)*T)}else{var oe=o.dataToPoint([B,F]);if(y){var ce=o.dataToPoint([B,U]);z=ce[1]}H=oe[0]+w,Y=z,X=A,te=oe[1]-z,Math.abs(te)<T&&(te=(te<=0?-1:1)*T)}x?(M[N]=H,M[N+1]=Y,M[N+2]=_?X:te,E&&(E[N]=_?I.x:H,E[N+1]=_?Y:I.y,E[N+2]=R),D[L]=L):C.setItemLayout(L,{x:H,y:Y,width:X,height:te}),N+=3}x&&C.setLayout({largePoints:M,largeDataIndices:D,largeBackgroundPoints:E,valueAxisHorizontal:_})}}}}}}function isOnCartesian(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function isInLargeMode(a){return a.pipelineContext&&a.pipelineContext.large}function getValueAxisStart(a,r){return r.toGlobalCoord(r.dataToCoord(r.type==="log"?1:0))}var bisect=function(a,r,n,o){for(;n<o;){var s=n+o>>>1;a[s][1]<r?n=s+1:o=s}return n},TimeScale=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="time",o}return r.prototype.getLabel=function(n){var o=this.getSetting("useUTC");return format(n.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,o,this.getSetting("locale"))},r.prototype.getFormattedLabel=function(n,o,s){var l=this.getSetting("useUTC"),u=this.getSetting("locale");return leveledFormat(n,o,s,u,l)},r.prototype.getTicks=function(){var n=this._interval,o=this._extent,s=[];if(!n)return s;s.push({value:o[0],level:0});var l=this.getSetting("useUTC"),u=getIntervalTicks(this._minLevelUnit,this._approxInterval,l,o);return s=s.concat(u),s.push({value:o[1],level:0}),s},r.prototype.calcNiceExtent=function(n){var o=this._extent;if(o[0]===o[1]&&(o[0]-=ONE_DAY,o[1]+=ONE_DAY),o[1]===-1/0&&o[0]===1/0){var s=new Date;o[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),o[0]=o[1]-ONE_DAY}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},r.prototype.calcNiceTicks=function(n,o,s){n=n||10;var l=this._extent,u=l[1]-l[0];this._approxInterval=u/n,o!=null&&this._approxInterval<o&&(this._approxInterval=o),s!=null&&this._approxInterval>s&&(this._approxInterval=s);var c=scaleIntervals.length,d=Math.min(bisect(scaleIntervals,this._approxInterval,0,c),c-1);this._interval=scaleIntervals[d][1],this._minLevelUnit=scaleIntervals[Math.max(d-1,0)][0]},r.prototype.parse=function(n){return isNumber(n)?n:+parseDate(n)},r.prototype.contain=function(n){return contain$1(this.parse(n),this._extent)},r.prototype.normalize=function(n){return normalize$2(this.parse(n),this._extent)},r.prototype.scale=function(n){return scale(n,this._extent)},r.type="time",r}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(a,r,n,o){var s=parseDate(r),l=parseDate(n),u=function(x){return getUnitValue(s,x,o)===getUnitValue(l,x,o)},c=function(){return u("year")},d=function(){return c()&&u("month")},v=function(){return d()&&u("day")},g=function(){return v()&&u("hour")},y=function(){return g()&&u("minute")},_=function(){return y()&&u("second")},S=function(){return _()&&u("millisecond")};switch(a){case"year":return c();case"month":return d();case"day":return v();case"hour":return g();case"minute":return y();case"second":return _();case"millisecond":return S()}}function getDateInterval(a,r){return a/=ONE_DAY,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function getMonthInterval(a){var r=30*ONE_DAY;return a/=r,a>6?6:a>3?3:a>2?2:1}function getHourInterval(a){return a/=ONE_HOUR,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function getMinutesAndSecondsInterval(a,r){return a/=r?ONE_MINUTE:ONE_SECOND,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function getMillisecondsInterval(a){return nice(a,!0)}function getFirstTimestampOfUnit(a,r,n){var o=new Date(a);switch(getPrimaryTimeUnit(r)){case"year":case"month":o[monthSetterName(n)](0);case"day":o[dateSetterName(n)](1);case"hour":o[hoursSetterName(n)](0);case"minute":o[minutesSetterName(n)](0);case"second":o[secondsSetterName(n)](0),o[millisecondsSetterName(n)](0)}return o.getTime()}function getIntervalTicks(a,r,n,o){var s=1e4,l=timeUnits,u=0;function c(R,L,O,N,F,B,z){for(var U=new Date(L),H=L,Y=U[N]();H<O&&H<=o[1];)z.push({value:H}),Y+=R,U[F](Y),H=U.getTime();z.push({value:H,notAdd:!0})}function d(R,L,O){var N=[],F=!L.length;if(!isUnitValueSame(getPrimaryTimeUnit(R),o[0],o[1],n)){F&&(L=[{value:getFirstTimestampOfUnit(new Date(o[0]),R,n)},{value:o[1]}]);for(var B=0;B<L.length-1;B++){var z=L[B].value,U=L[B+1].value;if(z!==U){var H=void 0,Y=void 0,X=void 0,te=!1;switch(R){case"year":H=Math.max(1,Math.round(r/ONE_DAY/365)),Y=fullYearGetterName(n),X=fullYearSetterName(n);break;case"half-year":case"quarter":case"month":H=getMonthInterval(r),Y=monthGetterName(n),X=monthSetterName(n);break;case"week":case"half-week":case"day":H=getDateInterval(r),Y=dateGetterName(n),X=dateSetterName(n),te=!0;break;case"half-day":case"quarter-day":case"hour":H=getHourInterval(r),Y=hoursGetterName(n),X=hoursSetterName(n);break;case"minute":H=getMinutesAndSecondsInterval(r,!0),Y=minutesGetterName(n),X=minutesSetterName(n);break;case"second":H=getMinutesAndSecondsInterval(r,!1),Y=secondsGetterName(n),X=secondsSetterName(n);break;case"millisecond":H=getMillisecondsInterval(r),Y=millisecondsGetterName(n),X=millisecondsSetterName(n);break}c(H,z,U,Y,X,te,N),R==="year"&&O.length>1&&B===0&&O.unshift({value:O[0].value-H})}}for(var B=0;B<N.length;B++)O.push(N[B]);return N}}for(var v=[],g=[],y=0,_=0,S=0;S<l.length&&u++<s;++S){var x=getPrimaryTimeUnit(l[S]);if(!!isPrimaryTimeUnit(l[S])){d(l[S],v[v.length-1]||[],g);var T=l[S+1]?getPrimaryTimeUnit(l[S+1]):null;if(x!==T){if(g.length){_=y,g.sort(function(R,L){return R.value-L.value});for(var b=[],A=0;A<g.length;++A){var w=g[A].value;(A===0||g[A-1].value!==w)&&(b.push(g[A]),w>=o[0]&&w<=o[1]&&y++)}var $=(o[1]-o[0])/r;if(y>$*1.5&&_>$/1.5||(v.push(b),y>$||a===l[S]))break}g=[]}}}for(var C=filter(map$1(v,function(R){return filter(R,function(L){return L.value>=o[0]&&L.value<=o[1]&&!L.notAdd})}),function(R){return R.length>0}),P=[],M=C.length-1,S=0;S<C.length;++S)for(var E=C[S],D=0;D<E.length;++D)P.push({value:E[D].value,level:M-S});P.sort(function(R,L){return R.value-L.value});for(var I=[],S=0;S<P.length;++S)(S===0||P[S].value!==P[S-1].value)&&I.push(P[S]);return I}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new IntervalScale$1,n._interval=0,n}return r.prototype.getTicks=function(n){var o=this._originalScale,s=this._extent,l=o.getExtent(),u=intervalScaleProto.getTicks.call(this,n);return map$1(u,function(c){var d=c.value,v=round$3(mathPow$1(this.base,d));return v=d===s[0]&&this._fixMin?fixRoundingError(v,l[0]):v,v=d===s[1]&&this._fixMax?fixRoundingError(v,l[1]):v,{value:v}},this)},r.prototype.setExtent=function(n,o){var s=mathLog$1(this.base);n=mathLog$1(Math.max(0,n))/s,o=mathLog$1(Math.max(0,o))/s,intervalScaleProto.setExtent.call(this,n,o)},r.prototype.getExtent=function(){var n=this.base,o=scaleProto.getExtent.call(this);o[0]=mathPow$1(n,o[0]),o[1]=mathPow$1(n,o[1]);var s=this._originalScale,l=s.getExtent();return this._fixMin&&(o[0]=fixRoundingError(o[0],l[0])),this._fixMax&&(o[1]=fixRoundingError(o[1],l[1])),o},r.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var o=this.base;n[0]=mathLog$1(n[0])/mathLog$1(o),n[1]=mathLog$1(n[1])/mathLog$1(o),scaleProto.unionExtent.call(this,n)},r.prototype.unionExtentFromData=function(n,o){this.unionExtent(n.getApproximateExtent(o))},r.prototype.calcNiceTicks=function(n){n=n||10;var o=this._extent,s=o[1]-o[0];if(!(s===1/0||s<=0)){var l=quantity(s),u=n/s*l;for(u<=.5&&(l*=10);!isNaN(l)&&Math.abs(l)<1&&Math.abs(l)>0;)l*=10;var c=[round$3(mathCeil$1(o[0]/l)*l),round$3(mathFloor$1(o[1]/l)*l)];this._interval=l,this._niceExtent=c}},r.prototype.calcNiceExtent=function(n){intervalScaleProto.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},r.prototype.parse=function(n){return n},r.prototype.contain=function(n){return n=mathLog$1(n)/mathLog$1(this.base),contain$1(n,this._extent)},r.prototype.normalize=function(n){return n=mathLog$1(n)/mathLog$1(this.base),normalize$2(n,this._extent)},r.prototype.scale=function(n){return n=scale(n,this._extent),mathPow$1(this.base,n)},r.type="log",r}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(a,r){return roundingErrorFix(a,getPrecision(r))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function a(r,n,o){this._prepareParams(r,n,o)}return a.prototype._prepareParams=function(r,n,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var s=this._isOrdinal=r.type==="ordinal";this._needCrossZero=r.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var l=this._modelMinRaw=n.get("min",!0);isFunction(l)?this._modelMinNum=parseAxisModelMinMax(r,l({min:o[0],max:o[1]})):l!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(r,l));var u=this._modelMaxRaw=n.get("max",!0);if(isFunction(u)?this._modelMaxNum=parseAxisModelMinMax(r,u({min:o[0],max:o[1]})):u!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(r,u)),s)this._axisDataLen=n.getCategories().length;else{var c=n.get("boundaryGap"),d=isArray$1(c)?c:[c||0,c||0];typeof d[0]=="boolean"||typeof d[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(d[0],1),parsePercent$1(d[1],1)]}},a.prototype.calculate=function(){var r=this._isOrdinal,n=this._dataMin,o=this._dataMax,s=this._axisDataLen,l=this._boundaryGapInner,u=r?null:o-n||Math.abs(n),c=this._modelMinRaw==="dataMin"?n:this._modelMinNum,d=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,v=c!=null,g=d!=null;c==null&&(c=r?s?0:NaN:n-l[0]*u),d==null&&(d=r?s?s-1:NaN:o+l[1]*u),(c==null||!isFinite(c))&&(c=NaN),(d==null||!isFinite(d))&&(d=NaN);var y=eqNaN(c)||eqNaN(d)||r&&!s;this._needCrossZero&&(c>0&&d>0&&!v&&(c=0),c<0&&d<0&&!g&&(d=0));var _=this._determinedMin,S=this._determinedMax;return _!=null&&(c=_,v=!0),S!=null&&(d=S,g=!0),{min:c,max:d,minFixed:v,maxFixed:g,isBlank:y}},a.prototype.modifyDataMinMax=function(r,n){this[DATA_MIN_MAX_ATTR[r]]=n},a.prototype.setDeterminedMinMax=function(r,n){var o=DETERMINED_MIN_MAX_ATTR[r];this[o]=n},a.prototype.freeze=function(){this.frozen=!0},a}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(a,r,n){var o=a.rawExtentInfo;return o||(o=new ScaleRawExtentInfo(a,r,n),a.rawExtentInfo=o,o)}function parseAxisModelMinMax(a,r){return r==null?null:eqNaN(r)?NaN:a.parse(r)}function getScaleExtent(a,r){var n=a.type,o=ensureScaleRawExtentInfo(a,r,a.getExtent()).calculate();a.setBlank(o.isBlank);var s=o.min,l=o.max,u=r.ecModel;if(u&&n==="time"){var c=prepareLayoutBarSeries("bar",u),d=!1;if(each$f(c,function(y){d=d||y.getBaseAxis()===r.axis}),d){var v=makeColumnLayout(c),g=adjustScaleForOverflow(s,l,r,v);s=g.min,l=g.max}}return{extent:[s,l],fixMin:o.minFixed,fixMax:o.maxFixed}}function adjustScaleForOverflow(a,r,n,o){var s=n.axis.getExtent(),l=s[1]-s[0],u=retrieveColumnLayout(o,n.axis);if(u===void 0)return{min:a,max:r};var c=1/0;each$f(u,function(S){c=Math.min(S.offset,c)});var d=-1/0;each$f(u,function(S){d=Math.max(S.offset+S.width,d)}),c=Math.abs(c),d=Math.abs(d);var v=c+d,g=r-a,y=1-(c+d)/l,_=g/y-g;return r+=_*(d/v),a-=_*(c/v),{min:a,max:r}}function niceScaleExtent(a,r){var n=r,o=getScaleExtent(a,n),s=o.extent,l=n.get("splitNumber");a instanceof LogScale$1&&(a.base=n.get("logBase"));var u=a.type,c=n.get("interval"),d=u==="interval"||u==="time";a.setExtent(s[0],s[1]),a.calcNiceExtent({splitNumber:l,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:d?n.get("minInterval"):null,maxInterval:d?n.get("maxInterval"):null}),c!=null&&a.setInterval&&a.setInterval(c)}function createScaleByModel$1(a,r){if(r=r||a.get("type"),r)switch(r){case"category":return new OrdinalScale$1({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Scale$1.getClass(r)||IntervalScale$1)}}function ifAxisCrossZero(a){var r=a.scale.getExtent(),n=r[0],o=r[1];return!(n>0&&o>0||n<0&&o<0)}function makeLabelFormatter(a){var r=a.getLabelModel().get("formatter"),n=a.type==="category"?a.scale.getExtent()[0]:null;return a.scale.type==="time"?function(o){return function(s,l){return a.scale.getFormattedLabel(s,l,o)}}(r):isString(r)?function(o){return function(s){var l=a.scale.getLabel(s),u=o.replace("{value}",l!=null?l:"");return u}}(r):isFunction(r)?function(o){return function(s,l){return n!=null&&(l=s.value-n),o(getAxisRawValue(a,s),l,s.level!=null?{level:s.level}:null)}}(r):function(o){return a.scale.getLabel(o)}}function getAxisRawValue(a,r){return a.type==="category"?a.scale.getLabel(r):r.value}function estimateLabelUnionRect(a){var r=a.model,n=a.scale;if(!(!r.get(["axisLabel","show"])||n.isBlank())){var o,s,l=n.getExtent();n instanceof OrdinalScale$1?s=n.count():(o=n.getTicks(),s=o.length);var u=a.getLabelModel(),c=makeLabelFormatter(a),d,v=1;s>40&&(v=Math.ceil(s/40));for(var g=0;g<s;g+=v){var y=o?o[g]:{value:l[0]+g},_=c(y,g),S=u.getTextRect(_),x=rotateTextRect(S,u.get("rotate")||0);d?d.union(x):d=x}return d}}function rotateTextRect(a,r){var n=r*Math.PI/180,o=a.width,s=a.height,l=o*Math.abs(Math.cos(n))+Math.abs(s*Math.sin(n)),u=o*Math.abs(Math.sin(n))+Math.abs(s*Math.cos(n)),c=new BoundingRect$1(a.x,a.y,l,u);return c}function getOptionCategoryInterval(a){var r=a.get("interval");return r==null?"auto":r}function shouldShowAllLabels(a){return a.type==="category"&&getOptionCategoryInterval(a.getLabelModel())===0}function getDataDimensionsOnAxis(a,r){var n={};return each$f(a.mapDimensionsAll(r),function(o){n[getStackedDimension(a,o)]=!0}),keys(n)}function unionAxisExtentFromData(a,r,n){r&&each$f(getDataDimensionsOnAxis(r,n),function(o){var s=r.getApproximateExtent(o);s[0]<a[0]&&(a[0]=s[0]),s[1]>a[1]&&(a[1]=s[1])})}var AxisModelCommonMixin=function(){function a(){}return a.prototype.getNeedCrossZero=function(){var r=this.option;return!r.scale},a.prototype.getCoordSysModel=function(){},a}(),EPSILON=1e-8;function isAroundEqual(a,r){return Math.abs(a-r)<EPSILON}function contain(a,r,n){var o=0,s=a[0];if(!s)return!1;for(var l=1;l<a.length;l++){var u=a[l];o+=windingLine(s[0],s[1],u[0],u[1],r,n),s=u}var c=a[0];return(!isAroundEqual(s[0],c[0])||!isAroundEqual(s[1],c[1]))&&(o+=windingLine(s[0],s[1],c[0],c[1],r,n)),o!==0}var TMP_TRANSFORM=[];function transformPoints(a,r){for(var n=0;n<a.length;n++)applyTransform$1(a[n],a[n],r)}function updateBBoxFromPoints(a,r,n,o){for(var s=0;s<a.length;s++){var l=a[s];o&&(l=o.project(l)),l&&isFinite(l[0])&&isFinite(l[1])&&(min$1(r,r,l),max$1(n,n,l))}}function centroid$1(a){for(var r=0,n=0,o=0,s=a.length,l=a[s-1][0],u=a[s-1][1],c=0;c<s;c++){var d=a[c][0],v=a[c][1],g=l*v-d*u;r+=g,n+=(l+d)*g,o+=(u+v)*g,l=d,u=v}return r?[n/r/3,o/r/3,r]:[a[0][0]||0,a[0][1]||0]}var Region=function(){function a(r){this.name=r}return a.prototype.setCenter=function(r){this._center=r},a.prototype.getCenter=function(){var r=this._center;return r||(r=this._center=this.calcCenter()),r},a}(),GeoJSONPolygonGeometry=function(){function a(r,n){this.type="polygon",this.exterior=r,this.interiors=n}return a}(),GeoJSONLineStringGeometry=function(){function a(r){this.type="linestring",this.points=r}return a}(),GeoJSONRegion=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this,n)||this;return l.type="geoJSON",l.geometries=o,l._center=s&&[s[0],s[1]],l}return r.prototype.calcCenter=function(){for(var n=this.geometries,o,s=0,l=0;l<n.length;l++){var u=n[l],c=u.exterior,d=c&&c.length;d>s&&(o=u,s=d)}if(o)return centroid$1(o.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},r.prototype.getBoundingRect=function(n){var o=this._rect;if(o&&!n)return o;var s=[1/0,1/0],l=[-1/0,-1/0],u=this.geometries;return each$f(u,function(c){c.type==="polygon"?updateBBoxFromPoints(c.exterior,s,l,n):each$f(c.points,function(d){updateBBoxFromPoints(d,s,l,n)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])||(s[0]=s[1]=l[0]=l[1]=0),o=new BoundingRect$1(s[0],s[1],l[0]-s[0],l[1]-s[1]),n||(this._rect=o),o},r.prototype.contain=function(n){var o=this.getBoundingRect(),s=this.geometries;if(!o.contain(n[0],n[1]))return!1;e:for(var l=0,u=s.length;l<u;l++){var c=s[l];if(c.type==="polygon"){var d=c.exterior,v=c.interiors;if(contain(d,n[0],n[1])){for(var g=0;g<(v?v.length:0);g++)if(contain(v[g],n[0],n[1]))continue e;return!0}}}return!1},r.prototype.transformTo=function(n,o,s,l){var u=this.getBoundingRect(),c=u.width/u.height;s?l||(l=s/c):s=c*l;for(var d=new BoundingRect$1(n,o,s,l),v=u.calculateTransform(d),g=this.geometries,y=0;y<g.length;y++){var _=g[y];_.type==="polygon"?(transformPoints(_.exterior,v),each$f(_.interiors,function(S){transformPoints(S,v)})):each$f(_.points,function(S){transformPoints(S,v)})}u=this._rect,u.copy(d),this._center=[u.x+u.width/2,u.y+u.height/2]},r.prototype.cloneShallow=function(n){n==null&&(n=this.name);var o=new r(n,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},r}(Region),GeoSVGRegion=function(a){__extends(r,a);function r(n,o){var s=a.call(this,n)||this;return s.type="geoSVG",s._elOnlyForCalculate=o,s}return r.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,o=n.getBoundingRect(),s=[o.x+o.width/2,o.y+o.height/2],l=identity(TMP_TRANSFORM),u=n;u&&!u.isGeoSVGGraphicRoot;)mul(l,u.getLocalTransform(),l),u=u.parent;return invert(l,l),applyTransform$1(s,s,l),s},r}(Region);function decode(a){if(!a.UTF8Encoding)return a;var r=a,n=r.UTF8Scale;n==null&&(n=1024);var o=r.features;return each$f(o,function(s){var l=s.geometry,u=l.encodeOffsets,c=l.coordinates;if(!!u)switch(l.type){case"LineString":l.coordinates=decodeRing(c,u,n);break;case"Polygon":decodeRings(c,u,n);break;case"MultiLineString":decodeRings(c,u,n);break;case"MultiPolygon":each$f(c,function(d,v){return decodeRings(d,u[v],n)})}}),r.UTF8Encoding=!1,r}function decodeRings(a,r,n){for(var o=0;o<a.length;o++)a[o]=decodeRing(a[o],r[o],n)}function decodeRing(a,r,n){for(var o=[],s=r[0],l=r[1],u=0;u<a.length;u+=2){var c=a.charCodeAt(u)-64,d=a.charCodeAt(u+1)-64;c=c>>1^-(c&1),d=d>>1^-(d&1),c+=s,d+=l,s=c,l=d,o.push([c/n,d/n])}return o}function parseGeoJSON(a,r){return a=decode(a),map$1(filter(a.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var o=n.properties,s=n.geometry,l=[];switch(s.type){case"Polygon":var u=s.coordinates;l.push(new GeoJSONPolygonGeometry(u[0],u.slice(1)));break;case"MultiPolygon":each$f(s.coordinates,function(d){d[0]&&l.push(new GeoJSONPolygonGeometry(d[0],d.slice(1)))});break;case"LineString":l.push(new GeoJSONLineStringGeometry([s.coordinates]));break;case"MultiLineString":l.push(new GeoJSONLineStringGeometry(s.coordinates))}var c=new GeoJSONRegion(o[r||"name"],l,o.cp);return c.properties=o,c})}var inner$g=makeInner();function createAxisLabels(a){return a.type==="category"?makeCategoryLabels(a):makeRealNumberLabels(a)}function createAxisTicks(a,r){return a.type==="category"?makeCategoryTicks(a,r):{ticks:map$1(a.scale.getTicks(),function(n){return n.value})}}function makeCategoryLabels(a){var r=a.getLabelModel(),n=makeCategoryLabelsActually(a,r);return!r.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function makeCategoryLabelsActually(a,r){var n=getListCache(a,"labels"),o=getOptionCategoryInterval(r),s=listCacheGet(n,o);if(s)return s;var l,u;return isFunction(o)?l=makeLabelsByCustomizedCategoryInterval(a,o):(u=o==="auto"?makeAutoCategoryInterval(a):o,l=makeLabelsByNumericCategoryInterval(a,u)),listCacheSet(n,o,{labels:l,labelCategoryInterval:u})}function makeCategoryTicks(a,r){var n=getListCache(a,"ticks"),o=getOptionCategoryInterval(r),s=listCacheGet(n,o);if(s)return s;var l,u;if((!r.get("show")||a.scale.isBlank())&&(l=[]),isFunction(o))l=makeLabelsByCustomizedCategoryInterval(a,o,!0);else if(o==="auto"){var c=makeCategoryLabelsActually(a,a.getLabelModel());u=c.labelCategoryInterval,l=map$1(c.labels,function(d){return d.tickValue})}else u=o,l=makeLabelsByNumericCategoryInterval(a,u,!0);return listCacheSet(n,o,{ticks:l,tickCategoryInterval:u})}function makeRealNumberLabels(a){var r=a.scale.getTicks(),n=makeLabelFormatter(a);return{labels:map$1(r,function(o,s){return{level:o.level,formattedLabel:n(o,s),rawLabel:a.scale.getLabel(o),tickValue:o.value}})}}function getListCache(a,r){return inner$g(a)[r]||(inner$g(a)[r]=[])}function listCacheGet(a,r){for(var n=0;n<a.length;n++)if(a[n].key===r)return a[n].value}function listCacheSet(a,r,n){return a.push({key:r,value:n}),n}function makeAutoCategoryInterval(a){var r=inner$g(a).autoInterval;return r!=null?r:inner$g(a).autoInterval=a.calculateCategoryInterval()}function calculateCategoryInterval(a){var r=fetchAutoCategoryIntervalCalculationParams(a),n=makeLabelFormatter(a),o=(r.axisRotate-r.labelRotate)/180*Math.PI,s=a.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var c=1;u>40&&(c=Math.max(1,Math.floor(u/40)));for(var d=l[0],v=a.dataToCoord(d+1)-a.dataToCoord(d),g=Math.abs(v*Math.cos(o)),y=Math.abs(v*Math.sin(o)),_=0,S=0;d<=l[1];d+=c){var x=0,T=0,b=getBoundingRect(n({value:d}),r.font,"center","top");x=b.width*1.3,T=b.height*1.3,_=Math.max(_,x,7),S=Math.max(S,T,7)}var A=_/g,w=S/y;isNaN(A)&&(A=1/0),isNaN(w)&&(w=1/0);var $=Math.max(0,Math.floor(Math.min(A,w))),C=inner$g(a.model),P=a.getExtent(),M=C.lastAutoInterval,E=C.lastTickCount;return M!=null&&E!=null&&Math.abs(M-$)<=1&&Math.abs(E-u)<=1&&M>$&&C.axisExtent0===P[0]&&C.axisExtent1===P[1]?$=M:(C.lastTickCount=u,C.lastAutoInterval=$,C.axisExtent0=P[0],C.axisExtent1=P[1]),$}function fetchAutoCategoryIntervalCalculationParams(a){var r=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:r.get("rotate")||0,font:r.getFont()}}function makeLabelsByNumericCategoryInterval(a,r,n){var o=makeLabelFormatter(a),s=a.scale,l=s.getExtent(),u=a.getLabelModel(),c=[],d=Math.max((r||0)+1,1),v=l[0],g=s.count();v!==0&&d>1&&g/d>2&&(v=Math.round(Math.ceil(v/d)*d));var y=shouldShowAllLabels(a),_=u.get("showMinLabel")||y,S=u.get("showMaxLabel")||y;_&&v!==l[0]&&T(l[0]);for(var x=v;x<=l[1];x+=d)T(x);S&&x-d!==l[1]&&T(l[1]);function T(b){var A={value:b};c.push(n?b:{formattedLabel:o(A),rawLabel:s.getLabel(A),tickValue:b})}return c}function makeLabelsByCustomizedCategoryInterval(a,r,n){var o=a.scale,s=makeLabelFormatter(a),l=[];return each$f(o.getTicks(),function(u){var c=o.getLabel(u),d=u.value;r(u.value,c)&&l.push(n?d:{formattedLabel:s(u),rawLabel:c,tickValue:d})}),l}var NORMALIZED_EXTENT=[0,1],Axis=function(){function a(r,n,o){this.onBand=!1,this.inverse=!1,this.dim=r,this.scale=n,this._extent=o||[0,0]}return a.prototype.contain=function(r){var n=this._extent,o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r>=o&&r<=s},a.prototype.containData=function(r){return this.scale.contain(r)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(r){return getPixelPrecision(r||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(r,n){var o=this._extent;o[0]=r,o[1]=n},a.prototype.dataToCoord=function(r,n){var o=this._extent,s=this.scale;return r=s.normalize(r),this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count())),linearMap$2(r,NORMALIZED_EXTENT,o,n)},a.prototype.coordToData=function(r,n){var o=this._extent,s=this.scale;this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count()));var l=linearMap$2(r,o,NORMALIZED_EXTENT,n);return this.scale.scale(l)},a.prototype.pointToData=function(r,n){},a.prototype.getTicksCoords=function(r){r=r||{};var n=r.tickModel||this.getTickModel(),o=createAxisTicks(this,n),s=o.ticks,l=map$1(s,function(c){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this),u=n.get("alignWithLabel");return fixOnBandTicksCoords(this,l,u,r.clamp),l},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var r=this.model.getModel("minorTick"),n=r.get("splitNumber");n>0&&n<100||(n=5);var o=this.scale.getMinorTicks(n),s=map$1(o,function(l){return map$1(l,function(u){return{coord:this.dataToCoord(u),tickValue:u}},this)},this);return s},a.prototype.getViewLabels=function(){return createAxisLabels(this).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var r=this._extent,n=this.scale.getExtent(),o=n[1]-n[0]+(this.onBand?1:0);o===0&&(o=1);var s=Math.abs(r[1]-r[0]);return Math.abs(s)/o},a.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},a}();function fixExtentWithBands(a,r){var n=a[1]-a[0],o=r,s=n/o/2;a[0]+=s,a[1]-=s}function fixOnBandTicksCoords(a,r,n,o){var s=r.length;if(!a.onBand||n||!s)return;var l=a.getExtent(),u,c;if(s===1)r[0].coord=l[0],u=r[1]={coord:l[0]};else{var d=r[s-1].tickValue-r[0].tickValue,v=(r[s-1].coord-r[0].coord)/d;each$f(r,function(S){S.coord-=v/2});var g=a.scale.getExtent();c=1+g[1]-r[s-1].tickValue,u={coord:r[s-1].coord+v*c},r.push(u)}var y=l[0]>l[1];_(r[0].coord,l[0])&&(o?r[0].coord=l[0]:r.shift()),o&&_(l[0],r[0].coord)&&r.unshift({coord:l[0]}),_(l[1],u.coord)&&(o?u.coord=l[1]:r.pop()),o&&_(u.coord,l[1])&&r.push({coord:l[1]});function _(S,x){return S=round$3(S),x=round$3(x),y?S>x:S<x}}const Axis$1=Axis;var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(a,r,n,o,s){var l=n.width,u=n.height;switch(a){case"top":o.set(n.x+l/2,n.y-r),s.set(0,-1);break;case"bottom":o.set(n.x+l/2,n.y+u+r),s.set(0,1);break;case"left":o.set(n.x-r,n.y+u/2),s.set(-1,0);break;case"right":o.set(n.x+l+r,n.y+u/2),s.set(1,0);break}}function projectPointToArc(a,r,n,o,s,l,u,c,d){u-=a,c-=r;var v=Math.sqrt(u*u+c*c);u/=v,c/=v;var g=u*n+a,y=c*n+r;if(Math.abs(o-s)%PI2$2<1e-4)return d[0]=g,d[1]=y,v-n;if(l){var _=o;o=normalizeRadian(s),s=normalizeRadian(_)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI2$2);var S=Math.atan2(c,u);if(S<0&&(S+=PI2$2),S>=o&&S<=s||S+PI2$2>=o&&S+PI2$2<=s)return d[0]=g,d[1]=y,v-n;var x=n*Math.cos(o)+a,T=n*Math.sin(o)+r,b=n*Math.cos(s)+a,A=n*Math.sin(s)+r,w=(x-u)*(x-u)+(T-c)*(T-c),$=(b-u)*(b-u)+(A-c)*(A-c);return w<$?(d[0]=x,d[1]=T,Math.sqrt(w)):(d[0]=b,d[1]=A,Math.sqrt($))}function projectPointToLine(a,r,n,o,s,l,u,c){var d=s-a,v=l-r,g=n-a,y=o-r,_=Math.sqrt(g*g+y*y);g/=_,y/=_;var S=d*g+v*y,x=S/_;c&&(x=Math.min(Math.max(x,0),1)),x*=_;var T=u[0]=a+x*g,b=u[1]=r+x*y;return Math.sqrt((T-s)*(T-s)+(b-l)*(b-l))}function projectPointToRect(a,r,n,o,s,l,u){n<0&&(a=a+n,n=-n),o<0&&(r=r+o,o=-o);var c=a+n,d=r+o,v=u[0]=Math.min(Math.max(s,a),c),g=u[1]=Math.min(Math.max(l,r),d);return Math.sqrt((v-s)*(v-s)+(g-l)*(g-l))}var tmpPt=[];function nearestPointOnRect(a,r,n){var o=projectPointToRect(r.x,r.y,r.width,r.height,a.x,a.y,tmpPt);return n.set(tmpPt[0],tmpPt[1]),o}function nearestPointOnPath(a,r,n){for(var o=0,s=0,l=0,u=0,c,d,v=1/0,g=r.data,y=a.x,_=a.y,S=0;S<g.length;){var x=g[S++];S===1&&(o=g[S],s=g[S+1],l=o,u=s);var T=v;switch(x){case CMD$1.M:l=g[S++],u=g[S++],o=l,s=u;break;case CMD$1.L:T=projectPointToLine(o,s,g[S],g[S+1],y,_,tmpPt,!0),o=g[S++],s=g[S++];break;case CMD$1.C:T=cubicProjectPoint(o,s,g[S++],g[S++],g[S++],g[S++],g[S],g[S+1],y,_,tmpPt),o=g[S++],s=g[S++];break;case CMD$1.Q:T=quadraticProjectPoint(o,s,g[S++],g[S++],g[S],g[S+1],y,_,tmpPt),o=g[S++],s=g[S++];break;case CMD$1.A:var b=g[S++],A=g[S++],w=g[S++],$=g[S++],C=g[S++],P=g[S++];S+=1;var M=!!(1-g[S++]);c=Math.cos(C)*w+b,d=Math.sin(C)*$+A,S<=1&&(l=c,u=d);var E=(y-b)*$/w+b;T=projectPointToArc(b,A,$,C,C+P,M,E,_,tmpPt),o=Math.cos(C+P)*w+b,s=Math.sin(C+P)*$+A;break;case CMD$1.R:l=o=g[S++],u=s=g[S++];var D=g[S++],I=g[S++];T=projectPointToRect(l,u,D,I,y,_,tmpPt);break;case CMD$1.Z:T=projectPointToLine(o,s,l,u,y,_,tmpPt,!0),o=l,s=u;break}T<v&&(v=T,n.set(tmpPt[0],tmpPt[1]))}return v}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(a,r){if(!!a){var n=a.getTextGuideLine(),o=a.getTextContent();if(!!(o&&n)){var s=a.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],u=s.candidates||DEFAULT_SEARCH_SPACE,c=o.getBoundingRect().clone();c.applyTransform(o.getComputedTransform());var d=1/0,v=s.anchor,g=a.getComputedTransform(),y=g&&invert([],g),_=r.get("length2")||0;v&&pt2.copy(v);for(var S=0;S<u.length;S++){var x=u[S];getCandidateAnchor(x,0,c,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,_),pt1.transform(y);var T=a.getBoundingRect(),b=v?v.distance(pt1):a instanceof Path$1?nearestPointOnPath(pt1,a.path,pt2):nearestPointOnRect(pt1,T,pt2);b<d&&(d=b,pt1.transform(g),pt2.transform(g),pt2.toArray(l[0]),pt1.toArray(l[1]),pt0.toArray(l[2]))}limitTurnAngle(l,r.get("minTurnAngle")),n.setShape({points:l})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(a,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(a[0]),pt1.fromArray(a[1]),pt2.fromArray(a[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var n=dir.len(),o=dir2.len();if(!(n<.001||o<.001)){dir.scale(1/n),dir2.scale(1/o);var s=dir.dot(dir2),l=Math.cos(r);if(l<s){var u=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,u/Math.tan(Math.PI-r));var c=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(c))return;c<0?Point$1.copy(tmpProjPoint,pt1):c>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(a[1])}}}}function limitSurfaceAngle(a,r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(a[0]),pt1.fromArray(a[1]),pt2.fromArray(a[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var o=dir.len(),s=dir2.len();if(!(o<.001||s<.001)){dir.scale(1/o),dir2.scale(1/s);var l=dir.dot(r),u=Math.cos(n);if(l<u){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,v=Math.acos(dir2.dot(r)),g=d+v-n;if(g>=d)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI/2-g));var y=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(y))return;y<0?Point$1.copy(tmpProjPoint,pt1):y>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(a[1])}}}}function setLabelLineState(a,r,n,o){var s=n==="normal",l=s?a:a.ensureState(n);l.ignore=r;var u=o.get("smooth");u&&u===!0&&(u=.3),l.shape=l.shape||{},u>0&&(l.shape.smooth=u);var c=o.getModel("lineStyle").getLineStyle();s?a.useStyle(c):l.style=c}function buildLabelLinePath(a,r){var n=r.smooth,o=r.points;if(!!o)if(a.moveTo(o[0][0],o[0][1]),n>0&&o.length>=3){var s=dist$1(o[0],o[1]),l=dist$1(o[1],o[2]);if(!s||!l){a.lineTo(o[1][0],o[1][1]),a.lineTo(o[2][0],o[2][1]);return}var u=Math.min(s,l)*n,c=lerp$1([],o[1],o[0],u/s),d=lerp$1([],o[1],o[2],u/l),v=lerp$1([],c,d,.5);a.bezierCurveTo(c[0],c[1],c[0],c[1],v[0],v[1]),a.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var g=1;g<o.length;g++)a.lineTo(o[g][0],o[g][1])}function setLabelLineStyle(a,r,n){var o=a.getTextGuideLine(),s=a.getTextContent();if(!s){o&&a.removeTextGuideLine();return}for(var l=r.normal,u=l.get("show"),c=s.ignore,d=0;d<DISPLAY_STATES.length;d++){var v=DISPLAY_STATES[d],g=r[v],y=v==="normal";if(g){var _=g.get("show"),S=y?c:retrieve2(s.states[v]&&s.states[v].ignore,c);if(S||!retrieve2(_,u)){var x=y?o:o&&o.states[v];x&&(x.ignore=!0);continue}o||(o=new Polyline$3,a.setTextGuideLine(o),!y&&(c||!u)&&setLabelLineState(o,!0,"normal",r.normal),a.stateProxy&&(o.stateProxy=a.stateProxy)),setLabelLineState(o,!1,v,g)}}if(o){defaults(o.style,n),o.style.fill=null;var T=l.get("showAbove"),b=a.textGuideLineConfig=a.textGuideLineConfig||{};b.showAbove=T||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(a,r){r=r||"labelLine";for(var n={normal:a.getModel(r)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];n[s]=a.getModel([s,r])}return n}function prepareLayoutList(a){for(var r=[],n=0;n<a.length;n++){var o=a[n];if(!o.defaultAttr.ignore){var s=o.label,l=s.getComputedTransform(),u=s.getBoundingRect(),c=!l||l[1]<1e-5&&l[2]<1e-5,d=s.style.margin||0,v=u.clone();v.applyTransform(l),v.x-=d/2,v.y-=d/2,v.width+=d,v.height+=d;var g=c?new OrientedBoundingRect$1(u,l):null;r.push({label:s,labelLine:o.labelLine,rect:v,localRect:u,obb:g,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:c,transform:l})}}return r}function shiftLayout(a,r,n,o,s,l){var u=a.length;if(u<2)return;a.sort(function(D,I){return D.rect[r]-I.rect[r]});for(var c=0,d,v=!1,g=0,y=0;y<u;y++){var _=a[y],S=_.rect;d=S[r]-c,d<0&&(S[r]-=d,_.label[r]-=d,v=!0);var x=Math.max(-d,0);g+=x,c=S[r]+S[n]}g>0&&l&&P(-g/u,0,u);var T=a[0],b=a[u-1],A,w;$(),A<0&&M(-A,.8),w<0&&M(w,.8),$(),C(A,w,1),C(w,A,-1),$(),A<0&&E(-A),w<0&&E(w);function $(){A=T.rect[r]-o,w=s-b.rect[r]-b.rect[n]}function C(D,I,R){if(D<0){var L=Math.min(I,-D);if(L>0){P(L*R,0,u);var O=L+D;O<0&&M(-O*R,1)}else M(-D*R,1)}}function P(D,I,R){D!==0&&(v=!0);for(var L=I;L<R;L++){var O=a[L],N=O.rect;N[r]+=D,O.label[r]+=D}}function M(D,I){for(var R=[],L=0,O=1;O<u;O++){var N=a[O-1].rect,F=Math.max(a[O].rect[r]-N[r]-N[n],0);R.push(F),L+=F}if(!!L){var B=Math.min(Math.abs(D)/L,I);if(D>0)for(var O=0;O<u-1;O++){var z=R[O]*B;P(z,0,O+1)}else for(var O=u-1;O>0;O--){var z=R[O-1]*B;P(-z,O,u)}}}function E(D){var I=D<0?-1:1;D=Math.abs(D);for(var R=Math.ceil(D/(u-1)),L=0;L<u-1;L++)if(I>0?P(R,0,L+1):P(-R,u-L-1,u),D-=R,D<=0)return}return v}function shiftLayoutOnX(a,r,n,o){return shiftLayout(a,"x","width",r,n,o)}function shiftLayoutOnY(a,r,n,o){return shiftLayout(a,"y","height",r,n,o)}function hideOverlap(a){var r=[];a.sort(function(T,b){return b.priority-T.priority});var n=new BoundingRect$1(0,0,0,0);function o(T){if(!T.ignore){var b=T.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}T.ignore=!0}for(var s=0;s<a.length;s++){var l=a[s],u=l.axisAligned,c=l.localRect,d=l.transform,v=l.label,g=l.labelLine;n.copy(l.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var y=l.obb,_=!1,S=0;S<r.length;S++){var x=r[S];if(!!n.intersect(x.rect)){if(u&&x.axisAligned){_=!0;break}if(x.obb||(x.obb=new OrientedBoundingRect$1(x.localRect,x.transform)),y||(y=new OrientedBoundingRect$1(c,d)),y.intersect(x.obb)){_=!0;break}}}_?(o(v),g&&o(g)):(v.attr("ignore",l.defaultAttr.ignore),g&&g.attr("ignore",l.defaultAttr.labelGuideIgnore),r.push(l))}}function cloneArr(a){if(a){for(var r=[],n=0;n<a.length;n++)r.push(a[n].slice());return r}}function prepareLayoutCallbackParams(a,r){var n=a.label,o=r&&r.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:cloneArr(o&&o.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(a,r,n){for(var o=0;o<n.length;o++){var s=n[o];r[s]!=null&&(a[s]=r[s])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(r,n,o,s,l){var u=s.style,c=s.__hostTarget,d=c.textConfig||{},v=s.getComputedTransform(),g=s.getBoundingRect().plain();BoundingRect$1.applyTransform(g,g,v),v?dummyTransformable.setLocalTransform(v):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1);var y=s.__hostTarget,_;if(y){_=y.getBoundingRect().plain();var S=y.getComputedTransform();BoundingRect$1.applyTransform(_,_,S)}var x=_&&y.getTextGuideLine();this._labelList.push({label:s,labelLine:x,seriesModel:o,dataIndex:r,dataType:n,layoutOption:l,computedLayoutOption:null,rect:g,hostRect:_,priority:_?_.width*_.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:x&&x.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:u.x,y:u.y,align:u.align,verticalAlign:u.verticalAlign,width:u.width,height:u.height,fontSize:u.fontSize},cursor:s.cursor,attachedPos:d.position,attachedRot:d.rotation}})},a.prototype.addLabelsOfSeries=function(r){var n=this;this._chartViewList.push(r);var o=r.__model,s=o.get("labelLayout");!(isFunction(s)||keys(s).length)||r.group.traverse(function(l){if(l.ignore)return!0;var u=l.getTextContent(),c=getECData(l);u&&!u.disableLabelLayout&&n._addLabel(c.dataIndex,c.dataType,o,u,s)})},a.prototype.updateLayoutConfig=function(r){var n=r.getWidth(),o=r.getHeight();function s($,C){return function(){updateLabelLinePoints($,C)}}for(var l=0;l<this._labelList.length;l++){var u=this._labelList[l],c=u.label,d=c.__hostTarget,v=u.defaultAttr,g=void 0;isFunction(u.layoutOption)?g=u.layoutOption(prepareLayoutCallbackParams(u,d)):g=u.layoutOption,g=g||{},u.computedLayoutOption=g;var y=Math.PI/180;d&&d.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:v.attachedPos,rotation:g.rotate!=null?g.rotate*y:v.attachedRot,offset:[g.dx||0,g.dy||0]});var _=!1;if(g.x!=null?(c.x=parsePercent(g.x,n),c.setStyle("x",0),_=!0):(c.x=v.x,c.setStyle("x",v.style.x)),g.y!=null?(c.y=parsePercent(g.y,o),c.setStyle("y",0),_=!0):(c.y=v.y,c.setStyle("y",v.style.y)),g.labelLinePoints){var S=d.getTextGuideLine();S&&(S.setShape({points:g.labelLinePoints}),_=!1)}var x=labelLayoutInnerStore(c);x.needsUpdateLabelLine=_,c.rotation=g.rotate!=null?g.rotate*y:v.rotation,c.scaleX=v.scaleX,c.scaleY=v.scaleY;for(var T=0;T<LABEL_OPTION_TO_STYLE_KEYS.length;T++){var b=LABEL_OPTION_TO_STYLE_KEYS[T];c.setStyle(b,g[b]!=null?g[b]:v.style[b])}if(g.draggable){if(c.draggable=!0,c.cursor="move",d){var A=u.seriesModel;if(u.dataIndex!=null){var w=u.seriesModel.getData(u.dataType);A=w.getItemModel(u.dataIndex)}c.on("drag",s(d,A.getModel("labelLine")))}}else c.off("drag"),c.cursor=v.cursor}},a.prototype.layout=function(r){var n=r.getWidth(),o=r.getHeight(),s=prepareLayoutList(this._labelList),l=filter(s,function(d){return d.layoutOption.moveOverlap==="shiftX"}),u=filter(s,function(d){return d.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(l,0,n),shiftLayoutOnY(u,0,o);var c=filter(s,function(d){return d.layoutOption.hideOverlap});hideOverlap(c)},a.prototype.processLabelsOverall=function(){var r=this;each$f(this._chartViewList,function(n){var o=n.__model,s=n.ignoreLabelLineUpdate,l=o.isAnimationEnabled();n.group.traverse(function(u){if(u.ignore&&!u.forceLabelAnimation)return!0;var c=!s,d=u.getTextContent();!c&&d&&(c=labelLayoutInnerStore(d).needsUpdateLabelLine),c&&r._updateLabelLine(u,o),l&&r._animateLabels(u,o)})})},a.prototype._updateLabelLine=function(r,n){var o=r.getTextContent(),s=getECData(r),l=s.dataIndex;if(o&&l!=null){var u=n.getData(s.dataType),c=u.getItemModel(l),d={},v=u.getItemVisual(l,"style"),g=u.getVisual("drawType");d.stroke=v[g];var y=c.getModel("labelLine");setLabelLineStyle(r,getLabelLineStatesModels(c),d),updateLabelLinePoints(r,y)}},a.prototype._animateLabels=function(r,n){var o=r.getTextContent(),s=r.getTextGuideLine();if(o&&(r.forceLabelAnimation||!o.ignore&&!o.invisible&&!r.disableLabelAnimation&&!isElementRemoved(r))){var l=labelLayoutInnerStore(o),u=l.oldLayout,c=getECData(r),d=c.dataIndex,v={x:o.x,y:o.y,rotation:o.rotation},g=n.getData(c.dataType);if(u){o.attr(u);var _=r.prevStates;_&&(indexOf(_,"select")>=0&&o.attr(l.oldLayoutSelect),indexOf(_,"emphasis")>=0&&o.attr(l.oldLayoutEmphasis)),updateProps$1(o,v,n,d)}else if(o.attr(v),!labelInner(o).valueAnimation){var y=retrieve2(o.style.opacity,1);o.style.opacity=0,initProps(o,{style:{opacity:y}},n,d)}if(l.oldLayout=v,o.states.select){var S=l.oldLayoutSelect={};extendWithKeys(S,v,LABEL_LAYOUT_PROPS),extendWithKeys(S,o.states.select,LABEL_LAYOUT_PROPS)}if(o.states.emphasis){var x=l.oldLayoutEmphasis={};extendWithKeys(x,v,LABEL_LAYOUT_PROPS),extendWithKeys(x,o.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(o,d,g,n,n)}if(s&&!s.ignore&&!s.invisible){var l=labelLineAnimationStore(s),u=l.oldLayout,T={points:s.shape.points};u?(s.attr({shape:u}),updateProps$1(s,{shape:T},n)):(s.setShape(T),s.style.strokePercent=0,initProps(s,{style:{strokePercent:1}},n)),l.oldLayout=T}},a}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(a){a.registerUpdateLifecycle("series:beforeupdate",function(r,n,o){var s=getLabelManager(n).labelManager;s||(s=getLabelManager(n).labelManager=new LabelManager$1),s.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(r,n,o){var s=getLabelManager(n).labelManager;o.updatedSeries.forEach(function(l){s.addLabelsOfSeries(n.getViewOfSeriesModel(l))}),s.updateLayoutConfig(n),s.layout(n),s.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function a(){}return a.prototype.reset=function(r){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,r||4)},a.prototype.moveTo=function(r,n){this._add("M",r,n)},a.prototype.lineTo=function(r,n){this._add("L",r,n)},a.prototype.bezierCurveTo=function(r,n,o,s,l,u){this._add("C",r,n,o,s,l,u)},a.prototype.quadraticCurveTo=function(r,n,o,s){this._add("Q",r,n,o,s)},a.prototype.arc=function(r,n,o,s,l,u){this.ellipse(r,n,o,o,0,s,l,u)},a.prototype.ellipse=function(r,n,o,s,l,u,c,d){var v=c-u,g=!d,y=Math.abs(v),_=isAroundZero(y-PI2$1)||(g?v>=PI2$1:-v>=PI2$1),S=v>0?v%PI2$1:v%PI2$1+PI2$1,x=!1;_?x=!0:isAroundZero(y)?x=!1:x=S>=PI$4==!!g;var T=r+o*mathCos(u),b=n+s*mathSin(u);this._start&&this._add("M",T,b);var A=Math.round(l*degree);if(_){var w=1/this._p,$=(g?1:-1)*(PI2$1-w);this._add("A",o,s,A,1,+g,r+o*mathCos(u+$),n+s*mathSin(u+$)),w>.01&&this._add("A",o,s,A,0,+g,T,b)}else{var C=r+o*mathCos(c),P=n+s*mathSin(c);this._add("A",o,s,A,+x,+g,C,P)}},a.prototype.rect=function(r,n,o,s){this._add("M",r,n),this._add("l",o,0),this._add("l",0,s),this._add("l",-o,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(r,n,o,s,l,u,c,d,v){for(var g=[],y=this._p,_=1;_<arguments.length;_++){var S=arguments[_];if(isNaN(S)){this._invalid=!0;return}g.push(Math.round(S*y)/y)}this._d.push(r+g.join(" ")),this._start=r==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(a){var r=a.fill;return r!=null&&r!==NONE}function pathHasStroke(a){var r=a.stroke;return r!=null&&r!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(a){return"stroke-"+a.toLowerCase()});function mapStyleToAttrs(a,r,n,o){var s=r.opacity==null?1:r.opacity;if(n instanceof ZRImage$1){a("opacity",s);return}if(pathHasFill(r)){var l=normalizeColor(r.fill);a("fill",l.color);var u=r.fillOpacity!=null?r.fillOpacity*l.opacity*s:l.opacity*s;(o||u<1)&&a("fill-opacity",u)}else a("fill",NONE);if(pathHasStroke(r)){var c=normalizeColor(r.stroke);a("stroke",c.color);var d=r.strokeNoScale?n.getLineScale():1,v=d?(r.lineWidth||0)/d:0,g=r.strokeOpacity!=null?r.strokeOpacity*c.opacity*s:c.opacity*s,y=r.strokeFirst;if((o||v!==1)&&a("stroke-width",v),(o||y)&&a("paint-order",y?"stroke":"fill"),(o||g<1)&&a("stroke-opacity",g),r.lineDash){var _=getLineDash(n),S=_[0],x=_[1];S&&(x=mathRound(x||0),a("stroke-dasharray",S.join(",")),(x||o)&&a("stroke-dashoffset",x))}else o&&a("stroke-dasharray",NONE);for(var T=0;T<strokeProps.length;T++){var b=strokeProps[T];if(o||r[b]!==DEFAULT_PATH_STYLE[b]){var A=r[b]||DEFAULT_PATH_STYLE[b];A&&a(svgStrokeProps[T],A)}}}else o&&a("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement$1(a){return document.createElementNS(SVGNS,a)}function createVNode(a,r,n,o,s){return{tag:a,attrs:n||{},children:o,text:s,key:r}}function createElementOpen(a,r){var n=[];if(r)for(var o in r){var s=r[o],l=o;s!==!1&&(s!==!0&&s!=null&&(l+='="'+s+'"'),n.push(l))}return"<"+a+" "+n.join(" ")+">"}function createElementClose(a){return"</"+a+">"}function vNodeToString(a,r){r=r||{};var n=r.newline?`
`:"";function o(s){var l=s.children,u=s.tag,c=s.attrs;return createElementOpen(u,c)+encodeHTML(s.text)+(l?""+n+map$1(l,function(d){return o(d)}).join(n)+n:"")+createElementClose(u)}return o(a)}function getCssString(a,r,n){n=n||{};var o=n.newline?`
`:"",s=" {"+o,l=o+"}",u=map$1(keys(a),function(d){return d+s+map$1(keys(a[d]),function(v){return v+":"+a[d][v]+";"}).join(o)+l}).join(o),c=map$1(keys(r),function(d){return"@keyframes "+d+s+map$1(keys(r[d]),function(v){return v+s+map$1(keys(r[d][v]),function(g){var y=r[d][v][g];return g==="d"&&(y='path("'+y+'")'),g+":"+y+";"}).join(o)+l}).join(o)+l}).join(o);return!u&&!c?"":["<![CDATA[",u,c,"]]>"].join(o)}function createBrushScope(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(a,r,n,o){return createVNode("svg","root",{width:a,height:r,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+a+" "+r:!1},n)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(a,r,n){var o=extend({},a.shape);extend(o,r),a.buildPath(n,o);var s=new SVGPathRebuilder$1;return s.reset(getPathPrecision(a)),n.rebuildPath(s,1),s.generateStr(),s.getStr()}function setTransformOrigin(a,r){var n=r.originX,o=r.originY;(n||o)&&(a[transformOriginKey]=n+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(a,r){var n=r.zrId+"-ani-"+r.cssAnimIdx++;return r.cssAnims[n]=a,n}function createCompoundPathCSSAnimation(a,r,n){var o=a.shape.paths,s={},l,u;if(each$f(o,function(d){var v=createBrushScope(n.zrId);v.animation=!0,createCSSAnimation(d,{},v,!0);var g=v.cssAnims,y=v.cssNodes,_=keys(g),S=_.length;if(!!S){u=_[S-1];var x=g[u];for(var T in x){var b=x[T];s[T]=s[T]||{d:""},s[T].d+=b.d||""}for(var A in y){var w=y[A].animation;w.indexOf(u)>=0&&(l=w)}}}),!!l){r.d=!1;var c=addAnimation(s,n);return l.replace(u,c)}}function getEasingFunc(a){return isString(a)?EASING_MAP[a]?"cubic-bezier("+EASING_MAP[a]+")":createCubicEasingFunc(a)?a:"":""}function createCSSAnimation(a,r,n,o){var s=a.animators,l=s.length,u=[];if(a instanceof CompoundPath$1){var c=createCompoundPathCSSAnimation(a,r,n);if(c)u.push(c);else if(!l)return}else if(!l)return;for(var d={},v=0;v<l;v++){var g=s[v],y=[g.getMaxTime()/1e3+"s"],_=getEasingFunc(g.getClip().easing),S=g.getDelay();_?y.push(_):y.push("linear"),S&&y.push(S/1e3+"s"),g.getLoop()&&y.push("infinite");var x=y.join(" ");d[x]=d[x]||[x,[]],d[x][1].push(g)}function T(w){var $=w[1],C=$.length,P={},M={},E={},D="animation-timing-function";function I(J,he,fe){for(var ee=J.getTracks(),ne=J.getMaxTime(),V=0;V<ee.length;V++){var G=ee[V];if(G.needsAnimate()){var W=G.keyframes,K=G.propName;if(fe&&(K=fe(K)),K)for(var Q=0;Q<W.length;Q++){var ie=W[Q],ue=Math.round(ie.time/ne*100)+"%",se=getEasingFunc(ie.easing),le=ie.rawValue;(isString(le)||isNumber(le))&&(he[ue]=he[ue]||{},he[ue][K]=ie.rawValue,se&&(he[ue][D]=se))}}}}for(var R=0;R<C;R++){var L=$[R],O=L.targetName;O?O==="shape"&&I(L,M):!o&&I(L,P)}for(var N in P){var F={};copyTransform(F,a),extend(F,P[N]);var B=getSRTTransformString(F),z=P[N][D];E[N]=B?{transform:B}:{},setTransformOrigin(E[N],F),z&&(E[N][D]=z)}var U,H=!0;for(var N in M){E[N]=E[N]||{};var Y=!U,z=M[N][D];Y&&(U=new PathProxy);var X=U.len();U.reset(),E[N].d=buildPathString(a,M[N],U);var te=U.len();if(!Y&&X!==te){H=!1;break}z&&(E[N][D]=z)}if(!H)for(var N in E)delete E[N].d;if(!o)for(var R=0;R<C;R++){var L=$[R],O=L.targetName;O==="style"&&I(L,E,function(ee){return ANIMATE_STYLE_MAP[ee]})}for(var oe=keys(E),ce=!0,de,R=1;R<oe.length;R++){var Z=oe[R-1],re=oe[R];if(E[Z][transformOriginKey]!==E[re][transformOriginKey]){ce=!1;break}de=E[Z][transformOriginKey]}if(ce&&de){for(var N in E)E[N][transformOriginKey]&&delete E[N][transformOriginKey];r[transformOriginKey]=de}if(filter(oe,function(J){return keys(E[J]).length>0}).length){var q=addAnimation(E,n);return q+" "+w[0]+" both"}}for(var b in d){var c=T(d[b]);c&&u.push(c)}if(u.length){var A=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+A]={animation:u.join(",")},r.class=A}}var round$1=Math.round;function isImageLike(a){return a&&isString(a.src)}function isCanvasLike(a){return a&&isFunction(a.toDataURL)}function setStyleAttrs(a,r,n,o){mapStyleToAttrs(function(s,l){var u=s==="fill"||s==="stroke";u&&isGradient(l)?setGradient(r,a,s,o):u&&isPattern(l)?setPattern(n,a,s,o):a[s]=l},r,n,!1),setShadow(n,a,o)}function noRotateScale(a){return isAroundZero(a[0]-1)&&isAroundZero(a[1])&&isAroundZero(a[2])&&isAroundZero(a[3]-1)}function noTranslate(a){return isAroundZero(a[4])&&isAroundZero(a[5])}function setTransform(a,r,n){if(r&&!(noTranslate(r)&&noRotateScale(r))){var o=n?10:1e4;a.transform=noRotateScale(r)?"translate("+round$1(r[4]*o)/o+" "+round$1(r[5]*o)/o+")":getMatrixStr(r)}}function convertPolyShape(a,r,n){for(var o=a.points,s=[],l=0;l<o.length;l++)s.push(round$1(o[l][0]*n)/n),s.push(round$1(o[l][1]*n)/n);r.points=s.join(" ")}function validatePolyShape(a){return!a.smooth}function createAttrsConvert(a){var r=map$1(a,function(n){return typeof n=="string"?[n,n]:n});return function(n,o,s){for(var l=0;l<r.length;l++){var u=r[l],c=n[u[0]];c!=null&&(o[u[1]]=round$1(c*s)/s)}}}var buitinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(a){for(var r=a.animators,n=0;n<r.length;n++)if(r[n].targetName==="shape")return!0;return!1}function brushSVGPath(a,r){var n=a.style,o=a.shape,s=buitinShapesDef[a.type],l={},u=r.animation,c="path",d=a.style.strokePercent,v=r.compress&&getPathPrecision(a)||4;if(s&&!r.willUpdate&&!(s[1]&&!s[1](o))&&!(u&&hasShapeAnimation(a))&&!(d<1)){c=a.type;var g=Math.pow(10,v);s[0](o,l,g)}else{a.path||a.createPathProxy();var y=a.path;a.shapeChanged()&&(y.beginPath(),a.buildPath(y,a.shape),a.pathUpdated());var _=y.getVersion(),S=a,x=S.__svgPathBuilder;(S.__svgPathVersion!==_||!x||d!==S.__svgPathStrokePercent)&&(x||(x=S.__svgPathBuilder=new SVGPathRebuilder$1),x.reset(v),y.rebuildPath(x,d),x.generateStr(),S.__svgPathVersion=_,S.__svgPathStrokePercent=d),l.d=x.getStr()}return setTransform(l,a.transform),setStyleAttrs(l,n,a,r),r.animation&&createCSSAnimation(a,l,r),createVNode(c,a.id+"",l)}function brushSVGImage(a,r){var n=a.style,o=n.image;if(o&&!isString(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var s=n.x||0,l=n.y||0,u=n.width,c=n.height,d={href:o,width:u,height:c};return s&&(d.x=s),l&&(d.y=l),setTransform(d,a.transform),setStyleAttrs(d,n,a,r),r.animation&&createCSSAnimation(a,d,r),createVNode("image",a.id+"",d)}}function brushSVGTSpan(a,r){var n=a.style,o=n.text;if(o!=null&&(o+=""),!(!o||isNaN(n.x)||isNaN(n.y))){var s=n.font||DEFAULT_FONT,l=n.x||0,u=adjustTextY$1(n.y||0,getLineHeight(s),n.textBaseline),c=TEXT_ALIGN_TO_ANCHOR[n.textAlign]||n.textAlign,d={"dominant-baseline":"central","text-anchor":c};if(hasSeparateFont(n)){var v="",g=n.fontStyle,y=parseFontSize(n.fontSize);if(!parseFloat(y))return;var _=n.fontFamily||DEFAULT_FONT_FAMILY,S=n.fontWeight;v+="font-size:"+y+";font-family:"+_+";",g&&g!=="normal"&&(v+="font-style:"+g+";"),S&&S!=="normal"&&(v+="font-weight:"+S+";"),d.style=v}else d.style="font: "+s;return o.match(/\s/)&&(d["xml:space"]="preserve"),l&&(d.x=l),u&&(d.y=u),setTransform(d,a.transform),setStyleAttrs(d,n,a,r),r.animation&&createCSSAnimation(a,d,r),createVNode("text",a.id+"",d,void 0,o)}}function brush(a,r){if(a instanceof Path$1)return brushSVGPath(a,r);if(a instanceof ZRImage$1)return brushSVGImage(a,r);if(a instanceof TSpan$1)return brushSVGTSpan(a,r)}function setShadow(a,r,n){var o=a.style;if(hasShadow(o)){var s=getShadowKey(a),l=n.shadowCache,u=l[s];if(!u){var c=a.getGlobalScale(),d=c[0],v=c[1];if(!d||!v)return;var g=o.shadowOffsetX||0,y=o.shadowOffsetY||0,_=o.shadowBlur,S=normalizeColor(o.shadowColor),x=S.opacity,T=S.color,b=_/2/d,A=_/2/v,w=b+" "+A;u=n.zrId+"-s"+n.shadowIdx++,n.defs[u]=createVNode("filter",u,{id:u,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:g/d,dy:y/v,stdDeviation:w,"flood-color":T,"flood-opacity":x})]),l[s]=u}r.filter=getIdURL(u)}}function setGradient(a,r,n,o){var s=a[n],l,u={gradientUnits:s.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(s))l="linearGradient",u.x1=s.x,u.y1=s.y,u.x2=s.x2,u.y2=s.y2;else if(isRadialGradient(s))l="radialGradient",u.cx=retrieve2(s.x,.5),u.cy=retrieve2(s.y,.5),u.r=retrieve2(s.r,.5);else return;for(var c=s.colorStops,d=[],v=0,g=c.length;v<g;++v){var y=round4(c[v].offset)*100+"%",_=c[v].color,S=normalizeColor(_),x=S.color,T=S.opacity,b={offset:y};b["stop-color"]=x,T<1&&(b["stop-opacity"]=T),d.push(createVNode("stop",v+"",b))}var A=createVNode(l,"",u,d),w=vNodeToString(A),$=o.gradientCache,C=$[w];C||(C=o.zrId+"-g"+o.gradientIdx++,$[w]=C,u.id=C,o.defs[C]=createVNode(l,C,u,d)),r[n]=getIdURL(C)}function setPattern(a,r,n,o){var s=a.style[n],l={patternUnits:"userSpaceOnUse"},u;if(isImagePattern(s)){var c=s.imageWidth,d=s.imageHeight,v=void 0,g=s.image;if(isString(g)?v=g:isImageLike(g)?v=g.src:isCanvasLike(g)&&(v=g.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";assert(c,y),assert(d,y)}else if(c==null||d==null){var _=function(w,$){if(w){var C=w.elm,P=w.attrs.width=c||$.width,M=w.attrs.height=d||$.height;C&&(C.setAttribute("width",P),C.setAttribute("height",M))}},S=createOrUpdateImage(v,null,a,function(w){_(x,w),_(u,w)});S&&S.width&&S.height&&(c=c||S.width,d=d||S.height)}u=createVNode("image","img",{href:v,width:c,height:d}),l.width=c,l.height=d}else s.svgElement&&(u=clone$4(s.svgElement),l.width=s.svgWidth,l.height=s.svgHeight);if(!!u){l.patternTransform=getSRTTransformString(s);var x=createVNode("pattern","",l,[u]),T=vNodeToString(x),b=o.patternCache,A=b[T];A||(A=o.zrId+"-p"+o.patternIdx++,b[T]=A,l.id=A,x=o.defs[A]=createVNode("pattern",A,l,[u])),r[n]=getIdURL(A)}}function setClipPath(a,r,n){var o=n.clipPathCache,s=n.defs,l=o[a.id];if(!l){l=n.zrId+"-c"+n.clipPathIdx++;var u={id:l};o[a.id]=l,s[l]=createVNode("clipPath",l,u,[brushSVGPath(a,n)])}r["clip-path"]=getIdURL(l)}function createTextNode(a){return document.createTextNode(a)}function insertBefore(a,r,n){a.insertBefore(r,n)}function removeChild(a,r){a.removeChild(r)}function appendChild(a,r){a.appendChild(r)}function parentNode(a){return a.parentNode}function nextSibling(a){return a.nextSibling}function setTextContent(a,r){a.textContent=r}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(a){return a===void 0}function isDef(a){return a!==void 0}function createKeyToOldIdx(a,r,n){for(var o={},s=r;s<=n;++s){var l=a[s].key;l!==void 0&&(o[l]=s)}return o}function sameVnode(a,r){var n=a.key===r.key,o=a.tag===r.tag;return o&&n}function createElm(a){var r,n=a.children,o=a.tag;if(isDef(o)){var s=a.elm=createElement$1(o);if(updateAttrs(emptyNode,a),isArray$1(n))for(r=0;r<n.length;++r){var l=n[r];l!=null&&appendChild(s,createElm(l))}else isDef(a.text)&&!isObject$5(a.text)&&appendChild(s,createTextNode(a.text))}else a.elm=createTextNode(a.text);return a.elm}function addVnodes(a,r,n,o,s){for(;o<=s;++o){var l=n[o];l!=null&&insertBefore(a,createElm(l),r)}}function removeVnodes(a,r,n,o){for(;n<=o;++n){var s=r[n];if(s!=null)if(isDef(s.tag)){var l=parentNode(s.elm);removeChild(l,s.elm)}else removeChild(a,s.elm)}}function updateAttrs(a,r){var n,o=r.elm,s=a&&a.attrs||{},l=r.attrs||{};if(s!==l){for(n in l){var u=l[n],c=s[n];c!==u&&(u===!0?o.setAttribute(n,""):u===!1?o.removeAttribute(n):n.charCodeAt(0)!==xChar?o.setAttribute(n,u):n==="xmlns:xlink"||n==="xmlns"?o.setAttributeNS(XMLNS,n,u):n.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,n,u):n.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,n,u):o.setAttribute(n,u))}for(n in s)n in l||o.removeAttribute(n)}}function updateChildren(a,r,n){for(var o=0,s=0,l=r.length-1,u=r[0],c=r[l],d=n.length-1,v=n[0],g=n[d],y,_,S,x;o<=l&&s<=d;)u==null?u=r[++o]:c==null?c=r[--l]:v==null?v=n[++s]:g==null?g=n[--d]:sameVnode(u,v)?(patchVnode(u,v),u=r[++o],v=n[++s]):sameVnode(c,g)?(patchVnode(c,g),c=r[--l],g=n[--d]):sameVnode(u,g)?(patchVnode(u,g),insertBefore(a,u.elm,nextSibling(c.elm)),u=r[++o],g=n[--d]):sameVnode(c,v)?(patchVnode(c,v),insertBefore(a,c.elm,u.elm),c=r[--l],v=n[++s]):(isUndef(y)&&(y=createKeyToOldIdx(r,o,l)),_=y[v.key],isUndef(_)?insertBefore(a,createElm(v),u.elm):(S=r[_],S.tag!==v.tag?insertBefore(a,createElm(v),u.elm):(patchVnode(S,v),r[_]=void 0,insertBefore(a,S.elm,u.elm))),v=n[++s]);(o<=l||s<=d)&&(o>l?(x=n[d+1]==null?null:n[d+1].elm,addVnodes(a,x,n,s,d)):removeVnodes(a,r,o,l))}function patchVnode(a,r){var n=r.elm=a.elm,o=a.children,s=r.children;a!==r&&(updateAttrs(a,r),isUndef(r.text)?isDef(o)&&isDef(s)?o!==s&&updateChildren(n,o,s):isDef(s)?(isDef(a.text)&&setTextContent(n,""),addVnodes(n,null,s,0,s.length-1)):isDef(o)?removeVnodes(n,o,0,o.length-1):isDef(a.text)&&setTextContent(n,""):a.text!==r.text&&(isDef(o)&&removeVnodes(n,o,0,o.length-1),setTextContent(n,r.text)))}function patch(a,r){if(sameVnode(a,r))patchVnode(a,r);else{var n=a.elm,o=parentNode(n);createElm(r),o!==null&&(insertBefore(o,r.elm,nextSibling(n)),removeVnodes(o,[a],0,0))}return r}var svgId=0,SVGPainter=function(){function a(r,n,o){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=n,this._opts=o=extend({},o),this.root=r,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),r&&!o.ssr){var s=this._viewport=document.createElement("div");s.style.cssText="position:relative;overflow:hidden";var l=this._svgDom=this._oldVNode.elm=createElement$1("svg");updateAttrs(null,this._oldVNode),s.appendChild(l),r.appendChild(s)}this.resize(o.width,o.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var r=this.renderToVNode({willUpdate:!0});r.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,r),this._oldVNode=r}},a.prototype.renderOneToVNode=function(r){return brush(r,createBrushScope(this._id))},a.prototype.renderToVNode=function(r){r=r||{};var n=this.storage.getDisplayList(!0),o=this._backgroundColor,s=this._width,l=this._height,u=createBrushScope(this._id);u.animation=r.animation,u.willUpdate=r.willUpdate,u.compress=r.compress;var c=[];if(o&&o!=="none"){var d=normalizeColor(o),v=d.color,g=d.opacity;this._bgVNode=createVNode("rect","bg",{width:s,height:l,x:"0",y:"0",id:"0",fill:v,"fill-opacity":g}),c.push(this._bgVNode)}else this._bgVNode=null;var y=r.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(n,u,y?y.children:c),y&&c.push(y);var _=map$1(keys(u.defs),function(T){return u.defs[T]});if(_.length&&c.push(createVNode("defs","defs",{},_)),r.animation){var S=getCssString(u.cssNodes,u.cssAnims,{newline:!0});if(S){var x=createVNode("style","stl",{},[],S);c.push(x)}}return createSVGVNode(s,l,c,r.useViewBox)},a.prototype.renderToString=function(r){return r=r||{},vNodeToString(this.renderToVNode({animation:retrieve2(r.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(r.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(r){this._backgroundColor=r;var n=this._bgVNode;if(n&&n.elm){var o=normalizeColor(r),s=o.color,l=o.opacity;n.elm.setAttribute("fill",s),l<1&&n.elm.setAttribute("fill-opacity",l)}},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(r,n,o){for(var s=r.length,l=[],u=0,c,d,v=0,g=0;g<s;g++){var y=r[g];if(!y.invisible){var _=y.__clipPaths,S=_&&_.length||0,x=d&&d.length||0,T=void 0;for(T=Math.max(S-1,x-1);T>=0&&!(_&&d&&_[T]===d[T]);T--);for(var b=x-1;b>T;b--)u--,c=l[u-1];for(var A=T+1;A<S;A++){var w={};setClipPath(_[A],w,n);var $=createVNode("g","clip-g-"+v++,w,[]);(c?c.children:o).push($),l[u++]=$,c=$}d=_;var C=brush(y,n);C&&(c?c.children:o).push(C)}}},a.prototype.resize=function(r,n){var o=this._opts,s=this.root,l=this._viewport;if(r!=null&&(o.width=r),n!=null&&(o.height=n),s&&l&&(l.style.display="none",r=getSize$1(s,0,o),n=getSize$1(s,1,o),l.style.display=""),this._width!==r||this._height!==n){if(this._width=r,this._height=n,l){var u=l.style;u.width=r+"px",u.height=n+"px"}var c=this._svgDom;c&&(c.setAttribute("width",r),c.setAttribute("height",n))}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(r){var n=encodeURIComponent(this.renderToString()),o="data:image/svg+xml;";return r?(n=encodeBase64(n),n&&o+"base64,"+n):o+"charset=UTF-8,"+n},a}();function createMethodNotSupport(a){return function(){}}const SVGPainter$1=SVGPainter;function install$S(a){a.registerPainter("svg",SVGPainter$1)}function createDom(a,r,n){var o=platformApi.createCanvas(),s=r.getWidth(),l=r.getHeight(),u=o.style;return u&&(u.position="absolute",u.left="0",u.top="0",u.width=s+"px",u.height=l+"px",o.setAttribute("data-zr-dom-id",a)),o.width=s*n,o.height=l*n,o}var Layer=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this)||this;l.motionBlur=!1,l.lastFrameAlpha=.7,l.dpr=1,l.virtual=!1,l.config={},l.incremental=!1,l.zlevel=0,l.maxRepaintRectCount=5,l.__dirty=!0,l.__firstTimePaint=!0,l.__used=!1,l.__drawIndex=0,l.__startIndex=0,l.__endIndex=0,l.__prevStartIndex=null,l.__prevEndIndex=null;var u;s=s||devicePixelRatio,typeof n=="string"?u=createDom(n,o,s):isObject$5(n)&&(u=n,n=u.id),l.id=n,l.dom=u;var c=u.style;return c&&(disableUserSelect(u),u.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),l.painter=o,l.dpr=s,l}return r.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},r.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},r.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},r.prototype.setUnpainted=function(){this.__firstTimePaint=!0},r.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},r.prototype.createRepaintRects=function(n,o,s,l){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var u=[],c=this.maxRepaintRectCount,d=!1,v=new BoundingRect$1(0,0,0,0);function g(w){if(!(!w.isFinite()||w.isZero()))if(u.length===0){var $=new BoundingRect$1(0,0,0,0);$.copy(w),u.push($)}else{for(var C=!1,P=1/0,M=0,E=0;E<u.length;++E){var D=u[E];if(D.intersect(w)){var I=new BoundingRect$1(0,0,0,0);I.copy(D),I.union(w),u[E]=I,C=!0;break}else if(d){v.copy(w),v.union(D);var R=w.width*w.height,L=D.width*D.height,O=v.width*v.height,N=O-R-L;N<P&&(P=N,M=E)}}if(d&&(u[M].union(w),C=!0),!C){var $=new BoundingRect$1(0,0,0,0);$.copy(w),u.push($)}d||(d=u.length>=c)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var _=n[y];if(_){var S=_.shouldBePainted(s,l,!0,!0),x=_.__isRendered&&(_.__dirty&REDRAW_BIT||!S)?_.getPrevPaintRect():null;x&&g(x);var T=S&&(_.__dirty&REDRAW_BIT||!_.__isRendered)?_.getPaintRect():null;T&&g(T)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var _=o[y],S=_.shouldBePainted(s,l,!0,!0);if(_&&(!S||!_.__zr)&&_.__isRendered){var x=_.getPrevPaintRect();x&&g(x)}}var b;do{b=!1;for(var y=0;y<u.length;){if(u[y].isZero()){u.splice(y,1);continue}for(var A=y+1;A<u.length;)u[y].intersect(u[A])?(b=!0,u[y].union(u[A]),u.splice(A,1)):A++;y++}}while(b);return this._paintRects=u,u},r.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},r.prototype.resize=function(n,o){var s=this.dpr,l=this.dom,u=l.style,c=this.domBack;u&&(u.width=n+"px",u.height=o+"px"),l.width=n*s,l.height=o*s,c&&(c.width=n*s,c.height=o*s,s!==1&&this.ctxBack.scale(s,s))},r.prototype.clear=function(n,o,s){var l=this.dom,u=this.ctx,c=l.width,d=l.height;o=o||this.clearColor;var v=this.motionBlur&&!n,g=this.lastFrameAlpha,y=this.dpr,_=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(l,0,0,c/y,d/y));var S=this.domBack;function x(T,b,A,w){if(u.clearRect(T,b,A,w),o&&o!=="transparent"){var $=void 0;isGradientObject(o)?($=o.__canvasGradient||getCanvasGradient(u,o,{x:0,y:0,width:A,height:w}),o.__canvasGradient=$):isImagePatternObject(o)&&(o.scaleX=o.scaleX||y,o.scaleY=o.scaleY||y,$=createCanvasPattern(u,o,{dirty:function(){_.setUnpainted(),_.__painter.refresh()}})),u.save(),u.fillStyle=$||o,u.fillRect(T,b,A,w),u.restore()}v&&(u.save(),u.globalAlpha=g,u.drawImage(S,T,b,A,w),u.restore())}!s||v?x(0,0,c,d):s.length&&each$f(s,function(T){x(T.x*y,T.y*y,T.width*y,T.height*y)})},r}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function createRoot(a,r){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+a+"px","height:"+r+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var CanvasPainter=function(){function a(r,n,o,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var l=!r.nodeName||r.nodeName.toUpperCase()==="CANVAS";this._opts=o=extend({},o||{}),this.dpr=o.devicePixelRatio||devicePixelRatio,this._singleCanvas=l,this.root=r;var u=r.style;u&&(disableUserSelect(r),r.innerHTML=""),this.storage=n;var c=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(l){var g=r,y=g.width,_=g.height;o.width!=null&&(y=o.width),o.height!=null&&(_=o.height),this.dpr=o.devicePixelRatio||1,g.width=y*this.dpr,g.height=_*this.dpr,this._width=y,this._height=_;var S=new Layer$1(g,this,this.dpr);S.__builtin__=!0,S.initContext(),d[CANVAS_ZLEVEL]=S,S.zlevel=CANVAS_ZLEVEL,c.push(CANVAS_ZLEVEL),this._domRoot=r}else{this._width=getSize$1(r,0,o),this._height=getSize$1(r,1,o);var v=this._domRoot=createRoot(this._width,this._height);r.appendChild(v)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},a.prototype.refresh=function(r){var n=this.storage.getDisplayList(!0),o=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,o,r,this._redrawId);for(var l=0;l<s.length;l++){var u=s[l],c=this._layers[u];if(!c.__builtin__&&c.refresh){var d=l===0?this._backgroundColor:null;c.refresh(d)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(r){var n=r.length,o=this._hoverlayer;if(o&&o.clear(),!!n){for(var s={inHover:!0,viewWidth:this._width,viewHeight:this._height},l,u=0;u<n;u++){var c=r[u];c.__inHover&&(o||(o=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),l||(l=o.ctx,l.save()),brush$1(l,c,s,u===n-1))}l&&l.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},a.prototype.paintOne=function(r,n){brushSingle(r,n)},a.prototype._paintList=function(r,n,o,s){if(this._redrawId===s){o=o||!1,this._updateLayerStatus(r);var l=this._doPaintList(r,n,o),u=l.finished,c=l.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(r),u)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var d=this;requestAnimationFrame$3(function(){d._paintList(r,n,o,s)})}}},a.prototype._compositeManually=function(){var r=this.getLayer(CANVAS_ZLEVEL).ctx,n=this._domRoot.width,o=this._domRoot.height;r.clearRect(0,0,n,o),this.eachBuiltinLayer(function(s){s.virtual&&r.drawImage(s.dom,0,0,n,o)})},a.prototype._doPaintList=function(r,n,o){for(var s=this,l=[],u=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var d=this._zlevelList[c],v=this._layers[d];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||o)&&l.push(v)}for(var g=!0,y=!1,_=function(T){var b=l[T],A=b.ctx,w=u&&b.createRepaintRects(r,n,S._width,S._height),$=o?b.__startIndex:b.__drawIndex,C=!o&&b.incremental&&Date.now,P=C&&Date.now(),M=b.zlevel===S._zlevelList[0]?S._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,M,w);else if($===b.__startIndex){var E=r[$];(!E.incremental||!E.notClear||o)&&b.clear(!1,M,w)}$===-1&&(console.error("For some unknown reason. drawIndex is -1"),$=b.__startIndex);var D,I=function(N){var F={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(D=$;D<b.__endIndex;D++){var B=r[D];if(B.__inHover&&(y=!0),s._doPaintEl(B,b,u,N,F,D===b.__endIndex-1),C){var z=Date.now()-P;if(z>15)break}}F.prevElClipPaths&&A.restore()};if(w)if(w.length===0)D=b.__endIndex;else for(var R=S.dpr,L=0;L<w.length;++L){var O=w[L];A.save(),A.beginPath(),A.rect(O.x*R,O.y*R,O.width*R,O.height*R),A.clip(),I(O),A.restore()}else A.save(),I(),A.restore();b.__drawIndex=D,b.__drawIndex<b.__endIndex&&(g=!1)},S=this,x=0;x<l.length;x++)_(x);return env$1.wxa&&each$f(this._layers,function(T){T&&T.ctx&&T.ctx.draw&&T.ctx.draw()}),{finished:g,needsRefreshHover:y}},a.prototype._doPaintEl=function(r,n,o,s,l,u){var c=n.ctx;if(o){var d=r.getPaintRect();(!s||d&&d.intersect(s))&&(brush$1(c,r,l,u),r.setPrevPaintRect(d))}else brush$1(c,r,l,u)},a.prototype.getLayer=function(r,n){this._singleCanvas&&!this._needsManuallyCompositing&&(r=CANVAS_ZLEVEL);var o=this._layers[r];return o||(o=new Layer$1("zr_"+r,this,this.dpr),o.zlevel=r,o.__builtin__=!0,this._layerConfig[r]?merge$1(o,this._layerConfig[r],!0):this._layerConfig[r-EL_AFTER_INCREMENTAL_INC]&&merge$1(o,this._layerConfig[r-EL_AFTER_INCREMENTAL_INC],!0),n&&(o.virtual=n),this.insertLayer(r,o),o.initContext()),o},a.prototype.insertLayer=function(r,n){var o=this._layers,s=this._zlevelList,l=s.length,u=this._domRoot,c=null,d=-1;if(!o[r]&&!!isLayerValid(n)){if(l>0&&r>s[0]){for(d=0;d<l-1&&!(s[d]<r&&s[d+1]>r);d++);c=o[s[d]]}if(s.splice(d+1,0,r),o[r]=n,!n.virtual)if(c){var v=c.dom;v.nextSibling?u.insertBefore(n.dom,v.nextSibling):u.appendChild(n.dom)}else u.firstChild?u.insertBefore(n.dom,u.firstChild):u.appendChild(n.dom);n.__painter=this}},a.prototype.eachLayer=function(r,n){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s];r.call(n,this._layers[l],l)}},a.prototype.eachBuiltinLayer=function(r,n){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__&&r.call(n,u,l)}},a.prototype.eachOtherLayer=function(r,n){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__||r.call(n,u,l)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(r){this.eachBuiltinLayer(function(y,_){y.__dirty=y.__used=!1});function n(y){l&&(l.__endIndex!==y&&(l.__dirty=!0),l.__endIndex=y)}if(this._singleCanvas)for(var o=1;o<r.length;o++){var s=r[o];if(s.zlevel!==r[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var l=null,u=0,c,d;for(d=0;d<r.length;d++){var s=r[d],v=s.zlevel,g=void 0;c!==v&&(c=v,u=0),s.incremental?(g=this.getLayer(v+INCREMENTAL_INC,this._needsManuallyCompositing),g.incremental=!0,u=1):g=this.getLayer(v+(u>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),g.__builtin__||logError("ZLevel "+v+" has been used by unkown layer "+g.id),g!==l&&(g.__used=!0,g.__startIndex!==d&&(g.__dirty=!0),g.__startIndex=d,g.incremental?g.__drawIndex=-1:g.__drawIndex=d,n(d),l=g),s.__dirty&REDRAW_BIT&&!s.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=d))}n(d),this.eachBuiltinLayer(function(y,_){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(r){r.clear()},a.prototype.setBackgroundColor=function(r){this._backgroundColor=r,each$f(this._layers,function(n){n.setUnpainted()})},a.prototype.configLayer=function(r,n){if(n){var o=this._layerConfig;o[r]?merge$1(o[r],n,!0):o[r]=n;for(var s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s];if(l===r||l===r+EL_AFTER_INCREMENTAL_INC){var u=this._layers[l];merge$1(u,o[r],!0)}}}},a.prototype.delLayer=function(r){var n=this._layers,o=this._zlevelList,s=n[r];!s||(s.dom.parentNode.removeChild(s.dom),delete n[r],o.splice(indexOf(o,r),1))},a.prototype.resize=function(r,n){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var s=this._opts,l=this.root;if(r!=null&&(s.width=r),n!=null&&(s.height=n),r=getSize$1(l,0,s),n=getSize$1(l,1,s),o.style.display="",this._width!==r||n!==this._height){o.style.width=r+"px",o.style.height=n+"px";for(var u in this._layers)this._layers.hasOwnProperty(u)&&this._layers[u].resize(r,n);this.refresh(!0)}this._width=r,this._height=n}else{if(r==null||n==null)return;this._width=r,this._height=n,this.getLayer(CANVAS_ZLEVEL).resize(r,n)}return this},a.prototype.clearLayer=function(r){var n=this._layers[r];n&&n.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(r){if(r=r||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var n=new Layer$1("image",this,r.pixelRatio||this.dpr);n.initContext(),n.clear(!1,r.backgroundColor||this._backgroundColor);var o=n.ctx;if(r.pixelRatio<=this.dpr){this.refresh();var s=n.dom.width,l=n.dom.height;this.eachLayer(function(y){y.__builtin__?o.drawImage(y.dom,0,0,s,l):y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())})}else for(var u={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),d=0,v=c.length;d<v;d++){var g=c[d];brush$1(o,g,u,d===v-1)}return n.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}();const CanvasPainter$1=CanvasPainter;function install$R(a){a.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.hasSymbolVisual=!0,n}return r.prototype.getInitialData=function(n){return createSeriesData(null,this,{useEncodeDefaulter:!0})},r.prototype.getLegendIcon=function(n){var o=new Group$4,s=createSymbol$1("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);o.add(s),s.setStyle(n.lineStyle);var l=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),c=l==="none"?"circle":l,d=n.itemHeight*.8,v=createSymbol$1(c,(n.itemWidth-d)/2,(n.itemHeight-d)/2,d,d,n.itemStyle.fill);o.add(v),v.setStyle(n.itemStyle);var g=n.iconRotate==="inherit"?u:n.iconRotate||0;return v.rotation=g*Math.PI/180,v.setOrigin([n.itemWidth/2,n.itemHeight/2]),c.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill="#fff",v.style.lineWidth=2),o},r.type="series.line",r.dependencies=["grid","polar"],r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},r}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(a,r){var n=a.mapDimensionsAll("defaultedLabel"),o=n.length;if(o===1){var s=retrieveRawValue(a,r,n[0]);return s!=null?s+"":null}else if(o){for(var l=[],u=0;u<n.length;u++)l.push(retrieveRawValue(a,r,n[u]));return l.join(" ")}}function getDefaultInterpolatedLabel(a,r){var n=a.mapDimensionsAll("defaultedLabel");if(!isArray$1(r))return r+"";for(var o=[],s=0;s<n.length;s++){var l=a.getDimensionIndex(n[s]);l>=0&&o.push(r[l])}return o.join(" ")}var Symbol$3=function(a){__extends(r,a);function r(n,o,s,l){var u=a.call(this)||this;return u.updateData(n,o,s,l),u}return r.prototype._createSymbol=function(n,o,s,l,u){this.removeAll();var c=createSymbol$1(n,-1,-1,2,2,null,u);c.attr({z2:100,culling:!0,scaleX:l[0]/2,scaleY:l[1]/2}),c.drift=driftSymbol,this._symbolType=n,this.add(c)},r.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},r.prototype.getSymbolType=function(){return this._symbolType},r.prototype.getSymbolPath=function(){return this.childAt(0)},r.prototype.highlight=function(){enterEmphasis(this.childAt(0))},r.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},r.prototype.setZ=function(n,o){var s=this.childAt(0);s.zlevel=n,s.z=o},r.prototype.setDraggable=function(n,o){var s=this.childAt(0);s.draggable=n,s.cursor=!o&&n?"move":s.cursor},r.prototype.updateData=function(n,o,s,l){this.silent=!1;var u=n.getItemVisual(o,"symbol")||"circle",c=n.hostModel,d=r.getSymbolSize(n,o),v=u!==this._symbolType,g=l&&l.disableAnimation;if(v){var y=n.getItemVisual(o,"symbolKeepAspect");this._createSymbol(u,n,o,d,y)}else{var _=this.childAt(0);_.silent=!1;var S={scaleX:d[0]/2,scaleY:d[1]/2};g?_.attr(S):updateProps$1(_,S,c,o),saveOldStyle(_)}if(this._updateCommon(n,o,d,s,l),v){var _=this.childAt(0);if(!g){var S={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:_.style.opacity}};_.scaleX=_.scaleY=0,_.style.opacity=0,initProps(_,S,c,o)}}g&&this.childAt(0).stopAnimation("leave")},r.prototype._updateCommon=function(n,o,s,l,u){var c=this.childAt(0),d=n.hostModel,v,g,y,_,S,x,T,b,A;if(l&&(v=l.emphasisItemStyle,g=l.blurItemStyle,y=l.selectItemStyle,_=l.focus,S=l.blurScope,T=l.labelStatesModels,b=l.hoverScale,A=l.cursorStyle,x=l.emphasisDisabled),!l||n.hasItemOption){var w=l&&l.itemModel?l.itemModel:n.getItemModel(o),$=w.getModel("emphasis");v=$.getModel("itemStyle").getItemStyle(),y=w.getModel(["select","itemStyle"]).getItemStyle(),g=w.getModel(["blur","itemStyle"]).getItemStyle(),_=$.get("focus"),S=$.get("blurScope"),x=$.get("disabled"),T=getLabelStatesModels(w),b=$.getShallow("scale"),A=w.getShallow("cursor")}var C=n.getItemVisual(o,"symbolRotate");c.attr("rotation",(C||0)*Math.PI/180||0);var P=normalizeSymbolOffset(n.getItemVisual(o,"symbolOffset"),s);P&&(c.x=P[0],c.y=P[1]),A&&c.attr("cursor",A);var M=n.getItemVisual(o,"style"),E=M.fill;if(c instanceof ZRImage$1){var D=c.style;c.useStyle(extend({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},M))}else c.__isEmptyBrush?c.useStyle(extend({},M)):c.useStyle(M),c.style.decal=null,c.setColor(E,u&&u.symbolInnerColor),c.style.strokeNoScale=!0;var I=n.getItemVisual(o,"liftZ"),R=this._z2;I!=null?R==null&&(this._z2=c.z2,c.z2+=I):R!=null&&(c.z2=R,this._z2=null);var L=u&&u.useNameLabel;setLabelStyle(c,T,{labelFetcher:d,labelDataIndex:o,defaultText:O,inheritColor:E,defaultOpacity:M.opacity});function O(B){return L?n.getName(B):getDefaultLabel(n,B)}this._sizeX=s[0]/2,this._sizeY=s[1]/2;var N=c.ensureState("emphasis");N.style=v,c.ensureState("select").style=y,c.ensureState("blur").style=g;var F=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;N.scaleX=this._sizeX*F,N.scaleY=this._sizeY*F,this.setSymbolScale(1),toggleHoverEmphasis(this,_,S,x)},r.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},r.prototype.fadeOut=function(n,o,s){var l=this.childAt(0),u=getECData(this).dataIndex,c=s&&s.animation;if(this.silent=l.silent=!0,s&&s.fadeLabel){var d=l.getTextContent();d&&removeElement(d,{style:{opacity:0}},o,{dataIndex:u,removeOpt:c,cb:function(){l.removeTextContent()}})}else l.removeTextContent();removeElement(l,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:u,cb:n,removeOpt:c})},r.getSymbolSize=function(n,o){return normalizeSymbolSize(n.getItemVisual(o,"symbolSize"))},r}(Group$4);function driftSymbol(a,r){this.parent.drift(a,r)}const SymbolClz=Symbol$3;function symbolNeedsDraw$1(a,r,n,o){return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(o.isIgnore&&o.isIgnore(n))&&!(o.clipShape&&!o.clipShape.contain(r[0],r[1]))&&a.getItemVisual(n,"symbol")!=="none"}function normalizeUpdateOpt(a){return a!=null&&!isObject$5(a)&&(a={isIgnore:a}),a||{}}function makeSeriesScope$2(a){var r=a.hostModel,n=r.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:r.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:r.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:getLabelStatesModels(r),cursorStyle:r.get("cursor")}}var SymbolDraw=function(){function a(r){this.group=new Group$4,this._SymbolCtor=r||SymbolClz}return a.prototype.updateData=function(r,n){this._progressiveEls=null,n=normalizeUpdateOpt(n);var o=this.group,s=r.hostModel,l=this._data,u=this._SymbolCtor,c=n.disableAnimation,d=makeSeriesScope$2(r),v={disableAnimation:c},g=n.getSymbolPoint||function(y){return r.getItemLayout(y)};l||o.removeAll(),r.diff(l).add(function(y){var _=g(y);if(symbolNeedsDraw$1(r,_,y,n)){var S=new u(r,y,d,v);S.setPosition(_),r.setItemGraphicEl(y,S),o.add(S)}}).update(function(y,_){var S=l.getItemGraphicEl(_),x=g(y);if(!symbolNeedsDraw$1(r,x,y,n)){o.remove(S);return}var T=r.getItemVisual(y,"symbol")||"circle",b=S&&S.getSymbolType&&S.getSymbolType();if(!S||b&&b!==T)o.remove(S),S=new u(r,y,d,v),S.setPosition(x);else{S.updateData(r,y,d,v);var A={x:x[0],y:x[1]};c?S.attr(A):updateProps$1(S,A,s)}o.add(S),r.setItemGraphicEl(y,S)}).remove(function(y){var _=l.getItemGraphicEl(y);_&&_.fadeOut(function(){o.remove(_)},s)}).execute(),this._getSymbolPoint=g,this._data=r},a.prototype.updateLayout=function(){var r=this,n=this._data;n&&n.eachItemGraphicEl(function(o,s){var l=r._getSymbolPoint(s);o.setPosition(l),o.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=makeSeriesScope$2(r),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(r,n,o){this._progressiveEls=[],o=normalizeUpdateOpt(o);function s(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var l=r.start;l<r.end;l++){var u=n.getItemLayout(l);if(symbolNeedsDraw$1(n,u,l,o)){var c=new this._SymbolCtor(n,l,this._seriesScope);c.traverse(s),c.setPosition(u),this.group.add(c),n.setItemGraphicEl(l,c),this._progressiveEls.push(c)}}},a.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},a.prototype.remove=function(r){var n=this.group,o=this._data;o&&r?o.eachItemGraphicEl(function(s){s.fadeOut(function(){n.remove(s)},o.hostModel)}):n.removeAll()},a}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(a,r,n){var o=a.getBaseAxis(),s=a.getOtherAxis(o),l=getValueStart(s,n),u=o.dim,c=s.dim,d=r.mapDimension(c),v=r.mapDimension(u),g=c==="x"||c==="radius"?1:0,y=map$1(a.dimensions,function(x){return r.mapDimension(x)}),_=!1,S=r.getCalculationInfo("stackResultDimension");return isDimensionStacked(r,y[0])&&(_=!0,y[0]=S),isDimensionStacked(r,y[1])&&(_=!0,y[1]=S),{dataDimsForPoint:y,valueStart:l,valueAxisDim:c,baseAxisDim:u,stacked:!!_,valueDim:d,baseDim:v,baseDataOffset:g,stackedOverDimension:r.getCalculationInfo("stackedOverDimension")}}function getValueStart(a,r){var n=0,o=a.scale.getExtent();return r==="start"?n=o[0]:r==="end"?n=o[1]:isNumber(r)&&!isNaN(r)?n=r:o[0]>0?n=o[0]:o[1]<0&&(n=o[1]),n}function getStackedOnPoint(a,r,n,o){var s=NaN;a.stacked&&(s=n.get(n.getCalculationInfo("stackedOverDimension"),o)),isNaN(s)&&(s=a.valueStart);var l=a.baseDataOffset,u=[];return u[l]=n.get(a.baseDim,o),u[1-l]=s,r.dataToPoint(u)}function diffData(a,r){var n=[];return r.diff(a).add(function(o){n.push({cmd:"+",idx:o})}).update(function(o,s){n.push({cmd:"=",idx:s,idx1:o})}).remove(function(o){n.push({cmd:"-",idx:o})}).execute(),n}function lineAnimationDiff(a,r,n,o,s,l,u,c){for(var d=diffData(a,r),v=[],g=[],y=[],_=[],S=[],x=[],T=[],b=prepareDataCoordInfo(s,r,u),A=a.getLayout("points")||[],w=r.getLayout("points")||[],$=0;$<d.length;$++){var C=d[$],P=!0,M=void 0,E=void 0;switch(C.cmd){case"=":M=C.idx*2,E=C.idx1*2;var D=A[M],I=A[M+1],R=w[E],L=w[E+1];(isNaN(D)||isNaN(I))&&(D=R,I=L),v.push(D,I),g.push(R,L),y.push(n[M],n[M+1]),_.push(o[E],o[E+1]),T.push(r.getRawIndex(C.idx1));break;case"+":var O=C.idx,N=b.dataDimsForPoint,F=s.dataToPoint([r.get(N[0],O),r.get(N[1],O)]);E=O*2,v.push(F[0],F[1]),g.push(w[E],w[E+1]);var B=getStackedOnPoint(b,s,r,O);y.push(B[0],B[1]),_.push(o[E],o[E+1]),T.push(r.getRawIndex(O));break;case"-":P=!1}P&&(S.push(C),x.push(x.length))}x.sort(function(Z,re){return T[Z]-T[re]});for(var z=v.length,U=createFloat32Array(z),H=createFloat32Array(z),Y=createFloat32Array(z),X=createFloat32Array(z),te=[],$=0;$<x.length;$++){var oe=x[$],ce=$*2,de=oe*2;U[ce]=v[de],U[ce+1]=v[de+1],H[ce]=g[de],H[ce+1]=g[de+1],Y[ce]=y[de],Y[ce+1]=y[de+1],X[ce]=_[de],X[ce+1]=_[de+1],te[$]=S[oe]}return{current:U,next:H,stackedOnCurrent:Y,stackedOnNext:X,status:te}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(a,r){return isNaN(a)||isNaN(r)}function drawSegment(a,r,n,o,s,l,u,c,d){for(var v,g,y,_,S,x,T=n,b=0;b<o;b++){var A=r[T*2],w=r[T*2+1];if(T>=s||T<0)break;if(isPointNull$1(A,w)){if(d){T+=l;continue}break}if(T===n)a[l>0?"moveTo":"lineTo"](A,w),y=A,_=w;else{var $=A-v,C=w-g;if($*$+C*C<.5){T+=l;continue}if(u>0){for(var P=T+l,M=r[P*2],E=r[P*2+1];M===A&&E===w&&b<o;)b++,P+=l,T+=l,M=r[P*2],E=r[P*2+1],A=r[T*2],w=r[T*2+1],$=A-v,C=w-g;var D=b+1;if(d)for(;isPointNull$1(M,E)&&D<o;)D++,P+=l,M=r[P*2],E=r[P*2+1];var I=.5,R=0,L=0,O=void 0,N=void 0;if(D>=o||isPointNull$1(M,E))S=A,x=w;else{R=M-v,L=E-g;var F=A-v,B=M-A,z=w-g,U=E-w,H=void 0,Y=void 0;if(c==="x"){H=Math.abs(F),Y=Math.abs(B);var X=R>0?1:-1;S=A-X*H*u,x=w,O=A+X*Y*u,N=w}else if(c==="y"){H=Math.abs(z),Y=Math.abs(U);var te=L>0?1:-1;S=A,x=w-te*H*u,O=A,N=w+te*Y*u}else H=Math.sqrt(F*F+z*z),Y=Math.sqrt(B*B+U*U),I=Y/(Y+H),S=A-R*u*(1-I),x=w-L*u*(1-I),O=A+R*u*I,N=w+L*u*I,O=mathMin$5(O,mathMax$5(M,A)),N=mathMin$5(N,mathMax$5(E,w)),O=mathMax$5(O,mathMin$5(M,A)),N=mathMax$5(N,mathMin$5(E,w)),R=O-A,L=N-w,S=A-R*H/Y,x=w-L*H/Y,S=mathMin$5(S,mathMax$5(v,A)),x=mathMin$5(x,mathMax$5(g,w)),S=mathMax$5(S,mathMin$5(v,A)),x=mathMax$5(x,mathMin$5(g,w)),R=A-S,L=w-x,O=A+R*Y/H,N=w+L*Y/H}a.bezierCurveTo(y,_,S,x,A,w),y=O,_=N}else a.lineTo(A,w)}v=A,g=w,T+=l}return b}var ECPolylineShape=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),ECPolyline=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="ec-polyline",o}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ECPolylineShape},r.prototype.buildPath=function(n,o){var s=o.points,l=0,u=s.length/2;if(o.connectNulls){for(;u>0&&isPointNull$1(s[u*2-2],s[u*2-1]);u--);for(;l<u&&isPointNull$1(s[l*2],s[l*2+1]);l++);}for(;l<u;)l+=drawSegment(n,s,l,u,u,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},r.prototype.getPointOn=function(n,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s=this.path,l=s.data,u=PathProxy.CMD,c,d,v=o==="x",g=[],y=0;y<l.length;){var _=l[y++],S=void 0,x=void 0,T=void 0,b=void 0,A=void 0,w=void 0,$=void 0;switch(_){case u.M:c=l[y++],d=l[y++];break;case u.L:if(S=l[y++],x=l[y++],$=v?(n-c)/(S-c):(n-d)/(x-d),$<=1&&$>=0){var C=v?(x-d)*$+d:(S-c)*$+c;return v?[n,C]:[C,n]}c=S,d=x;break;case u.C:S=l[y++],x=l[y++],T=l[y++],b=l[y++],A=l[y++],w=l[y++];var P=v?cubicRootAt(c,S,T,A,n,g):cubicRootAt(d,x,b,w,n,g);if(P>0)for(var M=0;M<P;M++){var E=g[M];if(E<=1&&E>=0){var C=v?cubicAt(d,x,b,w,E):cubicAt(c,S,T,A,E);return v?[n,C]:[C,n]}}c=A,d=w;break}}},r}(Path$1),ECPolygonShape=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(ECPolylineShape),ECPolygon=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="ec-polygon",o}return r.prototype.getDefaultShape=function(){return new ECPolygonShape},r.prototype.buildPath=function(n,o){var s=o.points,l=o.stackedOnPoints,u=0,c=s.length/2,d=o.smoothMonotone;if(o.connectNulls){for(;c>0&&isPointNull$1(s[c*2-2],s[c*2-1]);c--);for(;u<c&&isPointNull$1(s[u*2],s[u*2+1]);u++);}for(;u<c;){var v=drawSegment(n,s,u,c,c,1,o.smooth,d,o.connectNulls);drawSegment(n,l,u+v-1,v,c,-1,o.stackedOnSmooth,d,o.connectNulls),u+=v+1,n.closePath()}},r}(Path$1);function createGridClipPath(a,r,n,o,s){var l=a.getArea(),u=l.x,c=l.y,d=l.width,v=l.height,g=n.get(["lineStyle","width"])||2;u-=g/2,c-=g/2,d+=g,v+=g,u=Math.floor(u),d=Math.round(d);var y=new Rect$3({shape:{x:u,y:c,width:d,height:v}});if(r){var _=a.getBaseAxis(),S=_.isHorizontal(),x=_.inverse;S?(x&&(y.shape.x+=d),y.shape.width=0):(x||(y.shape.y+=v),y.shape.height=0);var T=isFunction(s)?function(b){s(b,y)}:null;initProps(y,{shape:{width:d,height:v,x:u,y:c}},n,null,o,T)}return y}function createPolarClipPath(a,r,n){var o=a.getArea(),s=round$3(o.r0,1),l=round$3(o.r,1),u=new Sector$1({shape:{cx:round$3(a.cx,1),cy:round$3(a.cy,1),r0:s,r:l,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(r){var c=a.getBaseAxis().dim==="angle";c?u.shape.endAngle=o.startAngle:u.shape.r=s,initProps(u,{shape:{endAngle:o.endAngle,r:l}},n)}return u}function createClipPath(a,r,n,o,s){if(a){if(a.type==="polar")return createPolarClipPath(a,r,n);if(a.type==="cartesian2d")return createGridClipPath(a,r,n,o,s)}else return null;return null}function isCoordinateSystemType(a,r){return a.type===r}function isPointsSame(a,r){if(a.length===r.length){for(var n=0;n<a.length;n++)if(a[n]!==r[n])return;return!0}}function bboxFromPoints(a){for(var r=1/0,n=1/0,o=-1/0,s=-1/0,l=0;l<a.length;){var u=a[l++],c=a[l++];isNaN(u)||(r=Math.min(u,r),o=Math.max(u,o)),isNaN(c)||(n=Math.min(c,n),s=Math.max(c,s))}return[[r,n],[o,s]]}function getBoundingDiff(a,r){var n=bboxFromPoints(a),o=n[0],s=n[1],l=bboxFromPoints(r),u=l[0],c=l[1];return Math.max(Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]),Math.abs(s[0]-c[0]),Math.abs(s[1]-c[1]))}function getSmooth(a){return isNumber(a)?a:a?.5:0}function getStackedOnPoints(a,r,n){if(!n.valueDim)return[];for(var o=r.count(),s=createFloat32Array(o*2),l=0;l<o;l++){var u=getStackedOnPoint(n,a,r,l);s[l*2]=u[0],s[l*2+1]=u[1]}return s}function turnPointsIntoStep(a,r,n,o){var s=r.getBaseAxis(),l=s.dim==="x"||s.dim==="radius"?0:1,u=[],c=0,d=[],v=[],g=[],y=[];if(o){for(c=0;c<a.length;c+=2)!isNaN(a[c])&&!isNaN(a[c+1])&&y.push(a[c],a[c+1]);a=y}for(c=0;c<a.length-2;c+=2)switch(g[0]=a[c+2],g[1]=a[c+3],v[0]=a[c],v[1]=a[c+1],u.push(v[0],v[1]),n){case"end":d[l]=g[l],d[1-l]=v[1-l],u.push(d[0],d[1]);break;case"middle":var _=(v[l]+g[l])/2,S=[];d[l]=S[l]=_,d[1-l]=v[1-l],S[1-l]=g[1-l],u.push(d[0],d[1]),u.push(S[0],S[1]);break;default:d[l]=v[l],d[1-l]=g[1-l],u.push(d[0],d[1])}return u.push(a[c++],a[c++]),u}function clipColorStops(a,r){var n=[],o=a.length,s,l;function u(g,y,_){var S=g.coord,x=(_-S)/(y.coord-S),T=lerp(x,[g.color,y.color]);return{coord:_,color:T}}for(var c=0;c<o;c++){var d=a[c],v=d.coord;if(v<0)s=d;else if(v>r){l?n.push(u(l,d,r)):s&&n.push(u(s,d,0),u(s,d,r));break}else s&&(n.push(u(s,d,0)),s=null),n.push(d),l=d}return n}function getVisualGradient(a,r,n){var o=a.getVisual("visualMeta");if(!(!o||!o.length||!a.count())&&r.type==="cartesian2d"){for(var s,l,u=o.length-1;u>=0;u--){var c=a.getDimensionInfo(o[u].dimension);if(s=c&&c.coordDim,s==="x"||s==="y"){l=o[u];break}}if(!!l){var d=r.getAxis(s),v=map$1(l.stops,function($){return{coord:d.toGlobalCoord(d.dataToCoord($.value)),color:$.color}}),g=v.length,y=l.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),y.reverse());var _=clipColorStops(v,s==="x"?n.getWidth():n.getHeight()),S=_.length;if(!S&&g)return v[0].coord<0?y[1]?y[1]:v[g-1].color:y[0]?y[0]:v[0].color;var x=10,T=_[0].coord-x,b=_[S-1].coord+x,A=b-T;if(A<.001)return"transparent";each$f(_,function($){$.offset=($.coord-T)/A}),_.push({offset:S?_[S-1].offset:.5,color:y[1]||"transparent"}),_.unshift({offset:S?_[0].offset:.5,color:y[0]||"transparent"});var w=new LinearGradient$1(0,0,0,0,_,!0);return w[s]=T,w[s+"2"]=b,w}}}function getIsIgnoreFunc(a,r,n){var o=a.get("showAllSymbol"),s=o==="auto";if(!(o&&!s)){var l=n.getAxesByScale("ordinal")[0];if(!!l&&!(s&&canShowAllSymbolForCategory(l,r))){var u=r.mapDimension(l.dim),c={};return each$f(l.getViewLabels(),function(d){var v=l.scale.getRawOrdinalNumber(d.tickValue);c[v]=1}),function(d){return!c.hasOwnProperty(r.get(u,d))}}}}function canShowAllSymbolForCategory(a,r){var n=a.getExtent(),o=Math.abs(n[1]-n[0])/a.scale.count();isNaN(o)&&(o=0);for(var s=r.count(),l=Math.max(1,Math.round(s/5)),u=0;u<s;u+=l)if(SymbolClz.getSymbolSize(r,u)[a.isHorizontal()?1:0]*1.5>o)return!1;return!0}function isPointNull(a,r){return isNaN(a)||isNaN(r)}function getLastIndexNotNull(a){for(var r=a.length/2;r>0&&isPointNull(a[r*2-2],a[r*2-1]);r--);return r-1}function getPointAtIndex(a,r){return[a[r*2],a[r*2+1]]}function getIndexRange(a,r,n){for(var o=a.length/2,s=n==="x"?0:1,l,u,c=0,d=-1,v=0;v<o;v++)if(u=a[v*2+s],!(isNaN(u)||isNaN(a[v*2+1-s]))){if(v===0){l=u;continue}if(l<=r&&u>=r||l>=r&&u<=r){d=v;break}c=v,l=u}return{range:[c,d],t:(r-l)/(u-l)}}function anyStateShowEndLabel(a){if(a.get(["endLabel","show"]))return!0;for(var r=0;r<SPECIAL_STATES.length;r++)if(a.get([SPECIAL_STATES[r],"endLabel","show"]))return!0;return!1}function createLineClipPath(a,r,n,o){if(isCoordinateSystemType(r,"cartesian2d")){var s=o.getModel("endLabel"),l=s.get("valueAnimation"),u=o.getData(),c={lastFrameIndex:0},d=anyStateShowEndLabel(o)?function(S,x){a._endLabelOnDuring(S,x,u,c,l,s,r)}:null,v=r.getBaseAxis().isHorizontal(),g=createGridClipPath(r,n,o,function(){var S=a._endLabel;S&&n&&c.originalX!=null&&S.attr({x:c.originalX,y:c.originalY})},d);if(!o.get("clip",!0)){var y=g.shape,_=Math.max(y.width,y.height);v?(y.y-=_,y.height+=_*2):(y.x-=_,y.width+=_*2)}return d&&d(1,g),g}else return createPolarClipPath(r,n,o)}function getEndLabelStateSpecified(a,r){var n=r.getBaseAxis(),o=n.isHorizontal(),s=n.inverse,l=o?s?"right":"left":"center",u=o?"middle":s?"top":"bottom";return{normal:{align:a.get("align")||l,verticalAlign:a.get("verticalAlign")||u}}}var LineView=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.init=function(){var n=new Group$4,o=new SymbolDraw$1;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=n},r.prototype.render=function(n,o,s){var l=this,u=n.coordinateSystem,c=this.group,d=n.getData(),v=n.getModel("lineStyle"),g=n.getModel("areaStyle"),y=d.getLayout("points")||[],_=u.type==="polar",S=this._coordSys,x=this._symbolDraw,T=this._polyline,b=this._polygon,A=this._lineGroup,w=n.get("animation"),$=!g.isEmpty(),C=g.get("origin"),P=prepareDataCoordInfo(u,d,C),M=$&&getStackedOnPoints(u,d,P),E=n.get("showSymbol"),D=n.get("connectNulls"),I=E&&!_&&getIsIgnoreFunc(n,d,u),R=this._data;R&&R.eachItemGraphicEl(function(re,q){re.__temp&&(c.remove(re),R.setItemGraphicEl(q,null))}),E||x.remove(),c.add(A);var L=_?!1:n.get("step"),O;u&&u.getArea&&n.get("clip",!0)&&(O=u.getArea(),O.width!=null?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r+=.5)),this._clipShapeForSymbol=O;var N=getVisualGradient(d,u,s)||d.getVisual("style")[d.getVisual("drawType")];if(!(T&&S.type===u.type&&L===this._step))E&&x.updateData(d,{isIgnore:I,clipShape:O,disableAnimation:!0,getSymbolPoint:function(re){return[y[re*2],y[re*2+1]]}}),w&&this._initSymbolLabelAnimation(d,u,O),L&&(y=turnPointsIntoStep(y,u,L,D),M&&(M=turnPointsIntoStep(M,u,L,D))),T=this._newPolyline(y),$?b=this._newPolygon(y,M):b&&(A.remove(b),b=this._polygon=null),_||this._initOrUpdateEndLabel(n,u,convertToColorString(N)),A.setClipPath(createLineClipPath(this,u,!0,n));else{$&&!b?b=this._newPolygon(y,M):b&&!$&&(A.remove(b),b=this._polygon=null),_||this._initOrUpdateEndLabel(n,u,convertToColorString(N));var F=A.getClipPath();if(F){var B=createLineClipPath(this,u,!1,n);initProps(F,{shape:B.shape},n)}else A.setClipPath(createLineClipPath(this,u,!0,n));E&&x.updateData(d,{isIgnore:I,clipShape:O,disableAnimation:!0,getSymbolPoint:function(re){return[y[re*2],y[re*2+1]]}}),(!isPointsSame(this._stackedOnPoints,M)||!isPointsSame(this._points,y))&&(w?this._doUpdateAnimation(d,M,u,s,L,C,D):(L&&(y=turnPointsIntoStep(y,u,L,D),M&&(M=turnPointsIntoStep(M,u,L,D))),T.setShape({points:y}),b&&b.setShape({points:y,stackedOnPoints:M})))}var z=n.getModel("emphasis"),U=z.get("focus"),H=z.get("blurScope"),Y=z.get("disabled");if(T.useStyle(defaults(v.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"})),setStatesStylesFromModel(T,n,"lineStyle"),T.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var X=T.getState("emphasis").style;X.lineWidth=+T.style.lineWidth+1}getECData(T).seriesIndex=n.seriesIndex,toggleHoverEmphasis(T,U,H,Y);var te=getSmooth(n.get("smooth")),oe=n.get("smoothMonotone");if(T.setShape({smooth:te,smoothMonotone:oe,connectNulls:D}),b){var ce=d.getCalculationInfo("stackedOnSeries"),de=0;b.useStyle(defaults(g.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),ce&&(de=getSmooth(ce.get("smooth"))),b.setShape({smooth:te,stackedOnSmooth:de,smoothMonotone:oe,connectNulls:D}),setStatesStylesFromModel(b,n,"areaStyle"),getECData(b).seriesIndex=n.seriesIndex,toggleHoverEmphasis(b,U,H,Y)}var Z=function(re){l._changePolyState(re)};d.eachItemGraphicEl(function(re){re&&(re.onHoverStateChange=Z)}),this._polyline.onHoverStateChange=Z,this._data=d,this._coordSys=u,this._stackedOnPoints=M,this._points=y,this._step=L,this._valueOrigin=C,n.get("triggerLineEvent")&&(this.packEventData(n,T),b&&this.packEventData(n,b))},r.prototype.packEventData=function(n,o){getECData(o).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},r.prototype.highlight=function(n,o,s,l){var u=n.getData(),c=queryDataIndex(u,l);if(this._changePolyState("emphasis"),!(c instanceof Array)&&c!=null&&c>=0){var d=u.getLayout("points"),v=u.getItemGraphicEl(c);if(!v){var g=d[c*2],y=d[c*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var _=n.get("zlevel")||0,S=n.get("z")||0;v=new SymbolClz(u,c),v.x=g,v.y=y,v.setZ(_,S);var x=v.getSymbolPath().getTextContent();x&&(x.zlevel=_,x.z=S,x.z2=this._polyline.z2+1),v.__temp=!0,u.setItemGraphicEl(c,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else ChartView$1.prototype.highlight.call(this,n,o,s,l)},r.prototype.downplay=function(n,o,s,l){var u=n.getData(),c=queryDataIndex(u,l);if(this._changePolyState("normal"),c!=null&&c>=0){var d=u.getItemGraphicEl(c);d&&(d.__temp?(u.setItemGraphicEl(c,null),this.group.remove(d)):d.downplay())}else ChartView$1.prototype.downplay.call(this,n,o,s,l)},r.prototype._changePolyState=function(n){var o=this._polygon;setStatesFlag(this._polyline,n),o&&setStatesFlag(o,n)},r.prototype._newPolyline=function(n){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new ECPolyline({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},r.prototype._newPolygon=function(n,o){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new ECPolygon({shape:{points:n,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},r.prototype._initSymbolLabelAnimation=function(n,o,s){var l,u,c=o.getBaseAxis(),d=c.inverse;o.type==="cartesian2d"?(l=c.isHorizontal(),u=!1):o.type==="polar"&&(l=c.dim==="angle",u=!0);var v=n.hostModel,g=v.get("animationDuration");isFunction(g)&&(g=g(null));var y=v.get("animationDelay")||0,_=isFunction(y)?y(null):y;n.eachItemGraphicEl(function(S,x){var T=S;if(T){var b=[S.x,S.y],A=void 0,w=void 0,$=void 0;if(s)if(u){var C=s,P=o.pointToCoord(b);l?(A=C.startAngle,w=C.endAngle,$=-P[1]/180*Math.PI):(A=C.r0,w=C.r,$=P[0])}else{var M=s;l?(A=M.x,w=M.x+M.width,$=S.x):(A=M.y+M.height,w=M.y,$=S.y)}var E=w===A?0:($-A)/(w-A);d&&(E=1-E);var D=isFunction(y)?y(x):g*E+_,I=T.getSymbolPath(),R=I.getTextContent();T.attr({scaleX:0,scaleY:0}),T.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:D}),R&&R.animateFrom({style:{opacity:0}},{duration:300,delay:D}),I.disableLabelAnimation=!0}})},r.prototype._initOrUpdateEndLabel=function(n,o,s){var l=n.getModel("endLabel");if(anyStateShowEndLabel(n)){var u=n.getData(),c=this._polyline,d=u.getLayout("points");if(!d){c.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new ZRText$1({z2:200}),v.ignoreClip=!0,c.setTextContent(this._endLabel),c.disableLabelAnimation=!0);var g=getLastIndexNotNull(d);g>=0&&(setLabelStyle(c,getLabelStatesModels(n,"endLabel"),{inheritColor:s,labelFetcher:n,labelDataIndex:g,defaultText:function(y,_,S){return S!=null?getDefaultInterpolatedLabel(u,S):getDefaultLabel(u,y)},enableTextSetter:!0},getEndLabelStateSpecified(l,o)),c.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},r.prototype._endLabelOnDuring=function(n,o,s,l,u,c,d){var v=this._endLabel,g=this._polyline;if(v){n<1&&l.originalX==null&&(l.originalX=v.x,l.originalY=v.y);var y=s.getLayout("points"),_=s.hostModel,S=_.get("connectNulls"),x=c.get("precision"),T=c.get("distance")||0,b=d.getBaseAxis(),A=b.isHorizontal(),w=b.inverse,$=o.shape,C=w?A?$.x:$.y+$.height:A?$.x+$.width:$.y,P=(A?T:0)*(w?-1:1),M=(A?0:-T)*(w?-1:1),E=A?"x":"y",D=getIndexRange(y,C,E),I=D.range,R=I[1]-I[0],L=void 0;if(R>=1){if(R>1&&!S){var O=getPointAtIndex(y,I[0]);v.attr({x:O[0]+P,y:O[1]+M}),u&&(L=_.getRawValue(I[0]))}else{var O=g.getPointOn(C,E);O&&v.attr({x:O[0]+P,y:O[1]+M});var N=_.getRawValue(I[0]),F=_.getRawValue(I[1]);u&&(L=interpolateRawValues(s,x,N,F,D.t))}l.lastFrameIndex=I[0]}else{var B=n===1||l.lastFrameIndex>0?I[0]:0,O=getPointAtIndex(y,B);u&&(L=_.getRawValue(B)),v.attr({x:O[0]+P,y:O[1]+M})}u&&labelInner(v).setLabelText(L)}},r.prototype._doUpdateAnimation=function(n,o,s,l,u,c,d){var v=this._polyline,g=this._polygon,y=n.hostModel,_=lineAnimationDiff(this._data,n,this._stackedOnPoints,o,this._coordSys,s,this._valueOrigin),S=_.current,x=_.stackedOnCurrent,T=_.next,b=_.stackedOnNext;if(u&&(S=turnPointsIntoStep(_.current,s,u,d),x=turnPointsIntoStep(_.stackedOnCurrent,s,u,d),T=turnPointsIntoStep(_.next,s,u,d),b=turnPointsIntoStep(_.stackedOnNext,s,u,d)),getBoundingDiff(S,T)>3e3||g&&getBoundingDiff(x,b)>3e3){v.stopAnimation(),v.setShape({points:T}),g&&(g.stopAnimation(),g.setShape({points:T,stackedOnPoints:b}));return}v.shape.__points=_.current,v.shape.points=S;var A={shape:{points:T}};_.current!==S&&(A.shape.__points=_.next),v.stopAnimation(),updateProps$1(v,A,y),g&&(g.setShape({points:S,stackedOnPoints:x}),g.stopAnimation(),updateProps$1(g,{shape:{stackedOnPoints:b}},y),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var w=[],$=_.status,C=0;C<$.length;C++){var P=$[C].cmd;if(P==="="){var M=n.getItemGraphicEl($[C].idx1);M&&w.push({el:M,ptIdx:C})}}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var E=v.shape.__points,D=0;D<w.length;D++){var I=w[D].el,R=w[D].ptIdx*2;I.x=E[R],I.y=E[R+1],I.markRedraw()}})},r.prototype.remove=function(n){var o=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(l,u){l.__temp&&(o.remove(l),s.setItemGraphicEl(u,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},r.type="line",r}(ChartView$1);const LineView$1=LineView;function pointsLayout(a,r){return{seriesType:a,plan:createRenderPlanner(),reset:function(n){var o=n.getData(),s=n.coordinateSystem,l=n.pipelineContext,u=r||l.large;if(!!s){var c=map$1(s.dimensions,function(S){return o.mapDimension(S)}).slice(0,2),d=c.length,v=o.getCalculationInfo("stackResultDimension");isDimensionStacked(o,c[0])&&(c[0]=v),isDimensionStacked(o,c[1])&&(c[1]=v);var g=o.getStore(),y=o.getDimensionIndex(c[0]),_=o.getDimensionIndex(c[1]);return d&&{progress:function(S,x){for(var T=S.end-S.start,b=u&&createFloat32Array(T*d),A=[],w=[],$=S.start,C=0;$<S.end;$++){var P=void 0;if(d===1){var M=g.get(y,$);P=s.dataToPoint(M,null,w)}else A[0]=g.get(y,$),A[1]=g.get(_,$),P=s.dataToPoint(A,null,w);u?(b[C++]=P[0],b[C++]=P[1]):x.setItemLayout($,P.slice())}u&&x.setLayout("points",b)}}}}}}var samplers={average:function(a){for(var r=0,n=0,o=0;o<a.length;o++)isNaN(a[o])||(r+=a[o],n++);return n===0?NaN:r/n},sum:function(a){for(var r=0,n=0;n<a.length;n++)r+=a[n]||0;return r},max:function(a){for(var r=-1/0,n=0;n<a.length;n++)a[n]>r&&(r=a[n]);return isFinite(r)?r:NaN},min:function(a){for(var r=1/0,n=0;n<a.length;n++)a[n]<r&&(r=a[n]);return isFinite(r)?r:NaN},nearest:function(a){return a[0]}},indexSampler=function(a){return Math.round(a.length/2)};function dataSample(a){return{seriesType:a,reset:function(r,n,o){var s=r.getData(),l=r.get("sampling"),u=r.coordinateSystem,c=s.count();if(c>10&&u.type==="cartesian2d"&&l){var d=u.getBaseAxis(),v=u.getOtherAxis(d),g=d.getExtent(),y=o.getDevicePixelRatio(),_=Math.abs(g[1]-g[0])*(y||1),S=Math.round(c/_);if(isFinite(S)&&S>1){l==="lttb"&&r.setData(s.lttbDownSample(s.mapDimension(v.dim),1/S));var x=void 0;isString(l)?x=samplers[l]:isFunction(l)&&(x=l),x&&r.setData(s.downSample(s.mapDimension(v.dim),1/S,x,indexSampler))}}}}}function install$Q(a){a.registerChartView(LineView$1),a.registerSeriesModel(LineSeries),a.registerLayout(pointsLayout("line",!0)),a.registerVisual({seriesType:"line",reset:function(r){var n=r.getData(),o=r.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",o)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},r.prototype.getMarkerPosition=function(n){var o=this.coordinateSystem;if(o&&o.clampData){var s=o.dataToPoint(o.clampData(n)),l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;return s[d]+=u+c/2,s}return[NaN,NaN]},r.type="series.__base_bar__",r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},r}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},r.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},r.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>n&&(n=o),n},r.prototype.brushSelector=function(n,o,s){return s.rect(o.getItemLayout(n))},r.type="series.bar",r.dependencies=["grid","polar"],r.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),r}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),SausagePath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="sausage",o}return r.prototype.getDefaultShape=function(){return new SausageShape},r.prototype.buildPath=function(n,o){var s=o.cx,l=o.cy,u=Math.max(o.r0||0,0),c=Math.max(o.r,0),d=(c-u)*.5,v=u+d,g=o.startAngle,y=o.endAngle,_=o.clockwise,S=Math.PI*2,x=_?y-g<S:g-y<S;x||(g=y-(_?S:-S));var T=Math.cos(g),b=Math.sin(g),A=Math.cos(y),w=Math.sin(y);x?(n.moveTo(T*u+s,b*u+l),n.arc(T*v+s,b*v+l,d,-Math.PI+g,g,!_)):n.moveTo(T*c+s,b*c+l),n.arc(s,l,c,g,y,!_),n.arc(A*v+s,w*v+l,d,y-Math.PI*2,y-Math.PI,!_),u!==0&&n.arc(s,l,u,y,g,_)},r}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(a,r){r=r||{};var n=r.isRoundCap;return function(o,s,l){var u=s.position;if(!u||u instanceof Array)return calculateTextPosition(o,s,l);var c=a(u),d=s.distance!=null?s.distance:5,v=this.shape,g=v.cx,y=v.cy,_=v.r,S=v.r0,x=(_+S)/2,T=v.startAngle,b=v.endAngle,A=(T+b)/2,w=n?Math.abs(_-S)/2:0,$=Math.cos,C=Math.sin,P=g+_*$(T),M=y+_*C(T),E="left",D="top";switch(c){case"startArc":P=g+(S-d)*$(A),M=y+(S-d)*C(A),E="center",D="top";break;case"insideStartArc":P=g+(S+d)*$(A),M=y+(S+d)*C(A),E="center",D="bottom";break;case"startAngle":P=g+x*$(T)+adjustAngleDistanceX(T,d+w,!1),M=y+x*C(T)+adjustAngleDistanceY(T,d+w,!1),E="right",D="middle";break;case"insideStartAngle":P=g+x*$(T)+adjustAngleDistanceX(T,-d+w,!1),M=y+x*C(T)+adjustAngleDistanceY(T,-d+w,!1),E="left",D="middle";break;case"middle":P=g+x*$(A),M=y+x*C(A),E="center",D="middle";break;case"endArc":P=g+(_+d)*$(A),M=y+(_+d)*C(A),E="center",D="bottom";break;case"insideEndArc":P=g+(_-d)*$(A),M=y+(_-d)*C(A),E="center",D="top";break;case"endAngle":P=g+x*$(b)+adjustAngleDistanceX(b,d+w,!0),M=y+x*C(b)+adjustAngleDistanceY(b,d+w,!0),E="left",D="middle";break;case"insideEndAngle":P=g+x*$(b)+adjustAngleDistanceX(b,-d+w,!0),M=y+x*C(b)+adjustAngleDistanceY(b,-d+w,!0),E="right",D="middle";break;default:return calculateTextPosition(o,s,l)}return o=o||{},o.x=P,o.y=M,o.align=E,o.verticalAlign=D,o}}function setSectorTextRotation(a,r,n,o){if(isNumber(o)){a.setTextConfig({rotation:o});return}else if(isArray$1(r)){a.setTextConfig({rotation:0});return}var s=a.shape,l=s.clockwise?s.startAngle:s.endAngle,u=s.clockwise?s.endAngle:s.startAngle,c=(l+u)/2,d,v=n(r);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=c;break;case"startAngle":case"insideStartAngle":d=l;break;case"endAngle":case"insideEndAngle":d=u;break;default:a.setTextConfig({rotation:0});return}var g=Math.PI*1.5-d;v==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),a.setTextConfig({rotation:g})}function adjustAngleDistanceX(a,r,n){return r*Math.sin(a)*(n?-1:1)}function adjustAngleDistanceY(a,r,n){return r*Math.cos(a)*(n?1:-1)}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(a,r){var n=a.getArea&&a.getArea();if(isCoordinateSystemType(a,"cartesian2d")){var o=a.getBaseAxis();if(o.type!=="category"||!o.onBand){var s=r.getLayout("bandWidth");o.isHorizontal()?(n.x-=s,n.width+=s*2):(n.y-=s,n.height+=s*2)}}return n}var BarView=function(a){__extends(r,a);function r(){var n=a.call(this)||this;return n.type=r.type,n._isFirstFrame=!0,n}return r.prototype.render=function(n,o,s,l){this._model=n,this._removeOnRenderedListener(s),this._updateDrawMode(n);var u=n.get("coordinateSystem");(u==="cartesian2d"||u==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,o,s):this._renderNormal(n,o,s,l))},r.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},r.prototype.incrementalRender=function(n,o){this._progressiveEls=[],this._incrementalRenderLarge(n,o)},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype._updateDrawMode=function(n){var o=n.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},r.prototype._renderNormal=function(n,o,s,l){var u=this.group,c=n.getData(),d=this._data,v=n.coordinateSystem,g=v.getBaseAxis(),y;v.type==="cartesian2d"?y=g.isHorizontal():v.type==="polar"&&(y=g.dim==="angle");var _=n.isAnimationEnabled()?n:null,S=shouldRealtimeSort(n,v);S&&this._enableRealtimeSort(S,c,s);var x=n.get("clip",!0)||S,T=getClipArea(v,c);u.removeClipPath();var b=n.get("roundCap",!0),A=n.get("showBackground",!0),w=n.getModel("backgroundStyle"),$=w.get("borderRadius")||0,C=[],P=this._backgroundEls,M=l&&l.isInitSort,E=l&&l.type==="changeAxisOrder";function D(L){var O=getLayout[v.type](c,L),N=createBackgroundEl(v,y,O);return N.useStyle(w.getItemStyle()),v.type==="cartesian2d"&&N.setShape("r",$),C[L]=N,N}c.diff(d).add(function(L){var O=c.getItemModel(L),N=getLayout[v.type](c,L,O);if(A&&D(L),!(!c.hasValue(L)||!isValidLayout[v.type](N))){var F=!1;x&&(F=clip[v.type](T,N));var B=elementCreator[v.type](n,c,L,N,y,_,g.model,!1,b);S&&(B.forceLabelAnimation=!0),updateStyle(B,c,L,O,N,n,y,v.type==="polar"),M?B.attr({shape:N}):S?updateRealtimeAnimation(S,_,B,N,L,y,!1,!1):initProps(B,{shape:N},n,L),c.setItemGraphicEl(L,B),u.add(B),B.ignore=F}}).update(function(L,O){var N=c.getItemModel(L),F=getLayout[v.type](c,L,N);if(A){var B=void 0;P.length===0?B=D(O):(B=P[O],B.useStyle(w.getItemStyle()),v.type==="cartesian2d"&&B.setShape("r",$),C[L]=B);var z=getLayout[v.type](c,L),U=createBackgroundShape(y,z,v);updateProps$1(B,{shape:U},_,L)}var H=d.getItemGraphicEl(O);if(!c.hasValue(L)||!isValidLayout[v.type](F)){u.remove(H);return}var Y=!1;if(x&&(Y=clip[v.type](T,F),Y&&u.remove(H)),H?saveOldStyle(H):H=elementCreator[v.type](n,c,L,F,y,_,g.model,!!H,b),S&&(H.forceLabelAnimation=!0),E){var X=H.getTextContent();if(X){var te=labelInner(X);te.prevValue!=null&&(te.prevValue=te.value)}}else updateStyle(H,c,L,N,F,n,y,v.type==="polar");M?H.attr({shape:F}):S?updateRealtimeAnimation(S,_,H,F,L,y,!0,E):updateProps$1(H,{shape:F},n,L,null),c.setItemGraphicEl(L,H),H.ignore=Y,u.add(H)}).remove(function(L){var O=d.getItemGraphicEl(L);O&&removeElementWithFadeOut(O,n,L)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new Group$4);I.removeAll();for(var R=0;R<C.length;++R)I.add(C[R]);u.add(I),this._backgroundEls=C,this._data=c},r.prototype._renderLarge=function(n,o,s){this._clear(),createLarge$1(n,this.group),this._updateLargeClip(n)},r.prototype._incrementalRenderLarge=function(n,o){this._removeBackground(),createLarge$1(o,this.group,this._progressiveEls,!0)},r.prototype._updateLargeClip=function(n){var o=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n),s=this.group;o?s.setClipPath(o):s.removeClipPath()},r.prototype._enableRealtimeSort=function(n,o,s){var l=this;if(!!o.count()){var u=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,n,s),this._isFirstFrame=!1;else{var c=function(d){var v=o.getItemGraphicEl(d),g=v&&v.shape;return g&&Math.abs(u.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){l._updateSortWithinSameData(o,c,u,s)},s.getZr().on("rendered",this._onRendered)}}},r.prototype._dataSort=function(n,o,s){var l=[];return n.each(n.mapDimension(o.dim),function(u,c){var d=s(c);d=d==null?NaN:d,l.push({dataIndex:c,mappedValue:d,ordinalNumber:u})}),l.sort(function(u,c){return c.mappedValue-u.mappedValue}),{ordinalNumbers:map$1(l,function(u){return u.ordinalNumber})}},r.prototype._isOrderChangedWithinSameData=function(n,o,s){for(var l=s.scale,u=n.mapDimension(s.dim),c=Number.MAX_VALUE,d=0,v=l.getOrdinalMeta().categories.length;d<v;++d){var g=n.rawIndexOf(u,l.getRawOrdinalNumber(d)),y=g<0?Number.MIN_VALUE:o(n.indexOfRawIndex(g));if(y>c)return!0;c=y}return!1},r.prototype._isOrderDifferentInView=function(n,o){for(var s=o.scale,l=s.getExtent(),u=Math.max(0,l[0]),c=Math.min(l[1],s.getOrdinalMeta().categories.length-1);u<=c;++u)if(n.ordinalNumbers[u]!==s.getRawOrdinalNumber(u))return!0},r.prototype._updateSortWithinSameData=function(n,o,s,l){if(!!this._isOrderChangedWithinSameData(n,o,s)){var u=this._dataSort(n,s,o);this._isOrderDifferentInView(u,s)&&(this._removeOnRenderedListener(l),l.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:u}))}},r.prototype._dispatchInitSort=function(n,o,s){var l=o.baseAxis,u=this._dataSort(n,l,function(c){return n.get(n.mapDimension(o.otherAxis.dim),c)});s.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",isInitSort:!0,axisId:l.index,sortInfo:u})},r.prototype.remove=function(n,o){this._clear(this._model),this._removeOnRenderedListener(o)},r.prototype.dispose=function(n,o){this._removeOnRenderedListener(o)},r.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},r.prototype._clear=function(n){var o=this.group,s=this._data;n&&n.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(l){removeElementWithFadeOut(l,n,getECData(l).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},r.type="bar",r}(ChartView$1),clip={cartesian2d:function(a,r){var n=r.width<0?-1:1,o=r.height<0?-1:1;n<0&&(r.x+=r.width,r.width=-r.width),o<0&&(r.y+=r.height,r.height=-r.height);var s=a.x+a.width,l=a.y+a.height,u=mathMax$4(r.x,a.x),c=mathMin$4(r.x+r.width,s),d=mathMax$4(r.y,a.y),v=mathMin$4(r.y+r.height,l),g=c<u,y=v<d;return r.x=g&&u>s?c:u,r.y=y&&d>l?v:d,r.width=g?0:c-u,r.height=y?0:v-d,n<0&&(r.x+=r.width,r.width=-r.width),o<0&&(r.y+=r.height,r.height=-r.height),g||y},polar:function(a,r){var n=r.r0<=r.r?1:-1;if(n<0){var o=r.r;r.r=r.r0,r.r0=o}var s=mathMin$4(r.r,a.r),l=mathMax$4(r.r0,a.r0);r.r=s,r.r0=l;var u=s-l<0;if(n<0){var o=r.r;r.r=r.r0,r.r0=o}return u}},elementCreator={cartesian2d:function(a,r,n,o,s,l,u,c,d){var v=new Rect$3({shape:extend({},o),z2:1});if(v.__dataIndex=n,v.name="item",l){var g=v.shape,y=s?"height":"width";g[y]=0}return v},polar:function(a,r,n,o,s,l,u,c,d){var v=!s&&d?Sausage:Sector$1,g=new v({shape:o,z2:1});g.name="item";var y=createPolarPositionMapping(s);if(g.calculateTextPosition=createSectorCalculateTextPosition(y,{isRoundCap:v===Sausage}),l){var _=g.shape,S=s?"r":"endAngle",x={};_[S]=s?0:o.startAngle,x[S]=o[S],(c?updateProps$1:initProps)(g,{shape:x},l)}return g}};function shouldRealtimeSort(a,r){var n=a.get("realtimeSort",!0),o=r.getBaseAxis();if(n&&o.type==="category"&&r.type==="cartesian2d")return{baseAxis:o,otherAxis:r.getOtherAxis(o)}}function updateRealtimeAnimation(a,r,n,o,s,l,u,c){var d,v;l?(v={x:o.x,width:o.width},d={y:o.y,height:o.height}):(v={y:o.y,height:o.height},d={x:o.x,width:o.width}),c||(u?updateProps$1:initProps)(n,{shape:d},r,s,null);var g=r?a.baseAxis.model:null;(u?updateProps$1:initProps)(n,{shape:v},g,s)}function checkPropertiesNotValid(a,r){for(var n=0;n<r.length;n++)if(!isFinite(a[r[n]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(a){return!checkPropertiesNotValid(a,rectPropties)},polar:function(a){return!checkPropertiesNotValid(a,polarPropties)}},getLayout={cartesian2d:function(a,r,n){var o=a.getItemLayout(r),s=n?getLineWidth(n,o):0,l=o.width>0?1:-1,u=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+u*s/2,width:o.width-l*s,height:o.height-u*s}},polar:function(a,r,n){var o=a.getItemLayout(r);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function isZeroOnPolar(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function createPolarPositionMapping(a){return function(r){var n=r?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+n;default:return o}}}(a)}function updateStyle(a,r,n,o,s,l,u,c){var d=r.getItemVisual(n,"style");c||a.setShape("r",o.get(["itemStyle","borderRadius"])||0),a.useStyle(d);var v=o.getShallow("cursor");v&&a.attr("cursor",v);var g=c?u?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":u?s.height>=0?"bottom":"top":s.width>=0?"right":"left",y=getLabelStatesModels(o);setLabelStyle(a,y,{labelFetcher:l,labelDataIndex:n,defaultText:getDefaultLabel(l.getData(),n),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:g});var _=a.getTextContent();if(c&&_){var S=o.get(["label","position"]);a.textConfig.inside=S==="middle"?!0:null,setSectorTextRotation(a,S==="outside"?g:S,createPolarPositionMapping(u),o.get(["label","rotate"]))}setLabelValueAnimation(_,y,l.getRawValue(n),function(T){return getDefaultInterpolatedLabel(r,T)});var x=o.getModel(["emphasis"]);toggleHoverEmphasis(a,x.get("focus"),x.get("blurScope"),x.get("disabled")),setStatesStylesFromModel(a,o),isZeroOnPolar(s)&&(a.style.fill="none",a.style.stroke="none",each$f(a.states,function(T){T.style&&(T.style.fill=T.style.stroke="none")}))}function getLineWidth(a,r){var n=a.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var o=a.get(["itemStyle","borderWidth"])||0,s=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),l=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height);return Math.min(o,s,l)}var LagePathShape=function(){function a(){}return a}(),LargePath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="largeBar",o}return r.prototype.getDefaultShape=function(){return new LagePathShape},r.prototype.buildPath=function(n,o){for(var s=o.points,l=this.baseDimIdx,u=1-this.baseDimIdx,c=[],d=[],v=this.barWidth,g=0;g<s.length;g+=3)d[l]=v,d[u]=s[g+2],c[l]=s[g+l],c[u]=s[g+u],n.rect(c[0],c[1],d[0],d[1])},r}(Path$1);function createLarge$1(a,r,n,o){var s=a.getData(),l=s.getLayout("valueAxisHorizontal")?1:0,u=s.getLayout("largeDataIndices"),c=s.getLayout("size"),d=a.getModel("backgroundStyle"),v=s.getLayout("largeBackgroundPoints");if(v){var g=new LargePath({shape:{points:v},incremental:!!o,silent:!0,z2:0});g.baseDimIdx=l,g.largeDataIndices=u,g.barWidth=c,g.useStyle(d.getItemStyle()),r.add(g),n&&n.push(g)}var y=new LargePath({shape:{points:s.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=l,y.largeDataIndices=u,y.barWidth=c,r.add(y),y.useStyle(s.getVisual("style")),getECData(y).seriesIndex=a.seriesIndex,a.get("silent")||(y.on("mousedown",largePathUpdateDataIndex),y.on("mousemove",largePathUpdateDataIndex)),n&&n.push(y)}var largePathUpdateDataIndex=throttle(function(a){var r=this,n=largePathFindDataIndex(r,a.offsetX,a.offsetY);getECData(r).dataIndex=n>=0?n:null},30,!1);function largePathFindDataIndex(a,r,n){for(var o=a.baseDimIdx,s=1-o,l=a.shape.points,u=a.largeDataIndices,c=[],d=[],v=a.barWidth,g=0,y=l.length/3;g<y;g++){var _=g*3;if(d[o]=v,d[s]=l[_+2],c[o]=l[_+o],c[s]=l[_+s],d[s]<0&&(c[s]+=d[s],d[s]=-d[s]),r>=c[0]&&r<=c[0]+d[0]&&n>=c[1]&&n<=c[1]+d[1])return u[g]}return-1}function createBackgroundShape(a,r,n){if(isCoordinateSystemType(n,"cartesian2d")){var o=r,s=n.getArea();return{x:a?o.x:s.x,y:a?s.y:o.y,width:a?o.width:s.width,height:a?s.height:o.height}}else{var s=n.getArea(),l=r;return{cx:s.cx,cy:s.cy,r0:a?s.r0:l.r0,r:a?s.r:l.r,startAngle:a?l.startAngle:0,endAngle:a?l.endAngle:Math.PI*2}}}function createBackgroundEl(a,r,n){var o=a.type==="polar"?Sector$1:Rect$3;return new o({shape:createBackgroundShape(r,n,a),silent:!0,z2:0})}const BarView$1=BarView;function install$P(a){a.registerChartView(BarView$1),a.registerSeriesModel(BarSeries),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(r,n){var o=r.componentType||"series";n.eachComponent({mainType:o,query:r},function(s){r.sortInfo&&s.axis.setCategorySortInfo(r.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(a,r){return getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function getBasicPieLayout(a,r){var n=getViewRect$5(a,r),o=a.get("center"),s=a.get("radius");isArray$1(s)||(s=[0,s]),isArray$1(o)||(o=[o,o]);var l=parsePercent(n.width,r.getWidth()),u=parsePercent(n.height,r.getHeight()),c=Math.min(l,u),d=parsePercent(s[0],c/2),v=parsePercent(s[1],c/2),g,y,_=a.coordinateSystem;if(_){var S=_.dataToPoint(o);g=S[0]||0,y=S[1]||0}else g=parsePercent(o[0],l)+n.x,y=parsePercent(o[1],u)+n.y;return{cx:g,cy:y,r0:d,r:v}}function pieLayout(a,r,n){r.eachSeriesByType(a,function(o){var s=o.getData(),l=s.mapDimension("value"),u=getViewRect$5(o,n),c=getBasicPieLayout(o,n),d=c.cx,v=c.cy,g=c.r,y=c.r0,_=-o.get("startAngle")*RADIAN$2,S=o.get("minAngle")*RADIAN$2,x=0;s.each(l,function(R){!isNaN(R)&&x++});var T=s.getSum(l),b=Math.PI/(T||x)*2,A=o.get("clockwise"),w=o.get("roseType"),$=o.get("stillShowZeroSum"),C=s.getDataExtent(l);C[0]=0;var P=PI2,M=0,E=_,D=A?1:-1;if(s.setLayout({viewRect:u,r:g}),s.each(l,function(R,L){var O;if(isNaN(R)){s.setItemLayout(L,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:d,cy:v,r0:y,r:w?NaN:g});return}w!=="area"?O=T===0&&$?b:R*b:O=PI2/x,O<S?(O=S,P-=S):M+=R;var N=E+D*O;s.setItemLayout(L,{angle:O,startAngle:E,endAngle:N,clockwise:A,cx:d,cy:v,r0:y,r:w?linearMap$2(R,C,[y,g]):g}),E=N}),P<PI2&&x)if(P<=.001){var I=PI2/x;s.each(l,function(R,L){if(!isNaN(R)){var O=s.getItemLayout(L);O.angle=I,O.startAngle=_+D*L*I,O.endAngle=_+D*(L+1)*I}})}else b=P/M,E=_,s.each(l,function(R,L){if(!isNaN(R)){var O=s.getItemLayout(L),N=O.angle===S?S:R*b;O.startAngle=E,O.endAngle=E+D*N,E+=D*N}})})}function dataFilter$1(a){return{seriesType:a,reset:function(r,n){var o=n.findComponents({mainType:"legend"});if(!(!o||!o.length)){var s=r.getData();s.filterSelf(function(l){for(var u=s.getName(l),c=0;c<o.length;c++)if(!o[c].isSelected(u))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(a,r,n,o,s,l,u,c,d,v){if(a.length<2)return;function g(T){for(var b=T.rB,A=b*b,w=0;w<T.list.length;w++){var $=T.list[w],C=Math.abs($.label.y-n),P=o+$.len,M=P*P,E=Math.sqrt((1-Math.abs(C*C/A))*M),D=r+(E+$.len2)*s,I=D-$.label.x,R=$.targetTextWidth-I*s;constrainTextWidth($,R,!0),$.label.x=D}}function y(T){for(var b={list:[],maxY:0},A={list:[],maxY:0},w=0;w<T.length;w++)if(T[w].labelAlignTo==="none"){var $=T[w],C=$.label.y>n?A:b,P=Math.abs($.label.y-n);if(P>=C.maxY){var M=$.label.x-r-$.len2*s,E=o+$.len,D=Math.abs(M)<E?Math.sqrt(P*P/(1-M*M/E/E)):E;C.rB=D,C.maxY=P}C.list.push($)}g(b),g(A)}for(var _=a.length,S=0;S<_;S++)if(a[S].position==="outer"&&a[S].labelAlignTo==="labelLine"){var x=a[S].label.x-v;a[S].linePoints[1][0]+=x,a[S].label.x=v}shiftLayoutOnY(a,d,d+u)&&y(a)}function avoidOverlap(a,r,n,o,s,l,u,c){for(var d=[],v=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,_=0;_<a.length;_++){var S=a[_].label;isPositionCenter(a[_])||(S.x<r?(g=Math.min(g,S.x),d.push(a[_])):(y=Math.max(y,S.x),v.push(a[_])))}for(var _=0;_<a.length;_++){var x=a[_];if(!isPositionCenter(x)&&x.linePoints){if(x.labelStyleWidth!=null)continue;var S=x.label,T=x.linePoints,b=void 0;x.labelAlignTo==="edge"?S.x<r?b=T[2][0]-x.labelDistance-u-x.edgeDistance:b=u+s-x.edgeDistance-T[2][0]-x.labelDistance:x.labelAlignTo==="labelLine"?S.x<r?b=g-u-x.bleedMargin:b=u+s-y-x.bleedMargin:S.x<r?b=S.x-u-x.bleedMargin:b=u+s-S.x-x.bleedMargin,x.targetTextWidth=b,constrainTextWidth(x,b)}}adjustSingleSide(v,r,n,o,1,s,l,u,c,y),adjustSingleSide(d,r,n,o,-1,s,l,u,c,g);for(var _=0;_<a.length;_++){var x=a[_];if(!isPositionCenter(x)&&x.linePoints){var S=x.label,T=x.linePoints,A=x.labelAlignTo==="edge",w=S.style.padding,$=w?w[1]+w[3]:0,C=S.style.backgroundColor?0:$,P=x.rect.width+C,M=T[1][0]-T[2][0];A?S.x<r?T[2][0]=u+x.edgeDistance+P+x.labelDistance:T[2][0]=u+s-x.edgeDistance-P-x.labelDistance:(S.x<r?T[2][0]=S.x+x.labelDistance:T[2][0]=S.x-x.labelDistance,T[1][0]=T[2][0]+M),T[1][1]=T[2][1]=S.y}}}function constrainTextWidth(a,r,n){if(n===void 0&&(n=!1),a.labelStyleWidth==null){var o=a.label,s=o.style,l=a.rect,u=s.backgroundColor,c=s.padding,d=c?c[1]+c[3]:0,v=s.overflow,g=l.width+(u?0:d);if(r<g||n){var y=l.height;if(v&&v.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",r-d);var _=o.getBoundingRect();o.setStyle("width",Math.ceil(_.width)),o.setStyle("backgroundColor",u)}else{var S=r-d,x=r<g?S:n?S>a.unconstrainedWidth?null:S:null;o.setStyle("width",x)}var T=o.getBoundingRect();l.width=T.width;var b=(o.style.margin||0)+2.1;l.height=T.height+b,l.y-=(l.height-y)/2}}}function isPositionCenter(a){return a.position==="center"}function pieLabelLayout(a){var r=a.getData(),n=[],o,s,l=!1,u=(a.get("minShowLabelAngle")||0)*RADIAN$1,c=r.getLayout("viewRect"),d=r.getLayout("r"),v=c.width,g=c.x,y=c.y,_=c.height;function S(M){M.ignore=!0}function x(M){if(!M.ignore)return!0;for(var E in M.states)if(M.states[E].ignore===!1)return!0;return!1}r.each(function(M){var E=r.getItemGraphicEl(M),D=E.shape,I=E.getTextContent(),R=E.getTextGuideLine(),L=r.getItemModel(M),O=L.getModel("label"),N=O.get("position")||L.get(["emphasis","label","position"]),F=O.get("distanceToLabelLine"),B=O.get("alignTo"),z=parsePercent(O.get("edgeDistance"),v),U=O.get("bleedMargin"),H=L.getModel("labelLine"),Y=H.get("length");Y=parsePercent(Y,v);var X=H.get("length2");if(X=parsePercent(X,v),Math.abs(D.endAngle-D.startAngle)<u){each$f(I.states,S),each$f(R.states,S),I.ignore=R.ignore=!0;return}if(!!x(I)){var te=(D.startAngle+D.endAngle)/2,oe=Math.cos(te),ce=Math.sin(te),de,Z,re,q;o=D.cx,s=D.cy;var J=N==="inside"||N==="inner";if(N==="center")de=D.cx,Z=D.cy,q="center";else{var he=(J?(D.r+D.r0)/2*oe:D.r*oe)+o,fe=(J?(D.r+D.r0)/2*ce:D.r*ce)+s;if(de=he+oe*3,Z=fe+ce*3,!J){var ee=he+oe*(Y+d-D.r),ne=fe+ce*(Y+d-D.r),V=ee+(oe<0?-1:1)*X,G=ne;B==="edge"?de=oe<0?g+z:g+v-z:de=V+(oe<0?-F:F),Z=G,re=[[he,fe],[ee,ne],[V,G]]}q=J?"center":B==="edge"?oe>0?"right":"left":oe>0?"left":"right"}var W=Math.PI,K=0,Q=O.get("rotate");if(isNumber(Q))K=Q*(W/180);else if(N==="center")K=0;else if(Q==="radial"||Q===!0){var ie=oe<0?-te+W:-te;K=ie}else if(Q==="tangential"&&N!=="outside"&&N!=="outer"){var ue=Math.atan2(oe,ce);ue<0&&(ue=W*2+ue);var se=ce>0;se&&(ue=W+ue),K=ue-W}if(l=!!K,I.x=de,I.y=Z,I.rotation=K,I.setStyle({verticalAlign:"middle"}),J){I.setStyle({align:q});var pe=I.states.select;pe&&(pe.x+=I.x,pe.y+=I.y)}else{var le=I.getBoundingRect().clone();le.applyTransform(I.getComputedTransform());var ae=(I.style.margin||0)+2.1;le.y-=ae/2,le.height+=ae,n.push({label:I,labelLine:R,position:N,len:Y,len2:X,minTurnAngle:H.get("minTurnAngle"),maxSurfaceAngle:H.get("maxSurfaceAngle"),surfaceNormal:new Point$1(oe,ce),linePoints:re,textAlign:q,labelDistance:F,labelAlignTo:B,edgeDistance:z,bleedMargin:U,rect:le,unconstrainedWidth:le.width,labelStyleWidth:I.style.width})}E.setTextConfig({inside:J})}}),!l&&a.get("avoidLabelOverlap")&&avoidOverlap(n,o,s,d,v,_,g,y);for(var T=0;T<n.length;T++){var b=n[T],A=b.label,w=b.labelLine,$=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:b.textAlign}),$&&(each$f(A.states,S),A.ignore=!0);var C=A.states.select;C&&(C.x+=A.x,C.y+=A.y)}if(w){var P=b.linePoints;$||!P?(each$f(w.states,S),w.ignore=!0):(limitTurnAngle(P,b.minTurnAngle),limitSurfaceAngle(P,b.surfaceNormal,b.maxSurfaceAngle),w.setShape({points:P}),A.__hostTarget.textGuideLineConfig={anchor:new Point$1(P[0][0],P[0][1])})}}}function getSectorCornerRadius(a,r,n){var o=a.get("borderRadius");if(o==null)return n?{cornerRadius:0}:null;isArray$1(o)||(o=[o,o,o,o]);var s=Math.abs(r.r||0-r.r0||0);return{cornerRadius:map$1(o,function(l){return parsePercent$1(l,s)})}}var PiePiece=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this)||this;l.z2=2;var u=new ZRText$1;return l.setTextContent(u),l.updateData(n,o,s,!0),l}return r.prototype.updateData=function(n,o,s,l){var u=this,c=n.hostModel,d=n.getItemModel(o),v=d.getModel("emphasis"),g=n.getItemLayout(o),y=extend(getSectorCornerRadius(d.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){u.setShape(y);return}if(l){u.setShape(y);var _=c.getShallow("animationType");c.ecModel.ssr?(initProps(u,{scaleX:0,scaleY:0},c,{dataIndex:o,isFrom:!0}),u.originX=y.cx,u.originY=y.cy):_==="scale"?(u.shape.r=g.r0,initProps(u,{shape:{r:g.r}},c,o)):s!=null?(u.setShape({startAngle:s,endAngle:s}),initProps(u,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},c,o)):(u.shape.endAngle=g.startAngle,updateProps$1(u,{shape:{endAngle:g.endAngle}},c,o))}else saveOldStyle(u),updateProps$1(u,{shape:y},c,o);u.useStyle(n.getItemVisual(o,"style")),setStatesStylesFromModel(u,d);var S=(g.startAngle+g.endAngle)/2,x=c.get("selectedOffset"),T=Math.cos(S)*x,b=Math.sin(S)*x,A=d.getShallow("cursor");A&&u.attr("cursor",A),this._updateLabel(c,n,o),u.ensureState("emphasis").shape=extend({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},getSectorCornerRadius(v.getModel("itemStyle"),g)),extend(u.ensureState("select"),{x:T,y:b,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),g)}),extend(u.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),g)});var w=u.getTextGuideLine(),$=u.getTextContent();w&&extend(w.ensureState("select"),{x:T,y:b}),extend($.ensureState("select"),{x:T,y:b}),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},r.prototype._updateLabel=function(n,o,s){var l=this,u=o.getItemModel(s),c=u.getModel("labelLine"),d=o.getItemVisual(s,"style"),v=d&&d.fill,g=d&&d.opacity;setLabelStyle(l,getLabelStatesModels(u),{labelFetcher:o.hostModel,labelDataIndex:s,inheritColor:v,defaultOpacity:g,defaultText:n.getFormattedLabel(s,"normal")||o.getName(s)});var y=l.getTextContent();l.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var _=n.get(["label","position"]);if(_!=="outside"&&_!=="outer")l.removeTextGuideLine();else{var S=this.getTextGuideLine();S||(S=new Polyline$3,this.setTextGuideLine(S)),setLabelLineStyle(this,getLabelLineStatesModels(u),{stroke:v,opacity:retrieve3(c.get(["lineStyle","opacity"]),g,1)})}},r}(Sector$1),PieView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return r.prototype.render=function(n,o,s,l){var u=n.getData(),c=this._data,d=this.group,v;if(!c&&u.count()>0){for(var g=u.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<u.count();++y)g=u.getItemLayout(y);g&&(v=g.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),u.count()===0&&n.get("showEmptyCircle")){var _=new Sector$1({shape:getBasicPieLayout(n,s)});_.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,d.add(_)}u.diff(c).add(function(S){var x=new PiePiece(u,S,v);u.setItemGraphicEl(S,x),d.add(x)}).update(function(S,x){var T=c.getItemGraphicEl(x);T.updateData(u,S,v),T.off("click"),d.add(T),u.setItemGraphicEl(S,T)}).remove(function(S){var x=c.getItemGraphicEl(S);removeElementWithFadeOut(x,n,S)}).execute(),pieLabelLayout(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=u)},r.prototype.dispose=function(){},r.prototype.containPoint=function(n,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=n[0]-l.cx,c=n[1]-l.cy,d=Math.sqrt(u*u+c*c);return d<=l.r&&d>=l.r0}},r.type="pie",r}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(a,r,n){r=isArray$1(r)&&{coordDimensions:r}||extend({encodeDefine:a.getEncode()},r);var o=a.getSource(),s=prepareSeriesDataSchema(o,r).dimensions,l=new SeriesData$1(s,a);return l.initData(o,n),l}var LegendVisualProvider=function(){function a(r,n){this._getDataWithEncodedVisual=r,this._getRawData=n}return a.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)},a.prototype.containName=function(r){var n=this._getRawData();return n.indexOfName(r)>=0},a.prototype.indexOfName=function(r){var n=this._getDataWithEncodedVisual();return n.indexOfName(r)},a.prototype.getItemVisual=function(r,n){var o=this._getDataWithEncodedVisual();return o.getItemVisual(r,n)},a}();const LegendVisualProvider$1=LegendVisualProvider;var PieSeriesModel=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},r.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){var n=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),o=[];return n.each(n.mapDimension("value"),function(s){o.push(s)}),this.seats=getPercentSeats(o,n.hostModel.get("percentPrecision")),n},r.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.call(this,n);return o.percent=this.seats[n],o.$vars.push("percent"),o},r.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var o=n.labelLine,s=n.emphasis.labelLine;o.show=o.show&&n.label.show,s.show=s.show&&n.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(a){return{seriesType:a,reset:function(r,n){var o=r.getData();o.filterSelf(function(s){var l=o.mapDimension("value"),u=o.get(l,s);return!(isNumber(u)&&!isNaN(u)&&u<0)})}}}function install$O(a){a.registerChartView(PieView$1),a.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",a.registerAction),a.registerLayout(curry$1(pieLayout,"pie")),a.registerProcessor(dataFilter$1("pie")),a.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.hasSymbolVisual=!0,n}return r.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},r.prototype.getProgressive=function(){var n=this.option.progressive;return n==null?this.option.large?5e3:this.get("progressive"):n},r.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n==null?this.option.large?1e4:this.get("progressiveThreshold"):n},r.prototype.brushSelector=function(n,o,s){return s.point(o.getItemLayout(n))},r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},r.type="series.scatter",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},r}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function a(){}return a}(),LargeSymbolPath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o._off=0,o.hoverDataIdx=-1,o}return r.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.buildPath=function(n,o){var s=o.points,l=o.size,u=this.symbolProxy,c=u.shape,d=n.getContext?n.getContext():n,v=d&&l[0]<BOOST_SIZE_THRESHOLD,g=this.softClipShape,y;if(v){this._ctx=d;return}for(this._ctx=null,y=this._off;y<s.length;){var _=s[y++],S=s[y++];isNaN(_)||isNaN(S)||g&&!g.contain(_,S)||(c.x=_-l[0]/2,c.y=S-l[1]/2,c.width=l[0],c.height=l[1],u.buildPath(n,c,!0))}this.incremental&&(this._off=y,this.notClear=!0)},r.prototype.afterBrush=function(){var n=this.shape,o=n.points,s=n.size,l=this._ctx,u=this.softClipShape,c;if(!!l){for(c=this._off;c<o.length;){var d=o[c++],v=o[c++];isNaN(d)||isNaN(v)||u&&!u.contain(d,v)||l.fillRect(d-s[0]/2,v-s[1]/2,s[0],s[1])}this.incremental&&(this._off=c,this.notClear=!0)}},r.prototype.findDataIndex=function(n,o){for(var s=this.shape,l=s.points,u=s.size,c=Math.max(u[0],4),d=Math.max(u[1],4),v=l.length/2-1;v>=0;v--){var g=v*2,y=l[g]-c/2,_=l[g+1]-d/2;if(n>=y&&o>=_&&n<=y+c&&o<=_+d)return v}return-1},r.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();if(n=s[0],o=s[1],l.contain(n,o)){var u=this.hoverDataIdx=this.findDataIndex(n,o);return u>=0}return this.hoverDataIdx=-1,!1},r.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var o=this.shape,s=o.points,l=o.size,u=l[0],c=l[1],d=1/0,v=1/0,g=-1/0,y=-1/0,_=0;_<s.length;){var S=s[_++],x=s[_++];d=Math.min(S,d),g=Math.max(S,g),v=Math.min(x,v),y=Math.max(x,y)}n=this._rect=new BoundingRect$1(d-u/2,v-c/2,g-d+u,y-v+c)}return n},r}(Path$1),LargeSymbolDraw=function(){function a(){this.group=new Group$4}return a.prototype.updateData=function(r,n){this._clear();var o=this._create();o.setShape({points:r.getLayout("points")}),this._setCommon(o,r,n)},a.prototype.updateLayout=function(r){var n=r.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var s=(o.endIndex-o.startIndex)*2,l=o.startIndex*4*2;n=new Float32Array(n.buffer,l,s)}o.setShape("points",n),o.reset()})},a.prototype.incrementalPrepareUpdate=function(r){this._clear()},a.prototype.incrementalUpdate=function(r,n,o){var s=this._newAdded[0],l=n.getLayout("points"),u=s&&s.shape.points;if(u&&u.length<2e4){var c=u.length,d=new Float32Array(c+l.length);d.set(u),d.set(l,c),s.endIndex=r.end,s.setShape({points:d})}else{this._newAdded=[];var v=this._create();v.startIndex=r.start,v.endIndex=r.end,v.incremental=!0,v.setShape({points:l}),this._setCommon(v,n,o)}},a.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},a.prototype._create=function(){var r=new LargeSymbolPath({cursor:"default"});return r.ignoreCoarsePointer=!0,this.group.add(r),this._newAdded.push(r),r},a.prototype._setCommon=function(r,n,o){var s=n.hostModel;o=o||{};var l=n.getVisual("symbolSize");r.setShape("size",l instanceof Array?l:[l,l]),r.softClipShape=o.clipShape||null,r.symbolProxy=createSymbol$1(n.getVisual("symbol"),0,0,0,0),r.setColor=r.symbolProxy.setColor;var u=r.shape.size[0]<BOOST_SIZE_THRESHOLD;r.useStyle(s.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var c=n.getVisual("style"),d=c&&c.fill;d&&r.setColor(d);var v=getECData(r);v.seriesIndex=s.seriesIndex,r.on("mousemove",function(g){v.dataIndex=null;var y=r.hoverDataIdx;y>=0&&(v.dataIndex=y+(r.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=n.getData(),u=this._updateSymbolDraw(l,n);u.updateData(l,{clipShape:this._getClipShape(n)}),this._finished=!0},r.prototype.incrementalPrepareRender=function(n,o,s){var l=n.getData(),u=this._updateSymbolDraw(l,n);u.incrementalPrepareUpdate(l),this._finished=!1},r.prototype.incrementalRender=function(n,o,s){this._symbolDraw.incrementalUpdate(n,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=n.end===o.getData().count()},r.prototype.updateTransform=function(n,o,s){var l=n.getData();if(this.group.dirty(),!this._finished||l.count()>1e4)return{update:!0};var u=pointsLayout("").reset(n,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout(l)},r.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},r.prototype._getClipShape=function(n){var o=n.coordinateSystem,s=o&&o.getArea&&o.getArea();return n.get("clip",!0)?s:null},r.prototype._updateSymbolDraw=function(n,o){var s=this._symbolDraw,l=o.pipelineContext,u=l.large;return(!s||u!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=u?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=u,this.group.removeAll()),this.group.add(s.group),s},r.prototype.remove=function(n,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},r.prototype.dispose=function(){},r.type="scatter",r}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.type="grid",r.dependencies=["xAxis","yAxis"],r.layoutMode="box",r.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},r}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},r.type="cartesian2dAxis",r}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge$1({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge$1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge$1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(a,r,n,o){each$f(AXIS_TYPES,function(s,l){var u=merge$1(merge$1({},axisDefault[l],!0),o,!0),c=function(d){__extends(v,d);function v(){var g=d!==null&&d.apply(this,arguments)||this;return g.type=r+"Axis."+l,g}return v.prototype.mergeDefaultAndTheme=function(g,y){var _=fetchLayoutMode(this),S=_?getLayoutParams(g):{},x=y.getTheme();merge$1(g,x.get(l+"Axis")),merge$1(g,this.getDefaultOption()),g.type=getAxisType(g),_&&mergeLayoutParam(g,S,_)},v.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},v.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.type=r+"Axis."+l,v.defaultOption=u,v}(n);a.registerComponentModel(c)}),a.registerSubTypeDefaulter(r+"Axis",getAxisType)}function getAxisType(a){return a.type||(a.data?"category":"value")}var Cartesian=function(){function a(r){this.type="cartesian",this._dimList=[],this._axes={},this.name=r||""}return a.prototype.getAxis=function(r){return this._axes[r]},a.prototype.getAxes=function(){return map$1(this._dimList,function(r){return this._axes[r]},this)},a.prototype.getAxesByScale=function(r){return r=r.toLowerCase(),filter(this.getAxes(),function(n){return n.scale.type===r})},a.prototype.addAxis=function(r){var n=r.dim;this._axes[n]=r,this._dimList.push(n)},a}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(a){return a.type==="interval"||a.type==="time"}var Cartesian2D=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=cartesian2DDimensions,n}return r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(n)||!canCalculateAffineTransform(o))){var s=n.getExtent(),l=o.getExtent(),u=this.dataToPoint([s[0],l[0]]),c=this.dataToPoint([s[1],l[1]]),d=s[1]-s[0],v=l[1]-l[0];if(!(!d||!v)){var g=(c[0]-u[0])/d,y=(c[1]-u[1])/v,_=u[0]-s[0]*g,S=u[1]-l[0]*y,x=this._transform=[g,0,0,y,_,S];this._invTransform=invert([],x)}}},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},r.prototype.containPoint=function(n){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(n[0]))&&s.contain(s.toLocalCoord(n[1]))},r.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},r.prototype.containZone=function(n,o){var s=this.dataToPoint(n),l=this.dataToPoint(o),u=this.getArea(),c=new BoundingRect$1(s[0],s[1],l[0]-s[0],l[1]-s[1]);return u.intersect(c)},r.prototype.dataToPoint=function(n,o,s){s=s||[];var l=n[0],u=n[1];if(this._transform&&l!=null&&isFinite(l)&&u!=null&&isFinite(u))return applyTransform$1(s,n,this._transform);var c=this.getAxis("x"),d=this.getAxis("y");return s[0]=c.toGlobalCoord(c.dataToCoord(l,o)),s[1]=d.toGlobalCoord(d.dataToCoord(u,o)),s},r.prototype.clampData=function(n,o){var s=this.getAxis("x").scale,l=this.getAxis("y").scale,u=s.getExtent(),c=l.getExtent(),d=s.parse(n[0]),v=l.parse(n[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(u[0],u[1]),d),Math.max(u[0],u[1])),o[1]=Math.min(Math.max(Math.min(c[0],c[1]),v),Math.max(c[0],c[1])),o},r.prototype.pointToData=function(n,o){var s=[];if(this._invTransform)return applyTransform$1(s,n,this._invTransform);var l=this.getAxis("x"),u=this.getAxis("y");return s[0]=l.coordToData(l.toLocalCoord(n[0]),o),s[1]=u.coordToData(u.toLocalCoord(n[1]),o),s},r.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},r.prototype.getArea=function(){var n=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),s=Math.min(n[0],n[1]),l=Math.min(o[0],o[1]),u=Math.max(n[0],n[1])-s,c=Math.max(o[0],o[1])-l;return new BoundingRect$1(s,l,u,c)},r}(Cartesian$1),Axis2D=function(a){__extends(r,a);function r(n,o,s,l,u){var c=a.call(this,n,o,s)||this;return c.index=0,c.type=l||"value",c.position=u||"bottom",c}return r.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},r.prototype.getGlobalExtent=function(n){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),n&&o[0]>o[1]&&o.reverse(),o},r.prototype.pointToData=function(n,o){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),o)},r.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},r}(Axis$1);const Axis2D$1=Axis2D;function layout$2(a,r,n){n=n||{};var o=a.coordinateSystem,s=r.axis,l={},u=s.getAxesOnZeroOf()[0],c=s.position,d=u?"onZero":c,v=s.dim,g=o.getRect(),y=[g.x,g.x+g.width,g.y,g.y+g.height],_={left:0,right:1,top:0,bottom:1,onZero:2},S=r.get("offset")||0,x=v==="x"?[y[2]-S,y[3]+S]:[y[0]-S,y[1]+S];if(u){var T=u.toGlobalCoord(u.dataToCoord(0));x[_.onZero]=Math.max(Math.min(T,x[1]),x[0])}l.position=[v==="y"?x[_[d]]:y[0],v==="x"?x[_[d]]:y[3]],l.rotation=Math.PI/2*(v==="x"?0:1);var b={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=b[c],l.labelOffset=u?x[_[c]]-x[_.onZero]:0,r.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),retrieve(n.labelInside,r.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var A=r.get(["axisLabel","rotate"]);return l.labelRotate=d==="top"?-A:A,l.z2=1,l}function isCartesian2DSeries(a){return a.get("coordinateSystem")==="cartesian2d"}function findAxisModels(a){var r={xAxisModel:null,yAxisModel:null};return each$f(r,function(n,o){var s=o.replace(/Model$/,""),l=a.getReferringComponents(s,SINGLE_REFERRING).models[0];r[o]=l}),r}var mathLog=Math.log;function alignScaleTicks(a,r,n){var o=IntervalScale$1.prototype,s=o.getTicks.call(n),l=o.getTicks.call(n,!0),u=s.length-1,c=o.getInterval.call(n),d=getScaleExtent(a,r),v=d.extent,g=d.fixMin,y=d.fixMax;if(a.type==="log"){var _=mathLog(a.base);v=[mathLog(v[0])/_,mathLog(v[1])/_]}a.setExtent(v[0],v[1]),a.calcNiceExtent({splitNumber:u,fixMin:g,fixMax:y});var S=o.getExtent.call(a);g&&(v[0]=S[0]),y&&(v[1]=S[1]);var x=o.getInterval.call(a),T=v[0],b=v[1];if(g&&y)x=(b-T)/u;else if(g)for(b=v[0]+x*u;b<v[1]&&isFinite(b)&&isFinite(v[1]);)x=increaseInterval(x),b=v[0]+x*u;else if(y)for(T=v[1]-x*u;T>v[0]&&isFinite(T)&&isFinite(v[0]);)x=increaseInterval(x),T=v[1]-x*u;else{var A=a.getTicks().length-1;A>u&&(x=increaseInterval(x));var w=x*u;b=Math.ceil(v[1]/x)*x,T=round$3(b-w),T<0&&v[0]>=0?(T=0,b=round$3(w)):b>0&&v[1]<=0&&(b=0,T=-round$3(w))}var $=(s[0].value-l[0].value)/c,C=(s[u].value-l[u].value)/c;o.setExtent.call(a,T+x*$,b+x*C),o.setInterval.call(a,x),($||C)&&o.setNiceExtent.call(a,T+x,b-x)}var Grid=function(){function a(r,n,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(r,n,o),this.model=r}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(r,n){var o=this._axesMap;this._updateScale(r,this.model);function s(u){var c,d=keys(u),v=d.length;if(!!v){for(var g=[],y=v-1;y>=0;y--){var _=+d[y],S=u[_],x=S.model,T=S.scale;isIntervalOrLogScale(T)&&x.get("alignTicks")&&x.get("interval")==null?g.push(S):(niceScaleExtent(T,x),isIntervalOrLogScale(T)&&(c=S))}g.length&&(c||(c=g.pop(),niceScaleExtent(c.scale,c.model)),each$f(g,function(b){alignScaleTicks(b.scale,b.model,c.scale)}))}}s(o.x),s(o.y);var l={};each$f(o.x,function(u){fixAxisOnZero(o,"y",u,l)}),each$f(o.y,function(u){fixAxisOnZero(o,"x",u,l)}),this.resize(this.model,n)},a.prototype.resize=function(r,n,o){var s=r.getBoxLayoutParams(),l=!o&&r.get("containLabel"),u=getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});this._rect=u;var c=this._axesList;d(),l&&(each$f(c,function(v){if(!v.model.get(["axisLabel","inside"])){var g=estimateLabelUnionRect(v);if(g){var y=v.isHorizontal()?"height":"width",_=v.model.get(["axisLabel","margin"]);u[y]-=g[y]+_,v.position==="top"?u.y+=g.height+_:v.position==="left"&&(u.x+=g.width+_)}}}),d()),each$f(this._coordsList,function(v){v.calcAffineTransform()});function d(){each$f(c,function(v){var g=v.isHorizontal(),y=g?[0,u.width]:[0,u.height],_=v.inverse?1:0;v.setExtent(y[_],y[1-_]),updateAxisTransform(v,g?u.x:u.y)})}},a.prototype.getAxis=function(r,n){var o=this._axesMap[r];if(o!=null)return o[n||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(r,n){if(r!=null&&n!=null){var o="x"+r+"y"+n;return this._coordsMap[o]}isObject$5(r)&&(n=r.yAxisIndex,r=r.xAxisIndex);for(var s=0,l=this._coordsList;s<l.length;s++)if(l[s].getAxis("x").index===r||l[s].getAxis("y").index===n)return l[s]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(r,n,o){var s=this._findConvertTarget(n);return s.cartesian?s.cartesian.dataToPoint(o):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(o)):null},a.prototype.convertFromPixel=function(r,n,o){var s=this._findConvertTarget(n);return s.cartesian?s.cartesian.pointToData(o):s.axis?s.axis.coordToData(s.axis.toLocalCoord(o)):null},a.prototype._findConvertTarget=function(r){var n=r.seriesModel,o=r.xAxisModel||n&&n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],s=r.yAxisModel||n&&n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],l=r.gridModel,u=this._coordsList,c,d;if(n)c=n.coordinateSystem,indexOf(u,c)<0&&(c=null);else if(o&&s)c=this.getCartesian(o.componentIndex,s.componentIndex);else if(o)d=this.getAxis("x",o.componentIndex);else if(s)d=this.getAxis("y",s.componentIndex);else if(l){var v=l.coordinateSystem;v===this&&(c=this._coordsList[0])}return{cartesian:c,axis:d}},a.prototype.containPoint=function(r){var n=this._coordsList[0];if(n)return n.containPoint(r)},a.prototype._initCartesian=function(r,n,o){var s=this,l=this,u={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},d={x:0,y:0};if(n.eachComponent("xAxis",v("x"),this),n.eachComponent("yAxis",v("y"),this),!d.x||!d.y){this._axesMap={},this._axesList=[];return}this._axesMap=c,each$f(c.x,function(g,y){each$f(c.y,function(_,S){var x="x"+y+"y"+S,T=new Cartesian2D(x);T.master=s,T.model=r,s._coordsMap[x]=T,s._coordsList.push(T),T.addAxis(g),T.addAxis(_)})});function v(g){return function(y,_){if(!!isAxisUsedInTheGrid(y,r)){var S=y.get("position");g==="x"?S!=="top"&&S!=="bottom"&&(S=u.bottom?"top":"bottom"):S!=="left"&&S!=="right"&&(S=u.left?"right":"left"),u[S]=!0;var x=new Axis2D$1(g,createScaleByModel$1(y),[0,0],y.get("type"),S),T=x.type==="category";x.onBand=T&&y.get("boundaryGap"),x.inverse=y.get("inverse"),y.axis=x,x.model=y,x.grid=l,x.index=_,l._axesList.push(x),c[g][_]=x,d[g]++}}}},a.prototype._updateScale=function(r,n){each$f(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),s.type==="category"){var l=s.model.get("categorySortInfo");s.scale.setSortInfo(l)}}),r.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,c=l.yAxisModel;if(!isAxisUsedInTheGrid(u,n)||!isAxisUsedInTheGrid(c,n))return;var d=this.getCartesian(u.componentIndex,c.componentIndex),v=s.getData(),g=d.getAxis("x"),y=d.getAxis("y");o(v,g),o(v,y)}},this);function o(s,l){each$f(getDataDimensionsOnAxis(s,l.dim),function(u){l.scale.unionExtentFromData(s,u)})}},a.prototype.getTooltipAxes=function(r){var n=[],o=[];return each$f(this.getCartesians(),function(s){var l=r!=null&&r!=="auto"?s.getAxis(r):s.getBaseAxis(),u=s.getOtherAxis(l);indexOf(n,l)<0&&n.push(l),indexOf(o,u)<0&&o.push(u)}),{baseAxes:n,otherAxes:o}},a.create=function(r,n){var o=[];return r.eachComponent("grid",function(s,l){var u=new a(s,r,n);u.name="grid_"+l,u.resize(s,n,!0),s.coordinateSystem=u,o.push(u)}),r.eachSeries(function(s){if(!!isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,c=l.yAxisModel,d=u.getCoordSysModel(),v=d.coordinateSystem;s.coordinateSystem=v.getCartesian(u.componentIndex,c.componentIndex)}}),o},a.dimensions=cartesian2DDimensions,a}();function isAxisUsedInTheGrid(a,r){return a.getCoordSysModel()===r}function fixAxisOnZero(a,r,n,o){n.getAxesOnZeroOf=function(){return l?[l]:[]};var s=a[r],l,u=n.model,c=u.get(["axisLine","onZero"]),d=u.get(["axisLine","onZeroAxisIndex"]);if(!c)return;if(d!=null)canOnZeroToAxis(s[d])&&(l=s[d]);else for(var v in s)if(s.hasOwnProperty(v)&&canOnZeroToAxis(s[v])&&!o[g(s[v])]){l=s[v];break}l&&(o[g(l)]=!0);function g(y){return y.dim+"_"+y.index}}function canOnZeroToAxis(a){return a&&a.type!=="category"&&a.type!=="time"&&ifAxisCrossZero(a)}function updateAxisTransform(a,r){var n=a.getExtent(),o=n[0]+n[1];a.toGlobalCoord=a.dim==="x"?function(s){return s+r}:function(s){return o-s+r},a.toLocalCoord=a.dim==="x"?function(s){return s-r}:function(s){return o-s+r}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function a(r,n){this.group=new Group$4,this.opt=n,this.axisModel=r,defaults(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$4({x:n.position[0],y:n.position[1],rotation:n.rotation});o.updateTransform(),this._transformGroup=o}return a.prototype.hasBuilder=function(r){return!!builders[r]},a.prototype.add=function(r){builders[r](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(r,n,o){var s=remRadian(n-r),l,u;return isRadianAroundZero(s)?(u=o>0?"top":"bottom",l="center"):isRadianAroundZero(s-PI$3)?(u=o>0?"bottom":"top",l="center"):(u="middle",s>0&&s<PI$3?l=o>0?"right":"left":l=o>0?"left":"right"),{rotation:s,textAlign:l,textVerticalAlign:u}},a.makeAxisEventDataBase=function(r){var n={componentType:r.mainType,componentIndex:r.componentIndex};return n[r.mainType+"Index"]=r.componentIndex,n},a.isLabelSilent=function(r){var n=r.get("tooltip");return r.get("silent")||!(r.get("triggerEvent")||n&&n.show)},a}(),builders={axisLine:function(a,r,n,o){var s=r.get(["axisLine","show"]);if(s==="auto"&&a.handleAutoShown&&(s=a.handleAutoShown("axisLine")),!!s){var l=r.axis.getExtent(),u=o.transform,c=[l[0],0],d=[l[1],0],v=c[0]>d[0];u&&(applyTransform$1(c,c,u),applyTransform$1(d,d,u));var g=extend({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),y=new Line$3({shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:g,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(y.shape,y.style.lineWidth),y.anid="line",n.add(y);var _=r.get(["axisLine","symbol"]);if(_!=null){var S=r.get(["axisLine","symbolSize"]);isString(_)&&(_=[_,_]),(isString(S)||isNumber(S))&&(S=[S,S]);var x=normalizeSymbolOffset(r.get(["axisLine","symbolOffset"])||0,S),T=S[0],b=S[1];each$f([{rotate:a.rotation+Math.PI/2,offset:x[0],r:0},{rotate:a.rotation-Math.PI/2,offset:x[1],r:Math.sqrt((c[0]-d[0])*(c[0]-d[0])+(c[1]-d[1])*(c[1]-d[1]))}],function(A,w){if(_[w]!=="none"&&_[w]!=null){var $=createSymbol$1(_[w],-T/2,-b/2,T,b,g.stroke,!0),C=A.r+A.offset,P=v?d:c;$.attr({rotation:A.rotate,x:P[0]+C*Math.cos(a.rotation),y:P[1]-C*Math.sin(a.rotation),silent:!0,z2:11}),n.add($)}})}}},axisTickLabel:function(a,r,n,o){var s=buildAxisMajorTicks(n,o,r,a),l=buildAxisLabel(n,o,r,a);if(fixMinMaxLabelShow(r,l,s),buildAxisMinorTicks(n,o,r,a.tickDirection),r.get(["axisLabel","hideOverlap"])){var u=prepareLayoutList(map$1(l,function(c){return{label:c,priority:c.z2,defaultAttr:{ignore:c.ignore}}}));hideOverlap(u)}},axisName:function(a,r,n,o){var s=retrieve(a.axisName,r.get("name"));if(!!s){var l=r.get("nameLocation"),u=a.nameDirection,c=r.getModel("nameTextStyle"),d=r.get("nameGap")||0,v=r.axis.getExtent(),g=v[0]>v[1]?-1:1,y=[l==="start"?v[0]-g*d:l==="end"?v[1]+g*d:(v[0]+v[1])/2,isNameLocationCenter(l)?a.labelOffset+u*d:0],_,S=r.get("nameRotate");S!=null&&(S=S*PI$3/180);var x;isNameLocationCenter(l)?_=AxisBuilder.innerTextLayout(a.rotation,S!=null?S:a.rotation,u):(_=endTextLayout(a.rotation,l,S||0,v),x=a.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(_.rotation)),!isFinite(x)&&(x=null)));var T=c.getFont(),b=r.get("nameTruncate",!0)||{},A=b.ellipsis,w=retrieve(a.nameTruncateMaxWidth,b.maxWidth,x),$=new ZRText$1({x:y[0],y:y[1],rotation:_.rotation,silent:AxisBuilder.isLabelSilent(r),style:createTextStyle(c,{text:s,font:T,overflow:"truncate",width:w,ellipsis:A,fill:c.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:c.get("align")||_.textAlign,verticalAlign:c.get("verticalAlign")||_.textVerticalAlign}),z2:1});if(setTooltipConfig({el:$,componentModel:r,itemName:s}),$.__fullText=s,$.anid="name",r.get("triggerEvent")){var C=AxisBuilder.makeAxisEventDataBase(r);C.targetType="axisName",C.name=s,getECData($).eventData=C}o.add($),$.updateTransform(),n.add($),$.decomposeTransform()}}};function endTextLayout(a,r,n,o){var s=remRadian(n-a),l,u,c=o[0]>o[1],d=r==="start"&&!c||r!=="start"&&c;return isRadianAroundZero(s-PI$3/2)?(u=d?"bottom":"top",l="center"):isRadianAroundZero(s-PI$3*1.5)?(u=d?"top":"bottom",l="center"):(u="middle",s<PI$3*1.5&&s>PI$3/2?l=d?"left":"right":l=d?"right":"left"),{rotation:s,textAlign:l,textVerticalAlign:u}}function fixMinMaxLabelShow(a,r,n){if(!shouldShowAllLabels(a.axis)){var o=a.get(["axisLabel","showMinLabel"]),s=a.get(["axisLabel","showMaxLabel"]);r=r||[],n=n||[];var l=r[0],u=r[1],c=r[r.length-1],d=r[r.length-2],v=n[0],g=n[1],y=n[n.length-1],_=n[n.length-2];o===!1?(ignoreEl(l),ignoreEl(v)):isTwoLabelOverlapped(l,u)&&(o?(ignoreEl(u),ignoreEl(g)):(ignoreEl(l),ignoreEl(v))),s===!1?(ignoreEl(c),ignoreEl(y)):isTwoLabelOverlapped(d,c)&&(s?(ignoreEl(d),ignoreEl(_)):(ignoreEl(c),ignoreEl(y)))}}function ignoreEl(a){a&&(a.ignore=!0)}function isTwoLabelOverlapped(a,r){var n=a&&a.getBoundingRect().clone(),o=r&&r.getBoundingRect().clone();if(!(!n||!o)){var s=identity([]);return rotate(s,s,-a.rotation),n.applyTransform(mul([],s,a.getLocalTransform())),o.applyTransform(mul([],s,r.getLocalTransform())),n.intersect(o)}}function isNameLocationCenter(a){return a==="middle"||a==="center"}function createTicks(a,r,n,o,s){for(var l=[],u=[],c=[],d=0;d<a.length;d++){var v=a[d].coord;u[0]=v,u[1]=0,c[0]=v,c[1]=n,r&&(applyTransform$1(u,u,r),applyTransform$1(c,c,r));var g=new Line$3({shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid=s+"_"+a[d].tickValue,l.push(g)}return l}function buildAxisMajorTicks(a,r,n,o){var s=n.axis,l=n.getModel("axisTick"),u=l.get("show");if(u==="auto"&&o.handleAutoShown&&(u=o.handleAutoShown("axisTick")),!(!u||s.scale.isBlank())){for(var c=l.getModel("lineStyle"),d=o.tickDirection*l.get("length"),v=s.getTicksCoords(),g=createTicks(v,r.transform,d,defaults(c.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)a.add(g[y]);return g}}function buildAxisMinorTicks(a,r,n,o){var s=n.axis,l=n.getModel("minorTick");if(!(!l.get("show")||s.scale.isBlank())){var u=s.getMinorTicksCoords();if(!!u.length)for(var c=l.getModel("lineStyle"),d=o*l.get("length"),v=defaults(c.getLineStyle(),defaults(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),g=0;g<u.length;g++)for(var y=createTicks(u[g],r.transform,d,v,"minorticks_"+g),_=0;_<y.length;_++)a.add(y[_])}}function buildAxisLabel(a,r,n,o){var s=n.axis,l=retrieve(o.axisLabelShow,n.get(["axisLabel","show"]));if(!(!l||s.scale.isBlank())){var u=n.getModel("axisLabel"),c=u.get("margin"),d=s.getViewLabels(),v=(retrieve(o.labelRotate,u.get("rotate"))||0)*PI$3/180,g=AxisBuilder.innerTextLayout(o.rotation,v,o.labelDirection),y=n.getCategories&&n.getCategories(!0),_=[],S=AxisBuilder.isLabelSilent(n),x=n.get("triggerEvent");return each$f(d,function(T,b){var A=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(T.tickValue):T.tickValue,w=T.formattedLabel,$=T.rawLabel,C=u;if(y&&y[A]){var P=y[A];isObject$5(P)&&P.textStyle&&(C=new Model$1(P.textStyle,u,n.ecModel))}var M=C.getTextColor()||n.get(["axisLine","lineStyle","color"]),E=s.dataToCoord(A),D=new ZRText$1({x:E,y:o.labelOffset+o.labelDirection*c,rotation:g.rotation,silent:S,z2:10+(T.level||0),style:createTextStyle(C,{text:w,align:C.getShallow("align",!0)||g.textAlign,verticalAlign:C.getShallow("verticalAlign",!0)||C.getShallow("baseline",!0)||g.textVerticalAlign,fill:isFunction(M)?M(s.type==="category"?$:s.type==="value"?A+"":A,b):M})});if(D.anid="label_"+A,x){var I=AxisBuilder.makeAxisEventDataBase(n);I.targetType="axisLabel",I.value=$,I.tickIndex=b,s.type==="category"&&(I.dataIndex=A),getECData(D).eventData=I}r.add(D),D.updateTransform(),_.push(D),a.add(D),D.decomposeTransform()}),_}}const AxisBuilder$1=AxisBuilder;function collect(a,r){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(n,a,r),n.seriesInvolved&&collectSeriesInfo(n,a),n}function collectAxesInfo(a,r,n){var o=r.getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[];each$f(n.getCoordinateSystems(),function(c){if(!c.axisPointerEnabled)return;var d=makeKey(c.model),v=a.coordSysAxesInfo[d]={};a.coordSysMap[d]=c;var g=c.model,y=g.getModel("tooltip",o);if(each$f(c.getAxes(),curry$1(T,!1,null)),c.getTooltipAxes&&o&&y.get("show")){var _=y.get("trigger")==="axis",S=y.get(["axisPointer","type"])==="cross",x=c.getTooltipAxes(y.get(["axisPointer","axis"]));(_||S)&&each$f(x.baseAxes,curry$1(T,S?"cross":!0,_)),S&&each$f(x.otherAxes,curry$1(T,"cross",!1))}function T(b,A,w){var $=w.model.getModel("axisPointer",s),C=$.get("show");if(!(!C||C==="auto"&&!b&&!isHandleTrigger($))){A==null&&(A=$.get("triggerTooltip")),$=b?makeAxisPointerModel(w,y,s,r,b,A):$;var P=$.get("snap"),M=makeKey(w.model),E=A||P||w.type==="category",D=a.axesInfo[M]={key:M,axis:w,coordSys:c,axisPointerModel:$,triggerTooltip:A,involveSeries:E,snap:P,useHandle:isHandleTrigger($),seriesModels:[],linkGroup:null};v[M]=D,a.seriesInvolved=a.seriesInvolved||E;var I=getLinkGroupIndex(l,w);if(I!=null){var R=u[I]||(u[I]={axesInfo:{}});R.axesInfo[M]=D,R.mapper=l[I].mapper,D.linkGroup=R}}}})}function makeAxisPointerModel(a,r,n,o,s,l){var u=r.getModel("axisPointer"),c=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each$f(c,function(_){d[_]=clone$4(u.get(_))}),d.snap=a.type!=="category"&&!!l,u.get("type")==="cross"&&(d.type="line");var v=d.label||(d.label={});if(v.show==null&&(v.show=!1),s==="cross"){var g=u.get(["label","show"]);if(v.show=g!=null?g:!0,!l){var y=d.lineStyle=u.get("crossStyle");y&&defaults(v,y.textStyle)}}return a.model.getModel("axisPointer",new Model$1(d,n,o))}function collectSeriesInfo(a,r){r.eachSeries(function(n){var o=n.coordinateSystem,s=n.get(["tooltip","trigger"],!0),l=n.get(["tooltip","show"],!0);!o||s==="none"||s===!1||s==="item"||l===!1||n.get(["axisPointer","show"],!0)===!1||each$f(a.coordSysAxesInfo[makeKey(o.model)],function(u){var c=u.axis;o.getAxis(c.dim)===c&&(u.seriesModels.push(n),u.seriesDataCount==null&&(u.seriesDataCount=0),u.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(a,r){for(var n=r.model,o=r.dim,s=0;s<a.length;s++){var l=a[s]||{};if(checkPropInLink(l[o+"AxisId"],n.id)||checkPropInLink(l[o+"AxisIndex"],n.componentIndex)||checkPropInLink(l[o+"AxisName"],n.name))return s}}function checkPropInLink(a,r){return a==="all"||isArray$1(a)&&indexOf(a,r)>=0||a===r}function fixValue(a){var r=getAxisInfo$1(a);if(!!r){var n=r.axisPointerModel,o=r.axis.scale,s=n.option,l=n.get("status"),u=n.get("value");u!=null&&(u=o.parse(u));var c=isHandleTrigger(n);l==null&&(s.status=c?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(u==null||u>d[1])&&(u=d[1]),u<d[0]&&(u=d[0]),s.value=u,c&&(s.status=r.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(a){var r=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[makeKey(a)]}function getAxisPointerModel(a){var r=getAxisInfo$1(a);return r&&r.axisPointerModel}function isHandleTrigger(a){return!!a.get(["handle","show"])}function makeKey(a){return a.type+"||"+a.id}var axisPointerClazz={},AxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s,l){this.axisPointerClass&&fixValue(n),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,s,!0)},r.prototype.updateAxisPointer=function(n,o,s,l){this._doUpdateAxisPointerClass(n,s,!1)},r.prototype.remove=function(n,o){var s=this._axisPointer;s&&s.remove(o)},r.prototype.dispose=function(n,o){this._disposeAxisPointer(o),a.prototype.dispose.apply(this,arguments)},r.prototype._doUpdateAxisPointerClass=function(n,o,s){var l=r.getAxisPointerClass(this.axisPointerClass);if(!!l){var u=getAxisPointerModel(n);u?(this._axisPointer||(this._axisPointer=new l)).render(n,u,o,s):this._disposeAxisPointer(o)}},r.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},r.registerAxisPointerClass=function(n,o){axisPointerClazz[n]=o},r.getAxisPointerClass=function(n){return n&&axisPointerClazz[n]},r.type="axis",r}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(a,r,n,o){var s=n.axis;if(!s.scale.isBlank()){var l=n.getModel("splitArea"),u=l.getModel("areaStyle"),c=u.get("color"),d=o.coordinateSystem.getRect(),v=s.getTicksCoords({tickModel:l,clamp:!0});if(!!v.length){var g=c.length,y=inner$f(a).splitAreaColors,_=createHashMap(),S=0;if(y)for(var x=0;x<v.length;x++){var T=y.get(v[x].tickValue);if(T!=null){S=(T+(g-1)*x)%g;break}}var b=s.toGlobalCoord(v[0].coord),A=u.getAreaStyle();c=isArray$1(c)?c:[c];for(var x=1;x<v.length;x++){var w=s.toGlobalCoord(v[x].coord),$=void 0,C=void 0,P=void 0,M=void 0;s.isHorizontal()?($=b,C=d.y,P=w-$,M=d.height,b=$+P):($=d.x,C=b,P=d.width,M=w-C,b=C+M);var E=v[x-1].tickValue;E!=null&&_.set(E,S),r.add(new Rect$3({anid:E!=null?"area_"+E:null,shape:{x:$,y:C,width:P,height:M},style:defaults({fill:c[S]},A),autoBatch:!0,silent:!0})),S=(S+1)%g}inner$f(a).splitAreaColors=_}}}function rectCoordAxisHandleRemove(a){inner$f(a).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.axisPointerClass="CartesianAxisPointer",n}return r.prototype.render=function(n,o,s,l){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!n.get("show")){var c=n.getCoordSysModel(),d=layout$2(c,n),v=new AxisBuilder$1(n,extend({handleAutoShown:function(y){for(var _=c.coordinateSystem.getCartesians(),S=0;S<_.length;S++)if(isIntervalOrLogScale(_[S].getOtherAxis(n.axis).scale))return!0;return!1}},d));each$f(axisBuilderAttrs$3,v.add,v),this._axisGroup.add(v.getGroup()),each$f(selfBuilderAttrs$2,function(y){n.get([y,"show"])&&axisElementBuilders$2[y](this,this._axisGroup,n,c)},this);var g=l&&l.type==="changeAxisOrder"&&l.isInitSort;g||groupTransition(u,this._axisGroup,n),a.prototype.render.call(this,n,o,s,l)}},r.prototype.remove=function(){rectCoordAxisHandleRemove(this)},r.type="cartesianAxis",r}(AxisView$1),axisElementBuilders$2={splitLine:function(a,r,n,o){var s=n.axis;if(!s.scale.isBlank()){var l=n.getModel("splitLine"),u=l.getModel("lineStyle"),c=u.get("color");c=isArray$1(c)?c:[c];for(var d=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=0,y=s.getTicksCoords({tickModel:l}),_=[],S=[],x=u.getLineStyle(),T=0;T<y.length;T++){var b=s.toGlobalCoord(y[T].coord);v?(_[0]=b,_[1]=d.y,S[0]=b,S[1]=d.y+d.height):(_[0]=d.x,_[1]=b,S[0]=d.x+d.width,S[1]=b);var A=g++%c.length,w=y[T].tickValue,$=new Line$3({anid:w!=null?"line_"+y[T].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:S[0],y2:S[1]},style:defaults({stroke:c[A]},x),silent:!0});subPixelOptimizeLine($.shape,x.lineWidth),r.add($)}}},minorSplitLine:function(a,r,n,o){var s=n.axis,l=n.getModel("minorSplitLine"),u=l.getModel("lineStyle"),c=o.coordinateSystem.getRect(),d=s.isHorizontal(),v=s.getMinorTicksCoords();if(!!v.length)for(var g=[],y=[],_=u.getLineStyle(),S=0;S<v.length;S++)for(var x=0;x<v[S].length;x++){var T=s.toGlobalCoord(v[S][x].coord);d?(g[0]=T,g[1]=c.y,y[0]=T,y[1]=c.y+c.height):(g[0]=c.x,g[1]=T,y[0]=c.x+c.width,y[1]=T);var b=new Line$3({anid:"minor_line_"+v[S][x].tickValue,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:_,silent:!0});subPixelOptimizeLine(b.shape,_.lineWidth),r.add(b)}},splitArea:function(a,r,n,o){rectCoordAxisBuildSplitArea(a,r,n,o)}},CartesianXAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="xAxis",r}(CartesianAxisView),CartesianYAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=CartesianXAxisView.type,n}return r.type="yAxis",r}(CartesianAxisView),GridView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="grid",n}return r.prototype.render=function(n,o){this.group.removeAll(),n.get("show")&&this.group.add(new Rect$3({shape:n.coordinateSystem.getRect(),style:defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},r.type="grid",r}(ComponentView$1),extraOption={offset:0};function install$N(a){a.registerComponentView(GridView),a.registerComponentModel(GridModel$1),a.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(a,"x",CartesianAxisModel,extraOption),axisModelCreator(a,"y",CartesianAxisModel,extraOption),a.registerComponentView(CartesianXAxisView),a.registerComponentView(CartesianYAxisView),a.registerPreprocessor(function(r){r.xAxis&&r.yAxis&&!r.grid&&(r.grid={})})}function install$M(a){use(install$N),a.registerSeriesModel(ScatterSeriesModel$1),a.registerChartView(ScatterView$1),a.registerLayout(pointsLayout("scatter"))}function radarLayout(a){a.eachSeriesByType("radar",function(r){var n=r.getData(),o=[],s=r.coordinateSystem;if(!!s){var l=s.getIndicatorAxes();each$f(l,function(u,c){n.each(n.mapDimension(l[c].dim),function(d,v){o[v]=o[v]||[];var g=s.dataToPoint(d,c);o[v][c]=isValidPoint(g)?g:getValueMissingPoint(s)})}),n.each(function(u){var c=find(o[u],function(d){return isValidPoint(d)})||getValueMissingPoint(s);o[u].push(c.slice()),n.setItemLayout(u,o[u])})}})}function isValidPoint(a){return!isNaN(a[0])&&!isNaN(a[1])}function getValueMissingPoint(a){return[a.cx,a.cy]}function radarBackwardCompat(a){var r=a.polar;if(r){isArray$1(r)||(r=[r]);var n=[];each$f(r,function(o,s){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),a.radar=a.radar||[],isArray$1(a.radar)||(a.radar=[a.radar]),a.radar.push(o)):n.push(o)}),a.polar=n}each$f(a.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var RadarView$2=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=n.coordinateSystem,u=this.group,c=n.getData(),d=this._data;function v(_,S){var x=_.getItemVisual(S,"symbol")||"circle";if(x!=="none"){var T=normalizeSymbolSize(_.getItemVisual(S,"symbolSize")),b=createSymbol$1(x,-1,-1,2,2),A=_.getItemVisual(S,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:T[0]/2,scaleY:T[1]/2,rotation:A*Math.PI/180||0}),b}}function g(_,S,x,T,b,A){x.removeAll();for(var w=0;w<S.length-1;w++){var $=v(T,b);$&&($.__dimIdx=w,_[w]?($.setPosition(_[w]),graphic[A?"initProps":"updateProps"]($,{x:S[w][0],y:S[w][1]},n,b)):$.setPosition(S[w]),x.add($))}}function y(_){return map$1(_,function(S){return[l.cx,l.cy]})}c.diff(d).add(function(_){var S=c.getItemLayout(_);if(!!S){var x=new Polygon$1,T=new Polyline$3,b={shape:{points:S}};x.shape.points=y(S),T.shape.points=y(S),initProps(x,b,n,_),initProps(T,b,n,_);var A=new Group$4,w=new Group$4;A.add(T),A.add(x),A.add(w),g(T.shape.points,S,w,c,_,!0),c.setItemGraphicEl(_,A)}}).update(function(_,S){var x=d.getItemGraphicEl(S),T=x.childAt(0),b=x.childAt(1),A=x.childAt(2),w={shape:{points:c.getItemLayout(_)}};!w.shape.points||(g(T.shape.points,w.shape.points,A,c,_,!1),saveOldStyle(b),saveOldStyle(T),updateProps$1(T,w,n),updateProps$1(b,w,n),c.setItemGraphicEl(_,x))}).remove(function(_){u.remove(d.getItemGraphicEl(_))}).execute(),c.eachItemGraphicEl(function(_,S){var x=c.getItemModel(S),T=_.childAt(0),b=_.childAt(1),A=_.childAt(2),w=c.getItemVisual(S,"style"),$=w.fill;u.add(_),T.useStyle(defaults(x.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:$})),setStatesStylesFromModel(T,x,"lineStyle"),setStatesStylesFromModel(b,x,"areaStyle");var C=x.getModel("areaStyle"),P=C.isEmpty()&&C.parentModel.isEmpty();b.ignore=P,each$f(["emphasis","select","blur"],function(D){var I=x.getModel([D,"areaStyle"]),R=I.isEmpty()&&I.parentModel.isEmpty();b.ensureState(D).ignore=R&&P}),b.useStyle(defaults(C.getAreaStyle(),{fill:$,opacity:.7,decal:w.decal}));var M=x.getModel("emphasis"),E=M.getModel("itemStyle").getItemStyle();A.eachChild(function(D){if(D instanceof ZRImage$1){var I=D.style;D.useStyle(extend({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},w))}else D.useStyle(w),D.setColor($),D.style.strokeNoScale=!0;var R=D.ensureState("emphasis");R.style=clone$4(E);var L=c.getStore().get(c.getDimensionIndex(D.__dimIdx),S);(L==null||isNaN(L))&&(L=""),setLabelStyle(D,getLabelStatesModels(x),{labelFetcher:c.hostModel,labelDataIndex:S,labelDimIndex:D.__dimIdx,defaultText:L,inheritColor:$,defaultOpacity:w.opacity})}),toggleHoverEmphasis(_,M.get("focus"),M.get("blurScope"),M.get("disabled"))}),this._data=c},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.type="radar",r}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.hasSymbolVisual=!0,n}return r.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},r.prototype.getInitialData=function(n,o){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},r.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=this.coordinateSystem,c=u.getIndicatorAxes(),d=this.getData().getName(n),v=d===""?this.name:d,g=retrieveVisualColorForTooltipMarker(this,n);return createTooltipMarkup("section",{header:v,sortBlocks:!0,blocks:map$1(c,function(y){var _=l.get(l.mapDimension(y.dim),n);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:_,sortParam:_})})})},r.prototype.getTooltipPosition=function(n){if(n!=null){for(var o=this.getData(),s=this.coordinateSystem,l=o.getValues(map$1(s.dimensions,function(v){return o.mapDimension(v)}),n),u=0,c=l.length;u<c;u++)if(!isNaN(l[u])){var d=s.getIndicatorAxes();return s.coordToPoint(d[u].dataToCoord(l[u]),u)}}},r.type="series.radar",r.dependencies=["radar"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},r}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(a,r){return defaults({show:r},a)}var RadarModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),o=this.get("splitNumber"),s=this.get("scale"),l=this.get("axisLine"),u=this.get("axisTick"),c=this.get("axisLabel"),d=this.get("axisName"),v=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),_=this.get("triggerEvent"),S=map$1(this.get("indicator")||[],function(x){x.max!=null&&x.max>0&&!x.min?x.min=0:x.min!=null&&x.min<0&&!x.max&&(x.max=0);var T=d;x.color!=null&&(T=defaults({color:x.color},d));var b=merge$1(clone$4(x),{boundaryGap:n,splitNumber:o,scale:s,axisLine:l,axisTick:u,axisLabel:c,name:x.text,showName:v,nameLocation:"end",nameGap:y,nameTextStyle:T,triggerEvent:_},!1);if(isString(g)){var A=b.name;b.name=g.replace("{value}",A!=null?A:"")}else isFunction(g)&&(b.name=g(b.name,b));var w=new Model$1(b,null,this.ecModel);return mixin(w,AxisModelCommonMixin.prototype),w.mainType="radar",w.componentIndex=this.componentIndex,w},this);this._indicatorModels=S},r.prototype.getIndicatorModels=function(){return this._indicatorModels},r.type="radar",r.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge$1({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},r}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=this.group;l.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},r.prototype._buildAxes=function(n){var o=n.coordinateSystem,s=o.getIndicatorAxes(),l=map$1(s,function(u){var c=u.model.get("showName")?u.name:"",d=new AxisBuilder$1(u.model,{axisName:c,position:[o.cx,o.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return d});each$f(l,function(u){each$f(axisBuilderAttrs$2,u.add,u),this.group.add(u.getGroup())},this)},r.prototype._buildSplitLineAndArea=function(n){var o=n.coordinateSystem,s=o.getIndicatorAxes();if(!s.length)return;var l=n.get("shape"),u=n.getModel("splitLine"),c=n.getModel("splitArea"),d=u.getModel("lineStyle"),v=c.getModel("areaStyle"),g=u.get("show"),y=c.get("show"),_=d.get("color"),S=v.get("color"),x=isArray$1(_)?_:[_],T=isArray$1(S)?S:[S],b=[],A=[];function w(B,z,U){var H=U%z.length;return B[H]=B[H]||[],H}if(l==="circle")for(var $=s[0].getTicksCoords(),C=o.cx,P=o.cy,M=0;M<$.length;M++){if(g){var E=w(b,x,M);b[E].push(new Circle$1({shape:{cx:C,cy:P,r:$[M].coord}}))}if(y&&M<$.length-1){var E=w(A,T,M);A[E].push(new Ring$1({shape:{cx:C,cy:P,r0:$[M].coord,r:$[M+1].coord}}))}}else for(var D,I=map$1(s,function(B,z){var U=B.getTicksCoords();return D=D==null?U.length-1:Math.min(U.length-1,D),map$1(U,function(H){return o.coordToPoint(H.coord,z)})}),R=[],M=0;M<=D;M++){for(var L=[],O=0;O<s.length;O++)L.push(I[O][M]);if(L[0]&&L.push(L[0].slice()),g){var E=w(b,x,M);b[E].push(new Polyline$3({shape:{points:L}}))}if(y&&R){var E=w(A,T,M-1);A[E].push(new Polygon$1({shape:{points:L.concat(R)}}))}R=L.slice().reverse()}var N=d.getLineStyle(),F=v.getAreaStyle();each$f(A,function(B,z){this.group.add(mergePath(B,{style:defaults({stroke:"none",fill:T[z%T.length]},F),silent:!0}))},this),each$f(b,function(B,z){this.group.add(mergePath(B,{style:defaults({fill:"none",stroke:x[z%x.length]},N),silent:!0}))},this)},r.type="radar",r}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this,n,o,s)||this;return l.type="value",l.angle=0,l.name="",l}return r}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function a(r,n,o){this.dimensions=[],this._model=r,this._indicatorAxes=map$1(r.getIndicatorModels(),function(s,l){var u="indicator_"+l,c=new IndicatorAxis$1(u,new IntervalScale$1);return c.name=s.get("name"),c.model=s,s.axis=c,this.dimensions.push(u),c},this),this.resize(r,o)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(r,n){var o=this._indicatorAxes[n];return this.coordToPoint(o.dataToCoord(r),n)},a.prototype.coordToPoint=function(r,n){var o=this._indicatorAxes[n],s=o.angle,l=this.cx+r*Math.cos(s),u=this.cy-r*Math.sin(s);return[l,u]},a.prototype.pointToData=function(r){var n=r[0]-this.cx,o=r[1]-this.cy,s=Math.sqrt(n*n+o*o);n/=s,o/=s;for(var l=Math.atan2(-o,n),u=1/0,c,d=-1,v=0;v<this._indicatorAxes.length;v++){var g=this._indicatorAxes[v],y=Math.abs(l-g.angle);y<u&&(c=g,d=v,u=y)}return[d,+(c&&c.coordToData(s))]},a.prototype.resize=function(r,n){var o=r.get("center"),s=n.getWidth(),l=n.getHeight(),u=Math.min(s,l)/2;this.cx=parsePercent(o[0],s),this.cy=parsePercent(o[1],l),this.startAngle=r.get("startAngle")*Math.PI/180;var c=r.get("radius");(isString(c)||isNumber(c))&&(c=[0,c]),this.r0=parsePercent(c[0],u),this.r=parsePercent(c[1],u),each$f(this._indicatorAxes,function(d,v){d.setExtent(this.r0,this.r);var g=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),d.angle=g},this)},a.prototype.update=function(r,n){var o=this._indicatorAxes,s=this._model;each$f(o,function(c){c.scale.setExtent(1/0,-1/0)}),r.eachSeriesByType("radar",function(c,d){if(!(c.get("coordinateSystem")!=="radar"||r.getComponent("radar",c.get("radarIndex"))!==s)){var v=c.getData();each$f(o,function(g){g.scale.unionExtentFromData(v,v.mapDimension(g.dim))})}},this);var l=s.get("splitNumber"),u=new IntervalScale$1;u.setExtent(0,l),u.setInterval(1),each$f(o,function(c,d){alignScaleTicks(c.scale,c.model,u)})},a.prototype.convertToPixel=function(r,n,o){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(r,n,o){return console.warn("Not implemented."),null},a.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},a.create=function(r,n){var o=[];return r.eachComponent("radar",function(s){var l=new a(s,r,n);o.push(l),s.coordinateSystem=l}),r.eachSeriesByType("radar",function(s){s.get("coordinateSystem")==="radar"&&(s.coordinateSystem=o[s.get("radarIndex")||0])}),o},a.dimensions=[],a}();const Radar$1=Radar;function install$L(a){a.registerCoordinateSystem("radar",Radar$1),a.registerComponentModel(RadarModel$1),a.registerComponentView(RadarView$1),a.registerVisual({seriesType:"radar",reset:function(r){var n=r.getData();n.each(function(o){n.setItemVisual(o,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function install$K(a){use(install$L),a.registerChartView(RadarView$3),a.registerSeriesModel(RadarSeriesModel$1),a.registerLayout(radarLayout),a.registerProcessor(dataFilter$1("radar")),a.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(a,r,n){var o=getStore(a);o[r]=n}function release(a,r,n){var o=getStore(a),s=o[r];s===n&&(o[r]=null)}function isTaken(a,r){return!!getStore(a)[r]}function getStore(a){return a[ATTR]||(a[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(a){__extends(r,a);function r(n){var o=a.call(this)||this;o._zr=n;var s=bind$1(o._mousedownHandler,o),l=bind$1(o._mousemoveHandler,o),u=bind$1(o._mouseupHandler,o),c=bind$1(o._mousewheelHandler,o),d=bind$1(o._pinchHandler,o);return o.enable=function(v,g){this.disable(),this._opt=defaults(clone$4(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),v==null&&(v=!0),(v===!0||v==="move"||v==="pan")&&(n.on("mousedown",s),n.on("mousemove",l),n.on("mouseup",u)),(v===!0||v==="scale"||v==="zoom")&&(n.on("mousewheel",c),n.on("pinch",d))},o.disable=function(){n.off("mousedown",s),n.off("mousemove",l),n.off("mouseup",u),n.off("mousewheel",c),n.off("pinch",d)},o}return r.prototype.isDragging=function(){return this._dragging},r.prototype.isPinching=function(){return this._pinching},r.prototype.setPointerChecker=function(n){this.pointerChecker=n},r.prototype.dispose=function(){this.disable()},r.prototype._mousedownHandler=function(n){if(!isMiddleOrRightButtonOnMouseUpDown(n)){for(var o=n.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var s=n.offsetX,l=n.offsetY;this.pointerChecker&&this.pointerChecker(n,s,l)&&(this._x=s,this._y=l,this._dragging=!0)}},r.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var o=n.offsetX,s=n.offsetY,l=this._x,u=this._y,c=o-l,d=s-u;this._x=o,this._y=s,this._opt.preventDefaultMouseMove&&stop(n.event),trigger$1(this,"pan","moveOnMouseMove",n,{dx:c,dy:d,oldX:l,oldY:u,newX:o,newY:s,isAvailableBehavior:null})}},r.prototype._mouseupHandler=function(n){isMiddleOrRightButtonOnMouseUpDown(n)||(this._dragging=!1)},r.prototype._mousewheelHandler=function(n){var o=isAvailableBehavior("zoomOnMouseWheel",n,this._opt),s=isAvailableBehavior("moveOnMouseWheel",n,this._opt),l=n.wheelDelta,u=Math.abs(l),c=n.offsetX,d=n.offsetY;if(!(l===0||!o&&!s)){if(o){var v=u>3?1.4:u>1?1.2:1.1,g=l>0?v:1/v;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",n,{scale:g,originX:c,originY:d,isAvailableBehavior:null})}if(s){var y=Math.abs(l),_=(l>0?1:-1)*(y>3?.4:y>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:_,originX:c,originY:d,isAvailableBehavior:null})}}},r.prototype._pinchHandler=function(n){if(!isTaken(this._zr,"globalPan")){var o=n.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,n,{scale:o,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},r}(Eventful$1);function checkPointerAndTrigger(a,r,n,o,s){a.pointerChecker&&a.pointerChecker(o,s.originX,s.originY)&&(stop(o.event),trigger$1(a,r,n,o,s))}function trigger$1(a,r,n,o,s){s.isAvailableBehavior=bind$1(isAvailableBehavior,null,n,o),a.trigger(r,s)}function isAvailableBehavior(a,r,n){var o=n[a];return!a||o&&(!isString(o)||r.event[o+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(a,r,n){var o=a.target;o.x+=r,o.y+=n,o.dirty()}function updateViewOnZoom(a,r,n,o){var s=a.target,l=a.zoomLimit,u=a.zoom=a.zoom||1;if(u*=r,l){var c=l.min||0,d=l.max||1/0;u=Math.max(Math.min(d,u),c)}var v=u/a.zoom;a.zoom=u,s.x-=(n-s.x)*(v-1),s.y-=(o-s.y)*(v-1),s.scaleX*=v,s.scaleY*=v,s.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(a,r,n){var o=r.getComponentByElement(a.topTarget),s=o&&o.coordinateSystem;return o&&o!==n&&!IRRELEVANT_EXCLUDES.hasOwnProperty(o.mainType)&&s&&s.model!==n}function parseXML(a){if(isString(a)){var r=new DOMParser;a=r.parseFromString(a,"text/xml")}var n=a;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(r,n){n=n||{};var o=parseXML(r);this._defsUsePending=[];var s=new Group$4;this._root=s;var l=[],u=o.getAttribute("viewBox")||"",c=parseFloat(o.getAttribute("width")||n.width),d=parseFloat(o.getAttribute("height")||n.height);isNaN(c)&&(c=null),isNaN(d)&&(d=null),parseAttributes(o,s,null,!0,!1);for(var v=o.firstChild;v;)this._parseNode(v,s,l,null,!1,!1),v=v.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(u){var _=splitNumberSequence(u);_.length>=4&&(g={x:parseFloat(_[0]||0),y:parseFloat(_[1]||0),width:parseFloat(_[2]),height:parseFloat(_[3])})}if(g&&c!=null&&d!=null&&(y=makeViewBoxTransform(g,{x:0,y:0,width:c,height:d}),!n.ignoreViewBox)){var S=s;s=new Group$4,s.add(S),S.scaleX=S.scaleY=y.scale,S.x=y.x,S.y=y.y}return!n.ignoreRootClip&&c!=null&&d!=null&&s.setClipPath(new Rect$3({shape:{x:0,y:0,width:c,height:d}})),{root:s,width:c,height:d,viewBoxRect:g,viewBoxTransform:y,named:l}},a.prototype._parseNode=function(r,n,o,s,l,u){var c=r.nodeName.toLowerCase(),d,v=s;if(c==="defs"&&(l=!0),c==="text"&&(u=!0),c==="defs"||c==="switch")d=n;else{if(!l){var g=nodeParsers[c];if(g&&hasOwn(nodeParsers,c)){d=g.call(this,r,n);var y=r.getAttribute("name");if(y){var _={name:y,namedFrom:null,svgNodeTagLower:c,el:d};o.push(_),c==="g"&&(v=_)}else s&&o.push({name:s.name,namedFrom:s,svgNodeTagLower:c,el:d});n.add(d)}}var S=paintServerParsers[c];if(S&&hasOwn(paintServerParsers,c)){var x=S.call(this,r),T=r.getAttribute("id");T&&(this._defs[T]=x)}}if(d&&d.isGroup)for(var b=r.firstChild;b;)b.nodeType===1?this._parseNode(b,d,o,v,l,u):b.nodeType===3&&u&&this._parseText(b,d),b=b.nextSibling},a.prototype._parseText=function(r,n){var o=new TSpan$1({style:{text:r.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),applyTextAlignment(o,n);var s=o.style,l=s.fontSize;l&&l<9&&(s.fontSize=9,o.scaleX*=l/9,o.scaleY*=l/9);var u=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=u;var c=o.getBoundingRect();return this._textX+=c.width,n.add(o),o},a.internalField=function(){nodeParsers={g:function(r,n){var o=new Group$4;return inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o},rect:function(r,n){var o=new Rect$3;return inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(r.getAttribute("x")||"0"),y:parseFloat(r.getAttribute("y")||"0"),width:parseFloat(r.getAttribute("width")||"0"),height:parseFloat(r.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(r,n){var o=new Circle$1;return inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),r:parseFloat(r.getAttribute("r")||"0")}),o.silent=!0,o},line:function(r,n){var o=new Line$3;return inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(r.getAttribute("x1")||"0"),y1:parseFloat(r.getAttribute("y1")||"0"),x2:parseFloat(r.getAttribute("x2")||"0"),y2:parseFloat(r.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(r,n){var o=new Ellipse$1;return inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),rx:parseFloat(r.getAttribute("rx")||"0"),ry:parseFloat(r.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(r,n){var o=r.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polygon$1({shape:{points:s||[]},silent:!0});return inheritStyle(n,l),parseAttributes(r,l,this._defsUsePending,!1,!1),l},polyline:function(r,n){var o=r.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polyline$3({shape:{points:s||[]},silent:!0});return inheritStyle(n,l),parseAttributes(r,l,this._defsUsePending,!1,!1),l},image:function(r,n){var o=new ZRImage$1;return inheritStyle(n,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setStyle({image:r.getAttribute("xlink:href")||r.getAttribute("href"),x:+r.getAttribute("x"),y:+r.getAttribute("y"),width:+r.getAttribute("width"),height:+r.getAttribute("height")}),o.silent=!0,o},text:function(r,n){var o=r.getAttribute("x")||"0",s=r.getAttribute("y")||"0",l=r.getAttribute("dx")||"0",u=r.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(l),this._textY=parseFloat(s)+parseFloat(u);var c=new Group$4;return inheritStyle(n,c),parseAttributes(r,c,this._defsUsePending,!1,!0),c},tspan:function(r,n){var o=r.getAttribute("x"),s=r.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),s!=null&&(this._textY=parseFloat(s));var l=r.getAttribute("dx")||"0",u=r.getAttribute("dy")||"0",c=new Group$4;return inheritStyle(n,c),parseAttributes(r,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(l),this._textY+=parseFloat(u),c},path:function(r,n){var o=r.getAttribute("d")||"",s=createFromString(o);return inheritStyle(n,s),parseAttributes(r,s,this._defsUsePending,!1,!1),s.silent=!0,s}}}(),a}(),paintServerParsers={lineargradient:function(a){var r=parseInt(a.getAttribute("x1")||"0",10),n=parseInt(a.getAttribute("y1")||"0",10),o=parseInt(a.getAttribute("x2")||"10",10),s=parseInt(a.getAttribute("y2")||"0",10),l=new LinearGradient$1(r,n,o,s);return parsePaintServerUnit(a,l),parseGradientColorStops(a,l),l},radialgradient:function(a){var r=parseInt(a.getAttribute("cx")||"0",10),n=parseInt(a.getAttribute("cy")||"0",10),o=parseInt(a.getAttribute("r")||"0",10),s=new RadialGradient$1(r,n,o);return parsePaintServerUnit(a,s),parseGradientColorStops(a,s),s}};function parsePaintServerUnit(a,r){var n=a.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(r.global=!0)}function parseGradientColorStops(a,r){for(var n=a.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var o=n.getAttribute("offset"),s=void 0;o&&o.indexOf("%")>0?s=parseInt(o,10)/100:o?s=parseFloat(o):s=0;var l={};parseInlineStyle(n,l,l);var u=l.stopColor||n.getAttribute("stop-color")||"#000000";r.colorStops.push({offset:s,color:u})}n=n.nextSibling}}function inheritStyle(a,r){a&&a.__inheritedStyle&&(r.__inheritedStyle||(r.__inheritedStyle={}),defaults(r.__inheritedStyle,a.__inheritedStyle))}function parsePoints(a){for(var r=splitNumberSequence(a),n=[],o=0;o<r.length;o+=2){var s=parseFloat(r[o]),l=parseFloat(r[o+1]);n.push([s,l])}return n}function parseAttributes(a,r,n,o,s){var l=r,u=l.__inheritedStyle=l.__inheritedStyle||{},c={};a.nodeType===1&&(parseTransformAttribute(a,r),parseInlineStyle(a,u,c),o||parseAttributeStyle(a,u,c)),l.style=l.style||{},u.fill!=null&&(l.style.fill=getFillStrokeStyle(l,"fill",u.fill,n)),u.stroke!=null&&(l.style.stroke=getFillStrokeStyle(l,"stroke",u.stroke,n)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){u[d]!=null&&(l.style[d]=parseFloat(u[d]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){u[d]!=null&&(l.style[d]=u[d])}),s&&(l.__selfStyle=c),u.lineDash&&(l.style.lineDash=map$1(splitNumberSequence(u.lineDash),function(d){return parseFloat(d)})),(u.visibility==="hidden"||u.visibility==="collapse")&&(l.invisible=!0),u.display==="none"&&(l.ignore=!0)}function applyTextAlignment(a,r){var n=r.__selfStyle;if(n){var o=n.textBaseline,s=o;!o||o==="auto"||o==="baseline"?s="alphabetic":o==="before-edge"||o==="text-before-edge"?s="top":o==="after-edge"||o==="text-after-edge"?s="bottom":(o==="central"||o==="mathematical")&&(s="middle"),a.style.textBaseline=s}var l=r.__inheritedStyle;if(l){var u=l.textAlign,c=u;u&&(u==="middle"&&(c="center"),a.style.textAlign=c)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(a,r,n,o){var s=n&&n.match(urlRegex);if(s){var l=trim$1(s[1]);o.push([a,r,l]);return}return n==="none"&&(n=null),n}function applyDefs(a,r){for(var n=0;n<r.length;n++){var o=r[n];o[0].style[o[1]]=a[o[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(a){return a.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(a,r){var n=a.getAttribute("transform");if(n){n=n.replace(/,/g," ");var o=[],s=null;n.replace(transformRegex,function(y,_,S){return o.push(_,S),""});for(var l=o.length-1;l>0;l-=2){var u=o[l],c=o[l-1],d=splitNumberSequence(u);switch(s=s||create$1(),c){case"translate":translate(s,s,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":scale$1(s,s,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":rotate(s,s,-parseFloat(d[0])*DEGREE_TO_ANGLE);break;case"skewX":var v=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,0,v,1,0,0],s);break;case"skewY":var g=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,g,0,1,0,0],s);break;case"matrix":s[0]=parseFloat(d[0]),s[1]=parseFloat(d[1]),s[2]=parseFloat(d[2]),s[3]=parseFloat(d[3]),s[4]=parseFloat(d[4]),s[5]=parseFloat(d[5]);break}}r.setLocalTransform(s)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(a,r,n){var o=a.getAttribute("style");if(!!o){styleRegex.lastIndex=0;for(var s;(s=styleRegex.exec(o))!=null;){var l=s[1],u=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,l)?INHERITABLE_STYLE_ATTRIBUTES_MAP[l]:null;u&&(r[u]=s[2]);var c=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,l)?SELF_STYLE_ATTRIBUTES_MAP[l]:null;c&&(n[c]=s[2])}}}function parseAttributeStyle(a,r,n){for(var o=0;o<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[o],l=a.getAttribute(s);l!=null&&(r[INHERITABLE_STYLE_ATTRIBUTES_MAP[s]]=l)}for(var o=0;o<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=SELF_STYLE_ATTRIBUTES_MAP_KEYS[o],l=a.getAttribute(s);l!=null&&(n[SELF_STYLE_ATTRIBUTES_MAP[s]]=l)}}function makeViewBoxTransform(a,r){var n=r.width/a.width,o=r.height/a.height,s=Math.min(n,o);return{scale:s,x:-(a.x+a.width/2)*s+(r.x+r.width/2),y:-(a.y+a.height/2)*s+(r.y+r.height/2)}}function parseSVG(a,r){var n=new SVGParser;return n.parse(a,r)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function a(r,n){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=r,this._parsedXML=parseXML(n)}return a.prototype.load=function(){var r=this._firstGraphic;if(!r){r=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(r),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=createRegions(r.named),o=n.regions,s=n.regionsMap;this._regions=o,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(r){var n,o;try{n=r&&parseSVG(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=n.root,assert(o!=null)}catch(b){throw new Error(`Invalid svg format
`+b.message)}var s=new Group$4;s.add(o),s.isGeoSVGGraphicRoot=!0;var l=n.width,u=n.height,c=n.viewBoxRect,d=this._boundingRect;if(!d){var v=void 0,g=void 0,y=void 0,_=void 0;if(l!=null?(v=0,y=l):c&&(v=c.x,y=c.width),u!=null?(g=0,_=u):c&&(g=c.y,_=c.height),v==null||g==null){var S=o.getBoundingRect();v==null&&(v=S.x,y=S.width),g==null&&(g=S.y,_=S.height)}d=this._boundingRect=new BoundingRect$1(v,g,y,_)}if(c){var x=makeViewBoxTransform(c,d);o.scaleX=o.scaleY=x.scale,o.x=x.x,o.y=x.y}s.setClipPath(new Rect$3({shape:d.plain()}));var T=[];return each$f(n.named,function(b){REGION_AVAILABLE_SVG_TAG_MAP.get(b.svgNodeTagLower)!=null&&(T.push(b),setSilent(b.el))}),{root:s,boundingRect:d,named:T}},a.prototype.useGraphic=function(r){var n=this._usedGraphicMap,o=n.get(r);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(r,o),o)},a.prototype.freeGraphic=function(r){var n=this._usedGraphicMap,o=n.get(r);o&&(n.removeKey(r),this._freedGraphics.push(o))},a}();function setSilent(a){a.silent=!1,a.isGroup&&a.traverse(function(r){r.silent=!1})}function createRegions(a){var r=[],n=createHashMap();return each$f(a,function(o){if(o.namedFrom==null){var s=new GeoSVGRegion(o.name,o.el);r.push(s),n.set(o.name,s)}}),{regions:r,regionsMap:n}}var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(a,r){if(a==="china"){for(var n=0;n<r.length;n++)if(r[n].name===nanhaiName)return;r.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(o){return{type:"polygon",exterior:o}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(a,r){if(a==="china"){var n=coordsOffsetMap[r.name];if(n){var o=r.getCenter();o[0]+=n[0]/10.5,o[1]+=-n[1]/(10.5/.75),r.setCenter(o)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(a,r){a==="china"&&r.name==="\u53F0\u6E7E"&&r.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function a(r,n,o){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=r,this._specialAreas=o,this._geoJSON=parseInput(n)}return a.prototype.load=function(r,n){n=n||DEFAULT_NAME_PROPERTY;var o=this._parsedMap.get(n);if(!o){var s=this._parseToRegions(n);o=this._parsedMap.set(n,{regions:s,boundingRect:calculateBoundingRect(s)})}var l=createHashMap(),u=[];return each$f(o.regions,function(c){var d=c.name;r&&hasOwn(r,d)&&(c=c.cloneShallow(d=r[d])),u.push(c),l.set(d,c)}),{regions:u,boundingRect:o.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:l}},a.prototype._parseToRegions=function(r){var n=this._mapName,o=this._geoJSON,s;try{s=o?parseGeoJSON(o,r):[]}catch(l){throw new Error(`Invalid geoJson format
`+l.message)}return fixNanhai(n,s),each$f(s,function(l){var u=l.name;fixTextCoords(n,l),fixDiaoyuIsland(n,l);var c=this._specialAreas&&this._specialAreas[u];c&&l.transformTo(c.left,c.top,c.width,c.height)},this),s},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function calculateBoundingRect(a){for(var r,n=0;n<a.length;n++){var o=a[n].getBoundingRect();r=r||o.clone(),r.union(o)}return r}function parseInput(a){return isString(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var storage=createHashMap();const geoSourceManager={registerMap:function(a,r,n){if(r.svg){var o=new GeoSVGResource(a,r.svg);storage.set(a,o)}else{var s=r.geoJson||r.geoJSON;s&&!r.features?n=r.specialAreas:s=r;var o=new GeoJSONResource(a,s,n);storage.set(a,o)}},getGeoResource:function(a){return storage.get(a)},getMapForUser:function(a){var r=storage.get(a);return r&&r.type==="geoJSON"&&r.getMapForUser()},load:function(a,r,n){var o=storage.get(a);if(!!o)return o.load(r,n)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(a){var r=a.getItemStyle(),n=a.get("areaColor");return n!=null&&(r.fill=n),r}function fixLineStyle(a){var r=a.style;r&&(r.stroke=r.stroke||r.fill,r.fill=null)}var MapDraw=function(){function a(r){var n=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(r.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new Group$4),n.add(this._svgGroup=new Group$4)}return a.prototype.draw=function(r,n,o,s,l){var u=r.mainType==="geo",c=r.getData&&r.getData();u&&n.eachComponent({mainType:"series",subType:"map"},function(A){!c&&A.getHostGeoModel()===r&&(c=A.getData())});var d=r.coordinateSystem,v=this._regionsGroup,g=this.group,y=d.getTransformInfo(),_=y.raw,S=y.roam,x=!v.childAt(0)||l;x?(g.x=S.x,g.y=S.y,g.scaleX=S.scaleX,g.scaleY=S.scaleY,g.dirty()):updateProps$1(g,S,r);var T=c&&c.getVisual("visualMeta")&&c.getVisual("visualMeta").length>0,b={api:o,geo:d,mapOrGeoModel:r,data:c,isVisualEncodedByVisualMap:T,isGeo:u,transformInfoRaw:_};d.resourceType==="geoJSON"?this._buildGeoJSON(b):d.resourceType==="geoSVG"&&this._buildSVG(b),this._updateController(r,n,o),this._updateMapSelectHandler(r,v,o,s)},a.prototype._buildGeoJSON=function(r){var n=this._regionsGroupByName=createHashMap(),o=createHashMap(),s=this._regionsGroup,l=r.transformInfoRaw,u=r.mapOrGeoModel,c=r.data,d=r.geo.projection,v=d&&d.stream;function g(S,x){return x&&(S=x(S)),S&&[S[0]*l.scaleX+l.x,S[1]*l.scaleY+l.y]}function y(S){for(var x=[],T=!v&&d&&d.project,b=0;b<S.length;++b){var A=g(S[b],T);A&&x.push(A)}return x}function _(S){return{shape:{points:y(S)}}}s.removeAll(),each$f(r.geo.regions,function(S){var x=S.name,T=n.get(x),b=o.get(x)||{},A=b.dataIdx,w=b.regionModel;T||(T=n.set(x,new Group$4),s.add(T),A=c?c.indexOfName(x):null,w=r.isGeo?u.getRegionModel(x):c?c.getItemModel(A):null,o.set(x,{dataIdx:A,regionModel:w}));var $=[],C=[];each$f(S.geometries,function(E){if(E.type==="polygon"){var D=[E.exterior].concat(E.interiors||[]);v&&(D=projectPolys(D,v)),each$f(D,function(R){$.push(new Polygon$1(_(R)))})}else{var I=E.points;v&&(I=projectPolys(I,v,!0)),each$f(I,function(R){C.push(new Polyline$3(_(R)))})}});var P=g(S.getCenter(),d&&d.project);function M(E,D){if(!!E.length){var I=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:E}});T.add(I),applyOptionStyleForRegion(r,I,A,w),resetLabelForRegion(r,I,x,w,u,A,P),D&&(fixLineStyle(I),each$f(I.states,fixLineStyle))}}M($),M(C,!0)}),n.each(function(S,x){var T=o.get(x),b=T.dataIdx,A=T.regionModel;resetEventTriggerForRegion(r,S,x,A,u,b),resetTooltipForRegion(r,S,x,A,u),resetStateTriggerForRegion(r,S,x,A,u)},this)},a.prototype._buildSVG=function(r){var n=r.geo.map,o=r.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var s=this._svgDispatcherMap=createHashMap(),l=!1;each$f(this._svgGraphicRecord.named,function(u){var c=u.name,d=r.mapOrGeoModel,v=r.data,g=u.svgNodeTagLower,y=u.el,_=v?v.indexOfName(c):null,S=d.getRegionModel(c);if(OPTION_STYLE_ENABLED_TAG_MAP.get(g)!=null&&y instanceof Displayable$1&&applyOptionStyleForRegion(r,y,_,S),y instanceof Displayable$1&&(y.culling=!0),y.z2EmphasisLift=0,!u.namedFrom&&(LABEL_HOST_MAP.get(g)!=null&&resetLabelForRegion(r,y,c,S,d,_,null),resetEventTriggerForRegion(r,y,c,S,d,_),resetTooltipForRegion(r,y,c,S,d),STATE_TRIGGER_TAG_MAP.get(g)!=null)){var x=resetStateTriggerForRegion(r,y,c,S,d);x==="self"&&(l=!0);var T=s.get(c)||s.set(c,[]);T.push(y)}},this),this._enableBlurEntireSVG(l,r)},a.prototype._enableBlurEntireSVG=function(r,n){if(r&&n.isGeo){var o=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),s=o.opacity;this._svgGraphicRecord.root.traverse(function(l){if(!l.isGroup){setDefaultStateProxy(l);var u=l.ensureState("blur").style||{};u.opacity==null&&s!=null&&(u.opacity=s),l.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(r,n){if(r==null)return[];var o=n.coordinateSystem;if(o.resourceType==="geoJSON"){var s=this._regionsGroupByName;if(s){var l=s.get(r);return l?[l]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(r)||[]},a.prototype._svgResourceChanged=function(r){return this._svgMapName!==r},a.prototype._useSVG=function(r){var n=geoSourceManager.getGeoResource(r);if(n&&n.type==="geoSVG"){var o=n.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=r}},a.prototype._freeSVG=function(){var r=this._svgMapName;if(r!=null){var n=geoSourceManager.getGeoResource(r);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(r,n,o){var s=r.coordinateSystem,l=this._controller,u=this._controllerHost;u.zoomLimit=r.get("scaleLimit"),u.zoom=s.getZoom(),l.enable(r.get("roam")||!1);var c=r.mainType;function d(){var v={type:"geoRoam",componentType:c};return v[c+"Id"]=r.id,v}l.off("pan").on("pan",function(v){this._mouseDownFlag=!1,updateViewOnPan(u,v.dx,v.dy),o.dispatchAction(extend(d(),{dx:v.dx,dy:v.dy,animation:{duration:0}}))},this),l.off("zoom").on("zoom",function(v){this._mouseDownFlag=!1,updateViewOnZoom(u,v.scale,v.originX,v.originY),o.dispatchAction(extend(d(),{zoom:v.scale,originX:v.originX,originY:v.originY,animation:{duration:0}}))},this),l.setPointerChecker(function(v,g,y){return s.containPoint([g,y])&&!onIrrelevantElement(v,o,r)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(r){var n=r.getTextContent();n&&(n.ignore=mapLabelRaw(n).ignore)})},a.prototype._updateMapSelectHandler=function(r,n,o,s){var l=this;n.off("mousedown"),n.off("click"),r.get("selectedMode")&&(n.on("mousedown",function(){l._mouseDownFlag=!0}),n.on("click",function(u){!l._mouseDownFlag||(l._mouseDownFlag=!1)}))},a}();function applyOptionStyleForRegion(a,r,n,o){var s=o.getModel("itemStyle"),l=o.getModel(["emphasis","itemStyle"]),u=o.getModel(["blur","itemStyle"]),c=o.getModel(["select","itemStyle"]),d=getFixedItemStyle(s),v=getFixedItemStyle(l),g=getFixedItemStyle(c),y=getFixedItemStyle(u),_=a.data;if(_){var S=_.getItemVisual(n,"style"),x=_.getItemVisual(n,"decal");a.isVisualEncodedByVisualMap&&S.fill&&(d.fill=S.fill),x&&(d.decal=createOrUpdatePatternFromDecal(x,a.api))}r.setStyle(d),r.style.strokeNoScale=!0,r.ensureState("emphasis").style=v,r.ensureState("select").style=g,r.ensureState("blur").style=y,setDefaultStateProxy(r)}function resetLabelForRegion(a,r,n,o,s,l,u){var c=a.data,d=a.isGeo,v=c&&isNaN(c.get(c.mapDimension("value"),l)),g=c&&c.getItemLayout(l);if(d||v||g&&g.showLabel){var y=d?n:l,_=void 0;(!c||l>=0)&&(_=s);var S=u?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(r,getLabelStatesModels(o),{labelFetcher:_,labelDataIndex:y,defaultText:n},S);var x=r.getTextContent();if(x&&(mapLabelRaw(x).ignore=x.ignore,r.textConfig&&u)){var T=r.getBoundingRect().clone();r.textConfig.layoutRect=T,r.textConfig.position=[(u[0]-T.x)/T.width*100+"%",(u[1]-T.y)/T.height*100+"%"]}r.disableLabelAnimation=!0}else r.removeTextContent(),r.removeTextConfig(),r.disableLabelAnimation=null}function resetEventTriggerForRegion(a,r,n,o,s,l){a.data?a.data.setItemGraphicEl(l,r):getECData(r).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:n,region:o&&o.option||{}}}function resetTooltipForRegion(a,r,n,o,s){a.data||setTooltipConfig({el:r,componentModel:s,itemName:n,itemTooltipOption:o.get("tooltip")})}function resetStateTriggerForRegion(a,r,n,o,s){r.highDownSilentOnTouch=!!s.get("selectedMode");var l=o.getModel("emphasis"),u=l.get("focus");return toggleHoverEmphasis(r,u,l.get("blurScope"),l.get("disabled")),a.isGeo&&enableComponentHighDownFeatures(r,s,n),u}function projectPolys(a,r,n){var o=[],s;function l(){s=[]}function u(){s.length&&(o.push(s),s=[])}var c=r({polygonStart:l,polygonEnd:u,lineStart:l,lineEnd:u,point:function(d,v){isFinite(d)&&isFinite(v)&&s.push([d,v])},sphere:function(){}});return!n&&c.polygonStart(),each$f(a,function(d){c.lineStart();for(var v=0;v<d.length;v++)c.point(d[v][0],d[v][1]);c.lineEnd()}),!n&&c.polygonEnd(),o}const MapDraw$1=MapDraw;var MapView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var u=this.group;if(u.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&l&&l.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===n.id){var c=this._mapDraw;c&&u.add(c.group)}else if(n.needsDrawMap){var c=this._mapDraw||new MapDraw$1(s);u.add(c.group),c.draw(n,o,s,this,l),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(n,o,s)}}},r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},r.prototype._renderSymbols=function(n,o,s){var l=n.originalData,u=this.group;l.each(l.mapDimension("value"),function(c,d){if(!isNaN(c)){var v=l.getItemLayout(d);if(!(!v||!v.point)){var g=v.point,y=v.offset,_=new Circle$1({style:{fill:n.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Z2_EMPHASIS_LIFT+1)});if(!y){var S=n.mainSeries.getData(),x=l.getName(d),T=S.indexOfName(x),b=l.getItemModel(d),A=b.getModel("label"),w=S.getItemGraphicEl(T);setLabelStyle(_,getLabelStatesModels(b),{labelFetcher:{getFormattedLabel:function($,C){return n.getFormattedLabel(T,C)}},defaultText:x}),_.disableLabelAnimation=!0,A.get("position")||_.setTextConfig({position:"bottom"}),w.onHoverStateChange=function($){setStatesFlag(_,$)}}u.add(_)}}})},r.type="map",r}(ChartView$1);const MapView$1=MapView;var MapSeries=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(o){if(o!=null){var s=this.getData().getName(o),l=this.coordinateSystem,u=l.getRegion(s);return u&&l.dataToPoint(u.getCenter())}},n}return r.prototype.getInitialData=function(n){for(var o=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),s=createHashMap(),l=[],u=0,c=o.count();u<c;u++){var d=o.getName(u);s.set(d,!0)}var v=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(v.regions,function(g){var y=g.name;s.get(y)||l.push(y)}),o.appendValues([],l),o},r.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},r.prototype.getRawValue=function(n){var o=this.getData();return o.get(o.mapDimension("value"),n)},r.prototype.getRegionModel=function(n){var o=this.getData();return o.getItemModel(o.indexOfName(n))},r.prototype.formatTooltip=function(n,o,s){for(var l=this.getData(),u=this.getRawValue(n),c=l.getName(n),d=this.seriesGroup,v=[],g=0;g<d.length;g++){var y=d[g].originalData.indexOfName(c),_=l.mapDimension("value");isNaN(d[g].originalData.get(_,y))||v.push(d[g].name)}return createTooltipMarkup("section",{header:v.join(", "),noHeader:!v.length,blocks:[createTooltipMarkup("nameValue",{name:c,value:u})]})},r.prototype.setZoom=function(n){this.option.zoom=n},r.prototype.setCenter=function(n){this.option.center=n},r.prototype.getLegendIcon=function(n){var o=n.icon||"roundRect",s=createSymbol$1(o,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return s.setStyle(n.itemStyle),s.style.stroke="none",o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},r.type="series.map",r.dependencies=["geo"],r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},r}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(a,r){var n={};return each$f(a,function(o){o.each(o.mapDimension("value"),function(s,l){var u="ec-"+o.getName(l);n[u]=n[u]||[],isNaN(s)||n[u].push(s)})}),a[0].map(a[0].mapDimension("value"),function(o,s){for(var l="ec-"+a[0].getName(s),u=0,c=1/0,d=-1/0,v=n[l].length,g=0;g<v;g++)c=Math.min(c,n[l][g]),d=Math.max(d,n[l][g]),u+=n[l][g];var y;return r==="min"?y=c:r==="max"?y=d:r==="average"?y=u/v:y=u,v===0?NaN:y})}function mapDataStatistic(a){var r={};a.eachSeriesByType("map",function(n){var o=n.getHostGeoModel(),s=o?"o"+o.id:"i"+n.getMapType();(r[s]=r[s]||[]).push(n)}),each$f(r,function(n,o){for(var s=dataStatistics(map$1(n,function(u){return u.getData()}),n[0].get("mapValueCalculation")),l=0;l<n.length;l++)n[l].originalData=n[l].getData();for(var l=0;l<n.length;l++)n[l].seriesGroup=n,n[l].needsDrawMap=l===0&&!n[l].getHostGeoModel(),n[l].setData(s.cloneShallow()),n[l].mainSeries=n[0]})}function mapSymbolLayout(a){var r={};a.eachSeriesByType("map",function(n){var o=n.getMapType();if(!(n.getHostGeoModel()||r[o])){var s={};each$f(n.seriesGroup,function(u){var c=u.coordinateSystem,d=u.originalData;u.get("showLegendSymbol")&&a.getComponent("legend")&&d.each(d.mapDimension("value"),function(v,g){var y=d.getName(g),_=c.getRegion(y);if(!(!_||isNaN(v))){var S=s[y]||0,x=c.dataToPoint(_.getCenter());s[y]=S+1,d.setItemLayout(g,{point:x,offset:S})}})});var l=n.getData();l.each(function(u){var c=l.getName(u),d=l.getItemLayout(u)||{};d.showLabel=!s[c],l.setItemLayout(u,d)}),r[o]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(a){__extends(r,a);function r(n){var o=a.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Transformable$1,o._rawTransformable=new Transformable$1,o.name=n,o}return r.prototype.setBoundingRect=function(n,o,s,l){return this._rect=new BoundingRect$1(n,o,s,l),this._rect},r.prototype.getBoundingRect=function(){return this._rect},r.prototype.setViewRect=function(n,o,s,l){this._transformTo(n,o,s,l),this._viewRect=new BoundingRect$1(n,o,s,l)},r.prototype._transformTo=function(n,o,s,l){var u=this.getBoundingRect(),c=this._rawTransformable;c.transform=u.calculateTransform(new BoundingRect$1(n,o,s,l));var d=c.parent;c.parent=null,c.decomposeTransform(),c.parent=d,this._updateTransform()},r.prototype.setCenter=function(n,o){!n||(this._center=[parsePercent(n[0],o.getWidth()),parsePercent(n[1],o.getHeight())],this._updateCenterAndZoom())},r.prototype.setZoom=function(n){n=n||1;var o=this.zoomLimit;o&&(o.max!=null&&(n=Math.min(o.max,n)),o.min!=null&&(n=Math.max(o.min,n))),this._zoom=n,this._updateCenterAndZoom()},r.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),o=n.x+n.width/2,s=n.y+n.height/2;return[o,s]},r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},r.prototype.getZoom=function(){return this._zoom||1},r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},r.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,s=this.getDefaultCenter(),l=this.getCenter(),u=this.getZoom();l=applyTransform$1([],l,n),s=applyTransform$1([],s,n),o.originX=l[0],o.originY=l[1],o.x=s[0]-l[0],o.y=s[1]-l[1],o.scaleX=o.scaleY=u,this._updateTransform()},r.prototype._updateTransform=function(){var n=this._roamTransformable,o=this._rawTransformable;o.parent=n,n.updateTransform(),o.updateTransform(),copy(this.transform||(this.transform=[]),o.transform||create$1()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},r.prototype.getTransformInfo=function(){var n=this._rawTransformable,o=this._roamTransformable,s=new Transformable$1;return s.transform=o.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},r.prototype.getViewRect=function(){return this._viewRect},r.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},r.prototype.dataToPoint=function(n,o,s){var l=o?this._rawTransform:this.transform;return s=s||[],l?v2ApplyTransform(s,n,l):copy$1(s,n)},r.prototype.pointToData=function(n){var o=this.invTransform;return o?v2ApplyTransform([],n,o):[n[0],n[1]]},r.prototype.convertToPixel=function(n,o,s){var l=getCoordSys$4(o);return l===this?l.dataToPoint(s):null},r.prototype.convertFromPixel=function(n,o,s){var l=getCoordSys$4(o);return l===this?l.pointToData(s):null},r.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},r.dimensions=["x","y"],r}(Transformable$1);function getCoordSys$4(a){var r=a.seriesModel;return r?r.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this,n)||this;l.dimensions=geo2DDimensions,l.type="geo",l._nameCoordMap=createHashMap(),l.map=o;var u=s.projection,c=geoSourceManager.load(o,s.nameMap,s.nameProperty),d=geoSourceManager.getGeoResource(o);l.resourceType=d?d.type:null;var v=l.regions=c.regions,g=GEO_DEFAULT_PARAMS[d.type];l._regionsMap=c.regionsMap,l.regions=c.regions,l.projection=u;var y;if(u)for(var _=0;_<v.length;_++){var S=v[_].getBoundingRect(u);y=y||S.clone(),y.union(S)}else y=c.boundingRect;return l.setBoundingRect(y.x,y.y,y.width,y.height),l.aspectScale=u?1:retrieve2(s.aspectScale,g.aspectScale),l._invertLongitute=u?!1:g.invertLongitute,l}return r.prototype._transformTo=function(n,o,s,l){var u=this.getBoundingRect(),c=this._invertLongitute;u=u.clone(),c&&(u.y=-u.y-u.height);var d=this._rawTransformable;d.transform=u.calculateTransform(new BoundingRect$1(n,o,s,l));var v=d.parent;d.parent=null,d.decomposeTransform(),d.parent=v,c&&(d.scaleY=-d.scaleY),this._updateTransform()},r.prototype.getRegion=function(n){return this._regionsMap.get(n)},r.prototype.getRegionByCoord=function(n){for(var o=this.regions,s=0;s<o.length;s++){var l=o[s];if(l.type==="geoJSON"&&l.contain(n))return o[s]}},r.prototype.addGeoCoord=function(n,o){this._nameCoordMap.set(n,o)},r.prototype.getGeoCoord=function(n){var o=this._regionsMap.get(n);return this._nameCoordMap.get(n)||o&&o.getCenter()},r.prototype.dataToPoint=function(n,o,s){if(isString(n)&&(n=this.getGeoCoord(n)),n){var l=this.projection;return l&&(n=l.project(n)),n&&this.projectedToPoint(n,o,s)}},r.prototype.pointToData=function(n){var o=this.projection;return o&&(n=o.unproject(n)),n&&this.pointToProjected(n)},r.prototype.pointToProjected=function(n){return a.prototype.pointToData.call(this,n)},r.prototype.projectedToPoint=function(n,o,s){return a.prototype.dataToPoint.call(this,n,o,s)},r.prototype.convertToPixel=function(n,o,s){var l=getCoordSys$3(o);return l===this?l.dataToPoint(s):null},r.prototype.convertFromPixel=function(n,o,s){var l=getCoordSys$3(o);return l===this?l.pointToData(s):null},r}(View$1);mixin(Geo,View$1);function getCoordSys$3(a){var r=a.geoModel,n=a.seriesModel;return r?r.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(a,r){var n=a.get("boundingCoords");if(n!=null){var o=n[0],s=n[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])){var l=this.projection;if(l){var u=o[0],c=o[1],d=s[0],v=s[1];o=[1/0,1/0],s=[-1/0,-1/0];var g=function(M,E,D,I){for(var R=D-M,L=I-E,O=0;O<=100;O++){var N=O/100,F=l.project([M+R*N,E+L*N]);min$1(o,o,F),max$1(s,s,F)}};g(u,c,d,c),g(d,c,d,v),g(d,v,u,v),g(u,v,d,c)}this.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1])}}var y=this.getBoundingRect(),_=a.get("layoutCenter"),S=a.get("layoutSize"),x=r.getWidth(),T=r.getHeight(),b=y.width/y.height*this.aspectScale,A=!1,w,$;_&&S&&(w=[parsePercent(_[0],x),parsePercent(_[1],T)],$=parsePercent(S,Math.min(x,T)),!isNaN(w[0])&&!isNaN(w[1])&&!isNaN($)&&(A=!0));var C;if(A)C={},b>1?(C.width=$,C.height=$/b):(C.height=$,C.width=$*b),C.y=w[1]-C.height/2,C.x=w[0]-C.width/2;else{var P=a.getBoxLayoutParams();P.aspect=b,C=getLayoutRect(P,{width:x,height:T})}this.setViewRect(C.x,C.y,C.width,C.height),this.setCenter(a.get("center"),r),this.setZoom(a.get("zoom"))}function setGeoCoords(a,r){each$f(r.get("geoCoord"),function(n,o){a.addGeoCoord(o,n)})}var GeoCreator=function(){function a(){this.dimensions=geo2DDimensions}return a.prototype.create=function(r,n){var o=[];function s(u){return{nameProperty:u.get("nameProperty"),aspectScale:u.get("aspectScale"),projection:u.get("projection")}}r.eachComponent("geo",function(u,c){var d=u.get("map"),v=new Geo$1(d+c,d,extend({nameMap:u.get("nameMap")},s(u)));v.zoomLimit=u.get("scaleLimit"),o.push(v),u.coordinateSystem=v,v.model=u,v.resize=resizeGeo,v.resize(u,n)}),r.eachSeries(function(u){var c=u.get("coordinateSystem");if(c==="geo"){var d=u.get("geoIndex")||0;u.coordinateSystem=o[d]}});var l={};return r.eachSeriesByType("map",function(u){if(!u.getHostGeoModel()){var c=u.getMapType();l[c]=l[c]||[],l[c].push(u)}}),each$f(l,function(u,c){var d=map$1(u,function(g){return g.get("nameMap")}),v=new Geo$1(c,c,extend({nameMap:mergeAll(d)},s(u[0])));v.zoomLimit=retrieve.apply(null,map$1(u,function(g){return g.get("scaleLimit")})),o.push(v),v.resize=resizeGeo,v.resize(u[0],n),each$f(u,function(g){g.coordinateSystem=v,setGeoCoords(v,g)})}),o},a.prototype.getFilledRegions=function(r,n,o,s){for(var l=(r||[]).slice(),u=createHashMap(),c=0;c<l.length;c++)u.set(l[c].name,l[c]);var d=geoSourceManager.load(n,o,s);return each$f(d.regions,function(v){var g=v.name;!u.get(g)&&l.push({name:g})}),l},a}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o,s){var l=geoSourceManager.getGeoResource(n.map);if(l&&l.type==="geoJSON"){var u=n.itemStyle=n.itemStyle||{};"color"in u||(u.color="#eee")}this.mergeDefaultAndTheme(n,s),defaultEmphasis(n,"label",["show"])},r.prototype.optionUpdated=function(){var n=this,o=this.option;o.regions=geoCreator$1.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var s={};this._optionModelMap=reduce(o.regions||[],function(l,u){var c=u.name;return c&&(l.set(c,new Model$1(u,n,n.ecModel)),u.selected&&(s[c]=!0)),l},createHashMap()),o.selectedMap||(o.selectedMap=s)},r.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new Model$1(null,this,this.ecModel)},r.prototype.getFormattedLabel=function(n,o){var s=this.getRegionModel(n),l=o==="normal"?s.get(["label","formatter"]):s.get(["emphasis","label","formatter"]),u={name:n};if(isFunction(l))return u.status=o,l(u);if(isString(l))return l.replace("{a}",n!=null?n:"")},r.prototype.setZoom=function(n){this.option.zoom=n},r.prototype.setCenter=function(n){this.option.center=n},r.prototype.select=function(n){var o=this.option,s=o.selectedMode;if(!!s){s!=="multiple"&&(o.selectedMap=null);var l=o.selectedMap||(o.selectedMap={});l[n]=!0}},r.prototype.unSelect=function(n){var o=this.option.selectedMap;o&&(o[n]=!1)},r.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},r.prototype.isSelected=function(n){var o=this.option.selectedMap;return!!(o&&o[n])},r.type="geo",r.layoutMode="box",r.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},r}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(a,r){return a.pointToProjected?a.pointToProjected(r):a.pointToData(r)}function updateCenterAndZoom(a,r,n,o){var s=a.getZoom(),l=a.getCenter(),u=r.zoom,c=a.projectedToPoint?a.projectedToPoint(l):a.dataToPoint(l);if(r.dx!=null&&r.dy!=null&&(c[0]-=r.dx,c[1]-=r.dy,a.setCenter(getCenterCoord(a,c),o)),u!=null){if(n){var d=n.min||0,v=n.max||1/0;u=Math.max(Math.min(s*u,v),d)/s}a.scaleX*=u,a.scaleY*=u;var g=(r.originX-a.x)*(u-1),y=(r.originY-a.y)*(u-1);a.x-=g,a.y-=y,a.updateTransform(),a.setCenter(getCenterCoord(a,c),o),a.setZoom(u*s)}return{center:a.getCenter(),zoom:a.getZoom()}}var GeoView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.focusBlurEnabled=!0,n}return r.prototype.init=function(n,o){this._api=o},r.prototype.render=function(n,o,s,l){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(s));var u=this._mapDraw;u.draw(n,o,s,this,l),u.group.on("click",this._handleRegionClick,this),u.group.silent=n.get("silent"),this.group.add(u.group),this.updateSelectStatus(n,o,s)},r.prototype._handleRegionClick=function(n){var o;findEventDispatcher(n.target,function(s){return(o=getECData(s).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},r.prototype.updateSelectStatus=function(n,o,s){var l=this;this._mapDraw.group.traverse(function(u){var c=getECData(u).eventData;if(c)return l._model.isSelected(c.name)?s.enterSelect(u):s.leaveSelect(u),!0})},r.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},r.type="geo",r}(ComponentView$1);const GeoView$1=GeoView;function registerMap(a,r,n){geoSourceManager.registerMap(a,r,n)}function install$J(a){a.registerCoordinateSystem("geo",geoCreator$1),a.registerComponentModel(GeoModel$1),a.registerComponentView(GeoView$1),a.registerImpl("registerMap",registerMap),a.registerImpl("getMap",function(n){return geoSourceManager.getMapForUser(n)});function r(n,o){o.update="geo:updateSelectStatus",a.registerAction(o,function(s,l){var u={},c=[];return l.eachComponent({mainType:"geo",query:s},function(d){d[n](s.name);var v=d.coordinateSystem;each$f(v.regions,function(y){u[y.name]=d.isSelected(y.name)||!1});var g=[];each$f(u,function(y,_){u[_]&&g.push(_)}),c.push({geoIndex:d.componentIndex,name:g})}),{selected:u,allSelected:c,name:s.name}})}r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,o,s){var l=n.componentType||"series";o.eachComponent({mainType:l,query:n},function(u){var c=u.coordinateSystem;if(c.type==="geo"){var d=updateCenterAndZoom(c,n,u.get("scaleLimit"),s);u.setCenter&&u.setCenter(d.center),u.setZoom&&u.setZoom(d.zoom),l==="series"&&each$f(u.seriesGroup,function(v){v.setCenter(d.center),v.setZoom(d.zoom)})}})})}function install$I(a){use(install$J),a.registerChartView(MapView$1),a.registerSeriesModel(MapSeries$1),a.registerLayout(mapSymbolLayout),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",a.registerAction)}function init(a){var r=a;r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[r],o,s;o=n.pop();)if(s=o.children,o.isExpand&&s.length)for(var l=s.length,u=l-1;u>=0;u--){var c=s[u];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:u,thread:null},n.push(c)}}function firstWalk(a,r){var n=a.isExpand?a.children:[],o=a.parentNode.children,s=a.hierNode.i?o[a.hierNode.i-1]:null;if(n.length){executeShifts(a);var l=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;s?(a.hierNode.prelim=s.hierNode.prelim+r(a,s),a.hierNode.modifier=a.hierNode.prelim-l):a.hierNode.prelim=l}else s&&(a.hierNode.prelim=s.hierNode.prelim+r(a,s));a.parentNode.hierNode.defaultAncestor=apportion(a,s,a.parentNode.hierNode.defaultAncestor||o[0],r)}function secondWalk(a){var r=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:r},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function separation(a){return arguments.length?a:defaultSeparation}function radialCoordinate(a,r){return a-=Math.PI/2,{x:r*Math.cos(a),y:r*Math.sin(a)}}function getViewRect$4(a,r){return getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function executeShifts(a){for(var r=a.children,n=r.length,o=0,s=0;--n>=0;){var l=r[n];l.hierNode.prelim+=o,l.hierNode.modifier+=o,s+=l.hierNode.change,o+=l.hierNode.shift+s}}function apportion(a,r,n,o){if(r){for(var s=a,l=a,u=l.parentNode.children[0],c=r,d=s.hierNode.modifier,v=l.hierNode.modifier,g=u.hierNode.modifier,y=c.hierNode.modifier;c=nextRight(c),l=nextLeft(l),c&&l;){s=nextRight(s),u=nextLeft(u),s.hierNode.ancestor=a;var _=c.hierNode.prelim+y-l.hierNode.prelim-v+o(c,l);_>0&&(moveSubtree(nextAncestor(c,a,n),a,_),v+=_,d+=_),y+=c.hierNode.modifier,v+=l.hierNode.modifier,d+=s.hierNode.modifier,g+=u.hierNode.modifier}c&&!nextRight(s)&&(s.hierNode.thread=c,s.hierNode.modifier+=y-d),l&&!nextLeft(u)&&(u.hierNode.thread=l,u.hierNode.modifier+=v-g,n=a)}return n}function nextRight(a){var r=a.children;return r.length&&a.isExpand?r[r.length-1]:a.hierNode.thread}function nextLeft(a){var r=a.children;return r.length&&a.isExpand?r[0]:a.hierNode.thread}function nextAncestor(a,r,n){return a.hierNode.ancestor.parentNode===r.parentNode?a.hierNode.ancestor:n}function moveSubtree(a,r,n){var o=n/(r.hierNode.i-a.hierNode.i);r.hierNode.change-=o,r.hierNode.shift+=n,r.hierNode.modifier+=n,r.hierNode.prelim+=n,a.hierNode.change+=o}function defaultSeparation(a,r){return a.parentNode===r.parentNode?1:2}var TreeEdgeShape=function(){function a(){this.parentPoint=[],this.childPoints=[]}return a}(),TreePath=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new TreeEdgeShape},r.prototype.buildPath=function(n,o){var s=o.childPoints,l=s.length,u=o.parentPoint,c=s[0],d=s[l-1];if(l===1){n.moveTo(u[0],u[1]),n.lineTo(c[0],c[1]);return}var v=o.orient,g=v==="TB"||v==="BT"?0:1,y=1-g,_=parsePercent(o.forkPosition,1),S=[];S[g]=u[g],S[y]=u[y]+(d[y]-u[y])*_,n.moveTo(u[0],u[1]),n.lineTo(S[0],S[1]),n.moveTo(c[0],c[1]),S[g]=c[g],n.lineTo(S[0],S[1]),S[g]=d[g],n.lineTo(S[0],S[1]),n.lineTo(d[0],d[1]);for(var x=1;x<l-1;x++){var T=s[x];n.moveTo(T[0],T[1]),S[g]=T[g],n.lineTo(S[0],S[1])}},r}(Path$1),TreeView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._mainGroup=new Group$4,n}return r.prototype.init=function(n,o){this._controller=new RoamController$1(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},r.prototype.render=function(n,o,s){var l=n.getData(),u=n.layoutInfo,c=this._mainGroup,d=n.get("layout");d==="radial"?(c.x=u.x+u.width/2,c.y=u.y+u.height/2):(c.x=u.x,c.y=u.y),this._updateViewCoordSys(n,s),this._updateController(n,o,s);var v=this._data;l.diff(v).add(function(g){symbolNeedsDraw(l,g)&&updateNode(l,g,null,c,n)}).update(function(g,y){var _=v.getItemGraphicEl(y);if(!symbolNeedsDraw(l,g)){_&&removeNode(v,y,_,c,n);return}updateNode(l,g,_,c,n)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&removeNode(v,g,y,c,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&l.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:y})})}),this._data=l},r.prototype._updateViewCoordSys=function(n,o){var s=n.getData(),l=[];s.each(function(y){var _=s.getItemLayout(y);_&&!isNaN(_.x)&&!isNaN(_.y)&&l.push([+_.x,+_.y])});var u=[],c=[];fromPoints(l,u,c);var d=this._min,v=this._max;c[0]-u[0]===0&&(u[0]=d?d[0]:u[0]-1,c[0]=v?v[0]:c[0]+1),c[1]-u[1]===0&&(u[1]=d?d[1]:u[1]-1,c[1]=v?v[1]:c[1]+1);var g=n.coordinateSystem=new View$1;g.zoomLimit=n.get("scaleLimit"),g.setBoundingRect(u[0],u[1],c[0]-u[0],c[1]-u[1]),g.setCenter(n.get("center"),o),g.setZoom(n.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=u,this._max=c},r.prototype._updateController=function(n,o,s){var l=this,u=this._controller,c=this._controllerHost,d=this.group;u.setPointerChecker(function(v,g,y){var _=d.getBoundingRect();return _.applyTransform(d.transform),_.contain(g,y)&&!onIrrelevantElement(v,s,n)}),u.enable(n.get("roam")),c.zoomLimit=n.get("scaleLimit"),c.zoom=n.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(c,v.dx,v.dy),s.dispatchAction({seriesId:n.id,type:"treeRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(c,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),l._updateNodeAndLinkScale(n),s.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(n){var o=n.getData(),s=this._getNodeGlobalScale(n);o.eachItemGraphicEl(function(l,u){l.setSymbolScale(s)})},r.prototype._getNodeGlobalScale=function(n){var o=n.coordinateSystem;if(o.type!=="view")return 1;var s=this._nodeScaleRatio,l=o.scaleX||1,u=o.getZoom(),c=(u-1)*s+1;return c/l},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},r.type="tree",r}(ChartView$1);function symbolNeedsDraw(a,r){var n=a.getItemLayout(r);return n&&!isNaN(n.x)&&!isNaN(n.y)}function updateNode(a,r,n,o,s){var l=!n,u=a.tree.getNodeByDataIndex(r),c=u.getModel(),d=u.getVisual("style").fill,v=u.isExpand===!1&&u.children.length!==0?d:"#fff",g=a.tree.root,y=u.parentNode===g?u:u.parentNode||u,_=a.getItemGraphicEl(y.dataIndex),S=y.getLayout(),x=_?{x:_.__oldX,y:_.__oldY,rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:S,T=u.getLayout();l?(n=new SymbolClz(a,r,null,{symbolInnerColor:v,useNameLabel:!0}),n.x=x.x,n.y=x.y):n.updateData(a,r,null,{symbolInnerColor:v,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=T.rawX,n.__radialRawY=T.rawY,o.add(n),a.setItemGraphicEl(r,n),n.__oldX=n.x,n.__oldY=n.y,updateProps$1(n,{x:T.x,y:T.y},s);var b=n.getSymbolPath();if(s.get("layout")==="radial"){var A=g.children[0],w=A.getLayout(),$=A.children.length,C=void 0,P=void 0;if(T.x===w.x&&u.isExpand===!0&&A.children.length){var M={x:(A.children[0].getLayout().x+A.children[$-1].getLayout().x)/2,y:(A.children[0].getLayout().y+A.children[$-1].getLayout().y)/2};C=Math.atan2(M.y-w.y,M.x-w.x),C<0&&(C=Math.PI*2+C),P=M.x<w.x,P&&(C=C-Math.PI)}else C=Math.atan2(T.y-w.y,T.x-w.x),C<0&&(C=Math.PI*2+C),u.children.length===0||u.children.length!==0&&u.isExpand===!1?(P=T.x<w.x,P&&(C=C-Math.PI)):(P=T.x>w.x,P||(C=C-Math.PI));var E=P?"left":"right",D=c.getModel("label"),I=D.get("rotate"),R=I*(Math.PI/180),L=b.getTextContent();L&&(b.setTextConfig({position:D.get("position")||E,rotation:I==null?-C:R,origin:"center"}),L.setStyle("verticalAlign","middle"))}var O=c.get(["emphasis","focus"]),N=O==="relative"?concatArray(u.getAncestorsIndices(),u.getDescendantIndices()):O==="ancestor"?u.getAncestorsIndices():O==="descendant"?u.getDescendantIndices():null;N&&(getECData(n).focus=N),drawEdge(s,u,g,n,x,S,T,o),n.__edge&&(n.onHoverStateChange=function(F){if(F!=="blur"){var B=u.parentNode&&a.getItemGraphicEl(u.parentNode.dataIndex);B&&B.hoverState===HOVER_STATE_BLUR||setStatesFlag(n.__edge,F)}})}function drawEdge(a,r,n,o,s,l,u,c){var d=r.getModel(),v=a.get("edgeShape"),g=a.get("layout"),y=a.getOrient(),_=a.get(["lineStyle","curveness"]),S=a.get("edgeForkPosition"),x=d.getModel("lineStyle").getLineStyle(),T=o.__edge;if(v==="curve")r.parentNode&&r.parentNode!==n&&(T||(T=o.__edge=new BezierCurve$1({shape:getEdgeShape(g,y,_,s,s)})),updateProps$1(T,{shape:getEdgeShape(g,y,_,l,u)},a));else if(v==="polyline"&&g==="orthogonal"&&r!==n&&r.children&&r.children.length!==0&&r.isExpand===!0){for(var b=r.children,A=[],w=0;w<b.length;w++){var $=b[w].getLayout();A.push([$.x,$.y])}T||(T=o.__edge=new TreePath({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:y,forkPosition:S}})),updateProps$1(T,{shape:{parentPoint:[u.x,u.y],childPoints:A}},a)}T&&!(v==="polyline"&&!r.isExpand)&&(T.useStyle(defaults({strokeNoScale:!0,fill:null},x)),setStatesStylesFromModel(T,d,"lineStyle"),setDefaultStateProxy(T),c.add(T))}function removeNodeEdge(a,r,n,o,s){var l=r.tree.root,u=getSourceNode(l,a),c=u.source,d=u.sourceLayout,v=r.getItemGraphicEl(a.dataIndex);if(!!v){var g=r.getItemGraphicEl(c.dataIndex),y=g.__edge,_=v.__edge||(c.isExpand===!1||c.children.length===1?y:void 0),S=o.get("edgeShape"),x=o.get("layout"),T=o.get("orient"),b=o.get(["lineStyle","curveness"]);_&&(S==="curve"?removeElement(_,{shape:getEdgeShape(x,T,b,d,d),style:{opacity:0}},o,{cb:function(){n.remove(_)},removeOpt:s}):S==="polyline"&&o.get("layout")==="orthogonal"&&removeElement(_,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},o,{cb:function(){n.remove(_)},removeOpt:s}))}}function getSourceNode(a,r){for(var n=r.parentNode===a?r:r.parentNode||r,o;o=n.getLayout(),o==null;)n=n.parentNode===a?n:n.parentNode||n;return{source:n,sourceLayout:o}}function removeNode(a,r,n,o,s){var l=a.tree.getNodeByDataIndex(r),u=a.tree.root,c=getSourceNode(u,l).sourceLayout,d={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};removeElement(n,{x:c.x+1,y:c.y+1},s,{cb:function(){o.remove(n),a.setItemGraphicEl(r,null)},removeOpt:d}),n.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:d}),l.children.forEach(function(v){removeNodeEdge(v,a,o,s,d)}),removeNodeEdge(l,a,o,s,d)}function getEdgeShape(a,r,n,o,s){var l,u,c,d,v,g,y,_;if(a==="radial"){v=o.rawX,y=o.rawY,g=s.rawX,_=s.rawY;var S=radialCoordinate(v,y),x=radialCoordinate(v,y+(_-y)*n),T=radialCoordinate(g,_+(y-_)*n),b=radialCoordinate(g,_);return{x1:S.x||0,y1:S.y||0,x2:b.x||0,y2:b.y||0,cpx1:x.x||0,cpy1:x.y||0,cpx2:T.x||0,cpy2:T.y||0}}else v=o.x,y=o.y,g=s.x,_=s.y,(r==="LR"||r==="RL")&&(l=v+(g-v)*n,u=y,c=g+(v-g)*n,d=_),(r==="TB"||r==="BT")&&(l=v,u=y+(_-y)*n,c=g,d=_+(y-_)*n);return{x1:v,y1:y,x2:g,y2:_,cpx1:l,cpy1:u,cpx2:c,cpy2:d}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(a){var r=a.mainData,n=a.datas;n||(n={main:r},a.datasAttr={main:"data"}),a.datas=a.mainData=null,linkAll(r,n,a),each$f(n,function(o){each$f(r.TRANSFERABLE_METHODS,function(s){o.wrapMethod(s,curry$1(transferInjection,a))})}),r.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,a)),each$f(r.CHANGABLE_METHODS,function(o){r.wrapMethod(o,curry$1(changeInjection,a))}),assert(n[r.dataType]===r)}function transferInjection(a,r){if(isMainData(this)){var n=extend({},inner$e(this).datas);n[this.dataType]=r,linkAll(r,n,a)}else linkSingle(r,this.dataType,inner$e(this).mainData,a);return r}function changeInjection(a,r){return a.struct&&a.struct.update(),r}function cloneShallowInjection(a,r){return each$f(inner$e(r).datas,function(n,o){n!==r&&linkSingle(n.cloneShallow(),o,r,a)}),r}function getLinkedData(a){var r=inner$e(this).mainData;return a==null||r==null?r:inner$e(r).datas[a]}function getLinkedDataAll(){var a=inner$e(this).mainData;return a==null?[{data:a}]:map$1(keys(inner$e(a).datas),function(r){return{type:r,data:inner$e(a).datas[r]}})}function isMainData(a){return inner$e(a).mainData===a}function linkAll(a,r,n){inner$e(a).datas={},each$f(r,function(o,s){linkSingle(o,s,a,n)})}function linkSingle(a,r,n,o){inner$e(n).datas[r]=a,inner$e(a).mainData=n,a.dataType=r,o.struct&&(a[o.structAttr]=o.struct,o.struct[o.datasAttr[r]]=a),a.getLinkedData=getLinkedData,a.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function a(r,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=r||"",this.hostTree=n}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(r,n,o){isFunction(r)&&(o=n,n=r,r=null),r=r||{},isString(r)&&(r={order:r});var s=r.order||"preorder",l=this[r.attr||"children"],u;s==="preorder"&&(u=n.call(o,this));for(var c=0;!u&&c<l.length;c++)l[c].eachNode(r,n,o);s==="postorder"&&n.call(o,this)},a.prototype.updateDepthAndHeight=function(r){var n=0;this.depth=r;for(var o=0;o<this.children.length;o++){var s=this.children[o];s.updateDepthAndHeight(r+1),s.height>n&&(n=s.height)}this.height=n+1},a.prototype.getNodeById=function(r){if(this.getId()===r)return this;for(var n=0,o=this.children,s=o.length;n<s;n++){var l=o[n].getNodeById(r);if(l)return l}},a.prototype.contains=function(r){if(r===this)return!0;for(var n=0,o=this.children,s=o.length;n<s;n++){var l=o[n].contains(r);if(l)return l}},a.prototype.getAncestors=function(r){for(var n=[],o=r?this:this.parentNode;o;)n.push(o),o=o.parentNode;return n.reverse(),n},a.prototype.getAncestorsIndices=function(){for(var r=[],n=this;n;)r.push(n.dataIndex),n=n.parentNode;return r.reverse(),r},a.prototype.getDescendantIndices=function(){var r=[];return this.eachNode(function(n){r.push(n.dataIndex)}),r},a.prototype.getValue=function(r){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},a.prototype.setLayout=function(r,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,r,n)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(r){if(!(this.dataIndex<0)){var n=this.hostTree,o=n.data.getItemModel(this.dataIndex);return o.getModel(r)}},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(r,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,r,n)},a.prototype.getVisual=function(r){return this.hostTree.data.getItemVisual(this.dataIndex,r)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var r=this.parentNode.children,n=0;n<r.length;++n)if(r[n]===this)return n;return-1}return-1},a.prototype.isAncestorOf=function(r){for(var n=r.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},a.prototype.isDescendantOf=function(r){return r!==this&&r.isAncestorOf(this)},a}(),Tree=function(){function a(r){this.type="tree",this._nodes=[],this.hostModel=r}return a.prototype.eachNode=function(r,n,o){this.root.eachNode(r,n,o)},a.prototype.getNodeByDataIndex=function(r){var n=this.data.getRawIndex(r);return this._nodes[n]},a.prototype.getNodeById=function(r){return this.root.getNodeById(r)},a.prototype.update=function(){for(var r=this.data,n=this._nodes,o=0,s=n.length;o<s;o++)n[o].dataIndex=-1;for(var o=0,s=r.count();o<s;o++)n[r.getRawIndex(o)].dataIndex=o},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(r,n,o){var s=new a(n),l=[],u=1;c(r);function c(g,y){var _=g.value;u=Math.max(u,isArray$1(_)?_.length:1),l.push(g);var S=new TreeNode(convertOptionIdName(g.name,""),s);y?addChild(S,y):s.root=S,s._nodes.push(S);var x=g.children;if(x)for(var T=0;T<x.length;T++)c(x[T],S)}s.root.updateDepthAndHeight(0);var d=prepareSeriesDataSchema(l,{coordDimensions:["value"],dimensionsCount:u}).dimensions,v=new SeriesData$1(d,n);return v.initData(l),o&&o(v),linkSeriesData({mainData:v,struct:s,structAttr:"tree"}),s.update(),s},a}();function addChild(a,r){var n=r.children;a.parentNode!==r&&(n.push(a),a.parentNode=r)}const Tree$1=Tree;function retrieveTargetInfo(a,r,n){if(a&&indexOf(r,a.type)>=0){var o=n.getData().tree.root,s=a.targetNode;if(isString(s)&&(s=o.getNodeById(s)),s&&o.contains(s))return{node:s};var l=a.targetNodeId;if(l!=null&&(s=o.getNodeById(l)))return{node:s}}}function getPathToRoot(a){for(var r=[];a;)a=a.parentNode,a&&r.push(a);return r.reverse()}function aboveViewRoot(a,r){var n=getPathToRoot(a);return indexOf(n,r)>=0}function wrapTreePathInfo(a,r){for(var n=[];a;){var o=a.dataIndex;n.push({name:a.name,dataIndex:o,value:r.getRawValue(o)}),a=a.parentNode}return n.reverse(),n}var TreeSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return r.prototype.getInitialData=function(n){var o={name:n.name,children:n.data},s=n.leaves||{},l=new Model$1(s,this,this.ecModel),u=Tree$1.createTree(o,this,c);function c(y){y.wrapMethod("getItemModel",function(_,S){var x=u.getNodeByDataIndex(S);return x&&x.children.length&&x.isExpand||(_.parentModel=l),_})}var d=0;u.eachNode("preorder",function(y){y.depth>d&&(d=y.depth)});var v=n.expandAndCollapse,g=v&&n.initialTreeDepth>=0?n.initialTreeDepth:d;return u.root.eachNode("preorder",function(y){var _=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=_&&_.collapsed!=null?!_.collapsed:y.depth<=g}),u.data},r.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},r.prototype.setZoom=function(n){this.option.zoom=n},r.prototype.setCenter=function(n){this.option.center=n},r.prototype.formatTooltip=function(n,o,s){for(var l=this.getData().tree,u=l.root.children[0],c=l.getNodeByDataIndex(n),d=c.getValue(),v=c.name;c&&c!==u;)v=c.parentNode.name+"."+v,c=c.parentNode;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:isNaN(d)||d==null})},r.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(n);return o.treeAncestors=wrapTreePathInfo(s,this),o.collapsed=!s.isExpand,o},r.type="series.tree",r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},r}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(a,r,n){for(var o=[a],s=[],l;l=o.pop();)if(s.push(l),l.isExpand){var u=l.children;if(u.length)for(var c=0;c<u.length;c++)o.push(u[c])}for(;l=s.pop();)r(l,n)}function eachBefore(a,r){for(var n=[a],o;o=n.pop();)if(r(o),o.isExpand){var s=o.children;if(s.length)for(var l=s.length-1;l>=0;l--)n.push(s[l])}}function treeLayout(a,r){a.eachSeriesByType("tree",function(n){commonLayout(n,r)})}function commonLayout(a,r){var n=getViewRect$4(a,r);a.layoutInfo=n;var o=a.get("layout"),s=0,l=0,u=null;o==="radial"?(s=2*Math.PI,l=Math.min(n.height,n.width)/2,u=separation(function($,C){return($.parentNode===C.parentNode?1:2)/$.depth})):(s=n.width,l=n.height,u=separation());var c=a.getData().tree.root,d=c.children[0];if(d){init(c),eachAfter(d,firstWalk,u),c.hierNode.modifier=-d.hierNode.prelim,eachBefore(d,secondWalk);var v=d,g=d,y=d;eachBefore(d,function($){var C=$.getLayout().x;C<v.getLayout().x&&(v=$),C>g.getLayout().x&&(g=$),$.depth>y.depth&&(y=$)});var _=v===g?1:u(v,g)/2,S=_-v.getLayout().x,x=0,T=0,b=0,A=0;if(o==="radial")x=s/(g.getLayout().x+_+S),T=l/(y.depth-1||1),eachBefore(d,function($){b=($.getLayout().x+S)*x,A=($.depth-1)*T;var C=radialCoordinate(b,A);$.setLayout({x:C.x,y:C.y,rawX:b,rawY:A},!0)});else{var w=a.getOrient();w==="RL"||w==="LR"?(T=l/(g.getLayout().x+_+S),x=s/(y.depth-1||1),eachBefore(d,function($){A=($.getLayout().x+S)*T,b=w==="LR"?($.depth-1)*x:s-($.depth-1)*x,$.setLayout({x:b,y:A},!0)})):(w==="TB"||w==="BT")&&(x=s/(g.getLayout().x+_+S),T=l/(y.depth-1||1),eachBefore(d,function($){b=($.getLayout().x+S)*x,A=w==="TB"?($.depth-1)*T:l-($.depth-1)*T,$.setLayout({x:b,y:A},!0)}))}}}function treeVisual(a){a.eachSeriesByType("tree",function(r){var n=r.getData(),o=n.tree;o.eachNode(function(s){var l=s.getModel(),u=l.getModel("itemStyle").getItemStyle(),c=n.ensureUniqueItemVisual(s.dataIndex,"style");extend(c,u)})})}function installTreeAction(a){a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(r,n){n.eachComponent({mainType:"series",subType:"tree",query:r},function(o){var s=r.dataIndex,l=o.getData().tree,u=l.getNodeByDataIndex(s);u.isExpand=!u.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(r,n,o){n.eachComponent({mainType:"series",subType:"tree",query:r},function(s){var l=s.coordinateSystem,u=updateCenterAndZoom(l,r,void 0,o);s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom)})})}function install$H(a){a.registerChartView(TreeView$1),a.registerSeriesModel(TreeSeriesModel$1),a.registerLayout(treeLayout),a.registerVisual(treeVisual),installTreeAction(a)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(a){for(var r=0;r<actionTypes.length;r++)a.registerAction({type:actionTypes[r],update:"updateView"},noop);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,o){o.eachComponent({mainType:"series",subType:"treemap",query:n},s);function s(l,u){var c=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(n,c,l);if(d){var v=l.getViewRoot();v&&(n.direction=aboveViewRoot(v,d.node)?"rollUp":"drillDown"),l.resetViewRoot(d.node)}}})}function enableAriaDecalForTree(a){var r=a.getData(),n=r.tree,o={};n.eachNode(function(s){for(var l=s;l&&l.depth>1;)l=l.parentNode;var u=getDecalFromPalette(a.ecModel,l.name||l.dataIndex+"",o);s.setVisual("decal",u)})}var TreemapSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.preventUsingHoverLayer=!0,n}return r.prototype.getInitialData=function(n,o){var s={name:n.name,children:n.data};completeTreeValue$1(s);var l=n.levels||[],u=this.designatedVisualItemStyle={},c=new Model$1({itemStyle:u},this,o);l=n.levels=setDefault(l,o);var d=map$1(l||[],function(y){return new Model$1(y,c,o)},this),v=Tree$1.createTree(s,this,g);function g(y){y.wrapMethod("getItemModel",function(_,S){var x=v.getNodeByDataIndex(S),T=x?d[x.depth]:null;return _.parentModel=T||c,_})}return v.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=this.getRawValue(n),c=l.getName(n);return createTooltipMarkup("nameValue",{name:c,value:u})},r.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(n);return o.treeAncestors=wrapTreePathInfo(s,this),o.treePathInfo=o.treeAncestors,o},r.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,n)},r.prototype.mapIdToIndex=function(n){var o=this._idIndexMap;o||(o=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var s=o.get(n);return s==null&&o.set(n,s=this._idIndexMapCount++),s},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var o=this.getRawData().tree.root;(!n||n!==o&&!o.contains(n))&&(this._viewRoot=o)},r.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},r.type="series.treemap",r.layoutMode="box",r.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},r}(SeriesModel$1);function completeTreeValue$1(a){var r=0;each$f(a.children,function(o){completeTreeValue$1(o);var s=o.value;isArray$1(s)&&(s=s[0]),r+=s});var n=a.value;isArray$1(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=r),n<0&&(n=0),isArray$1(a.value)?a.value[0]=n:a.value=n}function setDefault(a,r){var n=normalizeToArray(r.get("color")),o=normalizeToArray(r.get(["aria","decal","decals"]));if(!!n){a=a||[];var s,l;each$f(a,function(c){var d=new Model$1(c),v=d.get("color"),g=d.get("decal");(d.get(["itemStyle","color"])||v&&v!=="none")&&(s=!0),(d.get(["itemStyle","decal"])||g&&g!=="none")&&(l=!0)});var u=a[0]||(a[0]={});return s||(u.color=n.slice()),!l&&o&&(u.decal=o.slice()),a}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function a(r){this.group=new Group$4,r.add(this.group)}return a.prototype.render=function(r,n,o,s){var l=r.getModel("breadcrumb"),u=this.group;if(u.removeAll(),!(!l.get("show")||!o)){var c=l.getModel("itemStyle"),d=l.getModel("emphasis"),v=c.getModel("textStyle"),g=d.getModel(["itemStyle","textStyle"]),y={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,y,v),this._renderContent(r,y,c,d,v,g,s),positionElement(u,y.pos,y.box)}},a.prototype._prepare=function(r,n,o){for(var s=r;s;s=s.parentNode){var l=convertOptionIdName(s.getModel().get("name"),""),u=o.getTextRect(l),c=Math.max(u.width+TEXT_PADDING*2,n.emptyItemWidth);n.totalWidth+=c+ITEM_GAP,n.renderList.push({node:s,text:l,width:c})}},a.prototype._renderContent=function(r,n,o,s,l,u,c){for(var d=0,v=n.emptyItemWidth,g=r.get(["breadcrumb","height"]),y=getAvailableSize(n.pos,n.box),_=n.totalWidth,S=n.renderList,x=s.getModel("itemStyle").getItemStyle(),T=S.length-1;T>=0;T--){var b=S[T],A=b.node,w=b.width,$=b.text;_>y.width&&(_-=w-v,w=v,$=null);var C=new Polygon$1({shape:{points:makeItemPoints(d,0,w,g,T===S.length-1,T===0)},style:defaults(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle(l,{text:$})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(c,A)});C.disableLabelAnimation=!0,C.getTextContent().ensureState("emphasis").style=createTextStyle(u,{text:$}),C.ensureState("emphasis").style=x,toggleHoverEmphasis(C,s.get("focus"),s.get("blurScope"),s.get("disabled")),this.group.add(C),packEventData(C,r,A),d+=w+ITEM_GAP}},a.prototype.remove=function(){this.group.removeAll()},a}();function makeItemPoints(a,r,n,o,s,l){var u=[[s?a:a-ARRAY_LENGTH,r],[a+n,r],[a+n,r+o],[s?a:a-ARRAY_LENGTH,r+o]];return!l&&u.splice(2,0,[a+n+ARRAY_LENGTH,r+o/2]),!s&&u.push([a,r+o/2]),u}function packEventData(a,r,n){getECData(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&wrapTreePathInfo(n,r)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(r,n,o,s,l){return this._elExistsMap[r.id]?!1:(this._elExistsMap[r.id]=!0,this._storage.push({el:r,target:n,duration:o,delay:s,easing:l}),!0)},a.prototype.finished=function(r){return this._finishedCallback=r,this},a.prototype.start=function(){for(var r=this,n=this._storage.length,o=function(){n--,n<=0&&(r._storage.length=0,r._elExistsMap={},r._finishedCallback&&r._finishedCallback())},s=0,l=this._storage.length;s<l;s++){var u=this._storage[s];u.el.animateTo(u.target,{duration:u.duration,delay:u.delay,easing:u.easing,setToFinal:!0,done:o,aborted:o})}return this},a}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(a){var r=getStateItemStyle(a);return r.stroke=r.fill=r.lineWidth=null,r},inner$d=makeInner(),TreemapView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._state="ready",n._storage=createStorage(),n}return r.prototype.render=function(n,o,s,l){var u=o.findComponents({mainType:"series",subType:"treemap",query:l});if(!(indexOf(u,n)<0)){this.seriesModel=n,this.api=s,this.ecModel=o;var c=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(l,c,n),v=l&&l.type,g=n.layoutInfo,y=!this._oldTree,_=this._storage,S=v==="treemapRootToNode"&&d&&_?{rootNodeGroup:_.nodeGroup[d.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(g),T=n.get("animation"),b=this._doRender(x,n,S);T&&!y&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(x,b,n,S):b.renderFinally(),this._resetController(s),this._renderBreadcrumb(n,s,d)}},r.prototype._giveContainerGroup=function(n){var o=this._containerGroup;return o||(o=this._containerGroup=new Group$2,this._initEvents(o),this.group.add(o)),o.x=n.x,o.y=n.y,o},r.prototype._doRender=function(n,o,s){var l=o.getData().tree,u=this._oldTree,c=createStorage(),d=createStorage(),v=this._storage,g=[];function y(b,A,w,$){return renderNode(o,d,v,s,c,g,b,A,w,$)}S(l.root?[l.root]:[],u&&u.root?[u.root]:[],n,l===u||!u,0);var _=x(v);return this._oldTree=l,this._storage=d,{lastsForAnimation:c,willDeleteEls:_,renderFinally:T};function S(b,A,w,$,C){$?(A=b,each$f(b,function(E,D){!E.isRemoved()&&M(D,D)})):new DataDiffer$1(A,b,P,P).add(M).update(M).remove(curry$1(M,null)).execute();function P(E){return E.getId()}function M(E,D){var I=E!=null?b[E]:null,R=D!=null?A[D]:null,L=y(I,R,w,C);L&&S(I&&I.viewChildren||[],R&&R.viewChildren||[],L,$,C+1)}}function x(b){var A=createStorage();return b&&each$f(b,function(w,$){var C=A[$];each$f(w,function(P){P&&(C.push(P),inner$d(P).willDelete=!0)})}),A}function T(){each$f(_,function(b){each$f(b,function(A){A.parent&&A.parent.remove(A)})}),each$f(g,function(b){b.invisible=!0,b.dirty()})}},r.prototype._doAnimation=function(n,o,s,l){var u=s.get("animationDurationUpdate"),c=s.get("animationEasing"),d=(isFunction(u)?0:u)||0,v=(isFunction(c)?null:c)||"cubicOut",g=createWrap();each$f(o.willDeleteEls,function(y,_){each$f(y,function(S,x){if(!S.invisible){var T=S.parent,b,A=inner$d(T);if(l&&l.direction==="drillDown")b=T===l.rootNodeGroup?{shape:{x:0,y:0,width:A.nodeWidth,height:A.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var w=0,$=0;A.willDelete||(w=A.nodeWidth/2,$=A.nodeHeight/2),b=_==="nodeGroup"?{x:w,y:$,style:{opacity:0}}:{shape:{x:w,y:$,width:0,height:0},style:{opacity:0}}}b&&g.add(S,b,d,0,v)}})}),each$f(this._storage,function(y,_){each$f(y,function(S,x){var T=o.lastsForAnimation[_][x],b={};!T||(S instanceof Group$4?T.oldX!=null&&(b.x=S.x,b.y=S.y,S.x=T.oldX,S.y=T.oldY):(T.oldShape&&(b.shape=extend({},S.shape),S.setShape(T.oldShape)),T.fadein?(S.setStyle("opacity",0),b.style={opacity:1}):S.style.opacity!==1&&(b.style={opacity:1})),g.add(S,b,d,0,v))})},this),this._state="animating",g.finished(bind$1(function(){this._state="ready",o.renderFinally()},this)).start()},r.prototype._resetController=function(n){var o=this._controller;o||(o=this._controller=new RoamController$1(n.getZr()),o.enable(this.seriesModel.get("roam")),o.on("pan",bind$1(this._onPan,this)),o.on("zoom",bind$1(this._onZoom,this)));var s=new BoundingRect$1(0,0,n.getWidth(),n.getHeight());o.setPointerChecker(function(l,u,c){return s.contain(u,c)})},r.prototype._clearController=function(){var n=this._controller;n&&(n.dispose(),n=null)},r.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>DRAG_THRESHOLD||Math.abs(n.dy)>DRAG_THRESHOLD)){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+n.dx,y:s.y+n.dy,width:s.width,height:s.height}})}},r.prototype._onZoom=function(n){var o=n.originX,s=n.originY;if(this._state!=="animating"){var l=this.seriesModel.getData().tree.root;if(!l)return;var u=l.getLayout();if(!u)return;var c=new BoundingRect$1(u.x,u.y,u.width,u.height),d=this.seriesModel.layoutInfo;o-=d.x,s-=d.y;var v=create$1();translate(v,v,[-o,-s]),scale$1(v,v,[n.scale,n.scale]),translate(v,v,[o,s]),c.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}},r.prototype._initEvents=function(n){var o=this;n.on("click",function(s){if(o._state==="ready"){var l=o.seriesModel.get("nodeClick",!0);if(!!l){var u=o.findTarget(s.offsetX,s.offsetY);if(!!u){var c=u.node;if(c.getLayout().isLeafRoot)o._rootToNode(u);else if(l==="zoomToNode")o._zoomToNode(u);else if(l==="link"){var d=c.hostTree.data.getItemModel(c.dataIndex),v=d.get("link",!0),g=d.get("target",!0)||"blank";v&&windowOpen(v,g)}}}}},this)},r.prototype._renderBreadcrumb=function(n,o,s){var l=this;s||(s=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),s||(s={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(n,o,s.node,function(u){l._state!=="animating"&&(aboveViewRoot(n.getViewRoot(),u)?l._rootToNode({node:u}):l._zoomToNode({node:u}))})},r.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},r.prototype.dispose=function(){this._clearController()},r.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},r.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},r.prototype.findTarget=function(n,o){var s,l=this.seriesModel.getViewRoot();return l.eachNode({attr:"viewChildren",order:"preorder"},function(u){var c=this._storage.background[u.getRawIndex()];if(c){var d=c.transformCoordToLocal(n,o),v=c.shape;if(v.x<=d[0]&&d[0]<=v.x+v.width&&v.y<=d[1]&&d[1]<=v.y+v.height)s={node:u,offsetX:d[0],offsetY:d[1]};else return!1}},this),s},r.type="treemap",r}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(a,r,n,o,s,l,u,c,d,v){if(!u)return;var g=u.getLayout(),y=a.getData(),_=u.getModel();if(y.setItemGraphicEl(u.dataIndex,null),!g||!g.isInView)return;var S=g.width,x=g.height,T=g.borderWidth,b=g.invisible,A=u.getRawIndex(),w=c&&c.getRawIndex(),$=u.viewChildren,C=g.upperHeight,P=$&&$.length,M=_.getModel("itemStyle"),E=_.getModel(["emphasis","itemStyle"]),D=_.getModel(["blur","itemStyle"]),I=_.getModel(["select","itemStyle"]),R=M.get("borderRadius")||0,L=de("nodeGroup",Group$2);if(!L)return;if(d.add(L),L.x=g.x||0,L.y=g.y||0,L.markRedraw(),inner$d(L).nodeWidth=S,inner$d(L).nodeHeight=x,g.isAboveViewRoot)return L;var O=de("background",Rect$1,v,Z2_BG);O&&Y(L,O,P&&g.upperLabelHeight);var N=_.getModel("emphasis"),F=N.get("focus"),B=N.get("blurScope"),z=N.get("disabled"),U=F==="ancestor"?u.getAncestorsIndices():F==="descendant"?u.getDescendantIndices():F;if(P)isHighDownDispatcher(L)&&setAsHighDownDispatcher(L,!1),O&&(setAsHighDownDispatcher(O,!z),y.setItemGraphicEl(u.dataIndex,O),enableHoverFocus(O,U,B));else{var H=de("content",Rect$1,v,Z2_CONTENT);H&&X(L,H),O.disableMorphing=!0,O&&isHighDownDispatcher(O)&&setAsHighDownDispatcher(O,!1),setAsHighDownDispatcher(L,!z),y.setItemGraphicEl(u.dataIndex,L),enableHoverFocus(L,U,B)}return L;function Y(q,J,he){var fe=getECData(J);if(fe.dataIndex=u.dataIndex,fe.seriesIndex=a.seriesIndex,J.setShape({x:0,y:0,width:S,height:x,r:R}),b)te(J);else{J.invisible=!1;var ee=u.getVisual("style"),ne=ee.stroke,V=getItemStyleNormal(M);V.fill=ne;var G=getStateItemStyle(E);G.fill=E.get("borderColor");var W=getStateItemStyle(D);W.fill=D.get("borderColor");var K=getStateItemStyle(I);if(K.fill=I.get("borderColor"),he){var Q=S-2*T;oe(J,ne,ee.opacity,{x:T,y:0,width:Q,height:C})}else J.removeTextContent();J.setStyle(V),J.ensureState("emphasis").style=G,J.ensureState("blur").style=W,J.ensureState("select").style=K,setDefaultStateProxy(J)}q.add(J)}function X(q,J){var he=getECData(J);he.dataIndex=u.dataIndex,he.seriesIndex=a.seriesIndex;var fe=Math.max(S-2*T,0),ee=Math.max(x-2*T,0);if(J.culling=!0,J.setShape({x:T,y:T,width:fe,height:ee,r:R}),b)te(J);else{J.invisible=!1;var ne=u.getVisual("style"),V=ne.fill,G=getItemStyleNormal(M);G.fill=V,G.decal=ne.decal;var W=getStateItemStyle(E),K=getStateItemStyle(D),Q=getStateItemStyle(I);oe(J,V,ne.opacity,null),J.setStyle(G),J.ensureState("emphasis").style=W,J.ensureState("blur").style=K,J.ensureState("select").style=Q,setDefaultStateProxy(J)}q.add(J)}function te(q){!q.invisible&&l.push(q)}function oe(q,J,he,fe){var ee=_.getModel(fe?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),ne=convertOptionIdName(_.get("name"),null),V=ee.getShallow("show");setLabelStyle(q,getLabelStatesModels(_,fe?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:V?ne:null,inheritColor:J,defaultOpacity:he,labelFetcher:a,labelDataIndex:u.dataIndex});var G=q.getTextContent();if(!!G){var W=G.style,K=normalizeCssArray$1(W.padding||0);fe&&(q.setTextConfig({layoutRect:fe}),G.disableLabelLayout=!0),G.beforeUpdate=function(){var ie=Math.max((fe?fe.width:q.shape.width)-K[1]-K[3],0),ue=Math.max((fe?fe.height:q.shape.height)-K[0]-K[2],0);(W.width!==ie||W.height!==ue)&&G.setStyle({width:ie,height:ue})},W.truncateMinChar=2,W.lineOverflow="truncate",ce(W,fe,g);var Q=G.getState("emphasis");ce(Q?Q.style:null,fe,g)}}function ce(q,J,he){var fe=q?q.text:null;if(!J&&he.isLeafRoot&&fe!=null){var ee=a.get("drillDownIcon",!0);q.text=ee?ee+" "+fe:fe}}function de(q,J,he,fe){var ee=w!=null&&n[q][w],ne=s[q];return ee?(n[q][w]=null,Z(ne,ee)):b||(ee=new J,ee instanceof Displayable$1&&(ee.z2=calculateZ2(he,fe)),re(ne,ee)),r[q][A]=ee}function Z(q,J){var he=q[A]={};J instanceof Group$2?(he.oldX=J.x,he.oldY=J.y):he.oldShape=extend({},J.shape)}function re(q,J){var he=q[A]={},fe=u.parentNode,ee=J instanceof Group$4;if(fe&&(!o||o.direction==="drillDown")){var ne=0,V=0,G=s.background[fe.getRawIndex()];!o&&G&&G.oldShape&&(ne=G.oldShape.width,V=G.oldShape.height),ee?(he.oldX=0,he.oldY=V):he.oldShape={x:ne,y:V,width:0,height:0}}he.fadein=!ee}}function calculateZ2(a,r){return a*Z2_BASE+r}const TreemapView$1=TreemapView;var each$c=each$f,isObject$2=isObject$5,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function a(r){var n=r.mappingMethod,o=r.type,s=this.option=clone$4(r);this.type=o,this.mappingMethod=n,this._normalizeData=normalizers[n];var l=a.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[n],n==="piecewise"?(normalizeVisualRange(s),preprocessForPiecewise(s)):n==="category"?s.categories?preprocessForSpecifiedCategory(s):normalizeVisualRange(s,!0):(assert(n!=="linear"||s.dataExtent),normalizeVisualRange(s))}return a.prototype.mapValueToVisual=function(r){var n=this._normalizeData(r);return this._normalizedToVisual(n,r)},a.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},a.listVisualTypes=function(){return keys(a.visualHandlers)},a.isValidType=function(r){return a.visualHandlers.hasOwnProperty(r)},a.eachVisual=function(r,n,o){isObject$5(r)?each$f(r,n,o):n.call(o,r)},a.mapVisual=function(r,n,o){var s,l=isArray$1(r)?[]:isObject$5(r)?{}:(s=!0,null);return a.eachVisual(r,function(u,c){var d=n.call(o,u,c);s?l=d:l[c]=d}),l},a.retrieveVisuals=function(r){var n={},o;return r&&each$c(a.visualHandlers,function(s,l){r.hasOwnProperty(l)&&(n[l]=r[l],o=!0)}),o?n:null},a.prepareVisualTypes=function(r){if(isArray$1(r))r=r.slice();else if(isObject$2(r)){var n=[];each$c(r,function(o,s){n.push(s)}),r=n}else return[];return r.sort(function(o,s){return s==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),r},a.dependsOn=function(r,n){return n==="color"?!!(r&&r.indexOf(n)===0):r===n},a.findPieceIndex=function(r,n,o){for(var s,l=1/0,u=0,c=n.length;u<c;u++){var d=n[u].value;if(d!=null){if(d===r||isString(d)&&d===r+"")return u;o&&_(d,u)}}for(var u=0,c=n.length;u<c;u++){var v=n[u],g=v.interval,y=v.close;if(g){if(g[0]===-1/0){if(littleThan(y[1],r,g[1]))return u}else if(g[1]===1/0){if(littleThan(y[0],g[0],r))return u}else if(littleThan(y[0],g[0],r)&&littleThan(y[1],r,g[1]))return u;o&&_(g[0],u),o&&_(g[1],u)}}if(o)return r===1/0?n.length-1:r===-1/0?0:s;function _(S,x){var T=Math.abs(S-r);T<l&&(l=T,s=x)}},a.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var r=this.option;return bind$1(r.mappingMethod==="category"?function(n,o){return!o&&(n=this._normalizeData(n)),doMapCategory.call(this,n)}:function(n,o,s){var l=!!s;return!o&&(n=this._normalizeData(n)),s=fastLerp(n,r.parsedVisual,s),l?s:stringify(s,"rgba")},this)},_normalizedToVisual:{linear:function(r){return stringify(fastLerp(r,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(r,n){var o=getSpecifiedVisual.call(this,n);return o==null&&(o=stringify(fastLerp(r,this.option.parsedVisual),"rgba")),o},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(r,n){return modifyHSL(r,n)}),colorSaturation:makePartialColorVisualHandler(function(r,n){return modifyHSL(r,null,n)}),colorLightness:makePartialColorVisualHandler(function(r,n){return modifyHSL(r,null,null,n)}),colorAlpha:makePartialColorVisualHandler(function(r,n){return modifyAlpha(r,n)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(r,n,o){var s=this.mapValueToVisual(r);o("symbol",s)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(r,n){var o=getSpecifiedVisual.call(this,n);return o==null&&(o=doMapToArray.call(this,r)),o},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},a}();function preprocessForPiecewise(a){var r=a.pieceList;a.hasSpecialVisual=!1,each$f(r,function(n,o){n.originIndex=o,n.visual!=null&&(a.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(a){var r=a.categories,n=a.categoryMap={},o=a.visual;if(each$c(r,function(u,c){n[u]=c}),!isArray$1(o)){var s=[];isObject$5(o)?each$c(o,function(u,c){var d=n[c];s[d!=null?d:CATEGORY_DEFAULT_VISUAL_INDEX]=u}):s[CATEGORY_DEFAULT_VISUAL_INDEX]=o,o=setVisualToOption(a,s)}for(var l=r.length-1;l>=0;l--)o[l]==null&&(delete n[r[l]],r.pop())}function normalizeVisualRange(a,r){var n=a.visual,o=[];isObject$5(n)?each$c(n,function(l){o.push(l)}):n!=null&&o.push(n);var s={color:1,symbol:1};!r&&o.length===1&&!s.hasOwnProperty(a.type)&&(o[1]=o[0]),setVisualToOption(a,o)}function makePartialColorVisualHandler(a){return{applyVisual:function(r,n,o){var s=this.mapValueToVisual(r);o("color",a(n("color"),s))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(a){var r=this.option.visual;return r[Math.round(linearMap$2(a,[0,1],[0,r.length-1],!0))]||{}}function makeApplyVisual(a){return function(r,n,o){o(a,this.mapValueToVisual(r))}}function doMapCategory(a){var r=this.option.visual;return r[this.option.loop&&a!==CATEGORY_DEFAULT_VISUAL_INDEX?a%r.length:a]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(a){return{linear:function(r){return linearMap$2(r,a,this.option.visual,!0)},category:doMapCategory,piecewise:function(r,n){var o=getSpecifiedVisual.call(this,n);return o==null&&(o=linearMap$2(r,a,this.option.visual,!0)),o},fixed:doMapFixed}}function getSpecifiedVisual(a){var r=this.option,n=r.pieceList;if(r.hasSpecialVisual){var o=VisualMapping.findPieceIndex(a,n),s=n[o];if(s&&s.visual)return s.visual[this.type]}}function setVisualToOption(a,r){return a.visual=r,a.type==="color"&&(a.parsedVisual=map$1(r,function(n){var o=parse(n);return o||[0,0,0,1]})),r}var normalizers={linear:function(a){return linearMap$2(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var r=this.option.pieceList,n=VisualMapping.findPieceIndex(a,r,!0);if(n!=null)return linearMap$2(n,[0,r.length-1],[0,1],!0)},category:function(a){var r=this.option.categories?this.option.categoryMap[a]:a;return r==null?CATEGORY_DEFAULT_VISUAL_INDEX:r},fixed:noop};function littleThan(a,r,n){return a?r<=n:r<n}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(a){var r=a.getData().tree,n=r.root;n.isRemoved()||travelTree(n,{},a.getViewRoot().getAncestors(),a)}};function travelTree(a,r,n,o){var s=a.getModel(),l=a.getLayout(),u=a.hostTree.data;if(!(!l||l.invisible||!l.isInView)){var c=s.getModel(ITEM_STYLE_NORMAL),d=buildVisuals(c,r,o),v=u.ensureUniqueItemVisual(a.dataIndex,"style"),g=c.get("borderColor"),y=c.get("borderColorSaturation"),_;y!=null&&(_=calculateColor(d),g=calculateBorderColor(y,_)),v.stroke=g;var S=a.viewChildren;if(!S||!S.length)_=calculateColor(d),v.fill=_;else{var x=buildVisualMapping(a,s,l,c,d,S);each$f(S,function(T,b){if(T.depth>=n.length||T===n[T.depth]){var A=mapVisual$1(s,d,T,b,x,o);travelTree(T,A,n,o)}})}}}function buildVisuals(a,r,n){var o=extend({},r),s=n.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(l){s[l]=r[l];var u=a.get(l);s[l]=null,u!=null&&(o[l]=u)}),o}function calculateColor(a){var r=getValueVisualDefine(a,"color");if(r){var n=getValueVisualDefine(a,"colorAlpha"),o=getValueVisualDefine(a,"colorSaturation");return o&&(r=modifyHSL(r,null,null,o)),n&&(r=modifyAlpha(r,n)),r}}function calculateBorderColor(a,r){return r!=null?modifyHSL(r,null,null,a):null}function getValueVisualDefine(a,r){var n=a[r];if(n!=null&&n!=="none")return n}function buildVisualMapping(a,r,n,o,s,l){if(!(!l||!l.length)){var u=getRangeVisual(r,"color")||s.color!=null&&s.color!=="none"&&(getRangeVisual(r,"colorAlpha")||getRangeVisual(r,"colorSaturation"));if(!!u){var c=r.get("visualMin"),d=r.get("visualMax"),v=n.dataExtent.slice();c!=null&&c<v[0]&&(v[0]=c),d!=null&&d>v[1]&&(v[1]=d);var g=r.get("colorMappingBy"),y={type:u.name,dataExtent:v,visual:u.range};y.type==="color"&&(g==="index"||g==="id")?(y.mappingMethod="category",y.loop=!0):y.mappingMethod="linear";var _=new VisualMapping$1(y);return inner$c(_).drColorMappingBy=g,_}}}function getRangeVisual(a,r){var n=a.get(r);return isArray$1(n)&&n.length?{name:r,range:n}:null}function mapVisual$1(a,r,n,o,s,l){var u=extend({},r);if(s){var c=s.type,d=c==="color"&&inner$c(s).drColorMappingBy,v=d==="index"?o:d==="id"?l.mapIdToIndex(n.getId()):n.getValue(a.get("visualDimension"));u[c]=s.mapValueToVisual(v)}return u}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(a,r,n,o){var s=n.getWidth(),l=n.getHeight(),u=a.option,c=getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),d=u.size||[],v=parsePercent(retrieveValue(c.width,d[0]),s),g=parsePercent(retrieveValue(c.height,d[1]),l),y=o&&o.type,_=["treemapZoomToNode","treemapRootToNode"],S=retrieveTargetInfo(o,_,a),x=y==="treemapRender"||y==="treemapMove"?o.rootRect:null,T=a.getViewRoot(),b=getPathToRoot(T);if(y!=="treemapMove"){var A=y==="treemapZoomToNode"?estimateRootSize(a,S,T,v,g):x?[x.width,x.height]:[v,g],w=u.sort;w&&w!=="asc"&&w!=="desc"&&(w="desc");var $={squareRatio:u.squareRatio,sort:w,leafDepth:u.leafDepth};T.hostTree.clearLayouts();var C={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};T.setLayout(C),squarify(T,$,!1,0),C=T.getLayout(),each$b(b,function(M,E){var D=(b[E+1]||T).getValue();M.setLayout(extend({dataExtent:[D,D],borderWidth:0,upperHeight:0},C))})}var P=a.getData().tree.root;P.setLayout(calculateRootPosition(c,x,S),!0),a.setLayoutInfo(c),prunning(P,new BoundingRect$1(-c.x,-c.y,s,l),b,T,0)}};function squarify(a,r,n,o){var s,l;if(!a.isRemoved()){var u=a.getLayout();s=u.width,l=u.height;var c=a.getModel(),d=c.get(PATH_BORDER_WIDTH),v=c.get(PATH_GAP_WIDTH)/2,g=getUpperLabelHeight(c),y=Math.max(d,g),_=d-v,S=y-v;a.setLayout({borderWidth:d,upperHeight:y,upperLabelHeight:g},!0),s=mathMax$3(s-2*_,0),l=mathMax$3(l-_-S,0);var x=s*l,T=initChildren$1(a,c,x,r,n,o);if(!!T.length){var b={x:_,y:S,width:s,height:l},A=mathMin$3(s,l),w=1/0,$=[];$.area=0;for(var C=0,P=T.length;C<P;){var M=T[C];$.push(M),$.area+=M.getLayout().area;var E=worst($,A,r.squareRatio);E<=w?(C++,w=E):($.area-=$.pop().getLayout().area,position($,A,b,v,!1),A=mathMin$3(b.width,b.height),$.length=$.area=0,w=1/0)}if($.length&&position($,A,b,v,!0),!n){var D=c.get("childrenVisibleMin");D!=null&&x<D&&(n=!0)}for(var C=0,P=T.length;C<P;C++)squarify(T[C],r,n,o+1)}}}function initChildren$1(a,r,n,o,s,l){var u=a.children||[],c=o.sort;c!=="asc"&&c!=="desc"&&(c=null);var d=o.leafDepth!=null&&o.leafDepth<=l;if(s&&!d)return a.viewChildren=[];u=filter(u,function(S){return!S.isRemoved()}),sort$1(u,c);var v=statistic(r,u,c);if(v.sum===0)return a.viewChildren=[];if(v.sum=filterByThreshold(r,n,v.sum,c,u),v.sum===0)return a.viewChildren=[];for(var g=0,y=u.length;g<y;g++){var _=u[g].getValue()/v.sum*n;u[g].setLayout({area:_})}return d&&(u.length&&a.setLayout({isLeafRoot:!0},!0),u.length=0),a.viewChildren=u,a.setLayout({dataExtent:v.dataExtent},!0),u}function filterByThreshold(a,r,n,o,s){if(!o)return n;for(var l=a.get("visibleMin"),u=s.length,c=u,d=u-1;d>=0;d--){var v=s[o==="asc"?u-d-1:d].getValue();v/n*r<l&&(c=d,n-=v)}return o==="asc"?s.splice(0,u-c):s.splice(c,u-c),n}function sort$1(a,r){return r&&a.sort(function(n,o){var s=r==="asc"?n.getValue()-o.getValue():o.getValue()-n.getValue();return s===0?r==="asc"?n.dataIndex-o.dataIndex:o.dataIndex-n.dataIndex:s}),a}function statistic(a,r,n){for(var o=0,s=0,l=r.length;s<l;s++)o+=r[s].getValue();var u=a.get("visualDimension"),c;return!r||!r.length?c=[NaN,NaN]:u==="value"&&n?(c=[r[r.length-1].getValue(),r[0].getValue()],n==="asc"&&c.reverse()):(c=[1/0,-1/0],each$b(r,function(d){var v=d.getValue(u);v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v)})),{sum:o,dataExtent:c}}function worst(a,r,n){for(var o=0,s=1/0,l=0,u=void 0,c=a.length;l<c;l++)u=a[l].getLayout().area,u&&(u<s&&(s=u),u>o&&(o=u));var d=a.area*a.area,v=r*r*n;return d?mathMax$3(v*o/d,d/(v*s)):1/0}function position(a,r,n,o,s){var l=r===n.width?0:1,u=1-l,c=["x","y"],d=["width","height"],v=n[c[l]],g=r?a.area/r:0;(s||g>n[d[u]])&&(g=n[d[u]]);for(var y=0,_=a.length;y<_;y++){var S=a[y],x={},T=g?S.getLayout().area/g:0,b=x[d[u]]=mathMax$3(g-2*o,0),A=n[c[l]]+n[d[l]]-v,w=y===_-1||A<T?A:T,$=x[d[l]]=mathMax$3(w-2*o,0);x[c[u]]=n[c[u]]+mathMin$3(o,b/2),x[c[l]]=v+mathMin$3(o,$/2),v+=w,S.setLayout(x,!0)}n[c[u]]+=g,n[d[u]]-=g}function estimateRootSize(a,r,n,o,s){var l=(r||{}).node,u=[o,s];if(!l||l===n)return u;for(var c,d=o*s,v=d*a.option.zoomToNodeRatio;c=l.parentNode;){for(var g=0,y=c.children,_=0,S=y.length;_<S;_++)g+=y[_].getValue();var x=l.getValue();if(x===0)return u;v*=g/x;var T=c.getModel(),b=T.get(PATH_BORDER_WIDTH),A=Math.max(b,getUpperLabelHeight(T));v+=4*b*b+(3*b+A)*Math.pow(v,.5),v>MAX_SAFE_INTEGER&&(v=MAX_SAFE_INTEGER),l=c}v<d&&(v=d);var w=Math.pow(v/d,.5);return[o*w,s*w]}function calculateRootPosition(a,r,n){if(r)return{x:r.x,y:r.y};var o={x:0,y:0};if(!n)return o;var s=n.node,l=s.getLayout();if(!l)return o;for(var u=[l.width/2,l.height/2],c=s;c;){var d=c.getLayout();u[0]+=d.x,u[1]+=d.y,c=c.parentNode}return{x:a.width/2-u[0],y:a.height/2-u[1]}}function prunning(a,r,n,o,s){var l=a.getLayout(),u=n[s],c=u&&u===a;if(!(u&&!c||s===n.length&&a!==o)){a.setLayout({isInView:!0,invisible:!c&&!r.intersect(l),isAboveViewRoot:c},!0);var d=new BoundingRect$1(r.x-l.x,r.y-l.y,r.width,r.height);each$b(a.viewChildren||[],function(v){prunning(v,d,n,o,s+1)})}}function getUpperLabelHeight(a){return a.get(PATH_UPPER_LABEL_SHOW)?a.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(a){a.registerSeriesModel(TreemapSeriesModel$1),a.registerChartView(TreemapView$1),a.registerVisual(treemapVisual),a.registerLayout(treemapLayout),installTreemapAction(a)}function categoryFilter(a){var r=a.findComponents({mainType:"legend"});!r||!r.length||a.eachSeriesByType("graph",function(n){var o=n.getCategoriesData(),s=n.getGraph(),l=s.data,u=o.mapArray(o.getName);l.filterSelf(function(c){var d=l.getItemModel(c),v=d.getShallow("category");if(v!=null){isNumber(v)&&(v=u[v]);for(var g=0;g<r.length;g++)if(!r[g].isSelected(v))return!1}return!0})})}function categoryVisual(a){var r={};a.eachSeriesByType("graph",function(n){var o=n.getCategoriesData(),s=n.getData(),l={};o.each(function(u){var c=o.getName(u);l["ec-"+c]=u;var d=o.getItemModel(u),v=d.getModel("itemStyle").getItemStyle();v.fill||(v.fill=n.getColorFromPalette(c,r)),o.setItemVisual(u,"style",v);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++){var _=d.getShallow(g[y],!0);_!=null&&o.setItemVisual(u,g[y],_)}}),o.count()&&s.each(function(u){var c=s.getItemModel(u),d=c.getShallow("category");if(d!=null){isString(d)&&(d=l["ec-"+d]);var v=o.getItemVisual(d,"style"),g=s.ensureUniqueItemVisual(u,"style");extend(g,v);for(var y=["symbol","symbolSize","symbolKeepAspect"],_=0;_<y.length;_++)s.setItemVisual(u,y[_],o.getItemVisual(d,y[_]))}})})}function normalize$1(a){return a instanceof Array||(a=[a,a]),a}function graphEdgeVisual(a){a.eachSeriesByType("graph",function(r){var n=r.getGraph(),o=r.getEdgeData(),s=normalize$1(r.get("edgeSymbol")),l=normalize$1(r.get("edgeSymbolSize"));o.setVisual("fromSymbol",s&&s[0]),o.setVisual("toSymbol",s&&s[1]),o.setVisual("fromSymbolSize",l&&l[0]),o.setVisual("toSymbolSize",l&&l[1]),o.setVisual("style",r.getModel("lineStyle").getLineStyle()),o.each(function(u){var c=o.getItemModel(u),d=n.getEdgeByIndex(u),v=normalize$1(c.getShallow("symbol",!0)),g=normalize$1(c.getShallow("symbolSize",!0)),y=c.getModel("lineStyle").getLineStyle(),_=o.ensureUniqueItemVisual(u,"style");switch(extend(_,y),_.stroke){case"source":{var S=d.node1.getVisual("style");_.stroke=S&&S.fill;break}case"target":{var S=d.node2.getVisual("style");_.stroke=S&&S.fill;break}}v[0]&&d.setVisual("fromSymbol",v[0]),v[1]&&d.setVisual("toSymbol",v[1]),g[0]&&d.setVisual("fromSymbolSize",g[0]),g[1]&&d.setVisual("toSymbolSize",g[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(a){return a.get("autoCurveness")||null},createCurveness=function(a,r){var n=getAutoCurvenessParams(a),o=20,s=[];if(isNumber(n))o=n;else if(isArray$1(n)){a.__curvenessList=n;return}r>o&&(o=r);var l=o%2?o+2:o+3;s=[];for(var u=0;u<l;u++)s.push((u%2?u+1:u)/10*(u%2?-1:1));a.__curvenessList=s},getKeyOfEdges=function(a,r,n){var o=[a.id,a.dataIndex].join("."),s=[r.id,r.dataIndex].join(".");return[n.uid,o,s].join(KEY_DELIMITER)},getOppositeKey=function(a){var r=a.split(KEY_DELIMITER);return[r[0],r[2],r[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(a,r){var n=getKeyOfEdges(a.node1,a.node2,r);return r.__edgeMap[n]},getTotalLengthBetweenNodes=function(a,r){var n=getEdgeMapLengthWithKey(getKeyOfEdges(a.node1,a.node2,r),r),o=getEdgeMapLengthWithKey(getKeyOfEdges(a.node2,a.node1,r),r);return n+o},getEdgeMapLengthWithKey=function(a,r){var n=r.__edgeMap;return n[a]?n[a].length:0};function initCurvenessList(a){!getAutoCurvenessParams(a)||(a.__curvenessList=[],a.__edgeMap={},createCurveness(a))}function createEdgeMapForCurveness(a,r,n,o){if(!!getAutoCurvenessParams(n)){var s=getKeyOfEdges(a,r,n),l=n.__edgeMap,u=l[getOppositeKey(s)];l[s]&&!u?l[s].isForward=!0:u&&l[s]&&(u.isForward=!0,l[s].isForward=!1),l[s]=l[s]||[],l[s].push(o)}}function getCurvenessForEdge(a,r,n,o){var s=getAutoCurvenessParams(r),l=isArray$1(s);if(!s)return null;var u=getEdgeFromMap(a,r);if(!u)return null;for(var c=-1,d=0;d<u.length;d++)if(u[d]===n){c=d;break}var v=getTotalLengthBetweenNodes(a,r);createCurveness(r,v),a.lineStyle=a.lineStyle||{};var g=getKeyOfEdges(a.node1,a.node2,r),y=r.__curvenessList,_=l||v%2?0:1;if(u.isForward)return y[_+c];var S=getOppositeKey(g),x=getEdgeMapLengthWithKey(S,r),T=y[c+x+_];return o?l?s&&s[0]===0?(x+_)%2?T:-T:((x%2?0:1)+_)%2?T:-T:(x+_)%2?T:-T:y[c+x+_]}function simpleLayout(a){var r=a.coordinateSystem;if(!(r&&r.type!=="view")){var n=a.getGraph();n.eachNode(function(o){var s=o.getModel();o.setLayout([+s.get("x"),+s.get("y")])}),simpleLayoutEdge(n,a)}}function simpleLayoutEdge(a,r){a.eachEdge(function(n,o){var s=retrieve3(n.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(n,r,o,!0),0),l=clone$3(n.node1.getLayout()),u=clone$3(n.node2.getLayout()),c=[l,u];+s&&c.push([(l[0]+u[0])/2-(l[1]-u[1])*s,(l[1]+u[1])/2-(u[0]-l[0])*s]),n.setLayout(c)})}function graphSimpleLayout(a,r){a.eachSeriesByType("graph",function(n){var o=n.get("layout"),s=n.coordinateSystem;if(s&&s.type!=="view"){var l=n.getData(),u=[];each$f(s.dimensions,function(_){u=u.concat(l.mapDimensionsAll(_))});for(var c=0;c<l.count();c++){for(var d=[],v=!1,g=0;g<u.length;g++){var y=l.get(u[g],c);isNaN(y)||(v=!0),d.push(y)}v?l.setItemLayout(c,s.dataToPoint(d)):l.setItemLayout(c,[NaN,NaN])}simpleLayoutEdge(l.graph,n)}else(!o||o==="none")&&simpleLayout(n)})}function getNodeGlobalScale(a){var r=a.coordinateSystem;if(r.type!=="view")return 1;var n=a.option.nodeScaleRatio,o=r.scaleX,s=r.getZoom(),l=(s-1)*n+1;return l/o}function getSymbolSize(a){var r=a.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(a,r,n,o){var s=a.coordinateSystem;if(!(s&&s.type!=="view")){var l=s.getBoundingRect(),u=a.getData(),c=u.graph,d=l.width/2+l.x,v=l.height/2+l.y,g=Math.min(l.width,l.height)/2,y=u.count();if(u.setLayout({cx:d,cy:v}),!!y){if(n){var _=s.pointToData(o),S=_[0],x=_[1],T=[S-d,x-v];normalize$3(T,T),scale$2(T,T,g),n.setLayout([d+T[0],v+T[1]],!0);var b=a.get(["circular","rotateLabel"]);rotateNodeLabel(n,b,d,v)}_layoutNodesBasedOn[r](a,c,u,g,d,v,y),c.eachEdge(function(A,w){var $=retrieve3(A.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(A,a,w),0),C=clone$3(A.node1.getLayout()),P=clone$3(A.node2.getLayout()),M,E=(C[0]+P[0])/2,D=(C[1]+P[1])/2;+$&&($*=3,M=[d*$+E*(1-$),v*$+D*(1-$)]),A.setLayout([C,P,M])})}}}var _layoutNodesBasedOn={value:function(a,r,n,o,s,l,u){var c=0,d=n.getSum("value"),v=Math.PI*2/(d||u);r.eachNode(function(g){var y=g.getValue("value"),_=v*(d?y:1)/2;c+=_,g.setLayout([o*Math.cos(c)+s,o*Math.sin(c)+l]),c+=_})},symbolSize:function(a,r,n,o,s,l,u){var c=0;_symbolRadiansHalf.length=u;var d=getNodeGlobalScale(a);r.eachNode(function(y){var _=getSymbolSize(y);isNaN(_)&&(_=2),_<0&&(_=0),_*=d;var S=Math.asin(_/2/o);isNaN(S)&&(S=PI$2/2),_symbolRadiansHalf[y.dataIndex]=S,c+=S*2});var v=(2*PI$2-c)/u/2,g=0;r.eachNode(function(y){var _=v+_symbolRadiansHalf[y.dataIndex];g+=_,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([o*Math.cos(g)+s,o*Math.sin(g)+l]),g+=_})}};function rotateNodeLabel(a,r,n,o){var s=a.getGraphicEl();if(!!s){var l=a.getModel(),u=l.get(["label","rotate"])||0,c=s.getSymbolPath();if(r){var d=a.getLayout(),v=Math.atan2(d[1]-o,d[0]-n);v<0&&(v=Math.PI*2+v);var g=d[0]<n;g&&(v=v-Math.PI);var y=g?"left":"right";c.setTextConfig({rotation:-v,position:y,origin:"center"});var _=c.ensureState("emphasis");extend(_.textConfig||(_.textConfig={}),{position:y})}else c.setTextConfig({rotation:u*=Math.PI/180})}}function graphCircularLayout(a){a.eachSeriesByType("graph",function(r){r.get("layout")==="circular"&&circularLayout(r,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(a,r,n){for(var o=a,s=r,l=n.rect,u=l.width,c=l.height,d=[l.x+u/2,l.y+c/2],v=n.gravity==null?.1:n.gravity,g=0;g<o.length;g++){var y=o[g];y.p||(y.p=create$2(u*(Math.random()-.5)+d[0],c*(Math.random()-.5)+d[1])),y.pp=clone$3(y.p),y.edges=null}var _=n.friction==null?.6:n.friction,S=_,x,T;return{warmUp:function(){S=_*.8},setFixed:function(b){o[b].fixed=!0},setUnfixed:function(b){o[b].fixed=!1},beforeStep:function(b){x=b},afterStep:function(b){T=b},step:function(b){x&&x(o,s);for(var A=[],w=o.length,$=0;$<s.length;$++){var C=s[$];if(!C.ignoreForceLayout){var P=C.n1,M=C.n2;sub(A,M.p,P.p);var E=len(A)-C.d,D=M.w/(P.w+M.w);isNaN(D)&&(D=0),normalize$3(A,A),!P.fixed&&scaleAndAdd(P.p,P.p,A,D*E*S),!M.fixed&&scaleAndAdd(M.p,M.p,A,-(1-D)*E*S)}}for(var $=0;$<w;$++){var I=o[$];I.fixed||(sub(A,d,I.p),scaleAndAdd(I.p,I.p,A,v*S))}for(var $=0;$<w;$++)for(var P=o[$],R=$+1;R<w;R++){var M=o[R];sub(A,M.p,P.p);var E=len(A);E===0&&(set$2(A,Math.random()-.5,Math.random()-.5),E=1);var L=(P.rep+M.rep)/E/E;!P.fixed&&scaleAndAdd(P.pp,P.pp,A,L),!M.fixed&&scaleAndAdd(M.pp,M.pp,A,-L)}for(var O=[],$=0;$<w;$++){var I=o[$];I.fixed||(sub(O,I.p,I.pp),scaleAndAdd(I.p,I.p,O,S),copy$1(I.pp,I.p))}S=S*.992;var N=S<.01;T&&T(o,s,N),b&&b(N)}}}function graphForceLayout(a){a.eachSeriesByType("graph",function(r){var n=r.coordinateSystem;if(!(n&&n.type!=="view"))if(r.get("layout")==="force"){var o=r.preservedPoints||{},s=r.getGraph(),l=s.data,u=s.edgeData,c=r.getModel("force"),d=c.get("initLayout");r.preservedPoints?l.each(function($){var C=l.getId($);l.setItemLayout($,o[C]||[NaN,NaN])}):!d||d==="none"?simpleLayout(r):d==="circular"&&circularLayout(r,"value");var v=l.getDataExtent("value"),g=u.getDataExtent("value"),y=c.get("repulsion"),_=c.get("edgeLength"),S=isArray$1(y)?y:[y,y],x=isArray$1(_)?_:[_,_];x=[x[1],x[0]];var T=l.mapArray("value",function($,C){var P=l.getItemLayout(C),M=linearMap$2($,v,S);return isNaN(M)&&(M=(S[0]+S[1])/2),{w:M,rep:M,fixed:l.getItemModel(C).get("fixed"),p:!P||isNaN(P[0])||isNaN(P[1])?null:P}}),b=u.mapArray("value",function($,C){var P=s.getEdgeByIndex(C),M=linearMap$2($,g,x);isNaN(M)&&(M=(x[0]+x[1])/2);var E=P.getModel(),D=retrieve3(P.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(P,r,C,!0),0);return{n1:T[P.node1.dataIndex],n2:T[P.node2.dataIndex],d:M,curveness:D,ignoreForceLayout:E.get("ignoreForceLayout")}}),A=n.getBoundingRect(),w=forceLayout(T,b,{rect:A,gravity:c.get("gravity"),friction:c.get("friction")});w.beforeStep(function($,C){for(var P=0,M=$.length;P<M;P++)$[P].fixed&&copy$1($[P].p,s.getNodeByIndex(P).getLayout())}),w.afterStep(function($,C,P){for(var M=0,E=$.length;M<E;M++)$[M].fixed||s.getNodeByIndex(M).setLayout($[M].p),o[l.getId(M)]=$[M].p;for(var M=0,E=C.length;M<E;M++){var D=C[M],I=s.getEdgeByIndex(M),R=D.n1.p,L=D.n2.p,O=I.getLayout();O=O?O.slice():[],O[0]=O[0]||[],O[1]=O[1]||[],copy$1(O[0],R),copy$1(O[1],L),+D.curveness&&(O[2]=[(R[0]+L[0])/2-(R[1]-L[1])*D.curveness,(R[1]+L[1])/2-(L[0]-R[0])*D.curveness]),I.setLayout(O)}}),r.forceLayout=w,r.preservedPoints=o,w.step()}else r.forceLayout=null})}function getViewRect$3(a,r,n){var o=extend(a.getBoxLayoutParams(),{aspect:n});return getLayoutRect(o,{width:r.getWidth(),height:r.getHeight()})}function createViewCoordSys(a,r){var n=[];return a.eachSeriesByType("graph",function(o){var s=o.get("coordinateSystem");if(!s||s==="view"){var l=o.getData(),u=l.mapArray(function(b){var A=l.getItemModel(b);return[+A.get("x"),+A.get("y")]}),c=[],d=[];fromPoints(u,c,d),d[0]-c[0]===0&&(d[0]+=1,c[0]-=1),d[1]-c[1]===0&&(d[1]+=1,c[1]-=1);var v=(d[0]-c[0])/(d[1]-c[1]),g=getViewRect$3(o,r,v);isNaN(v)&&(c=[g.x,g.y],d=[g.x+g.width,g.y+g.height]);var y=d[0]-c[0],_=d[1]-c[1],S=g.width,x=g.height,T=o.coordinateSystem=new View$1;T.zoomLimit=o.get("scaleLimit"),T.setBoundingRect(c[0],c[1],y,_),T.setViewRect(g.x,g.y,S,x),T.setCenter(o.get("center"),r),T.setZoom(o.get("zoom")),n.push(T)}}),n}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}();(function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r})(StraightLineShape);function isStraightLine(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var ECLinePath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="ec-line",o}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new StraightLineShape},r.prototype.buildPath=function(n,o){isStraightLine(o)?straightLineProto.buildPath.call(this,n,o):bezierCurveProto.buildPath.call(this,n,o)},r.prototype.pointAt=function(n){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,n):bezierCurveProto.pointAt.call(this,n)},r.prototype.tangentAt=function(n){var o=this.shape,s=isStraightLine(o)?[o.x2-o.x1,o.y2-o.y1]:bezierCurveProto.tangentAt.call(this,n);return normalize$3(s,s)},r}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(a){return"_"+a+"Type"}function createSymbol(a,r,n){var o=r.getItemVisual(n,a);if(!(!o||o==="none")){var s=r.getItemVisual(n,a+"Size"),l=r.getItemVisual(n,a+"Rotate"),u=r.getItemVisual(n,a+"Offset"),c=r.getItemVisual(n,a+"KeepAspect"),d=normalizeSymbolSize(s),v=normalizeSymbolOffset(u||0,d),g=createSymbol$1(o,-d[0]/2+v[0],-d[1]/2+v[1],d[0],d[1],null,c);return g.__specifiedRotation=l==null||isNaN(l)?void 0:+l*Math.PI/180||0,g.name=a,g}}function createLine(a){var r=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(r.shape,a),r}function setLinePoints(a,r){a.x1=r[0][0],a.y1=r[0][1],a.x2=r[1][0],a.y2=r[1][1],a.percent=1;var n=r[2];n?(a.cpx1=n[0],a.cpy1=n[1]):(a.cpx1=NaN,a.cpy1=NaN)}var Line=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this)||this;return l._createLine(n,o,s),l}return r.prototype._createLine=function(n,o,s){var l=n.hostModel,u=n.getItemLayout(o),c=createLine(u);c.shape.percent=0,initProps(c,{shape:{percent:1}},l,o),this.add(c),each$f(SYMBOL_CATEGORIES,function(d){var v=createSymbol(d,n,o);this.add(v),this[makeSymbolTypeKey(d)]=n.getItemVisual(o,d)},this),this._updateCommonStl(n,o,s)},r.prototype.updateData=function(n,o,s){var l=n.hostModel,u=this.childOfName("line"),c=n.getItemLayout(o),d={shape:{}};setLinePoints(d.shape,c),updateProps$1(u,d,l,o),each$f(SYMBOL_CATEGORIES,function(v){var g=n.getItemVisual(o,v),y=makeSymbolTypeKey(v);if(this[y]!==g){this.remove(this.childOfName(v));var _=createSymbol(v,n,o);this.add(_)}this[y]=g},this),this._updateCommonStl(n,o,s)},r.prototype.getLinePath=function(){return this.childAt(0)},r.prototype._updateCommonStl=function(n,o,s){var l=n.hostModel,u=this.childOfName("line"),c=s&&s.emphasisLineStyle,d=s&&s.blurLineStyle,v=s&&s.selectLineStyle,g=s&&s.labelStatesModels,y=s&&s.emphasisDisabled,_=s&&s.focus,S=s&&s.blurScope;if(!s||n.hasItemOption){var x=n.getItemModel(o),T=x.getModel("emphasis");c=T.getModel("lineStyle").getLineStyle(),d=x.getModel(["blur","lineStyle"]).getLineStyle(),v=x.getModel(["select","lineStyle"]).getLineStyle(),y=T.get("disabled"),_=T.get("focus"),S=T.get("blurScope"),g=getLabelStatesModels(x)}var b=n.getItemVisual(o,"style"),A=b.stroke;u.useStyle(b),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=c,u.ensureState("blur").style=d,u.ensureState("select").style=v,each$f(SYMBOL_CATEGORIES,function(M){var E=this.childOfName(M);if(E){E.setColor(A),E.style.opacity=b.opacity;for(var D=0;D<SPECIAL_STATES.length;D++){var I=SPECIAL_STATES[D],R=u.getState(I);if(R){var L=R.style||{},O=E.ensureState(I),N=O.style||(O.style={});L.stroke!=null&&(N[E.__isEmptyBrush?"stroke":"fill"]=L.stroke),L.opacity!=null&&(N.opacity=L.opacity)}}E.markRedraw()}},this);var w=l.getRawValue(o);setLabelStyle(this,g,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(M,E){return l.getFormattedLabel(M,E,n.dataType)}},inheritColor:A||"#000",defaultOpacity:b.opacity,defaultText:(w==null?n.getName(o):isFinite(w)?round$3(w):w)+""});var $=this.getTextContent();if($){var C=g.normal;$.__align=$.style.align,$.__verticalAlign=$.style.verticalAlign,$.__position=C.get("position")||"middle";var P=C.get("distance");isArray$1(P)||(P=[P,P]),$.__labelDistance=P}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,_,S,y)},r.prototype.highlight=function(){enterEmphasis(this)},r.prototype.downplay=function(){leaveEmphasis(this)},r.prototype.updateLayout=function(n,o){this.setLinePoints(n.getItemLayout(o))},r.prototype.setLinePoints=function(n){var o=this.childOfName("line");setLinePoints(o.shape,n),o.dirty()},r.prototype.beforeUpdate=function(){var n=this,o=n.childOfName("fromSymbol"),s=n.childOfName("toSymbol"),l=n.getTextContent();if(!o&&!s&&(!l||l.ignore))return;for(var u=1,c=this.parent;c;)c.scaleX&&(u/=c.scaleX),c=c.parent;var d=n.childOfName("line");if(!this.__dirty&&!d.__dirty)return;var v=d.shape.percent,g=d.pointAt(0),y=d.pointAt(v),_=sub([],y,g);normalize$3(_,_);function S(R,L){var O=R.__specifiedRotation;if(O==null){var N=d.tangentAt(L);R.attr("rotation",(L===1?-1:1)*Math.PI/2-Math.atan2(N[1],N[0]))}else R.attr("rotation",O)}if(o&&(o.setPosition(g),S(o,0),o.scaleX=o.scaleY=u*v,o.markRedraw()),s&&(s.setPosition(y),S(s,1),s.scaleX=s.scaleY=u*v,s.markRedraw()),l&&!l.ignore){l.x=l.y=0,l.originX=l.originY=0;var x=void 0,T=void 0,b=l.__labelDistance,A=b[0]*u,w=b[1]*u,$=v/2,C=d.tangentAt($),P=[C[1],-C[0]],M=d.pointAt($);P[1]>0&&(P[0]=-P[0],P[1]=-P[1]);var E=C[0]<0?-1:1;if(l.__position!=="start"&&l.__position!=="end"){var D=-Math.atan2(C[1],C[0]);y[0]<g[0]&&(D=Math.PI+D),l.rotation=D}var I=void 0;switch(l.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":I=-w,T="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":I=w,T="top";break;default:I=0,T="middle"}switch(l.__position){case"end":l.x=_[0]*A+y[0],l.y=_[1]*w+y[1],x=_[0]>.8?"left":_[0]<-.8?"right":"center",T=_[1]>.8?"top":_[1]<-.8?"bottom":"middle";break;case"start":l.x=-_[0]*A+g[0],l.y=-_[1]*w+g[1],x=_[0]>.8?"right":_[0]<-.8?"left":"center",T=_[1]>.8?"bottom":_[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":l.x=A*E+g[0],l.y=g[1]+I,x=C[0]<0?"right":"left",l.originX=-A*E,l.originY=-I;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":l.x=M[0],l.y=M[1]+I,x="center",l.originY=-I;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":l.x=-A*E+y[0],l.y=y[1]+I,x=C[0]>=0?"right":"left",l.originX=A*E,l.originY=-I;break}l.scaleX=l.scaleY=u,l.setStyle({verticalAlign:l.__verticalAlign||T,align:l.__align||x})}},r}(Group$4);const Line$1=Line;var LineDraw=function(){function a(r){this.group=new Group$4,this._LineCtor=r||Line$1}return a.prototype.updateData=function(r){var n=this;this._progressiveEls=null;var o=this,s=o.group,l=o._lineData;o._lineData=r,l||s.removeAll();var u=makeSeriesScope$1(r);r.diff(l).add(function(c){n._doAdd(r,c,u)}).update(function(c,d){n._doUpdate(l,r,d,c,u)}).remove(function(c){s.remove(l.getItemGraphicEl(c))}).execute()},a.prototype.updateLayout=function(){var r=this._lineData;!r||r.eachItemGraphicEl(function(n,o){n.updateLayout(r,o)},this)},a.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=makeSeriesScope$1(r),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(r,n){this._progressiveEls=[];function o(c){!c.isGroup&&!isEffectObject(c)&&(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}for(var s=r.start;s<r.end;s++){var l=n.getItemLayout(s);if(lineNeedsDraw(l)){var u=new this._LineCtor(n,s,this._seriesScope);u.traverse(o),this.group.add(u),n.setItemGraphicEl(s,u),this._progressiveEls.push(u)}}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},a.prototype._doAdd=function(r,n,o){var s=r.getItemLayout(n);if(!!lineNeedsDraw(s)){var l=new this._LineCtor(r,n,o);r.setItemGraphicEl(n,l),this.group.add(l)}},a.prototype._doUpdate=function(r,n,o,s,l){var u=r.getItemGraphicEl(o);if(!lineNeedsDraw(n.getItemLayout(s))){this.group.remove(u);return}u?u.updateData(n,s,l):u=new this._LineCtor(n,s,l),n.setItemGraphicEl(s,u),this.group.add(u)},a}();function isEffectObject(a){return a.animators&&a.animators.length>0}function makeSeriesScope$1(a){var r=a.hostModel,n=r.getModel("emphasis");return{lineStyle:r.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:r.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:r.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:getLabelStatesModels(r)}}function isPointNaN(a){return isNaN(a[0])||isNaN(a[1])}function lineNeedsDraw(a){return a&&!isPointNaN(a[0])&&!isPointNaN(a[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(a,r,n){for(var o=a[0],s=a[1],l=a[2],u=1/0,c,d=n*n,v=.1,g=.1;g<=.9;g+=.1){v1[0]=quadraticAt(o[0],s[0],l[0],g),v1[1]=quadraticAt(o[1],s[1],l[1],g);var y=mathAbs(v2DistSquare(v1,r)-d);y<u&&(u=y,c=g)}for(var _=0;_<32;_++){var S=c+v;v2[0]=quadraticAt(o[0],s[0],l[0],c),v2[1]=quadraticAt(o[1],s[1],l[1],c),v3[0]=quadraticAt(o[0],s[0],l[0],S),v3[1]=quadraticAt(o[1],s[1],l[1],S);var y=v2DistSquare(v2,r)-d;if(mathAbs(y)<.01)break;var x=v2DistSquare(v3,r)-d;v/=2,y<0?x>=0?c=c+v:c=c-v:x>=0?c=c-v:c=c+v}return c}function adjustEdge(a,r){var n=[],o=quadraticSubdivide,s=[[],[],[]],l=[[],[]],u=[];r/=2,a.eachEdge(function(c,d){var v=c.getLayout(),g=c.getVisual("fromSymbol"),y=c.getVisual("toSymbol");v.__original||(v.__original=[clone$3(v[0]),clone$3(v[1])],v[2]&&v.__original.push(clone$3(v[2])));var _=v.__original;if(v[2]!=null){if(copy$1(s[0],_[0]),copy$1(s[1],_[2]),copy$1(s[2],_[1]),g&&g!=="none"){var S=getSymbolSize(c.node1),x=intersectCurveCircle(s,_[0],S*r);o(s[0][0],s[1][0],s[2][0],x,n),s[0][0]=n[3],s[1][0]=n[4],o(s[0][1],s[1][1],s[2][1],x,n),s[0][1]=n[3],s[1][1]=n[4]}if(y&&y!=="none"){var S=getSymbolSize(c.node2),x=intersectCurveCircle(s,_[1],S*r);o(s[0][0],s[1][0],s[2][0],x,n),s[1][0]=n[1],s[2][0]=n[2],o(s[0][1],s[1][1],s[2][1],x,n),s[1][1]=n[1],s[2][1]=n[2]}copy$1(v[0],s[0]),copy$1(v[1],s[2]),copy$1(v[2],s[1])}else{if(copy$1(l[0],_[0]),copy$1(l[1],_[1]),sub(u,l[1],l[0]),normalize$3(u,u),g&&g!=="none"){var S=getSymbolSize(c.node1);scaleAndAdd$1(l[0],l[0],u,S*r)}if(y&&y!=="none"){var S=getSymbolSize(c.node2);scaleAndAdd$1(l[1],l[1],u,-S*r)}copy$1(v[0],l[0]),copy$1(v[1],l[1])}})}function isViewCoordSys(a){return a.type==="view"}var GraphView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o){var s=new SymbolDraw$1,l=new LineDraw$1,u=this.group;this._controller=new RoamController$1(o.getZr()),this._controllerHost={target:u},u.add(s.group),u.add(l.group),this._symbolDraw=s,this._lineDraw=l,this._firstRender=!0},r.prototype.render=function(n,o,s){var l=this,u=n.coordinateSystem;this._model=n;var c=this._symbolDraw,d=this._lineDraw,v=this.group;if(isViewCoordSys(u)){var g={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?v.attr(g):updateProps$1(v,g,n)}adjustEdge(n.getGraph(),getNodeGlobalScale(n));var y=n.getData();c.updateData(y);var _=n.getEdgeData();d.updateData(_),this._updateNodeAndLinkScale(),this._updateController(n,o,s),clearTimeout(this._layoutTimeout);var S=n.forceLayout,x=n.get(["force","layoutAnimation"]);S&&this._startForceLayoutIteration(S,x);var T=n.get("layout");y.graph.eachNode(function($){var C=$.dataIndex,P=$.getGraphicEl(),M=$.getModel();if(!!P){P.off("drag").off("dragend");var E=M.get("draggable");E&&P.on("drag",function(I){switch(T){case"force":S.warmUp(),!l._layouting&&l._startForceLayoutIteration(S,x),S.setFixed(C),y.setItemLayout(C,[P.x,P.y]);break;case"circular":y.setItemLayout(C,[P.x,P.y]),$.setLayout({fixed:!0},!0),circularLayout(n,"symbolSize",$,[I.offsetX,I.offsetY]),l.updateLayout(n);break;case"none":default:y.setItemLayout(C,[P.x,P.y]),simpleLayoutEdge(n.getGraph(),n),l.updateLayout(n);break}}).on("dragend",function(){S&&S.setUnfixed(C)}),P.setDraggable(E&&!!S,!!M.get("cursor"));var D=M.get(["emphasis","focus"]);D==="adjacency"&&(getECData(P).focus=$.getAdjacentDataIndices())}}),y.graph.eachEdge(function($){var C=$.getGraphicEl(),P=$.getModel().get(["emphasis","focus"]);!C||P==="adjacency"&&(getECData(C).focus={edge:[$.dataIndex],node:[$.node1.dataIndex,$.node2.dataIndex]})});var b=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),A=y.getLayout("cx"),w=y.getLayout("cy");y.graph.eachNode(function($){rotateNodeLabel($,b,A,w)}),this._firstRender=!1},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype._startForceLayoutIteration=function(n,o){var s=this;(function l(){n.step(function(u){s.updateLayout(s._model),(s._layouting=!u)&&(o?s._layoutTimeout=setTimeout(l,16):l())})})()},r.prototype._updateController=function(n,o,s){var l=this,u=this._controller,c=this._controllerHost,d=this.group;if(u.setPointerChecker(function(v,g,y){var _=d.getBoundingRect();return _.applyTransform(d.transform),_.contain(g,y)&&!onIrrelevantElement(v,s,n)}),!isViewCoordSys(n.coordinateSystem)){u.disable();return}u.enable(n.get("roam")),c.zoomLimit=n.get("scaleLimit"),c.zoom=n.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(c,v.dx,v.dy),s.dispatchAction({seriesId:n.id,type:"graphRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(c,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),l._updateNodeAndLinkScale(),adjustEdge(n.getGraph(),getNodeGlobalScale(n)),l._lineDraw.updateLayout(),s.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(){var n=this._model,o=n.getData(),s=getNodeGlobalScale(n);o.eachItemGraphicEl(function(l,u){l&&l.setSymbolScale(s)})},r.prototype.updateLayout=function(n){adjustEdge(n.getGraph(),getNodeGlobalScale(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},r.prototype.remove=function(n,o){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},r.type="graph",r}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(a){return"_EC_"+a}var Graph=function(){function a(r){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=r||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(r,n){r=r==null?""+n:""+r;var o=this._nodesMap;if(!o[generateNodeKey(r)]){var s=new GraphNode(r,n);return s.hostGraph=this,this.nodes.push(s),o[generateNodeKey(r)]=s,s}},a.prototype.getNodeByIndex=function(r){var n=this.data.getRawIndex(r);return this.nodes[n]},a.prototype.getNodeById=function(r){return this._nodesMap[generateNodeKey(r)]},a.prototype.addEdge=function(r,n,o){var s=this._nodesMap,l=this._edgesMap;if(isNumber(r)&&(r=this.nodes[r]),isNumber(n)&&(n=this.nodes[n]),r instanceof GraphNode||(r=s[generateNodeKey(r)]),n instanceof GraphNode||(n=s[generateNodeKey(n)]),!(!r||!n)){var u=r.id+"-"+n.id,c=new GraphEdge(r,n,o);return c.hostGraph=this,this._directed&&(r.outEdges.push(c),n.inEdges.push(c)),r.edges.push(c),r!==n&&n.edges.push(c),this.edges.push(c),l[u]=c,c}},a.prototype.getEdgeByIndex=function(r){var n=this.edgeData.getRawIndex(r);return this.edges[n]},a.prototype.getEdge=function(r,n){r instanceof GraphNode&&(r=r.id),n instanceof GraphNode&&(n=n.id);var o=this._edgesMap;return this._directed?o[r+"-"+n]:o[r+"-"+n]||o[n+"-"+r]},a.prototype.eachNode=function(r,n){for(var o=this.nodes,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&r.call(n,o[l],l)},a.prototype.eachEdge=function(r,n){for(var o=this.edges,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&o[l].node1.dataIndex>=0&&o[l].node2.dataIndex>=0&&r.call(n,o[l],l)},a.prototype.breadthFirstTraverse=function(r,n,o,s){if(n instanceof GraphNode||(n=this._nodesMap[generateNodeKey(n)]),!!n){for(var l=o==="out"?"outEdges":o==="in"?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!r.call(s,n,null))for(var c=[n];c.length;)for(var d=c.shift(),v=d[l],u=0;u<v.length;u++){var g=v[u],y=g.node1===d?g.node2:g.node1;if(!y.__visited){if(r.call(s,y,d))return;c.push(y),y.__visited=!0}}}},a.prototype.update=function(){for(var r=this.data,n=this.edgeData,o=this.nodes,s=this.edges,l=0,u=o.length;l<u;l++)o[l].dataIndex=-1;for(var l=0,u=r.count();l<u;l++)o[r.getRawIndex(l)].dataIndex=l;n.filterSelf(function(c){var d=s[n.getRawIndex(c)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0});for(var l=0,u=s.length;l<u;l++)s[l].dataIndex=-1;for(var l=0,u=n.count();l<u;l++)s[n.getRawIndex(l)].dataIndex=l},a.prototype.clone=function(){for(var r=new a(this._directed),n=this.nodes,o=this.edges,s=0;s<n.length;s++)r.addNode(n[s].id,n[s].dataIndex);for(var s=0;s<o.length;s++){var l=o[s];r.addEdge(l.node1.id,l.node2.id,l.dataIndex)}return r},a}(),GraphNode=function(){function a(r,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=r==null?"":r,this.dataIndex=n==null?-1:n}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(r){if(!(this.dataIndex<0)){var n=this.hostGraph,o=n.data.getItemModel(this.dataIndex);return o.getModel(r)}},a.prototype.getAdjacentDataIndices=function(){for(var r={edge:[],node:[]},n=0;n<this.edges.length;n++){var o=this.edges[n];o.dataIndex<0||(r.edge.push(o.dataIndex),r.node.push(o.node1.dataIndex,o.node2.dataIndex))}return r},a}(),GraphEdge=function(){function a(r,n,o){this.dataIndex=-1,this.node1=r,this.node2=n,this.dataIndex=o==null?-1:o}return a.prototype.getModel=function(r){if(!(this.dataIndex<0)){var n=this.hostGraph,o=n.edgeData.getItemModel(this.dataIndex);return o.getModel(r)}},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a}();function createGraphDataProxyMixin(a,r){return{getValue:function(n){var o=this[a][r];return o.getStore().get(o.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,o){this.dataIndex>=0&&this[a][r].setItemVisual(this.dataIndex,n,o)},getVisual:function(n){return this[a][r].getItemVisual(this.dataIndex,n)},setLayout:function(n,o){this.dataIndex>=0&&this[a][r].setItemLayout(this.dataIndex,n,o)},getLayout:function(){return this[a][r].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][r].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][r].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(a,r,n,o,s){for(var l=new Graph$1(o),u=0;u<a.length;u++)l.addNode(retrieve(a[u].id,a[u].name,u),u);for(var c=[],d=[],v=0,u=0;u<r.length;u++){var g=r[u],y=g.source,_=g.target;l.addEdge(y,_,v)&&(d.push(g),c.push(retrieve(convertOptionIdName(g.id,null),y+" > "+_)),v++)}var S=n.get("coordinateSystem"),x;if(S==="cartesian2d"||S==="polar")x=createSeriesData(a,n);else{var T=CoordinateSystem.get(S),b=T?T.dimensions||[]:[];indexOf(b,"value")<0&&b.concat(["value"]);var A=prepareSeriesDataSchema(a,{coordDimensions:b,encodeDefine:n.getEncode()}).dimensions;x=new SeriesData$1(A,n),x.initData(a)}var w=new SeriesData$1(["value"],n);return w.initData(d,c),s&&s(x,w),linkSeriesData({mainData:x,struct:l,structAttr:"graph",datas:{node:x,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l}var GraphSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.hasSymbolVisual=!0,n}return r.prototype.init=function(n){a.prototype.init.apply(this,arguments);var o=this;function s(){return o._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(s,s),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},r.prototype.mergeOption=function(n){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},r.prototype.mergeDefaultAndTheme=function(n){a.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(n,"edgeLabel",["show"])},r.prototype.getInitialData=function(n,o){var s=n.edges||n.links||[],l=n.data||n.nodes||[],u=this;if(l&&s){initCurvenessList(this);var c=createGraphFromNodeEdge(l,s,this,!0,d);return each$f(c.edges,function(v){createEdgeMapForCurveness(v.node1,v.node2,this,v.dataIndex)},this),c.data}function d(v,g){v.wrapMethod("getItemModel",function(x){var T=u._categoriesModels,b=x.getShallow("category"),A=T[b];return A&&(A.parentModel=x.parentModel,x.parentModel=A),x});var y=Model$1.prototype.getModel;function _(x,T){var b=y.call(this,x,T);return b.resolveParentPath=S,b}g.wrapMethod("getItemModel",function(x){return x.resolveParentPath=S,x.getModel=_,x});function S(x){if(x&&(x[0]==="label"||x[1]==="label")){var T=x.slice();return x[0]==="label"?T[0]="edgeLabel":x[1]==="label"&&(T[1]="edgeLabel"),T}return x}}},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.getCategoriesData=function(){return this._categoriesData},r.prototype.formatTooltip=function(n,o,s){if(s==="edge"){var l=this.getData(),u=this.getDataParams(n,s),c=l.graph.getEdgeByIndex(n),d=l.getName(c.node1.dataIndex),v=l.getName(c.node2.dataIndex),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > "),value:u.value,noValue:u.value==null})}var y=defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:o});return y},r.prototype._updateCategoriesData=function(){var n=map$1(this.option.categories||[],function(s){return s.value!=null?s:extend({value:0},s)}),o=new SeriesData$1(["value"],this);o.initData(n),this._categoriesData=o,this._categoriesModels=o.mapArray(function(s){return o.getItemModel(s)})},r.prototype.setZoom=function(n){this.option.zoom=n},r.prototype.setCenter=function(n){this.option.center=n},r.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},r.type="series.graph",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(a){a.registerChartView(GraphView$1),a.registerSeriesModel(GraphSeriesModel$1),a.registerProcessor(categoryFilter),a.registerVisual(categoryVisual),a.registerVisual(graphEdgeVisual),a.registerLayout(graphSimpleLayout),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),a.registerLayout(graphForceLayout),a.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),a.registerAction(actionInfo$1,function(r,n,o){n.eachComponent({mainType:"series",query:r},function(s){var l=s.coordinateSystem,u=updateCenterAndZoom(l,r,void 0,o);s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom)})})}var PointerShape=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),PointerPath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="pointer",o}return r.prototype.getDefaultShape=function(){return new PointerShape},r.prototype.buildPath=function(n,o){var s=Math.cos,l=Math.sin,u=o.r,c=o.width,d=o.angle,v=o.x-s(d)*c*(c>=u/3?1:2),g=o.y-l(d)*c*(c>=u/3?1:2);d=o.angle-Math.PI/2,n.moveTo(v,g),n.lineTo(o.x+s(d)*c,o.y+l(d)*c),n.lineTo(o.x+s(o.angle)*u,o.y+l(o.angle)*u),n.lineTo(o.x-s(d)*c,o.y-l(d)*c),n.lineTo(v,g)},r}(Path$1);const PointerPath$1=PointerPath;function parsePosition(a,r){var n=a.get("center"),o=r.getWidth(),s=r.getHeight(),l=Math.min(o,s),u=parsePercent(n[0],r.getWidth()),c=parsePercent(n[1],r.getHeight()),d=parsePercent(a.get("radius"),l/2);return{cx:u,cy:c,r:d}}function formatLabel(a,r){var n=a==null?"":a+"";return r&&(isString(r)?n=r.replace("{value}",n):isFunction(r)&&(n=r(a))),n}var GaugeView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){this.group.removeAll();var l=n.get(["axisLine","lineStyle","color"]),u=parsePosition(n,s);this._renderMain(n,o,s,l,u),this._data=n.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(n,o,s,l,u){var c=this.group,d=n.get("clockwise"),v=-n.get("startAngle")/180*Math.PI,g=-n.get("endAngle")/180*Math.PI,y=n.getModel("axisLine"),_=y.get("roundCap"),S=_?Sausage:Sector$1,x=y.get("show"),T=y.getModel("lineStyle"),b=T.get("width"),A=[v,g];normalizeArcAngles(A,!d),v=A[0],g=A[1];for(var w=g-v,$=v,C=0;x&&C<l.length;C++){var P=Math.min(Math.max(l[C][0],0),1);g=v+w*P;var M=new S({shape:{startAngle:$,endAngle:g,cx:u.cx,cy:u.cy,clockwise:d,r0:u.r-b,r:u.r},silent:!0});M.setStyle({fill:l[C][1]}),M.setStyle(T.getLineStyle(["color","width"])),c.add(M),$=g}var E=function(D){if(D<=0)return l[0][1];var I;for(I=0;I<l.length;I++)if(l[I][0]>=D&&(I===0?0:l[I-1][0])<D)return l[I][1];return l[I-1][1]};this._renderTicks(n,o,s,E,u,v,g,d,b),this._renderTitleAndDetail(n,o,s,E,u),this._renderAnchor(n,u),this._renderPointer(n,o,s,E,u,v,g,d,b)},r.prototype._renderTicks=function(n,o,s,l,u,c,d,v,g){for(var y=this.group,_=u.cx,S=u.cy,x=u.r,T=+n.get("min"),b=+n.get("max"),A=n.getModel("splitLine"),w=n.getModel("axisTick"),$=n.getModel("axisLabel"),C=n.get("splitNumber"),P=w.get("splitNumber"),M=parsePercent(A.get("length"),x),E=parsePercent(w.get("length"),x),D=c,I=(d-c)/C,R=I/P,L=A.getModel("lineStyle").getLineStyle(),O=w.getModel("lineStyle").getLineStyle(),N=A.get("distance"),F,B,z=0;z<=C;z++){if(F=Math.cos(D),B=Math.sin(D),A.get("show")){var U=N?N+g:g,H=new Line$3({shape:{x1:F*(x-U)+_,y1:B*(x-U)+S,x2:F*(x-M-U)+_,y2:B*(x-M-U)+S},style:L,silent:!0});L.stroke==="auto"&&H.setStyle({stroke:l(z/C)}),y.add(H)}if($.get("show")){var U=$.get("distance")+N,Y=formatLabel(round$3(z/C*(b-T)+T),$.get("formatter")),X=l(z/C),te=F*(x-M-U)+_,oe=B*(x-M-U)+S,ce=$.get("rotate"),de=0;ce==="radial"?(de=-D+2*Math.PI,de>Math.PI/2&&(de+=Math.PI)):ce==="tangential"?de=-D-Math.PI/2:isNumber(ce)&&(de=ce*Math.PI/180),de===0?y.add(new ZRText$1({style:createTextStyle($,{text:Y,x:te,y:oe,verticalAlign:B<-.8?"top":B>.8?"bottom":"middle",align:F<-.4?"left":F>.4?"right":"center"},{inheritColor:X}),silent:!0})):y.add(new ZRText$1({style:createTextStyle($,{text:Y,x:te,y:oe,verticalAlign:"middle",align:"center"},{inheritColor:X}),silent:!0,originX:te,originY:oe,rotation:de}))}if(w.get("show")&&z!==C){var U=w.get("distance");U=U?U+g:g;for(var Z=0;Z<=P;Z++){F=Math.cos(D),B=Math.sin(D);var re=new Line$3({shape:{x1:F*(x-U)+_,y1:B*(x-U)+S,x2:F*(x-E-U)+_,y2:B*(x-E-U)+S},silent:!0,style:O});O.stroke==="auto"&&re.setStyle({stroke:l((z+Z/P)/C)}),y.add(re),D+=R}D-=R}else D+=I}},r.prototype._renderPointer=function(n,o,s,l,u,c,d,v,g){var y=this.group,_=this._data,S=this._progressEls,x=[],T=n.get(["pointer","show"]),b=n.getModel("progress"),A=b.get("show"),w=n.getData(),$=w.mapDimension("value"),C=+n.get("min"),P=+n.get("max"),M=[C,P],E=[c,d];function D(R,L){var O=w.getItemModel(R),N=O.getModel("pointer"),F=parsePercent(N.get("width"),u.r),B=parsePercent(N.get("length"),u.r),z=n.get(["pointer","icon"]),U=N.get("offsetCenter"),H=parsePercent(U[0],u.r),Y=parsePercent(U[1],u.r),X=N.get("keepAspect"),te;return z?te=createSymbol$1(z,H-F/2,Y-B,F,B,null,X):te=new PointerPath$1({shape:{angle:-Math.PI/2,width:F,r:B,x:H,y:Y}}),te.rotation=-(L+Math.PI/2),te.x=u.cx,te.y=u.cy,te}function I(R,L){var O=b.get("roundCap"),N=O?Sausage:Sector$1,F=b.get("overlap"),B=F?b.get("width"):g/w.count(),z=F?u.r-B:u.r-(R+1)*B,U=F?u.r:u.r-R*B,H=new N({shape:{startAngle:c,endAngle:L,cx:u.cx,cy:u.cy,clockwise:v,r0:z,r:U}});return F&&(H.z2=P-w.get($,R)%P),H}(A||T)&&(w.diff(_).add(function(R){var L=w.get($,R);if(T){var O=D(R,c);initProps(O,{rotation:-((isNaN(+L)?E[0]:linearMap$2(L,M,E,!0))+Math.PI/2)},n),y.add(O),w.setItemGraphicEl(R,O)}if(A){var N=I(R,c),F=b.get("clip");initProps(N,{shape:{endAngle:linearMap$2(L,M,E,F)}},n),y.add(N),setCommonECData(n.seriesIndex,w.dataType,R,N),x[R]=N}}).update(function(R,L){var O=w.get($,R);if(T){var N=_.getItemGraphicEl(L),F=N?N.rotation:c,B=D(R,F);B.rotation=F,updateProps$1(B,{rotation:-((isNaN(+O)?E[0]:linearMap$2(O,M,E,!0))+Math.PI/2)},n),y.add(B),w.setItemGraphicEl(R,B)}if(A){var z=S[L],U=z?z.shape.endAngle:c,H=I(R,U),Y=b.get("clip");updateProps$1(H,{shape:{endAngle:linearMap$2(O,M,E,Y)}},n),y.add(H),setCommonECData(n.seriesIndex,w.dataType,R,H),x[R]=H}}).execute(),w.each(function(R){var L=w.getItemModel(R),O=L.getModel("emphasis"),N=O.get("focus"),F=O.get("blurScope"),B=O.get("disabled");if(T){var z=w.getItemGraphicEl(R),U=w.getItemVisual(R,"style"),H=U.fill;if(z instanceof ZRImage$1){var Y=z.style;z.useStyle(extend({image:Y.image,x:Y.x,y:Y.y,width:Y.width,height:Y.height},U))}else z.useStyle(U),z.type!=="pointer"&&z.setColor(H);z.setStyle(L.getModel(["pointer","itemStyle"]).getItemStyle()),z.style.fill==="auto"&&z.setStyle("fill",l(linearMap$2(w.get($,R),M,[0,1],!0))),z.z2EmphasisLift=0,setStatesStylesFromModel(z,L),toggleHoverEmphasis(z,N,F,B)}if(A){var X=x[R];X.useStyle(w.getItemVisual(R,"style")),X.setStyle(L.getModel(["progress","itemStyle"]).getItemStyle()),X.z2EmphasisLift=0,setStatesStylesFromModel(X,L),toggleHoverEmphasis(X,N,F,B)}}),this._progressEls=x)},r.prototype._renderAnchor=function(n,o){var s=n.getModel("anchor"),l=s.get("show");if(l){var u=s.get("size"),c=s.get("icon"),d=s.get("offsetCenter"),v=s.get("keepAspect"),g=createSymbol$1(c,o.cx-u/2+parsePercent(d[0],o.r),o.cy-u/2+parsePercent(d[1],o.r),u,u,null,v);g.z2=s.get("showAbove")?1:0,g.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(g)}},r.prototype._renderTitleAndDetail=function(n,o,s,l,u){var c=this,d=n.getData(),v=d.mapDimension("value"),g=+n.get("min"),y=+n.get("max"),_=new Group$4,S=[],x=[],T=n.isAnimationEnabled(),b=n.get(["pointer","showAbove"]);d.diff(this._data).add(function(A){S[A]=new ZRText$1({silent:!0}),x[A]=new ZRText$1({silent:!0})}).update(function(A,w){S[A]=c._titleEls[w],x[A]=c._detailEls[w]}).execute(),d.each(function(A){var w=d.getItemModel(A),$=d.get(v,A),C=new Group$4,P=l(linearMap$2($,[g,y],[0,1],!0)),M=w.getModel("title");if(M.get("show")){var E=M.get("offsetCenter"),D=u.cx+parsePercent(E[0],u.r),I=u.cy+parsePercent(E[1],u.r),R=S[A];R.attr({z2:b?0:2,style:createTextStyle(M,{x:D,y:I,text:d.getName(A),align:"center",verticalAlign:"middle"},{inheritColor:P})}),C.add(R)}var L=w.getModel("detail");if(L.get("show")){var O=L.get("offsetCenter"),N=u.cx+parsePercent(O[0],u.r),F=u.cy+parsePercent(O[1],u.r),B=parsePercent(L.get("width"),u.r),z=parsePercent(L.get("height"),u.r),U=n.get(["progress","show"])?d.getItemVisual(A,"style").fill:P,R=x[A],H=L.get("formatter");R.attr({z2:b?0:2,style:createTextStyle(L,{x:N,y:F,text:formatLabel($,H),width:isNaN(B)?null:B,height:isNaN(z)?null:z,align:"center",verticalAlign:"middle"},{inheritColor:U})}),setLabelValueAnimation(R,{normal:L},$,function(X){return formatLabel(X,H)}),T&&animateLabelValue(R,A,d,n,{getFormattedLabel:function(X,te,oe,ce,de,Z){return formatLabel(Z?Z.interpolatedValue:$,H)}}),C.add(R)}_.add(C)}),this.group.add(_),this._titleEls=S,this._detailEls=x},r.type="gauge",r}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.visualStyleAccessPath="itemStyle",n}return r.prototype.getInitialData=function(n,o){return createSeriesDataSimply(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$E(a){a.registerChartView(GaugeView$1),a.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(a){__extends(r,a);function r(n,o){var s=a.call(this)||this,l=s,u=new Polyline$3,c=new ZRText$1;return l.setTextContent(c),s.setTextGuideLine(u),s.updateData(n,o,!0),s}return r.prototype.updateData=function(n,o,s){var l=this,u=n.hostModel,c=n.getItemModel(o),d=n.getItemLayout(o),v=c.getModel("emphasis"),g=c.get(opacityAccessPath$1);g=g==null?1:g,s||saveOldStyle(l),l.useStyle(n.getItemVisual(o,"style")),l.style.lineJoin="round",s?(l.setShape({points:d.points}),l.style.opacity=0,initProps(l,{style:{opacity:g}},u,o)):updateProps$1(l,{style:{opacity:g},shape:{points:d.points}},u,o),setStatesStylesFromModel(l,c),this._updateLabel(n,o),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},r.prototype._updateLabel=function(n,o){var s=this,l=this.getTextGuideLine(),u=s.getTextContent(),c=n.hostModel,d=n.getItemModel(o),v=n.getItemLayout(o),g=v.label,y=n.getItemVisual(o,"style"),_=y.fill;setLabelStyle(u,getLabelStatesModels(d),{labelFetcher:n.hostModel,labelDataIndex:o,defaultOpacity:y.opacity,defaultText:n.getName(o)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),s.setTextConfig({local:!0,inside:!!g.inside,insideStroke:_,outsideFill:_});var S=g.linePoints;l.setShape({points:S}),s.textGuideLineConfig={anchor:S?new Point$1(S[0][0],S[0][1]):null},updateProps$1(u,{style:{x:g.x,y:g.y}},c,o),u.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),setLabelLineStyle(s,getLabelLineStatesModels(d),{stroke:_})},r}(Polygon$1),FunnelView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.ignoreLabelLineUpdate=!0,n}return r.prototype.render=function(n,o,s){var l=n.getData(),u=this._data,c=this.group;l.diff(u).add(function(d){var v=new FunnelPiece(l,d);l.setItemGraphicEl(d,v),c.add(v)}).update(function(d,v){var g=u.getItemGraphicEl(v);g.updateData(l,d),c.add(g),l.setItemGraphicEl(d,g)}).remove(function(d){var v=u.getItemGraphicEl(d);removeElementWithFadeOut(v,n,d)}).execute(),this._data=l},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.prototype.dispose=function(){},r.type="funnel",r}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},r.prototype.getInitialData=function(n,o){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},r.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var o=n.labelLine,s=n.emphasis.labelLine;o.show=o.show&&n.label.show,s.show=s.show&&n.emphasis.label.show},r.prototype.getDataParams=function(n){var o=this.getData(),s=a.prototype.getDataParams.call(this,n),l=o.mapDimension("value"),u=o.getSum(l);return s.percent=u?+(o.get(l,n)/u*100).toFixed(2):0,s.$vars.push("percent"),s},r.type="series.funnel",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(a,r){return getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function getSortedIndices(a,r){for(var n=a.mapDimension("value"),o=a.mapArray(n,function(d){return d}),s=[],l=r==="ascending",u=0,c=a.count();u<c;u++)s[u]=u;return isFunction(r)?s.sort(r):r!=="none"&&s.sort(function(d,v){return l?o[d]-o[v]:o[v]-o[d]}),s}function labelLayout(a){var r=a.hostModel,n=r.get("orient");a.each(function(o){var s=a.getItemModel(o),l=s.getModel("label"),u=l.get("position"),c=s.getModel("labelLine"),d=a.getItemLayout(o),v=d.points,g=u==="inner"||u==="inside"||u==="center"||u==="insideLeft"||u==="insideRight",y,_,S,x;if(g)u==="insideLeft"?(_=(v[0][0]+v[3][0])/2+5,S=(v[0][1]+v[3][1])/2,y="left"):u==="insideRight"?(_=(v[1][0]+v[2][0])/2-5,S=(v[1][1]+v[2][1])/2,y="right"):(_=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4,S=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4,y="center"),x=[[_,S],[_,S]];else{var T=void 0,b=void 0,A=void 0,w=void 0,$=c.get("length");u==="left"?(T=(v[3][0]+v[0][0])/2,b=(v[3][1]+v[0][1])/2,A=T-$,_=A-5,y="right"):u==="right"?(T=(v[1][0]+v[2][0])/2,b=(v[1][1]+v[2][1])/2,A=T+$,_=A+5,y="left"):u==="top"?(T=(v[3][0]+v[0][0])/2,b=(v[3][1]+v[0][1])/2,w=b-$,S=w-5,y="center"):u==="bottom"?(T=(v[1][0]+v[2][0])/2,b=(v[1][1]+v[2][1])/2,w=b+$,S=w+5,y="center"):u==="rightTop"?(T=n==="horizontal"?v[3][0]:v[1][0],b=n==="horizontal"?v[3][1]:v[1][1],n==="horizontal"?(w=b-$,S=w-5,y="center"):(A=T+$,_=A+5,y="top")):u==="rightBottom"?(T=v[2][0],b=v[2][1],n==="horizontal"?(w=b+$,S=w+5,y="center"):(A=T+$,_=A+5,y="bottom")):u==="leftTop"?(T=v[0][0],b=n==="horizontal"?v[0][1]:v[1][1],n==="horizontal"?(w=b-$,S=w-5,y="center"):(A=T-$,_=A-5,y="right")):u==="leftBottom"?(T=n==="horizontal"?v[1][0]:v[3][0],b=n==="horizontal"?v[1][1]:v[2][1],n==="horizontal"?(w=b+$,S=w+5,y="center"):(A=T-$,_=A-5,y="right")):(T=(v[1][0]+v[2][0])/2,b=(v[1][1]+v[2][1])/2,n==="horizontal"?(w=b+$,S=w+5,y="center"):(A=T+$,_=A+5,y="left")),n==="horizontal"?(A=T,_=A):(w=b,S=w),x=[[T,b],[A,w]]}d.label={linePoints:x,x:_,y:S,verticalAlign:"middle",textAlign:y,inside:g}})}function funnelLayout(a,r){a.eachSeriesByType("funnel",function(n){var o=n.getData(),s=o.mapDimension("value"),l=n.get("sort"),u=getViewRect$2(n,r),c=n.get("orient"),d=u.width,v=u.height,g=getSortedIndices(o,l),y=u.x,_=u.y,S=c==="horizontal"?[parsePercent(n.get("minSize"),v),parsePercent(n.get("maxSize"),v)]:[parsePercent(n.get("minSize"),d),parsePercent(n.get("maxSize"),d)],x=o.getDataExtent(s),T=n.get("min"),b=n.get("max");T==null&&(T=Math.min(x[0],0)),b==null&&(b=x[1]);var A=n.get("funnelAlign"),w=n.get("gap"),$=c==="horizontal"?d:v,C=($-w*(o.count()-1))/o.count(),P=function(F,B){if(c==="horizontal"){var z=o.get(s,F)||0,U=linearMap$2(z,[T,b],S,!0),H=void 0;switch(A){case"top":H=_;break;case"center":H=_+(v-U)/2;break;case"bottom":H=_+(v-U);break}return[[B,H],[B,H+U]]}var Y=o.get(s,F)||0,X=linearMap$2(Y,[T,b],S,!0),te;switch(A){case"left":te=y;break;case"center":te=y+(d-X)/2;break;case"right":te=y+d-X;break}return[[te,B],[te+X,B]]};l==="ascending"&&(C=-C,w=-w,c==="horizontal"?y+=d:_+=v,g=g.reverse());for(var M=0;M<g.length;M++){var E=g[M],D=g[M+1],I=o.getItemModel(E);if(c==="horizontal"){var R=I.get(["itemStyle","width"]);R==null?R=C:(R=parsePercent(R,d),l==="ascending"&&(R=-R));var L=P(E,y),O=P(D,y+R);y+=R+w,o.setItemLayout(E,{points:L.concat(O.slice().reverse())})}else{var N=I.get(["itemStyle","height"]);N==null?N=C:(N=parsePercent(N,v),l==="ascending"&&(N=-N));var L=P(E,_),O=P(D,_+N);_+=N+w,o.setItemLayout(E,{points:L.concat(O.slice().reverse())})}}labelLayout(o)})}function install$D(a){a.registerChartView(FunnelView$1),a.registerSeriesModel(FunnelSeriesModel$1),a.registerLayout(funnelLayout),a.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._dataGroup=new Group$4,n._initialized=!1,n}return r.prototype.init=function(){this.group.add(this._dataGroup)},r.prototype.render=function(n,o,s,l){this._progressiveEls=null;var u=this._dataGroup,c=n.getData(),d=this._data,v=n.coordinateSystem,g=v.dimensions,y=makeSeriesScope(n);c.diff(d).add(_).update(S).remove(x).execute();function _(b){var A=addEl(c,u,b,g,v);updateElCommon(A,c,b,y)}function S(b,A){var w=d.getItemGraphicEl(A),$=createLinePoints(c,b,g,v);c.setItemGraphicEl(b,w),updateProps$1(w,{shape:{points:$}},n,b),saveOldStyle(w),updateElCommon(w,c,b,y)}function x(b){var A=d.getItemGraphicEl(b);u.remove(A)}if(!this._initialized){this._initialized=!0;var T=createGridClipShape$2(v,n,function(){setTimeout(function(){u.removeClipPath()})});u.setClipPath(T)}this._data=c},r.prototype.incrementalPrepareRender=function(n,o,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},r.prototype.incrementalRender=function(n,o,s){for(var l=o.getData(),u=o.coordinateSystem,c=u.dimensions,d=makeSeriesScope(o),v=this._progressiveEls=[],g=n.start;g<n.end;g++){var y=addEl(l,this._dataGroup,g,c,u);y.incremental=!0,updateElCommon(y,l,g,d),v.push(y)}},r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},r.type="parallel",r}(ChartView$1);function createGridClipShape$2(a,r,n){var o=a.model,s=a.getRect(),l=new Rect$3({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),u=o.get("layout")==="horizontal"?"width":"height";return l.setShape(u,0),initProps(l,{shape:{width:s.width,height:s.height}},r,n),l}function createLinePoints(a,r,n,o){for(var s=[],l=0;l<n.length;l++){var u=n[l],c=a.get(a.mapDimension(u),r);isEmptyValue(c,o.getAxis(u).type)||s.push(o.dataToPoint(c,u))}return s}function addEl(a,r,n,o,s){var l=createLinePoints(a,n,o,s),u=new Polyline$3({shape:{points:l},z2:10});return r.add(u),a.setItemGraphicEl(n,u),u}function makeSeriesScope(a){var r=a.get("smooth",!0);return r===!0&&(r=DEFAULT_SMOOTH),r=numericToNumber(r),eqNaN(r)&&(r=0),{smooth:r}}function updateElCommon(a,r,n,o){a.useStyle(r.getItemVisual(n,"style")),a.style.fill=null,a.setShape("smooth",o.smooth);var s=r.getItemModel(n),l=s.getModel("emphasis");setStatesStylesFromModel(a,s,"lineStyle"),toggleHoverEmphasis(a,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function isEmptyValue(a,r){return r==="category"?a==null:a==null||isNaN(a)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return r.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},r.prototype.getRawIndicesByActiveState=function(n){var o=this.coordinateSystem,s=this.getData(),l=[];return o.eachActiveState(s,function(u,c){n===u&&l.push(s.getRawIndex(c))}),l},r.type="series.parallel",r.dependencies=["parallel"],r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},r}(SeriesModel$1);function makeDefaultEncode(a){var r=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(!!r){var n={};return each$f(r.dimensions,function(o){var s=convertDimNameToNumber(o);n[o]=s}),n}}function convertDimNameToNumber(a){return+a.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(a,r){var n=a.coordinateSystem,o={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(s,l){n.eachActiveState(l,function(u,c){var d=o[u];if(u==="normal"&&l.hasItemOption){var v=l.getItemModel(c).get(opacityAccessPath,!0);v!=null&&(d=v)}var g=l.ensureUniqueItemVisual(c,"style");g.opacity=d},s.start,s.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(a){createParallelIfNeeded(a),mergeAxisOptionFromParallel(a)}function createParallelIfNeeded(a){if(!a.parallel){var r=!1;each$f(a.series,function(n){n&&n.type==="parallel"&&(r=!0)}),r&&(a.parallel=[{}])}}function mergeAxisOptionFromParallel(a){var r=normalizeToArray(a.parallelAxis);each$f(r,function(n){if(!!isObject$5(n)){var o=n.parallelIndex||0,s=normalizeToArray(a.parallel)[o];s&&s.parallelAxisDefault&&merge$1(n,s.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){this._model=n,this._api=s,this._handlers||(this._handlers={},each$f(handlers$1,function(l,u){s.getZr().on(u,this._handlers[u]=bind$1(l,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},r.prototype.dispose=function(n,o){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(s,l){o.getZr().off(l,s)}),this._handlers=null},r.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},r.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},n))},r.type="parallel",r}(ComponentView$1),handlers$1={mousedown:function(a){checkTrigger(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var r=this._mouseDownPoint;if(checkTrigger(this,"click")&&r){var n=[a.offsetX,a.offsetY],o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2);if(o>CLICK_THRESHOLD)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);s.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var r=this._model,n=r.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),o=n.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(r.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function checkTrigger(a,r){var n=a._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===r}const ParallelView$1=ParallelView;var ParallelModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},r.prototype.mergeOption=function(n){var o=this.option;n&&merge$1(o,n,!0),this._initDimensions()},r.prototype.contains=function(n,o){var s=n.get("parallelIndex");return s!=null&&o.getComponent("parallel",s)===this},r.prototype.setAxisExpand=function(n){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){n.hasOwnProperty(o)&&(this.option[o]=n[o])},this)},r.prototype._initDimensions=function(){var n=this.dimensions=[],o=this.parallelAxisIndex=[],s=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(l){return(l.get("parallelIndex")||0)===this.componentIndex},this);each$f(s,function(l){n.push("dim"+l.get("dim")),o.push(l.componentIndex)})},r.type="parallel",r.dependencies=["parallelAxis"],r.layoutMode="box",r.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},r}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(a){__extends(r,a);function r(n,o,s,l,u){var c=a.call(this,n,o,s)||this;return c.type=l||"value",c.axisIndex=u,c}return r.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},r}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(a,r,n,o,s,l){a=a||0;var u=n[1]-n[0];if(s!=null&&(s=restrict$1(s,[0,u])),l!=null&&(l=Math.max(l,s!=null?s:0)),o==="all"){var c=Math.abs(r[1]-r[0]);c=restrict$1(c,[0,u]),s=l=restrict$1(c,[s,l]),o=0}r[0]=restrict$1(r[0],n),r[1]=restrict$1(r[1],n);var d=getSpanSign(r,o);r[o]+=a;var v=s||0,g=n.slice();d.sign<0?g[0]+=v:g[1]-=v,r[o]=restrict$1(r[o],g);var y;return y=getSpanSign(r,o),s!=null&&(y.sign!==d.sign||y.span<s)&&(r[1-o]=r[o]+d.sign*s),y=getSpanSign(r,o),l!=null&&y.span>l&&(r[1-o]=r[o]+y.sign*l),r}function getSpanSign(a,r){var n=a[r]-a[1-r];return{span:Math.abs(n),sign:n>0?-1:n<0?1:r?-1:1}}function restrict$1(a,r){return Math.min(r[1]!=null?r[1]:1/0,Math.max(r[0]!=null?r[0]:-1/0,a))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function a(r,n,o){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=r.dimensions,this._model=r,this._init(r,n,o)}return a.prototype._init=function(r,n,o){var s=r.dimensions,l=r.parallelAxisIndex;each$a(s,function(u,c){var d=l[c],v=n.getComponent("parallelAxis",d),g=this._axesMap.set(u,new ParallelAxis$1(u,createScaleByModel$1(v),[0,0],v.get("type"),d)),y=g.type==="category";g.onBand=y&&v.get("boundaryGap"),g.inverse=v.get("inverse"),v.axis=g,g.model=v,g.coordinateSystem=v.coordinateSystem=this},this)},a.prototype.update=function(r,n){this._updateAxesFromSeries(this._model,r)},a.prototype.containPoint=function(r){var n=this._makeLayoutInfo(),o=n.axisBase,s=n.layoutBase,l=n.pixelDimIndex,u=r[1-l],c=r[l];return u>=o&&u<=o+n.axisLength&&c>=s&&c<=s+n.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(r,n){n.eachSeries(function(o){if(!!r.contains(o,n)){var s=o.getData();each$a(this.dimensions,function(l){var u=this._axesMap.get(l);u.scale.unionExtentFromData(s,s.mapDimension(l)),niceScaleExtent(u.scale,u.model)},this)}},this)},a.prototype.resize=function(r,n){this._rect=getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var r=this._model,n=this._rect,o=["x","y"],s=["width","height"],l=r.get("layout"),u=l==="horizontal"?0:1,c=n[s[u]],d=[0,c],v=this.dimensions.length,g=restrict(r.get("axisExpandWidth"),d),y=restrict(r.get("axisExpandCount")||0,[0,v]),_=r.get("axisExpandable")&&v>3&&v>y&&y>1&&g>0&&c>0,S=r.get("axisExpandWindow"),x;if(S)x=restrict(S[1]-S[0],d),S[1]=S[0]+x;else{x=restrict(g*(y-1),d);var T=r.get("axisExpandCenter")||mathFloor(v/2);S=[g*T-x/2],S[1]=S[0]+x}var b=(c-x)/(v-y);b<3&&(b=0);var A=[mathFloor(round(S[0]/g,1))+1,mathCeil(round(S[1]/g,1))-1],w=b/g*S[0];return{layout:l,pixelDimIndex:u,layoutBase:n[o[u]],layoutLength:c,axisBase:n[o[1-u]],axisLength:n[s[1-u]],axisExpandable:_,axisExpandWidth:g,axisCollapseWidth:b,axisExpandWindow:S,axisCount:v,winInnerIndices:A,axisExpandWindow0Pos:w}},a.prototype._layoutAxes=function(){var r=this._rect,n=this._axesMap,o=this.dimensions,s=this._makeLayoutInfo(),l=s.layout;n.each(function(u){var c=[0,s.axisLength],d=u.inverse?1:0;u.setExtent(c[d],c[1-d])}),each$a(o,function(u,c){var d=(s.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(c,s),v={horizontal:{x:d.position,y:s.axisLength},vertical:{x:0,y:d.position}},g={horizontal:PI$1/2,vertical:0},y=[v[l].x+r.x,v[l].y+r.y],_=g[l],S=create$1();rotate(S,S,_),translate(S,S,y),this._axesLayout[u]={position:y,rotation:_,transform:S,axisNameAvailableWidth:d.axisNameAvailableWidth,axisLabelShow:d.axisLabelShow,nameTruncateMaxWidth:d.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(r){return this._axesMap.get(r)},a.prototype.dataToPoint=function(r,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(r),n)},a.prototype.eachActiveState=function(r,n,o,s){o==null&&(o=0),s==null&&(s=r.count());var l=this._axesMap,u=this.dimensions,c=[],d=[];each$f(u,function(b){c.push(r.mapDimension(b)),d.push(l.get(b).model)});for(var v=this.hasAxisBrushed(),g=o;g<s;g++){var y=void 0;if(!v)y="normal";else{y="active";for(var _=r.getValues(c,g),S=0,x=u.length;S<x;S++){var T=d[S].getActiveState(_[S]);if(T==="inactive"){y="inactive";break}}}n(y,g)}},a.prototype.hasAxisBrushed=function(){for(var r=this.dimensions,n=this._axesMap,o=!1,s=0,l=r.length;s<l;s++)n.get(r[s]).model.getActiveState()!=="normal"&&(o=!0);return o},a.prototype.axisCoordToPoint=function(r,n){var o=this._axesLayout[n];return applyTransform([r,0],o.transform)},a.prototype.getAxisLayout=function(r){return clone$4(this._axesLayout[r])},a.prototype.getSlidedAxisExpandWindow=function(r){var n=this._makeLayoutInfo(),o=n.pixelDimIndex,s=n.axisExpandWindow.slice(),l=s[1]-s[0],u=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(r))return{behavior:"none",axisExpandWindow:s};var c=r[o]-n.layoutBase-n.axisExpandWindow0Pos,d,v="slide",g=n.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),_=y[0]!=null;if(g)_&&g&&c<l*y[0]?(v="jump",d=c-l*y[2]):_&&g&&c>l*(1-y[0])?(v="jump",d=c-l*(1-y[2])):(d=c-l*y[1])>=0&&(d=c-l*(1-y[1]))<=0&&(d=0),d*=n.axisExpandWidth/g,d?sliderMove(d,s,u,"all"):v="none";else{var S=s[1]-s[0],x=u[1]*c/S;s=[mathMax$2(0,x-S/2)],s[1]=mathMin$2(u[1],s[0]+S),s[0]=s[1]-S}return{axisExpandWindow:s,behavior:v}},a}();function restrict(a,r){return mathMin$2(mathMax$2(a,r[0]),r[1])}function layoutAxisWithoutExpand(a,r){var n=r.layoutLength/(r.axisCount-1);return{position:n*a,axisNameAvailableWidth:n,axisLabelShow:!0}}function layoutAxisWithExpand(a,r){var n=r.layoutLength,o=r.axisExpandWidth,s=r.axisCount,l=r.axisCollapseWidth,u=r.winInnerIndices,c,d=l,v=!1,g;return a<u[0]?(c=a*l,g=l):a<=u[1]?(c=r.axisExpandWindow0Pos+a*o-r.axisExpandWindow[0],d=o,v=!0):(c=n-(s-1-a)*l,g=l),{position:c,axisNameAvailableWidth:d,axisLabelShow:v,nameTruncateMaxWidth:g}}const Parallel$1=Parallel;function createParallelCoordSys(a,r){var n=[];return a.eachComponent("parallel",function(o,s){var l=new Parallel$1(o,a,r);l.name="parallel_"+s,l.resize(o,r),o.coordinateSystem=l,l.model=o,n.push(l)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var s=o.getReferringComponents("parallel",SINGLE_REFERRING).models[0];o.coordinateSystem=s.coordinateSystem}}),n}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.activeIntervals=[],n}return r.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},r.prototype.setActiveIntervals=function(n){var o=this.activeIntervals=clone$4(n);if(o)for(var s=o.length-1;s>=0;s--)asc$2(o[s])},r.prototype.getActiveState=function(n){var o=this.activeIntervals;if(!o.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(o.length===1){var s=o[0];if(s[0]<=n&&n<=s[1])return"active"}else for(var l=0,u=o.length;l<u;l++)if(o[l][0]<=n&&n<=o[l][1])return"active";return"inactive"},r}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(a){__extends(r,a);function r(n){var o=a.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=n,o.group=new Group$4,o._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(s,l){this._handlers[l]=bind$1(s,this)},o),o}return r.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},r.prototype._doEnableBrush=function(n){var o=this._zr;this._enableGlobalPan||take(o,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(s,l){o.on(l,s)}),this._brushType=n.brushType,this._brushOption=merge$1(clone$4(DEFAULT_BRUSH_OPT),n,!0)},r.prototype._doDisableBrush=function(){var n=this._zr;release(n,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(o,s){n.off(s,o)}),this._brushType=this._brushOption=null},r.prototype.setPanels=function(n){if(n&&n.length){var o=this._panels={};each$f(n,function(s){o[s.panelId]=clone$4(s)})}else this._panels=null;return this},r.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=o.getLocalTransform(),this},r.prototype.updateCovers=function(n){n=map$1(n,function(_){return merge$1(clone$4(DEFAULT_BRUSH_OPT),_,!0)});var o="\0-brush-index-",s=this._covers,l=this._covers=[],u=this,c=this._creatingCover;return new DataDiffer$1(s,n,v,d).add(g).update(g).remove(y).execute(),this;function d(_,S){return(_.id!=null?_.id:o+S)+"-"+_.brushType}function v(_,S){return d(_.__brushOption,S)}function g(_,S){var x=n[_];if(S!=null&&s[S]===c)l[_]=s[S];else{var T=l[_]=S!=null?(s[S].__brushOption=x,s[S]):endCreating(u,createCover(u,x));updateCoverAfterCreation(u,T)}}function y(_){s[_]!==c&&u.group.remove(s[_])}},r.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},r.prototype.dispose=function(){this.unmount(),this.off()},r}(Eventful$1);function createCover(a,r){var n=coverRenderers[r.brushType].createCover(a,r);return n.__brushOption=r,updateZ$1(n,r),a.group.add(n),n}function endCreating(a,r){var n=getCoverRenderer(r);return n.endCreating&&(n.endCreating(a,r),updateZ$1(r,r.__brushOption)),r}function updateCoverShape(a,r){var n=r.__brushOption;getCoverRenderer(r).updateCoverShape(a,r,n.range,n)}function updateZ$1(a,r){var n=r.z;n==null&&(n=COVER_Z),a.traverse(function(o){o.z=n,o.z2=n})}function updateCoverAfterCreation(a,r){getCoverRenderer(r).updateCommon(a,r),updateCoverShape(a,r)}function getCoverRenderer(a){return coverRenderers[a.__brushOption.brushType]}function getPanelByPoint(a,r,n){var o=a._panels;if(!o)return BRUSH_PANEL_GLOBAL;var s,l=a._transform;return each$f(o,function(u){u.isTargetByCursor(r,n,l)&&(s=u)}),s}function getPanelByCover(a,r){var n=a._panels;if(!n)return BRUSH_PANEL_GLOBAL;var o=r.__brushOption.panelId;return o!=null?n[o]:BRUSH_PANEL_GLOBAL}function clearCovers(a){var r=a._covers,n=r.length;return each$f(r,function(o){a.group.remove(o)},a),r.length=0,!!n}function trigger(a,r){var n=map$1(a._covers,function(o){var s=o.__brushOption,l=clone$4(s.range);return{brushType:s.brushType,panelId:s.panelId,range:l}});a.trigger("brush",{areas:n,isEnd:!!r.isEnd,removeOnClick:!!r.removeOnClick})}function shouldShowCover(a){var r=a._track;if(!r.length)return!1;var n=r[r.length-1],o=r[0],s=n[0]-o[0],l=n[1]-o[1],u=mathPow(s*s+l*l,.5);return u>UNSELECT_THRESHOLD}function getTrackEnds(a){var r=a.length-1;return r<0&&(r=0),[a[0],a[r]]}function createBaseRectCover(a,r,n,o){var s=new Group$4;return s.add(new Rect$3({name:"main",style:makeStyle(n),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,a,r,s,["n","s","w","e"]),ondragend:curry$1(trigger,r,{isEnd:!0})})),each$f(o,function(l){s.add(new Rect$3({name:l.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,a,r,s,l),ondragend:curry$1(trigger,r,{isEnd:!0})}))}),s}function updateBaseRect(a,r,n,o){var s=o.brushStyle.lineWidth||0,l=mathMax$1(s,MIN_RESIZE_LINE_WIDTH),u=n[0][0],c=n[1][0],d=u-s/2,v=c-s/2,g=n[0][1],y=n[1][1],_=g-l+s/2,S=y-l+s/2,x=g-u,T=y-c,b=x+s,A=T+s;updateRectShape(a,r,"main",u,c,x,T),o.transformable&&(updateRectShape(a,r,"w",d,v,l,A),updateRectShape(a,r,"e",_,v,l,A),updateRectShape(a,r,"n",d,v,b,l),updateRectShape(a,r,"s",d,S,b,l),updateRectShape(a,r,"nw",d,v,l,l),updateRectShape(a,r,"ne",_,v,l,l),updateRectShape(a,r,"sw",d,S,l,l),updateRectShape(a,r,"se",_,S,l,l))}function updateCommon$1(a,r){var n=r.__brushOption,o=n.transformable,s=r.childAt(0);s.useStyle(makeStyle(n)),s.attr({silent:!o,cursor:o?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(l){var u=r.childOfName(l.join("")),c=l.length===1?getGlobalDirection1(a,l[0]):getGlobalDirection2(a,l);u&&u.attr({silent:!o,invisible:!o,cursor:o?CURSOR_MAP[c]+"-resize":null})})}function updateRectShape(a,r,n,o,s,l,u){var c=r.childOfName(n);c&&c.setShape(pointsToRect(clipByPanel(a,r,[[o,s],[o+l,s+u]])))}function makeStyle(a){return defaults({strokeNoScale:!0},a.brushStyle)}function formatRectRange(a,r,n,o){var s=[mathMin$1(a,n),mathMin$1(r,o)],l=[mathMax$1(a,n),mathMax$1(r,o)];return[[s[0],l[0]],[s[1],l[1]]]}function getTransform(a){return getTransform$1(a.group)}function getGlobalDirection1(a,r){var n={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},s=transformDirection(n[r],getTransform(a));return o[s]}function getGlobalDirection2(a,r){var n=[getGlobalDirection1(a,r[0]),getGlobalDirection1(a,r[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function driftRect(a,r,n,o,s,l){var u=n.__brushOption,c=a.toRectRange(u.range),d=toLocalDelta(r,s,l);each$f(o,function(v){var g=DIRECTION_MAP[v];c[g[0]][g[1]]+=d[g[0]]}),u.range=a.fromRectRange(formatRectRange(c[0][0],c[1][0],c[0][1],c[1][1])),updateCoverAfterCreation(r,n),trigger(r,{isEnd:!1})}function driftPolygon(a,r,n,o){var s=r.__brushOption.range,l=toLocalDelta(a,n,o);each$f(s,function(u){u[0]+=l[0],u[1]+=l[1]}),updateCoverAfterCreation(a,r),trigger(a,{isEnd:!1})}function toLocalDelta(a,r,n){var o=a.group,s=o.transformCoordToLocal(r,n),l=o.transformCoordToLocal(0,0);return[s[0]-l[0],s[1]-l[1]]}function clipByPanel(a,r,n){var o=getPanelByCover(a,r);return o&&o!==BRUSH_PANEL_GLOBAL?o.clipPath(n,a._transform):clone$4(n)}function pointsToRect(a){var r=mathMin$1(a[0][0],a[1][0]),n=mathMin$1(a[0][1],a[1][1]),o=mathMax$1(a[0][0],a[1][0]),s=mathMax$1(a[0][1],a[1][1]);return{x:r,y:n,width:o-r,height:s-n}}function resetCursor(a,r,n){if(!(!a._brushType||isOutsideZrArea(a,r.offsetX,r.offsetY))){var o=a._zr,s=a._covers,l=getPanelByPoint(a,r,n);if(!a._dragging)for(var u=0;u<s.length;u++){var c=s[u].__brushOption;if(l&&(l===BRUSH_PANEL_GLOBAL||c.panelId===l.panelId)&&coverRenderers[c.brushType].contain(s[u],n[0],n[1]))return}l&&o.setCursorStyle("crosshair")}}function preventDefault(a){var r=a.event;r.preventDefault&&r.preventDefault()}function mainShapeContain(a,r,n){return a.childOfName("main").contain(r,n)}function updateCoverByMouse(a,r,n,o){var s=a._creatingCover,l=a._creatingPanel,u=a._brushOption,c;if(a._track.push(n.slice()),shouldShowCover(a)||s){if(l&&!s){u.brushMode==="single"&&clearCovers(a);var d=clone$4(u);d.brushType=determineBrushType(d.brushType,l),d.panelId=l===BRUSH_PANEL_GLOBAL?null:l.panelId,s=a._creatingCover=createCover(a,d),a._covers.push(s)}if(s){var v=coverRenderers[determineBrushType(a._brushType,l)],g=s.__brushOption;g.range=v.getCreatingRange(clipByPanel(a,s,a._track)),o&&(endCreating(a,s),v.updateCommon(a,s)),updateCoverShape(a,s),c={isEnd:o}}}else o&&u.brushMode==="single"&&u.removeOnClick&&getPanelByPoint(a,r,n)&&clearCovers(a)&&(c={isEnd:o,removeOnClick:!0});return c}function determineBrushType(a,r){return a==="auto"?r.defaultBrushType:a}var pointerHandlers={mousedown:function(a){if(this._dragging)handleDragEnd(this,a);else if(!a.target||!a.target.draggable){preventDefault(a);var r=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var n=this._creatingPanel=getPanelByPoint(this,a,r);n&&(this._dragging=!0,this._track=[r.slice()])}},mousemove:function(a){var r=a.offsetX,n=a.offsetY,o=this.group.transformCoordToLocal(r,n);if(resetCursor(this,a,o),this._dragging){preventDefault(a);var s=updateCoverByMouse(this,a,o,!1);s&&trigger(this,s)}},mouseup:function(a){handleDragEnd(this,a)}};function handleDragEnd(a,r){if(a._dragging){preventDefault(r);var n=r.offsetX,o=r.offsetY,s=a.group.transformCoordToLocal(n,o),l=updateCoverByMouse(a,r,s,!0);a._dragging=!1,a._track=[],a._creatingCover=null,l&&trigger(a,l)}}function isOutsideZrArea(a,r,n){var o=a._zr;return r<0||r>o.getWidth()||n<0||n>o.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(a,r){function n(o){return o}return createBaseRectCover({toRectRange:n,fromRectRange:n},a,r,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var r=getTrackEnds(a);return formatRectRange(r[1][0],r[1][1],r[0][0],r[0][1])},updateCoverShape:function(a,r,n,o){updateBaseRect(a,r,n,o)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(a,r){var n=new Group$4;return n.add(new Polyline$3({name:"main",style:makeStyle(r),silent:!0})),n},getCreatingRange:function(a){return a},endCreating:function(a,r){r.remove(r.childAt(0)),r.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,a,r),ondragend:curry$1(trigger,a,{isEnd:!0})}))},updateCoverShape:function(a,r,n,o){r.childAt(0).setShape({points:clipByPanel(a,r,n)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(a){return{createCover:function(r,n){return createBaseRectCover({toRectRange:function(o){var s=[o,[0,100]];return a&&s.reverse(),s},fromRectRange:function(o){return o[a]}},r,n,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(r){var n=getTrackEnds(r),o=mathMin$1(n[0][a],n[1][a]),s=mathMax$1(n[0][a],n[1][a]);return[o,s]},updateCoverShape:function(r,n,o,s){var l,u=getPanelByCover(r,n);if(u!==BRUSH_PANEL_GLOBAL&&u.getLinearBrushOtherExtent)l=u.getLinearBrushOtherExtent(a);else{var c=r._zr;l=[0,[c.getWidth(),c.getHeight()][1-a]]}var d=[o,l];a&&d.reverse(),updateBaseRect(r,n,d,s)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(a){return a=normalizeRect(a),function(r){return clipPointsByRect(r,a)}}function makeLinearBrushOtherExtent(a,r){return a=normalizeRect(a),function(n){var o=r!=null?r:n,s=o?a.width:a.height,l=o?a.x:a.y;return[l,l+(s||0)]}}function makeRectIsTargetByCursor(a,r,n){var o=normalizeRect(a);return function(s,l){return o.contain(l[0],l[1])&&!onIrrelevantElement(s,r,n)}}function normalizeRect(a){return BoundingRect$1.create(a)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o){a.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(o.getZr())).on("brush",bind$1(this._onBrush,this))},r.prototype.render=function(n,o,s,l){if(!fromAxisAreaSelect(n,o,l)){this.axisModel=n,this.api=s,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!n.get("show")){var c=getCoordSysModel(n,o),d=c.coordinateSystem,v=n.getAreaSelectStyle(),g=v.width,y=n.axis.dim,_=d.getAxisLayout(y),S=extend({strokeContainThreshold:g},_),x=new AxisBuilder$1(n,S);each$f(elementList$1,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(S,v,n,c,g,s),groupTransition(u,this._axisGroup,n)}}},r.prototype._refreshBrushController=function(n,o,s,l,u,c){var d=s.axis.getExtent(),v=d[1]-d[0],g=Math.min(30,Math.abs(v)*.1),y=BoundingRect$1.create({x:d[0],y:-u/2,width:v,height:u});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(y),isTargetByCursor:makeRectIsTargetByCursor(y,c,l),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(y,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(getCoverInfoList(s))},r.prototype._onBrush=function(n){var o=n.areas,s=this.axisModel,l=s.axis,u=map$1(o,function(c){return[l.coordToData(c.range[0],!0),l.coordToData(c.range[1],!0)]});(!s.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:u})},r.prototype.dispose=function(){this._brushController.dispose()},r.type="parallelAxis",r}(ComponentView$1);function fromAxisAreaSelect(a,r,n){return n&&n.type==="axisAreaSelect"&&r.findComponents({mainType:"parallelAxis",query:n})[0]===a}function getCoverInfoList(a){var r=a.axis;return map$1(a.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(n[0],!0),r.dataToCoord(n[1],!0)]}})}function getCoordSysModel(a,r){return r.getComponent("parallel",a.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(a){a.registerAction(actionInfo,function(r,n){n.eachComponent({mainType:"parallelAxis",query:r},function(o){o.axis.model.setActiveIntervals(r.intervals)})}),a.registerAction("parallelAxisExpand",function(r,n){n.eachComponent({mainType:"parallel",query:r},function(o){o.setAxisExpand(r)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(a){a.registerComponentView(ParallelView$1),a.registerComponentModel(ParallelModel$1),a.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),a.registerPreprocessor(parallelPreprocessor),a.registerComponentModel(ParallelAxisModel$1),a.registerComponentView(ParallelAxisView$1),axisModelCreator(a,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(a)}function install$B(a){use(install$C),a.registerChartView(ParallelView$3),a.registerSeriesModel(ParallelSeriesModel$1),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return a}(),SankeyPath=function(a){__extends(r,a);function r(n){return a.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new SankeyPathShape},r.prototype.buildPath=function(n,o){var s=o.extent;n.moveTo(o.x1,o.y1),n.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(n.lineTo(o.x2+s,o.y2),n.bezierCurveTo(o.cpx2+s,o.cpy2,o.cpx1+s,o.cpy1,o.x1+s,o.y1)):(n.lineTo(o.x2,o.y2+s),n.bezierCurveTo(o.cpx2,o.cpy2+s,o.cpx1,o.cpy1+s,o.x1,o.y1+s)),n.closePath()},r.prototype.highlight=function(){enterEmphasis(this)},r.prototype.downplay=function(){leaveEmphasis(this)},r}(Path$1),SankeyView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._focusAdjacencyDisabled=!1,n}return r.prototype.render=function(n,o,s){var l=this,u=n.getGraph(),c=this.group,d=n.layoutInfo,v=d.width,g=d.height,y=n.getData(),_=n.getData("edge"),S=n.get("orient");this._model=n,c.removeAll(),c.x=d.x,c.y=d.y,u.eachEdge(function(x){var T=new SankeyPath,b=getECData(T);b.dataIndex=x.dataIndex,b.seriesIndex=n.seriesIndex,b.dataType="edge";var A=x.getModel(),w=A.getModel("lineStyle"),$=w.get("curveness"),C=x.node1.getLayout(),P=x.node1.getModel(),M=P.get("localX"),E=P.get("localY"),D=x.node2.getLayout(),I=x.node2.getModel(),R=I.get("localX"),L=I.get("localY"),O=x.getLayout(),N,F,B,z,U,H,Y,X;switch(T.shape.extent=Math.max(1,O.dy),T.shape.orient=S,S==="vertical"?(N=(M!=null?M*v:C.x)+O.sy,F=(E!=null?E*g:C.y)+C.dy,B=(R!=null?R*v:D.x)+O.ty,z=L!=null?L*g:D.y,U=N,H=F*(1-$)+z*$,Y=B,X=F*$+z*(1-$)):(N=(M!=null?M*v:C.x)+C.dx,F=(E!=null?E*g:C.y)+O.sy,B=R!=null?R*v:D.x,z=(L!=null?L*g:D.y)+O.ty,U=N*(1-$)+B*$,H=F,Y=N*$+B*(1-$),X=z),T.setShape({x1:N,y1:F,x2:B,y2:z,cpx1:U,cpy1:H,cpx2:Y,cpy2:X}),T.useStyle(w.getItemStyle()),T.style.fill){case"source":T.style.fill=x.node1.getVisual("color"),T.style.decal=x.node1.getVisual("style").decal;break;case"target":T.style.fill=x.node2.getVisual("color"),T.style.decal=x.node2.getVisual("style").decal;break;case"gradient":var te=x.node1.getVisual("color"),oe=x.node2.getVisual("color");isString(te)&&isString(oe)&&(T.style.fill=new LinearGradient$1(0,0,+(S==="horizontal"),+(S==="vertical"),[{color:te,offset:0},{color:oe,offset:1}]))}var ce=A.getModel("emphasis");setStatesStylesFromModel(T,A,"lineStyle",function(Z){return Z.getItemStyle()}),c.add(T),_.setItemGraphicEl(x.dataIndex,T);var de=ce.get("focus");toggleHoverEmphasis(T,de==="adjacency"?x.getAdjacentDataIndices():de,ce.get("blurScope"),ce.get("disabled")),getECData(T).dataType="edge"}),u.eachNode(function(x){var T=x.getLayout(),b=x.getModel(),A=b.get("localX"),w=b.get("localY"),$=b.getModel("emphasis"),C=new Rect$3({shape:{x:A!=null?A*v:T.x,y:w!=null?w*g:T.y,width:T.dx,height:T.dy},style:b.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(C,getLabelStatesModels(b),{labelFetcher:n,labelDataIndex:x.dataIndex,defaultText:x.id}),C.disableLabelAnimation=!0,C.setStyle("fill",x.getVisual("color")),C.setStyle("decal",x.getVisual("style").decal),setStatesStylesFromModel(C,b),c.add(C),y.setItemGraphicEl(x.dataIndex,C),getECData(C).dataType="node";var P=$.get("focus");toggleHoverEmphasis(C,P==="adjacency"?x.getAdjacentDataIndices():P,$.get("blurScope"),$.get("disabled"))}),y.eachItemGraphicEl(function(x,T){var b=y.getItemModel(T);b.get("draggable")&&(x.drift=function(A,w){l._focusAdjacencyDisabled=!0,this.shape.x+=A,this.shape.y+=w,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:y.getRawIndex(T),localX:this.shape.x/v,localY:this.shape.y/g})},x.ondragend=function(){l._focusAdjacencyDisabled=!1},x.draggable=!0,x.cursor="move")}),!this._data&&n.isAnimationEnabled()&&c.setClipPath(createGridClipShape$1(c.getBoundingRect(),n,function(){c.removeClipPath()})),this._data=n.getData()},r.prototype.dispose=function(){},r.type="sankey",r}(ChartView$1);function createGridClipShape$1(a,r,n){var o=new Rect$3({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return initProps(o,{shape:{width:a.width+20}},r,n),o}const SankeyView$1=SankeyView;var SankeySeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.getInitialData=function(n,o){var s=n.edges||n.links,l=n.data||n.nodes,u=n.levels;this.levelModels=[];for(var c=this.levelModels,d=0;d<u.length;d++)u[d].depth!=null&&u[d].depth>=0&&(c[u[d].depth]=new Model$1(u[d],this,o));if(l&&s){var v=createGraphFromNodeEdge(l,s,this,!0,g);return v.data}function g(y,_){y.wrapMethod("getItemModel",function(S,x){var T=S.parentModel,b=T.getData().getItemLayout(x);if(b){var A=b.depth,w=T.levelModels[A];w&&(S.parentModel=w)}return S}),_.wrapMethod("getItemModel",function(S,x){var T=S.parentModel,b=T.getGraph().getEdgeByIndex(x),A=b.node1.getLayout();if(A){var w=A.depth,$=T.levelModels[w];$&&(S.parentModel=$)}return S})}},r.prototype.setNodePosition=function(n,o){var s=this.option.data||this.option.nodes,l=s[n];l.localX=o[0],l.localY=o[1]},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.formatTooltip=function(n,o,s){function l(S){return isNaN(S)||S==null}if(s==="edge"){var u=this.getDataParams(n,s),c=u.data,d=u.value,v=c.source+" -- "+c.target;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:l(d)})}else{var g=this.getGraph().getNodeByIndex(n),y=g.getLayout().value,_=this.getDataParams(n,s).data.name;return createTooltipMarkup("nameValue",{name:_!=null?_+"":null,value:y,noValue:l(y)})}},r.prototype.optionUpdated=function(){},r.prototype.getDataParams=function(n,o){var s=a.prototype.getDataParams.call(this,n,o);if(s.value==null&&o==="node"){var l=this.getGraph().getNodeByIndex(n),u=l.getLayout().value;s.value=u}return s},r.type="series.sankey",r.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},r}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(a,r){a.eachSeriesByType("sankey",function(n){var o=n.get("nodeWidth"),s=n.get("nodeGap"),l=getViewRect$1(n,r);n.layoutInfo=l;var u=l.width,c=l.height,d=n.getGraph(),v=d.nodes,g=d.edges;computeNodeValues(v);var y=filter(v,function(T){return T.getLayout().value===0}),_=y.length!==0?0:n.get("layoutIterations"),S=n.get("orient"),x=n.get("nodeAlign");layoutSankey(v,g,o,s,u,c,_,S,x)})}function getViewRect$1(a,r){return getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function layoutSankey(a,r,n,o,s,l,u,c,d){computeNodeBreadths(a,r,n,s,l,c,d),computeNodeDepths(a,r,l,s,o,u,c),computeEdgeDepths(a,c)}function computeNodeValues(a){each$f(a,function(r){var n=sum(r.outEdges,getEdgeValue),o=sum(r.inEdges,getEdgeValue),s=r.getValue()||0,l=Math.max(n,o,s);r.setLayout({value:l},!0)})}function computeNodeBreadths(a,r,n,o,s,l,u){for(var c=[],d=[],v=[],g=[],y=0,_=0;_<r.length;_++)c[_]=1;for(var _=0;_<a.length;_++)d[_]=a[_].inEdges.length,d[_]===0&&v.push(a[_]);for(var S=-1;v.length;){for(var x=0;x<v.length;x++){var T=v[x],b=T.hostGraph.data.getRawDataItem(T.dataIndex),A=b.depth!=null&&b.depth>=0;A&&b.depth>S&&(S=b.depth),T.setLayout({depth:A?b.depth:y},!0),l==="vertical"?T.setLayout({dy:n},!0):T.setLayout({dx:n},!0);for(var w=0;w<T.outEdges.length;w++){var $=T.outEdges[w],C=r.indexOf($);c[C]=0;var P=$.node2,M=a.indexOf(P);--d[M]===0&&g.indexOf(P)<0&&g.push(P)}}++y,v=g,g=[]}for(var _=0;_<c.length;_++)if(c[_]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var E=S>y-1?S:y-1;u&&u!=="left"&&adjustNodeWithNodeAlign(a,u,l,E);var D=l==="vertical"?(s-n)/E:(o-n)/E;scaleNodeBreadths(a,D,l)}function isNodeDepth(a){var r=a.hostGraph.data.getRawDataItem(a.dataIndex);return r.depth!=null&&r.depth>=0}function adjustNodeWithNodeAlign(a,r,n,o){if(r==="right"){for(var s=[],l=a,u=0;l.length;){for(var c=0;c<l.length;c++){var d=l[c];d.setLayout({skNodeHeight:u},!0);for(var v=0;v<d.inEdges.length;v++){var g=d.inEdges[v];s.indexOf(g.node1)<0&&s.push(g.node1)}}l=s,s=[],++u}each$f(a,function(y){isNodeDepth(y)||y.setLayout({depth:Math.max(0,o-y.getLayout().skNodeHeight)},!0)})}else r==="justify"&&moveSinksRight(a,o)}function moveSinksRight(a,r){each$f(a,function(n){!isNodeDepth(n)&&!n.outEdges.length&&n.setLayout({depth:r},!0)})}function scaleNodeBreadths(a,r,n){each$f(a,function(o){var s=o.getLayout().depth*r;n==="vertical"?o.setLayout({y:s},!0):o.setLayout({x:s},!0)})}function computeNodeDepths(a,r,n,o,s,l,u){var c=prepareNodesByBreadth(a,u);initializeNodeDepth(c,r,n,o,s,u),resolveCollisions(c,s,n,o,u);for(var d=1;l>0;l--)d*=.99,relaxRightToLeft(c,d,u),resolveCollisions(c,s,n,o,u),relaxLeftToRight(c,d,u),resolveCollisions(c,s,n,o,u)}function prepareNodesByBreadth(a,r){var n=[],o=r==="vertical"?"y":"x",s=groupData(a,function(l){return l.getLayout()[o]});return s.keys.sort(function(l,u){return l-u}),each$f(s.keys,function(l){n.push(s.buckets.get(l))}),n}function initializeNodeDepth(a,r,n,o,s,l){var u=1/0;each$f(a,function(c){var d=c.length,v=0;each$f(c,function(y){v+=y.getLayout().value});var g=l==="vertical"?(o-(d-1)*s)/v:(n-(d-1)*s)/v;g<u&&(u=g)}),each$f(a,function(c){each$f(c,function(d,v){var g=d.getLayout().value*u;l==="vertical"?(d.setLayout({x:v},!0),d.setLayout({dx:g},!0)):(d.setLayout({y:v},!0),d.setLayout({dy:g},!0))})}),each$f(r,function(c){var d=+c.getValue()*u;c.setLayout({dy:d},!0)})}function resolveCollisions(a,r,n,o,s){var l=s==="vertical"?"x":"y";each$f(a,function(u){u.sort(function(T,b){return T.getLayout()[l]-b.getLayout()[l]});for(var c,d,v,g=0,y=u.length,_=s==="vertical"?"dx":"dy",S=0;S<y;S++)d=u[S],v=g-d.getLayout()[l],v>0&&(c=d.getLayout()[l]+v,s==="vertical"?d.setLayout({x:c},!0):d.setLayout({y:c},!0)),g=d.getLayout()[l]+d.getLayout()[_]+r;var x=s==="vertical"?o:n;if(v=g-r-x,v>0){c=d.getLayout()[l]-v,s==="vertical"?d.setLayout({x:c},!0):d.setLayout({y:c},!0),g=c;for(var S=y-2;S>=0;--S)d=u[S],v=d.getLayout()[l]+d.getLayout()[_]+r-g,v>0&&(c=d.getLayout()[l]-v,s==="vertical"?d.setLayout({x:c},!0):d.setLayout({y:c},!0)),g=d.getLayout()[l]}})}function relaxRightToLeft(a,r,n){each$f(a.slice().reverse(),function(o){each$f(o,function(s){if(s.outEdges.length){var l=sum(s.outEdges,weightedTarget,n)/sum(s.outEdges,getEdgeValue);if(isNaN(l)){var u=s.outEdges.length;l=u?sum(s.outEdges,centerTarget,n)/u:0}if(n==="vertical"){var c=s.getLayout().x+(l-center(s,n))*r;s.setLayout({x:c},!0)}else{var d=s.getLayout().y+(l-center(s,n))*r;s.setLayout({y:d},!0)}}})})}function weightedTarget(a,r){return center(a.node2,r)*a.getValue()}function centerTarget(a,r){return center(a.node2,r)}function weightedSource(a,r){return center(a.node1,r)*a.getValue()}function centerSource(a,r){return center(a.node1,r)}function center(a,r){return r==="vertical"?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function getEdgeValue(a){return a.getValue()}function sum(a,r,n){for(var o=0,s=a.length,l=-1;++l<s;){var u=+r(a[l],n);isNaN(u)||(o+=u)}return o}function relaxLeftToRight(a,r,n){each$f(a,function(o){each$f(o,function(s){if(s.inEdges.length){var l=sum(s.inEdges,weightedSource,n)/sum(s.inEdges,getEdgeValue);if(isNaN(l)){var u=s.inEdges.length;l=u?sum(s.inEdges,centerSource,n)/u:0}if(n==="vertical"){var c=s.getLayout().x+(l-center(s,n))*r;s.setLayout({x:c},!0)}else{var d=s.getLayout().y+(l-center(s,n))*r;s.setLayout({y:d},!0)}}})})}function computeEdgeDepths(a,r){var n=r==="vertical"?"x":"y";each$f(a,function(o){o.outEdges.sort(function(s,l){return s.node2.getLayout()[n]-l.node2.getLayout()[n]}),o.inEdges.sort(function(s,l){return s.node1.getLayout()[n]-l.node1.getLayout()[n]})}),each$f(a,function(o){var s=0,l=0;each$f(o.outEdges,function(u){u.setLayout({sy:s},!0),s+=u.getLayout().dy}),each$f(o.inEdges,function(u){u.setLayout({ty:l},!0),l+=u.getLayout().dy})})}function sankeyVisual(a){a.eachSeriesByType("sankey",function(r){var n=r.getGraph(),o=n.nodes;if(o.length){var s=1/0,l=-1/0;each$f(o,function(u){var c=u.getLayout().value;c<s&&(s=c),c>l&&(l=c)}),each$f(o,function(u){var c=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[s,l],visual:r.get("color")}),d=c.mapValueToVisual(u.getLayout().value),v=u.getModel().get(["itemStyle","color"]);v!=null?(u.setVisual("color",v),u.setVisual("style",{fill:v})):(u.setVisual("color",d),u.setVisual("style",{fill:d}))})}})}function install$A(a){a.registerChartView(SankeyView$1),a.registerSeriesModel(SankeySeriesModel$1),a.registerLayout(sankeyLayout),a.registerVisual(sankeyVisual),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(r,n){n.eachComponent({mainType:"series",subType:"sankey",query:r},function(o){o.setNodePosition(r.dataIndex,[r.localX,r.localY])})})}var WhiskerBoxCommonMixin=function(){function a(){}return a.prototype.getInitialData=function(r,n){var o,s=n.getComponent("xAxis",this.get("xAxisIndex")),l=n.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),c=l.get("type"),d;u==="category"?(r.layout="horizontal",o=s.getOrdinalMeta(),d=!0):c==="category"?(r.layout="vertical",o=l.getOrdinalMeta(),d=!0):r.layout=r.layout||"horizontal";var v=["x","y"],g=r.layout==="horizontal"?0:1,y=this._baseAxisDim=v[g],_=v[1-g],S=[s,l],x=S[g].get("type"),T=S[1-g].get("type"),b=r.data;if(b&&d){var A=[];each$f(b,function(C,P){var M;isArray$1(C)?(M=C.slice(),C.unshift(P)):isArray$1(C.value)?(M=extend({},C),M.value=M.value.slice(),C.value.unshift(P)):M=C,A.push(M)}),r.data=A}var w=this.defaultValueDimensions,$=[{name:y,type:getDimensionTypeByAxis(x),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:_,type:getDimensionTypeByAxis(T),dimsDef:w.slice()}];return createSeriesDataSimply(this,{coordDimensions:$,dimensionsCount:w.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,$,this)})},a.prototype.getBaseAxis=function(){var r=this._baseAxisDim;return this.ecModel.getComponent(r+"Axis",this.get(r+"AxisIndex")).axis},a}(),BoxplotSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return r.type="series.boxplot",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},r}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=n.getData(),u=this.group,c=this._data;this._data||u.removeAll();var d=n.get("layout")==="horizontal"?1:0;l.diff(c).add(function(v){if(l.hasValue(v)){var g=l.getItemLayout(v),y=createNormalBox$1(g,l,v,d,!0);l.setItemGraphicEl(v,y),u.add(y)}}).update(function(v,g){var y=c.getItemGraphicEl(g);if(!l.hasValue(v)){u.remove(y);return}var _=l.getItemLayout(v);y?(saveOldStyle(y),updateNormalBoxData(_,y,l,v)):y=createNormalBox$1(_,l,v,d),u.add(y),l.setItemGraphicEl(v,y)}).remove(function(v){var g=c.getItemGraphicEl(v);g&&u.remove(g)}).execute(),this._data=l},r.prototype.remove=function(n){var o=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(l){l&&o.remove(l)})},r.type="boxplot",r}(ChartView$1),BoxPathShape=function(){function a(){}return a}(),BoxPath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="boxplotBoxPath",o}return r.prototype.getDefaultShape=function(){return new BoxPathShape},r.prototype.buildPath=function(n,o){var s=o.points,l=0;for(n.moveTo(s[l][0],s[l][1]),l++;l<4;l++)n.lineTo(s[l][0],s[l][1]);for(n.closePath();l<s.length;l++)n.moveTo(s[l][0],s[l][1]),l++,n.lineTo(s[l][0],s[l][1])},r}(Path$1);function createNormalBox$1(a,r,n,o,s){var l=a.ends,u=new BoxPath({shape:{points:s?transInit$1(l,o,a):l}});return updateNormalBoxData(a,u,r,n,s),u}function updateNormalBoxData(a,r,n,o,s){var l=n.hostModel,u=graphic[s?"initProps":"updateProps"];u(r,{shape:{points:a.ends}},l,o),r.useStyle(n.getItemVisual(o,"style")),r.style.strokeNoScale=!0,r.z2=100;var c=n.getItemModel(o),d=c.getModel("emphasis");setStatesStylesFromModel(r,c),toggleHoverEmphasis(r,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function transInit$1(a,r,n){return map$1(a,function(o){return o=o.slice(),o[r]=n.initBaseline,o})}const BoxplotView$1=BoxplotView;function boxplotVisual(a,r){}var each$9=each$f;function boxplotLayout(a){var r=groupSeriesByAxis(a);each$9(r,function(n){var o=n.seriesModels;!o.length||(calculateBase(n),each$9(o,function(s,l){layoutSingleSeries(s,n.boxOffsetList[l],n.boxWidthList[l])}))})}function groupSeriesByAxis(a){var r=[],n=[];return a.eachSeriesByType("boxplot",function(o){var s=o.getBaseAxis(),l=indexOf(n,s);l<0&&(l=n.length,n[l]=s,r[l]={axis:s,seriesModels:[]}),r[l].seriesModels.push(o)}),r}function calculateBase(a){var r=a.axis,n=a.seriesModels,o=n.length,s=a.boxWidthList=[],l=a.boxOffsetList=[],u=[],c;if(r.type==="category")c=r.getBandWidth();else{var d=0;each$9(n,function(x){d=Math.max(d,x.getData().count())});var v=r.getExtent();c=Math.abs(v[1]-v[0])/d}each$9(n,function(x){var T=x.get("boxWidth");isArray$1(T)||(T=[T,T]),u.push([parsePercent(T[0],c)||0,parsePercent(T[1],c)||0])});var g=c*.8-2,y=g/o*.3,_=(g-y*(o-1))/o,S=_/2-g/2;each$9(n,function(x,T){l.push(S),S+=y+_,s.push(Math.min(Math.max(_,u[T][0]),u[T][1]))})}function layoutSingleSeries(a,r,n){var o=a.coordinateSystem,s=a.getData(),l=n/2,u=a.get("layout")==="horizontal"?0:1,c=1-u,d=["x","y"],v=s.mapDimension(d[u]),g=s.mapDimensionsAll(d[c]);if(v==null||g.length<5)return;for(var y=0;y<s.count();y++){var _=s.get(v,y),S=$(_,g[2],y),x=$(_,g[0],y),T=$(_,g[1],y),b=$(_,g[3],y),A=$(_,g[4],y),w=[];C(w,T,!1),C(w,b,!0),w.push(x,T,A,b),P(w,x),P(w,A),P(w,S),s.setItemLayout(y,{initBaseline:S[c],ends:w})}function $(M,E,D){var I=s.get(E,D),R=[];R[u]=M,R[c]=I;var L;return isNaN(M)||isNaN(I)?L=[NaN,NaN]:(L=o.dataToPoint(R),L[u]+=r),L}function C(M,E,D){var I=E.slice(),R=E.slice();I[u]+=l,R[u]-=l,D?M.push(I,R):M.push(R,I)}function P(M,E){var D=E.slice(),I=E.slice();D[u]-=l,I[u]+=l,M.push(D,I)}}function prepareBoxplotData(a,r){r=r||{};for(var n=[],o=[],s=r.boundIQR,l=s==="none"||s===0,u=0;u<a.length;u++){var c=asc$2(a[u].slice()),d=quantile(c,.25),v=quantile(c,.5),g=quantile(c,.75),y=c[0],_=c[c.length-1],S=(s==null?1.5:s)*(g-d),x=l?y:Math.max(y,d-S),T=l?_:Math.min(_,g+S),b=r.itemNameFormatter,A=isFunction(b)?b({value:u}):isString(b)?b.replace("{value}",u+""):u+"";n.push([A,x,d,v,g,T]);for(var w=0;w<c.length;w++){var $=c[w];if($<x||$>T){var C=[A,$];o.push(C)}}}return{boxData:n,outliers:o}}var boxplotTransform={type:"echarts:boxplot",transform:function a(r){var n=r.upstream;if(n.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var o="";throwError(o)}var s=prepareBoxplotData(n.getRawData(),r.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:s.boxData},{data:s.outliers}]}};function install$z(a){a.registerSeriesModel(BoxplotSeriesModel$1),a.registerChartView(BoxplotView$1),a.registerVisual(boxplotVisual),a.registerLayout(boxplotLayout),a.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},r.prototype.incrementalPrepareRender=function(n,o,s){this._clear(),this._updateDrawMode(n)},r.prototype.incrementalRender=function(n,o,s,l){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,o):this._incrementalRenderNormal(n,o)},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype._updateDrawMode=function(n){var o=n.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},r.prototype._renderNormal=function(n){var o=n.getData(),s=this._data,l=this.group,u=o.getLayout("isSimpleBox"),c=n.get("clip",!0),d=n.coordinateSystem,v=d.getArea&&d.getArea();this._data||l.removeAll(),o.diff(s).add(function(g){if(o.hasValue(g)){var y=o.getItemLayout(g);if(c&&isNormalBoxClipped(v,y))return;var _=createNormalBox(y,g,!0);initProps(_,{shape:{points:y.ends}},n,g),setBoxCommon(_,o,g,u),l.add(_),o.setItemGraphicEl(g,_)}}).update(function(g,y){var _=s.getItemGraphicEl(y);if(!o.hasValue(g)){l.remove(_);return}var S=o.getItemLayout(g);if(c&&isNormalBoxClipped(v,S)){l.remove(_);return}_?(updateProps$1(_,{shape:{points:S.ends}},n,g),saveOldStyle(_)):_=createNormalBox(S),setBoxCommon(_,o,g,u),l.add(_),o.setItemGraphicEl(g,_)}).remove(function(g){var y=s.getItemGraphicEl(g);y&&l.remove(y)}).execute(),this._data=o},r.prototype._renderLarge=function(n){this._clear(),createLarge(n,this.group);var o=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;o?this.group.setClipPath(o):this.group.removeClipPath()},r.prototype._incrementalRenderNormal=function(n,o){for(var s=o.getData(),l=s.getLayout("isSimpleBox"),u;(u=n.next())!=null;){var c=s.getItemLayout(u),d=createNormalBox(c);setBoxCommon(d,s,u,l),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},r.prototype._incrementalRenderLarge=function(n,o){createLarge(o,this.group,this._progressiveEls,!0)},r.prototype.remove=function(n){this._clear()},r.prototype._clear=function(){this.group.removeAll(),this._data=null},r.type="candlestick",r}(ChartView$1),NormalBoxPathShape=function(){function a(){}return a}(),NormalBoxPath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="normalCandlestickBox",o}return r.prototype.getDefaultShape=function(){return new NormalBoxPathShape},r.prototype.buildPath=function(n,o){var s=o.points;this.__simpleBox?(n.moveTo(s[4][0],s[4][1]),n.lineTo(s[6][0],s[6][1])):(n.moveTo(s[0][0],s[0][1]),n.lineTo(s[1][0],s[1][1]),n.lineTo(s[2][0],s[2][1]),n.lineTo(s[3][0],s[3][1]),n.closePath(),n.moveTo(s[4][0],s[4][1]),n.lineTo(s[5][0],s[5][1]),n.moveTo(s[6][0],s[6][1]),n.lineTo(s[7][0],s[7][1]))},r}(Path$1);function createNormalBox(a,r,n){var o=a.ends;return new NormalBoxPath({shape:{points:n?transInit(o,a):o},z2:100})}function isNormalBoxClipped(a,r){for(var n=!0,o=0;o<r.ends.length;o++)if(a.contain(r.ends[o][0],r.ends[o][1])){n=!1;break}return n}function setBoxCommon(a,r,n,o){var s=r.getItemModel(n);a.useStyle(r.getItemVisual(n,"style")),a.style.strokeNoScale=!0,a.__simpleBox=o,setStatesStylesFromModel(a,s)}function transInit(a,r){return map$1(a,function(n){return n=n.slice(),n[1]=r.initBaseline,n})}var LargeBoxPathShape=function(){function a(){}return a}(),LargeBoxPath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o.type="largeCandlestickBox",o}return r.prototype.getDefaultShape=function(){return new LargeBoxPathShape},r.prototype.buildPath=function(n,o){for(var s=o.points,l=0;l<s.length;)if(this.__sign===s[l++]){var u=s[l++];n.moveTo(u,s[l++]),n.lineTo(u,s[l++])}else l+=3},r}(Path$1);function createLarge(a,r,n,o){var s=a.getData(),l=s.getLayout("largePoints"),u=new LargeBoxPath({shape:{points:l},__sign:1,ignoreCoarsePointer:!0});r.add(u);var c=new LargeBoxPath({shape:{points:l},__sign:-1,ignoreCoarsePointer:!0});r.add(c),setLargeStyle(1,u,a),setLargeStyle(-1,c,a),o&&(u.incremental=!0,c.incremental=!0),n&&n.push(u,c)}function setLargeStyle(a,r,n,o){var s=n.get(["itemStyle",a>0?"borderColor":"borderColor0"])||n.get(["itemStyle",a>0?"color":"color0"]),l=n.getModel("itemStyle").getItemStyle(SKIP_PROPS);r.useStyle(l),r.style.fill=null,r.style.stroke=s}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return r.prototype.getShadowDim=function(){return"open"},r.prototype.brushSelector=function(n,o,s){var l=o.getItemLayout(n);return l&&s.rect(l.brushRect)},r.type="series.candlestick",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},r}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(a){!a||!isArray$1(a.series)||each$f(a.series,function(r){isObject$5(r)&&r.type==="k"&&(r.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(a,r){function n(l,u){return u.get(l>0?positiveColorQuery:negativeColorQuery)}function o(l,u){return u.get(l>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!r.isSeriesFiltered(a)){var s=a.pipelineContext.large;return!s&&{progress:function(l,u){for(var c;(c=l.next())!=null;){var d=u.getItemModel(c),v=u.getItemLayout(c).sign,g=d.getItemStyle();g.fill=n(v,d),g.stroke=o(v,d)||g.fill;var y=u.ensureUniqueItemVisual(c,"style");extend(y,g)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(a){var r=a.coordinateSystem,n=a.getData(),o=calculateCandleWidth(a,n),s=0,l=1,u=["x","y"],c=n.getDimensionIndex(n.mapDimension(u[s])),d=map$1(n.mapDimensionsAll(u[l]),n.getDimensionIndex,n),v=d[0],g=d[1],y=d[2],_=d[3];if(n.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),c<0||d.length<4)return;return{progress:a.pipelineContext.large?x:S};function S(T,b){for(var A,w=b.getStore();(A=T.next())!=null;){var $=w.get(c,A),C=w.get(v,A),P=w.get(g,A),M=w.get(y,A),E=w.get(_,A),D=Math.min(C,P),I=Math.max(C,P),R=B(D,$),L=B(I,$),O=B(M,$),N=B(E,$),F=[];z(F,L,0),z(F,R,1),F.push(H(N),H(L),H(O),H(R)),b.setItemLayout(A,{sign:getSign(w,A,C,P,g),initBaseline:C>P?L[l]:R[l],ends:F,brushRect:U(M,E,$)})}function B(Y,X){var te=[];return te[s]=X,te[l]=Y,isNaN(X)||isNaN(Y)?[NaN,NaN]:r.dataToPoint(te)}function z(Y,X,te){var oe=X.slice(),ce=X.slice();oe[s]=subPixelOptimize(oe[s]+o/2,1,!1),ce[s]=subPixelOptimize(ce[s]-o/2,1,!0),te?Y.push(oe,ce):Y.push(ce,oe)}function U(Y,X,te){var oe=B(Y,te),ce=B(X,te);return oe[s]-=o/2,ce[s]-=o/2,{x:oe[0],y:oe[1],width:o,height:ce[1]-oe[1]}}function H(Y){return Y[s]=subPixelOptimize(Y[s],1),Y}}function x(T,b){for(var A=createFloat32Array(T.count*4),w=0,$,C=[],P=[],M,E=b.getStore();(M=T.next())!=null;){var D=E.get(c,M),I=E.get(v,M),R=E.get(g,M),L=E.get(y,M),O=E.get(_,M);if(isNaN(D)||isNaN(L)||isNaN(O)){A[w++]=NaN,w+=3;continue}A[w++]=getSign(E,M,I,R,g),C[s]=D,C[l]=L,$=r.dataToPoint(C,null,P),A[w++]=$?$[0]:NaN,A[w++]=$?$[1]:NaN,C[l]=O,$=r.dataToPoint(C,null,P),A[w++]=$?$[1]:NaN}b.setLayout("largePoints",A)}}};function getSign(a,r,n,o,s){var l;return n>o?l=-1:n<o?l=1:l=r>0?a.get(s,r-1)<=o?1:-1:1,l}function calculateCandleWidth(a,r){var n=a.getBaseAxis(),o,s=n.type==="category"?n.getBandWidth():(o=n.getExtent(),Math.abs(o[1]-o[0])/r.count()),l=parsePercent(retrieve2(a.get("barMaxWidth"),s),s),u=parsePercent(retrieve2(a.get("barMinWidth"),1),s),c=a.get("barWidth");return c!=null?parsePercent(c,s):Math.max(Math.min(s/2,l),u)}const candlestickLayout$1=candlestickLayout;function install$y(a){a.registerChartView(CandlestickView$1),a.registerSeriesModel(CandlestickSeriesModel$1),a.registerPreprocessor(candlestickPreprocessor),a.registerVisual(candlestickVisual$1),a.registerLayout(candlestickLayout$1)}function updateRipplePath(a,r){var n=r.rippleEffectColor||r.color;a.eachChild(function(o){o.attr({z:r.z,zlevel:r.zlevel,style:{stroke:r.brushType==="stroke"?n:null,fill:r.brushType==="fill"?n:null}})})}var EffectSymbol=function(a){__extends(r,a);function r(n,o){var s=a.call(this)||this,l=new SymbolClz(n,o),u=new Group$4;return s.add(l),s.add(u),s.updateData(n,o),s}return r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},r.prototype.startEffectAnimation=function(n){for(var o=n.symbolType,s=n.color,l=n.rippleNumber,u=this.childAt(1),c=0;c<l;c++){var d=createSymbol$1(o,-1,-1,2,2,s);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-c/l*n.period+n.effectOffset;d.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(v).start(),d.animateStyle(!0).when(n.period,{opacity:0}).delay(v).start(),u.add(d)}updateRipplePath(u,n)},r.prototype.updateEffectAnimation=function(n){for(var o=this._effectCfg,s=this.childAt(1),l=["symbolType","period","rippleScale","rippleNumber"],u=0;u<l.length;u++){var c=l[u];if(o[c]!==n[c]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}updateRipplePath(s,n)},r.prototype.highlight=function(){enterEmphasis(this)},r.prototype.downplay=function(){leaveEmphasis(this)},r.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},r.prototype.updateData=function(n,o){var s=this,l=n.hostModel;this.childAt(0).updateData(n,o);var u=this.childAt(1),c=n.getItemModel(o),d=n.getItemVisual(o,"symbol"),v=normalizeSymbolSize(n.getItemVisual(o,"symbolSize")),g=n.getItemVisual(o,"style"),y=g&&g.fill,_=c.getModel("emphasis");u.setScale(v),u.traverse(function(b){b.setStyle("fill",y)});var S=normalizeSymbolOffset(n.getItemVisual(o,"symbolOffset"),v);S&&(u.x=S[0],u.y=S[1]);var x=n.getItemVisual(o,"symbolRotate");u.rotation=(x||0)*Math.PI/180||0;var T={};T.showEffectOn=l.get("showEffectOn"),T.rippleScale=c.get(["rippleEffect","scale"]),T.brushType=c.get(["rippleEffect","brushType"]),T.period=c.get(["rippleEffect","period"])*1e3,T.effectOffset=o/n.count(),T.z=l.getShallow("z")||0,T.zlevel=l.getShallow("zlevel")||0,T.symbolType=d,T.color=y,T.rippleEffectColor=c.get(["rippleEffect","color"]),T.rippleNumber=c.get(["rippleEffect","number"]),T.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){b==="emphasis"?T.showEffectOn!=="render"&&s.startEffectAnimation(T):b==="normal"&&T.showEffectOn!=="render"&&s.stopEffectAnimation()}),this._effectCfg=T,toggleHoverEmphasis(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},r.prototype.fadeOut=function(n){n&&n()},r}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},r.prototype.render=function(n,o,s){var l=n.getData(),u=this._symbolDraw;u.updateData(l,{clipShape:this._getClipShape(n)}),this.group.add(u.group)},r.prototype._getClipShape=function(n){var o=n.coordinateSystem,s=o&&o.getArea&&o.getArea();return n.get("clip",!0)?s:null},r.prototype.updateTransform=function(n,o,s){var l=n.getData();this.group.dirty();var u=pointsLayout("").reset(n,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout()},r.prototype._updateGroupTransform=function(n){var o=n.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=clone$2(o.getRoamTransform()),this.group.decomposeTransform())},r.prototype.remove=function(n,o){this._symbolDraw&&this._symbolDraw.remove(!0)},r.type="effectScatter",r}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.hasSymbolVisual=!0,n}return r.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{useEncodeDefaulter:!0})},r.prototype.brushSelector=function(n,o,s){return s.point(o.getItemLayout(n))},r.type="series.effectScatter",r.dependencies=["grid","polar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},r}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x(a){a.registerChartView(EffectScatterView$1),a.registerSeriesModel(EffectScatterSeriesModel$1),a.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this)||this;return l.add(l.createLine(n,o,s)),l._updateEffectSymbol(n,o),l}return r.prototype.createLine=function(n,o,s){return new Line$1(n,o,s)},r.prototype._updateEffectSymbol=function(n,o){var s=n.getItemModel(o),l=s.getModel("effect"),u=l.get("symbolSize"),c=l.get("symbol");isArray$1(u)||(u=[u,u]);var d=n.getItemVisual(o,"style"),v=l.get("color")||d&&d.stroke,g=this.childAt(1);this._symbolType!==c&&(this.remove(g),g=createSymbol$1(c,-.5,-.5,1,1,v),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",v),g.setStyle(l.getItemStyle(["color"])),g.scaleX=u[0],g.scaleY=u[1],g.setColor(v),this._symbolType=c,this._symbolScale=u,this._updateEffectAnimation(n,l,o))},r.prototype._updateEffectAnimation=function(n,o,s){var l=this.childAt(1);if(!!l){var u=n.getItemLayout(s),c=o.get("period")*1e3,d=o.get("loop"),v=o.get("roundTrip"),g=o.get("constantSpeed"),y=retrieve(o.get("delay"),function(S){return S/n.count()*c/3});if(l.ignore=!0,this._updateAnimationPoints(l,u),g>0&&(c=this._getLineLength(l)/g*1e3),c!==this._period||d!==this._loop||v!==this._roundTrip){l.stopAnimation();var _=void 0;isFunction(y)?_=y(s):_=y,l.__t>0&&(_=-c*l.__t),this._animateSymbol(l,c,_,d,v)}this._period=c,this._loop=d,this._roundTrip=v}},r.prototype._animateSymbol=function(n,o,s,l,u){if(o>0){n.__t=0;var c=this,d=n.animate("",l).when(u?o*2:o,{__t:u?2:1}).delay(s).during(function(){c._updateSymbolPosition(n)});l||d.done(function(){c.remove(n)}),d.start()}},r.prototype._getLineLength=function(n){return dist$1(n.__p1,n.__cp1)+dist$1(n.__cp1,n.__p2)},r.prototype._updateAnimationPoints=function(n,o){n.__p1=o[0],n.__p2=o[1],n.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},r.prototype.updateData=function(n,o,s){this.childAt(0).updateData(n,o,s),this._updateEffectSymbol(n,o)},r.prototype._updateSymbolPosition=function(n){var o=n.__p1,s=n.__p2,l=n.__cp1,u=n.__t<1?n.__t:2-n.__t,c=[n.x,n.y],d=c.slice(),v=quadraticAt$1,g=quadraticDerivativeAt;c[0]=v(o[0],l[0],s[0],u),c[1]=v(o[1],l[1],s[1],u);var y=n.__t<1?g(o[0],l[0],s[0],u):g(s[0],l[0],o[0],1-u),_=n.__t<1?g(o[1],l[1],s[1],u):g(s[1],l[1],o[1],1-u);n.rotation=-Math.atan2(_,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=dist$1(d,c)*1.05,u===1&&(c[0]=d[0]+(c[0]-d[0])/2,c[1]=d[1]+(c[1]-d[1])/2)):n.__lastT===1?n.scaleY=2*dist$1(o,c):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=c[0],n.y=c[1]},r.prototype.updateLayout=function(n,o){this.childAt(0).updateLayout(n,o);var s=n.getItemModel(o).getModel("effect");this._updateEffectAnimation(n,s,o)},r}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(a){__extends(r,a);function r(n,o,s){var l=a.call(this)||this;return l._createPolyline(n,o,s),l}return r.prototype._createPolyline=function(n,o,s){var l=n.getItemLayout(o),u=new Polyline$3({shape:{points:l}});this.add(u),this._updateCommonStl(n,o,s)},r.prototype.updateData=function(n,o,s){var l=n.hostModel,u=this.childAt(0),c={shape:{points:n.getItemLayout(o)}};updateProps$1(u,c,l,o),this._updateCommonStl(n,o,s)},r.prototype._updateCommonStl=function(n,o,s){var l=this.childAt(0),u=n.getItemModel(o),c=s&&s.emphasisLineStyle,d=s&&s.focus,v=s&&s.blurScope,g=s&&s.emphasisDisabled;if(!s||n.hasItemOption){var y=u.getModel("emphasis");c=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),d=y.get("focus"),v=y.get("blurScope")}l.useStyle(n.getItemVisual(o,"style")),l.style.fill=null,l.style.strokeNoScale=!0;var _=l.ensureState("emphasis");_.style=c,toggleHoverEmphasis(this,d,v,g)},r.prototype.updateLayout=function(n,o){var s=this.childAt(0);s.setShape("points",n.getItemLayout(o))},r}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return r.prototype.createLine=function(n,o,s){return new Polyline$1(n,o,s)},r.prototype._updateAnimationPoints=function(n,o){this._points=o;for(var s=[0],l=0,u=1;u<o.length;u++){var c=o[u-1],d=o[u];l+=dist$1(c,d),s.push(l)}if(l===0){this._length=0;return}for(var u=0;u<s.length;u++)s[u]/=l;this._offsets=s,this._length=l},r.prototype._getLineLength=function(){return this._length},r.prototype._updateSymbolPosition=function(n){var o=n.__t<1?n.__t:2-n.__t,s=this._points,l=this._offsets,u=s.length;if(!!l){var c=this._lastFrame,d;if(o<this._lastFramePercent){var v=Math.min(c+1,u-1);for(d=v;d>=0&&!(l[d]<=o);d--);d=Math.min(d,u-2)}else{for(d=c;d<u&&!(l[d]>o);d++);d=Math.min(d-1,u-2)}var g=(o-l[d])/(l[d+1]-l[d]),y=s[d],_=s[d+1];n.x=y[0]*(1-g)+g*_[0],n.y=y[1]*(1-g)+g*_[1];var S=n.__t<1?_[0]-y[0]:y[0]-_[0],x=n.__t<1?_[1]-y[1]:y[1]-_[1];n.rotation=-Math.atan2(x,S)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,n.ignore=!1}},r}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function a(){this.polyline=!1,this.curveness=0,this.segs=[]}return a}(),LargeLinesPath=function(a){__extends(r,a);function r(n){var o=a.call(this,n)||this;return o._off=0,o.hoverDataIdx=-1,o}return r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new LargeLinesPathShape},r.prototype.buildPath=function(n,o){var s=o.segs,l=o.curveness,u;if(o.polyline)for(u=this._off;u<s.length;){var c=s[u++];if(c>0){n.moveTo(s[u++],s[u++]);for(var d=1;d<c;d++)n.lineTo(s[u++],s[u++])}}else for(u=this._off;u<s.length;){var v=s[u++],g=s[u++],y=s[u++],_=s[u++];if(n.moveTo(v,g),l>0){var S=(v+y)/2-(g-_)*l,x=(g+_)/2-(y-v)*l;n.quadraticCurveTo(S,x,y,_)}else n.lineTo(y,_)}this.incremental&&(this._off=u,this.notClear=!0)},r.prototype.findDataIndex=function(n,o){var s=this.shape,l=s.segs,u=s.curveness,c=this.style.lineWidth;if(s.polyline)for(var d=0,v=0;v<l.length;){var g=l[v++];if(g>0)for(var y=l[v++],_=l[v++],S=1;S<g;S++){var x=l[v++],T=l[v++];if(containStroke$4(y,_,x,T,c,n,o))return d}d++}else for(var d=0,v=0;v<l.length;){var y=l[v++],_=l[v++],x=l[v++],T=l[v++];if(u>0){var b=(y+x)/2-(_-T)*u,A=(_+T)/2-(x-y)*u;if(containStroke$2(y,_,b,A,x,T,c,n,o))return d}else if(containStroke$4(y,_,x,T,c,n,o))return d;d++}return-1},r.prototype.contain=function(n,o){var s=this.transformCoordToLocal(n,o),l=this.getBoundingRect();if(n=s[0],o=s[1],l.contain(n,o)){var u=this.hoverDataIdx=this.findDataIndex(n,o);return u>=0}return this.hoverDataIdx=-1,!1},r.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var o=this.shape,s=o.segs,l=1/0,u=1/0,c=-1/0,d=-1/0,v=0;v<s.length;){var g=s[v++],y=s[v++];l=Math.min(g,l),c=Math.max(g,c),u=Math.min(y,u),d=Math.max(y,d)}n=this._rect=new BoundingRect$1(l,u,c,d)}return n},r}(Path$1),LargeLineDraw=function(){function a(){this.group=new Group$4}return a.prototype.updateData=function(r){this._clear();var n=this._create();n.setShape({segs:r.getLayout("linesPoints")}),this._setCommon(n,r)},a.prototype.incrementalPrepareUpdate=function(r){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(r,n){var o=this._newAdded[0],s=n.getLayout("linesPoints"),l=o&&o.shape.segs;if(l&&l.length<2e4){var u=l.length,c=new Float32Array(u+s.length);c.set(l),c.set(s,u),o.setShape({segs:c})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:s}),this._setCommon(d,n),d.__startIndex=r.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},a.prototype._create=function(){var r=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(r),this.group.add(r),r},a.prototype._setCommon=function(r,n,o){var s=n.hostModel;r.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),r.useStyle(s.getModel("lineStyle").getLineStyle()),r.style.strokeNoScale=!0;var l=n.getVisual("style");l&&l.stroke&&r.setStyle("stroke",l.stroke),r.setStyle("fill",null);var u=getECData(r);u.seriesIndex=s.seriesIndex,r.on("mousemove",function(c){u.dataIndex=null;var d=r.hoverDataIdx;d>0&&(u.dataIndex=d+r.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(a){var r=a.coordinateSystem;if(!!r){var n=a.get("polyline"),o=a.pipelineContext.large;return{progress:function(s,l){var u=[];if(o){var c=void 0,d=s.end-s.start;if(n){for(var v=0,g=s.start;g<s.end;g++)v+=a.getLineCoordsCount(g);c=new Float32Array(d+v*2)}else c=new Float32Array(d*4);for(var y=0,_=[],g=s.start;g<s.end;g++){var S=a.getLineCoords(g,u);n&&(c[y++]=S);for(var x=0;x<S;x++)_=r.dataToPoint(u[x],!1,_),c[y++]=_[0],c[y++]=_[1]}l.setLayout("linesPoints",c)}else for(var g=s.start;g<s.end;g++){var T=l.getItemModel(g),S=a.getLineCoords(g,u),b=[];if(n)for(var A=0;A<S;A++)b.push(r.dataToPoint(u[A]));else{b[0]=r.dataToPoint(u[0]),b[1]=r.dataToPoint(u[1]);var w=T.get(["lineStyle","curveness"]);+w&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*w,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*w])}l.setItemLayout(g,b)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=n.getData(),u=this._updateLineDraw(l,n),c=n.get("zlevel"),d=n.get(["effect","trailLength"]),v=s.getZr(),g=v.painter.getType()==="svg";g||v.painter.getLayer(c).clear(!0),this._lastZlevel!=null&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&d>0&&(g||v.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),u.updateData(l);var y=n.get("clip",!0)&&createClipPath(n.coordinateSystem,!1,n);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},r.prototype.incrementalPrepareRender=function(n,o,s){var l=n.getData(),u=this._updateLineDraw(l,n);u.incrementalPrepareUpdate(l),this._clearLayer(s),this._finished=!1},r.prototype.incrementalRender=function(n,o,s){this._lineDraw.incrementalUpdate(n,o.getData()),this._finished=n.end===o.getData().count()},r.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},r.prototype.updateTransform=function(n,o,s){var l=n.getData(),u=n.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var c=linesLayout$1.reset(n,o,s);c.progress&&c.progress({start:0,end:l.count(),count:l.count()},l),this._lineDraw.updateLayout(),this._clearLayer(s)},r.prototype._updateLineDraw=function(n,o){var s=this._lineDraw,l=this._showEffect(o),u=!!o.get("polyline"),c=o.pipelineContext,d=c.large;return(!s||l!==this._hasEffet||u!==this._isPolyline||d!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=d?new LargeLineDraw$1:new LineDraw$1(u?l?EffectPolyline$1:Polyline$1:l?EffectLine$1:Line$1),this._hasEffet=l,this._isPolyline=u,this._isLargeDraw=d),this.group.add(s.group),s},r.prototype._showEffect=function(n){return!!n.get(["effect","show"])},r.prototype._clearLayer=function(n){var o=n.getZr(),s=o.painter.getType()==="svg";!s&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},r.prototype.remove=function(n,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},r.prototype.dispose=function(n,o){this.remove(n,o)},r.type="lines",r}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(a){var r=a.data;r&&r[0]&&r[0][0]&&r[0][0].coord&&(a.data=map$1(r,function(n){var o=[n[0].coord,n[1].coord],s={coords:o};return n[0].name&&(s.fromName=n[0].name),n[1].name&&(s.toName=n[1].name),mergeAll([s,n[0],n[1]])}))}var LinesSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return r.prototype.init=function(n){n.data=n.data||[],compatEc2(n);var o=this._processFlatCoordsArray(n.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(n.data=new Float32Array(o.count)),a.prototype.init.apply(this,arguments)},r.prototype.mergeOption=function(n){if(compatEc2(n),n.data){var o=this._processFlatCoordsArray(n.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(n.data=new Float32Array(o.count))}a.prototype.mergeOption.apply(this,arguments)},r.prototype.appendData=function(n){var o=this._processFlatCoordsArray(n.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,o.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),n.data=new Float32Array(o.count)),this.getRawData().appendData(n.data)},r.prototype._getCoordsFromItemModel=function(n){var o=this.getData().getItemModel(n),s=o.option instanceof Array?o.option:o.getShallow("coords");return s},r.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},r.prototype.getLineCoords=function(n,o){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[n*2],l=this._flatCoordsOffset[n*2+1],u=0;u<l;u++)o[u]=o[u]||[],o[u][0]=this._flatCoords[s+u*2],o[u][1]=this._flatCoords[s+u*2+1];return l}else{for(var c=this._getCoordsFromItemModel(n),u=0;u<c.length;u++)o[u]=o[u]||[],o[u][0]=c[u][0],o[u][1]=c[u][1];return c.length}},r.prototype._processFlatCoordsArray=function(n){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),isNumber(n[0])){for(var s=n.length,l=new Uint32Arr(s),u=new Float64Arr(s),c=0,d=0,v=0,g=0;g<s;){v++;var y=n[g++];l[d++]=c+o,l[d++]=y;for(var _=0;_<y;_++){var S=n[g++],x=n[g++];u[c++]=S,u[c++]=x}}return{flatCoordsOffset:new Uint32Array(l.buffer,0,d),flatCoords:u,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},r.prototype.getInitialData=function(n,o){var s=new SeriesData$1(["value"],this);return s.hasItemOption=!1,s.initData(n.data,[],function(l,u,c,d){if(l instanceof Array)return NaN;s.hasItemOption=!0;var v=l.value;if(v!=null)return v instanceof Array?v[d]:v}),s},r.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=l.getItemModel(n),c=u.get("name");if(c)return c;var d=u.get("fromName"),v=u.get("toName"),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > ")})},r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},r.prototype.getProgressive=function(){var n=this.option.progressive;return n==null?this.option.large?1e4:this.get("progressive"):n},r.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n==null?this.option.large?2e4:this.get("progressiveThreshold"):n},r.prototype.getZLevelKey=function(){var n=this.getModel("effect"),o=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&o>0?o+"":""},r.type="series.lines",r.dependencies=["grid","polar","geo","calendar"],r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},r}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize(a){return a instanceof Array||(a=[a,a]),a}var linesVisual={seriesType:"lines",reset:function(a){var r=normalize(a.get("symbol")),n=normalize(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",r&&r[0]),o.setVisual("toSymbol",r&&r[1]),o.setVisual("fromSymbolSize",n&&n[0]),o.setVisual("toSymbolSize",n&&n[1]);function s(l,u){var c=l.getItemModel(u),d=normalize(c.getShallow("symbol",!0)),v=normalize(c.getShallow("symbolSize",!0));d[0]&&l.setItemVisual(u,"fromSymbol",d[0]),d[1]&&l.setItemVisual(u,"toSymbol",d[1]),v[0]&&l.setItemVisual(u,"fromSymbolSize",v[0]),v[1]&&l.setItemVisual(u,"toSymbolSize",v[1])}return{dataEach:o.hasItemOption?s:null}}};const linesVisual$1=linesVisual;function install$w(a){a.registerChartView(LinesView$1),a.registerSeriesModel(LinesSeriesModel$1),a.registerLayout(linesLayout$1),a.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var r=platformApi.createCanvas();this.canvas=r}return a.prototype.update=function(r,n,o,s,l,u){var c=this._getBrush(),d=this._getGradient(l,"inRange"),v=this._getGradient(l,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,_=y.getContext("2d"),S=r.length;y.width=n,y.height=o;for(var x=0;x<S;++x){var T=r[x],b=T[0],A=T[1],w=T[2],$=s(w);_.globalAlpha=$,_.drawImage(c,b-g,A-g)}if(!y.width||!y.height)return y;for(var C=_.getImageData(0,0,y.width,y.height),P=C.data,M=0,E=P.length,D=this.minOpacity,I=this.maxOpacity,R=I-D;M<E;){var $=P[M+3]/256,L=Math.floor($*(GRADIENT_LEVELS-1))*4;if($>0){var O=u($)?d:v;$>0&&($=$*R+D),P[M++]=O[L],P[M++]=O[L+1],P[M++]=O[L+2],P[M++]=O[L+3]*$*256}else M+=4}return _.putImageData(C,0,0),y},a.prototype._getBrush=function(){var r=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),n=this.pointSize+this.blurSize,o=n*2;r.width=o,r.height=o;var s=r.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-n,n,this.pointSize,0,Math.PI*2,!0),s.closePath(),s.fill(),r},a.prototype._getGradient=function(r,n){for(var o=this._gradientPixels,s=o[n]||(o[n]=new Uint8ClampedArray(256*4)),l=[0,0,0,0],u=0,c=0;c<256;c++)r[n](c/255,!0,l),s[u++]=l[0],s[u++]=l[1],s[u++]=l[2],s[u++]=l[3];return s},a}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(a,r,n){var o=a[1]-a[0];r=map$1(r,function(u){return{interval:[(u.interval[0]-a[0])/o,(u.interval[1]-a[0])/o]}});var s=r.length,l=0;return function(u){var c;for(c=l;c<s;c++){var d=r[c].interval;if(d[0]<=u&&u<=d[1]){l=c;break}}if(c===s)for(c=l-1;c>=0;c--){var d=r[c].interval;if(d[0]<=u&&u<=d[1]){l=c;break}}return c>=0&&c<s&&n[c]}}function getIsInContinuousRange(a,r){var n=a[1]-a[0];return r=[(r[0]-a[0])/n,(r[1]-a[0])/n],function(o){return o>=r[0]&&o<=r[1]}}function isGeoCoordSys(a){var r=a.dimensions;return r[0]==="lng"&&r[1]==="lat"}var HeatmapView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l;o.eachComponent("visualMap",function(c){c.eachTargetSeries(function(d){d===n&&(l=c)})}),this._progressiveEls=null,this.group.removeAll();var u=n.coordinateSystem;u.type==="cartesian2d"||u.type==="calendar"?this._renderOnCartesianAndCalendar(n,s,0,n.getData().count()):isGeoCoordSys(u)&&this._renderOnGeo(u,n,l,s)},r.prototype.incrementalPrepareRender=function(n,o,s){this.group.removeAll()},r.prototype.incrementalRender=function(n,o,s,l){var u=o.coordinateSystem;u&&(isGeoCoordSys(u)?this.render(o,s,l):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,l,n.start,n.end,!0)))},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype._renderOnCartesianAndCalendar=function(n,o,s,l,u){var c=n.coordinateSystem,d=isCoordinateSystemType(c,"cartesian2d"),v,g,y,_;if(d){var S=c.getAxis("x"),x=c.getAxis("y");v=S.getBandWidth()+.5,g=x.getBandWidth()+.5,y=S.scale.getExtent(),_=x.scale.getExtent()}for(var T=this.group,b=n.getData(),A=n.getModel(["emphasis","itemStyle"]).getItemStyle(),w=n.getModel(["blur","itemStyle"]).getItemStyle(),$=n.getModel(["select","itemStyle"]).getItemStyle(),C=n.get(["itemStyle","borderRadius"]),P=getLabelStatesModels(n),M=n.getModel("emphasis"),E=M.get("focus"),D=M.get("blurScope"),I=M.get("disabled"),R=d?[b.mapDimension("x"),b.mapDimension("y"),b.mapDimension("value")]:[b.mapDimension("time"),b.mapDimension("value")],L=s;L<l;L++){var O=void 0,N=b.getItemVisual(L,"style");if(d){var F=b.get(R[0],L),B=b.get(R[1],L);if(isNaN(b.get(R[2],L))||F<y[0]||F>y[1]||B<_[0]||B>_[1])continue;var z=c.dataToPoint([F,B]);O=new Rect$3({shape:{x:z[0]-v/2,y:z[1]-g/2,width:v,height:g},style:N})}else{if(isNaN(b.get(R[1],L)))continue;O=new Rect$3({z2:1,shape:c.dataToRect([b.get(R[0],L)]).contentShape,style:N})}if(b.hasItemOption){var U=b.getItemModel(L),H=U.getModel("emphasis");A=H.getModel("itemStyle").getItemStyle(),w=U.getModel(["blur","itemStyle"]).getItemStyle(),$=U.getModel(["select","itemStyle"]).getItemStyle(),C=U.get(["itemStyle","borderRadius"]),E=H.get("focus"),D=H.get("blurScope"),I=H.get("disabled"),P=getLabelStatesModels(U)}O.shape.r=C;var Y=n.getRawValue(L),X="-";Y&&Y[2]!=null&&(X=Y[2]+""),setLabelStyle(O,P,{labelFetcher:n,labelDataIndex:L,defaultOpacity:N.opacity,defaultText:X}),O.ensureState("emphasis").style=A,O.ensureState("blur").style=w,O.ensureState("select").style=$,toggleHoverEmphasis(O,E,D,I),O.incremental=u,u&&(O.states.emphasis.hoverLayer=!0),T.add(O),b.setItemGraphicEl(L,O),this._progressiveEls&&this._progressiveEls.push(O)}},r.prototype._renderOnGeo=function(n,o,s,l){var u=s.targetVisuals.inRange,c=s.targetVisuals.outOfRange,d=o.getData(),v=this._hmLayer||this._hmLayer||new HeatmapLayer$1;v.blurSize=o.get("blurSize"),v.pointSize=o.get("pointSize"),v.minOpacity=o.get("minOpacity"),v.maxOpacity=o.get("maxOpacity");var g=n.getViewRect().clone(),y=n.getRoamTransform();g.applyTransform(y);var _=Math.max(g.x,0),S=Math.max(g.y,0),x=Math.min(g.width+g.x,l.getWidth()),T=Math.min(g.height+g.y,l.getHeight()),b=x-_,A=T-S,w=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],$=d.mapArray(w,function(E,D,I){var R=n.dataToPoint([E,D]);return R[0]-=_,R[1]-=S,R.push(I),R}),C=s.getExtent(),P=s.type==="visualMap.continuous"?getIsInContinuousRange(C,s.option.range):getIsInPiecewiseRange(C,s.getPieceList(),s.option.selected);v.update($,b,A,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:c.color.getColorMapper()},P);var M=new ZRImage$1({style:{width:b,height:A,x:_,y:S,image:v.canvas},silent:!0});this.group.add(M)},r.type="heatmap",r}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.getInitialData=function(n,o){return createSeriesData(null,this,{generateCoord:"value"})},r.prototype.preventIncremental=function(){var n=CoordinateSystem.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},r.type="series.heatmap",r.dependencies=["grid","geo","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},r}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v(a){a.registerChartView(HeatmapView$1),a.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=this.group,u=n.getData(),c=this._data,d=n.coordinateSystem,v=d.getBaseAxis(),g=v.isHorizontal(),y=d.master.getRect(),_={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:n,coordSys:d,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:LAYOUT_ATTRS[+g],categoryDim:LAYOUT_ATTRS[1-+g]};return u.diff(c).add(function(S){if(!!u.hasValue(S)){var x=getItemModel(u,S),T=getSymbolMeta(u,S,x,_),b=createBar(u,_,T);u.setItemGraphicEl(S,b),l.add(b),updateCommon(b,_,T)}}).update(function(S,x){var T=c.getItemGraphicEl(x);if(!u.hasValue(S)){l.remove(T);return}var b=getItemModel(u,S),A=getSymbolMeta(u,S,b,_),w=getShapeStr(u,A);T&&w!==T.__pictorialShapeStr&&(l.remove(T),u.setItemGraphicEl(S,null),T=null),T?updateBar(T,_,A):T=createBar(u,_,A,!0),u.setItemGraphicEl(S,T),T.__pictorialSymbolMeta=A,l.add(T),updateCommon(T,_,A)}).remove(function(S){var x=c.getItemGraphicEl(S);x&&removeBar(c,S,x.__pictorialSymbolMeta.animationModel,x)}).execute(),this._data=u,this.group},r.prototype.remove=function(n,o){var s=this.group,l=this._data;n.get("animation")?l&&l.eachItemGraphicEl(function(u){removeBar(l,getECData(u).dataIndex,n,u)}):s.removeAll()},r.type="pictorialBar",r}(ChartView$1);function getSymbolMeta(a,r,n,o){var s=a.getItemLayout(r),l=n.get("symbolRepeat"),u=n.get("symbolClip"),c=n.get("symbolPosition")||"start",d=n.get("symbolRotate"),v=(d||0)*Math.PI/180||0,g=n.get("symbolPatternSize")||2,y=n.isAnimationEnabled(),_={dataIndex:r,layout:s,itemModel:n,symbolType:a.getItemVisual(r,"symbol")||"circle",style:a.getItemVisual(r,"style"),symbolClip:u,symbolRepeat:l,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:y?n:null,hoverScale:y&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};prepareBarLength(n,l,s,o,_),prepareSymbolSize(a,r,s,l,u,_.boundingLength,_.pxSign,g,o,_),prepareLineWidth(n,_.symbolScale,v,o,_);var S=_.symbolSize,x=normalizeSymbolOffset(n.get("symbolOffset"),S);return prepareLayoutInfo(n,S,s,l,u,x,c,_.valueLineWidth,_.boundingLength,_.repeatCutLength,o,_),_}function prepareBarLength(a,r,n,o,s){var l=o.valueDim,u=a.get("symbolBoundingData"),c=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),d=c.toGlobalCoord(c.dataToCoord(0)),v=1-+(n[l.wh]<=0),g;if(isArray$1(u)){var y=[convertToCoordOnAxis(c,u[0])-d,convertToCoordOnAxis(c,u[1])-d];y[1]<y[0]&&y.reverse(),g=y[v]}else u!=null?g=convertToCoordOnAxis(c,u)-d:r?g=o.coordSysExtent[l.index][v]-d:g=n[l.wh];s.boundingLength=g,r&&(s.repeatCutLength=n[l.wh]),s.pxSign=g>0?1:-1}function convertToCoordOnAxis(a,r){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(r)))}function prepareSymbolSize(a,r,n,o,s,l,u,c,d,v){var g=d.valueDim,y=d.categoryDim,_=Math.abs(n[y.wh]),S=a.getItemVisual(r,"symbolSize"),x;isArray$1(S)?x=S.slice():S==null?x=["100%","100%"]:x=[S,S],x[y.index]=parsePercent(x[y.index],_),x[g.index]=parsePercent(x[g.index],o?_:Math.abs(l)),v.symbolSize=x;var T=v.symbolScale=[x[0]/c,x[1]/c];T[g.index]*=(d.isHorizontal?-1:1)*u}function prepareLineWidth(a,r,n,o,s){var l=a.get(BAR_BORDER_WIDTH_QUERY)||0;l&&(pathForLineWidth.attr({scaleX:r[0],scaleY:r[1],rotation:n}),pathForLineWidth.updateTransform(),l/=pathForLineWidth.getLineScale(),l*=r[o.valueDim.index]),s.valueLineWidth=l||0}function prepareLayoutInfo(a,r,n,o,s,l,u,c,d,v,g,y){var _=g.categoryDim,S=g.valueDim,x=y.pxSign,T=Math.max(r[S.index]+c,0),b=T;if(o){var A=Math.abs(d),w=retrieve(a.get("symbolMargin"),"15%")+"",$=!1;w.lastIndexOf("!")===w.length-1&&($=!0,w=w.slice(0,w.length-1));var C=parsePercent(w,r[S.index]),P=Math.max(T+C*2,0),M=$?0:C*2,E=isNumeric(o),D=E?o:toIntTimes((A+M)/P),I=A-D*T;C=I/2/($?D:Math.max(D-1,1)),P=T+C*2,M=$?0:C*2,!E&&o!=="fixed"&&(D=v?toIntTimes((Math.abs(v)+M)/P):0),b=D*P-M,y.repeatTimes=D,y.symbolMargin=C}var R=x*(b/2),L=y.pathPosition=[];L[_.index]=n[_.wh]/2,L[S.index]=u==="start"?R:u==="end"?d-R:d/2,l&&(L[0]+=l[0],L[1]+=l[1]);var O=y.bundlePosition=[];O[_.index]=n[_.xy],O[S.index]=n[S.xy];var N=y.barRectShape=extend({},n);N[S.wh]=x*Math.max(Math.abs(n[S.wh]),Math.abs(L[S.index]+R)),N[_.wh]=n[_.wh];var F=y.clipShape={};F[_.xy]=-n[_.xy],F[_.wh]=g.ecSize[_.wh],F[S.xy]=0,F[S.wh]=n[S.wh]}function createPath(a){var r=a.symbolPatternSize,n=createSymbol$1(a.symbolType,-r/2,-r/2,r,r);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function createOrUpdateRepeatSymbols(a,r,n,o){var s=a.__pictorialBundle,l=n.symbolSize,u=n.valueLineWidth,c=n.pathPosition,d=r.valueDim,v=n.repeatTimes||0,g=0,y=l[r.valueDim.index]+u+n.symbolMargin*2;for(eachPath(a,function(T){T.__pictorialAnimationIndex=g,T.__pictorialRepeatTimes=v,g<v?updateAttr(T,null,x(g),n,o):updateAttr(T,null,{scaleX:0,scaleY:0},n,o,function(){s.remove(T)}),g++});g<v;g++){var _=createPath(n);_.__pictorialAnimationIndex=g,_.__pictorialRepeatTimes=v,s.add(_);var S=x(g);updateAttr(_,{x:S.x,y:S.y,scaleX:0,scaleY:0},{scaleX:S.scaleX,scaleY:S.scaleY,rotation:S.rotation},n,o)}function x(T){var b=c.slice(),A=n.pxSign,w=T;return(n.symbolRepeatDirection==="start"?A>0:A<0)&&(w=v-1-T),b[d.index]=y*(w-v/2+.5)+c[d.index],{x:b[0],y:b[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function createOrUpdateSingleSymbol(a,r,n,o){var s=a.__pictorialBundle,l=a.__pictorialMainPath;l?updateAttr(l,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,o):(l=a.__pictorialMainPath=createPath(n),s.add(l),updateAttr(l,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,o))}function createOrUpdateBarRect(a,r,n){var o=extend({},r.barRectShape),s=a.__pictorialBarRect;s?updateAttr(s,null,{shape:o},r,n):(s=a.__pictorialBarRect=new Rect$3({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),s.disableMorphing=!0,a.add(s))}function createOrUpdateClip(a,r,n,o){if(n.symbolClip){var s=a.__pictorialClipPath,l=extend({},n.clipShape),u=r.valueDim,c=n.animationModel,d=n.dataIndex;if(s)updateProps$1(s,{shape:l},c,d);else{l[u.wh]=0,s=new Rect$3({shape:l}),a.__pictorialBundle.setClipPath(s),a.__pictorialClipPath=s;var v={};v[u.wh]=n.clipShape[u.wh],graphic[o?"updateProps":"initProps"](s,{shape:v},c,d)}}}function getItemModel(a,r){var n=a.getItemModel(r);return n.getAnimationDelayParams=getAnimationDelayParams,n.isAnimationEnabled=isAnimationEnabled,n}function getAnimationDelayParams(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(a,r,n,o){var s=new Group$4,l=new Group$4;return s.add(l),s.__pictorialBundle=l,l.x=n.bundlePosition[0],l.y=n.bundlePosition[1],n.symbolRepeat?createOrUpdateRepeatSymbols(s,r,n):createOrUpdateSingleSymbol(s,r,n),createOrUpdateBarRect(s,n,o),createOrUpdateClip(s,r,n,o),s.__pictorialShapeStr=getShapeStr(a,n),s.__pictorialSymbolMeta=n,s}function updateBar(a,r,n){var o=n.animationModel,s=n.dataIndex,l=a.__pictorialBundle;updateProps$1(l,{x:n.bundlePosition[0],y:n.bundlePosition[1]},o,s),n.symbolRepeat?createOrUpdateRepeatSymbols(a,r,n,!0):createOrUpdateSingleSymbol(a,r,n,!0),createOrUpdateBarRect(a,n,!0),createOrUpdateClip(a,r,n,!0)}function removeBar(a,r,n,o){var s=o.__pictorialBarRect;s&&s.removeTextContent();var l=[];eachPath(o,function(u){l.push(u)}),o.__pictorialMainPath&&l.push(o.__pictorialMainPath),o.__pictorialClipPath&&(n=null),each$f(l,function(u){removeElement(u,{scaleX:0,scaleY:0},n,r,function(){o.parent&&o.parent.remove(o)})}),a.setItemGraphicEl(r,null)}function getShapeStr(a,r){return[a.getItemVisual(r.dataIndex,"symbol")||"none",!!r.symbolRepeat,!!r.symbolClip].join(":")}function eachPath(a,r,n){each$f(a.__pictorialBundle.children(),function(o){o!==a.__pictorialBarRect&&r.call(n,o)})}function updateAttr(a,r,n,o,s,l){r&&a.attr(r),o.symbolClip&&!s?n&&a.attr(n):n&&graphic[s?"updateProps":"initProps"](a,n,o.animationModel,o.dataIndex,l)}function updateCommon(a,r,n){var o=n.dataIndex,s=n.itemModel,l=s.getModel("emphasis"),u=l.getModel("itemStyle").getItemStyle(),c=s.getModel(["blur","itemStyle"]).getItemStyle(),d=s.getModel(["select","itemStyle"]).getItemStyle(),v=s.getShallow("cursor"),g=l.get("focus"),y=l.get("blurScope"),_=l.get("scale");eachPath(a,function(T){if(T instanceof ZRImage$1){var b=T.style;T.useStyle(extend({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},n.style))}else T.useStyle(n.style);var A=T.ensureState("emphasis");A.style=u,_&&(A.scaleX=T.scaleX*1.1,A.scaleY=T.scaleY*1.1),T.ensureState("blur").style=c,T.ensureState("select").style=d,v&&(T.cursor=v),T.z2=n.z2});var S=r.valueDim.posDesc[+(n.boundingLength>0)],x=a.__pictorialBarRect;setLabelStyle(x,getLabelStatesModels(s),{labelFetcher:r.seriesModel,labelDataIndex:o,defaultText:getDefaultLabel(r.seriesModel.getData(),o),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:S}),toggleHoverEmphasis(a,g,y,l.get("disabled"))}function toIntTimes(a){var r=Math.round(a);return Math.abs(a-r)<1e-4?r:Math.ceil(a)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return r.prototype.getInitialData=function(n){return n.stack=null,a.prototype.getInitialData.apply(this,arguments)},r.type="series.pictorialBar",r.dependencies=["grid"],r.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),r}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u(a){a.registerChartView(PictorialBarView$1),a.registerSeriesModel(PictorialBarSeriesModel$1),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._layers=[],n}return r.prototype.render=function(n,o,s){var l=n.getData(),u=this,c=this.group,d=n.getLayerSeries(),v=l.getLayout("layoutInfo"),g=v.rect,y=v.boundaryGap;c.x=0,c.y=g.y+y[0];function _(b){return b.name}var S=new DataDiffer$1(this._layersSeries||[],d,_,_),x=[];S.add(bind$1(T,this,"add")).update(bind$1(T,this,"update")).remove(bind$1(T,this,"remove")).execute();function T(b,A,w){var $=u._layers;if(b==="remove"){c.remove($[A]);return}for(var C=[],P=[],M,E=d[A].indices,D=0;D<E.length;D++){var I=l.getItemLayout(E[D]),R=I.x,L=I.y0,O=I.y;C.push(R,L),P.push(R,L+O),M=l.getItemVisual(E[D],"style")}var N,F=l.getItemLayout(E[0]),B=n.getModel("label"),z=B.get("margin"),U=n.getModel("emphasis");if(b==="add"){var H=x[A]=new Group$4;N=new ECPolygon({shape:{points:C,stackedOnPoints:P,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),H.add(N),c.add(H),n.isAnimationEnabled()&&N.setClipPath(createGridClipShape(N.getBoundingRect(),n,function(){N.removeClipPath()}))}else{var H=$[w];N=H.childAt(0),c.add(H),x[A]=H,updateProps$1(N,{shape:{points:C,stackedOnPoints:P}},n),saveOldStyle(N)}setLabelStyle(N,getLabelStatesModels(n),{labelDataIndex:E[D-1],defaultText:l.getName(E[D-1]),inheritColor:M.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var Y=N.getTextContent();Y&&(Y.x=F.x-z,Y.y=F.y0+F.y/2),N.useStyle(M),l.setItemGraphicEl(A,N),setStatesStylesFromModel(N,n),toggleHoverEmphasis(N,U.get("focus"),U.get("blurScope"),U.get("disabled"))}this._layersSeries=d,this._layers=x},r.type="themeRiver",r}(ChartView$1);function createGridClipShape(a,r,n){var o=new Rect$3({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return initProps(o,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},r,n),o}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},r.prototype.fixData=function(n){var o=n.length,s={},l=groupData(n,function(_){return s.hasOwnProperty(_[0]+"")||(s[_[0]+""]=-1),_[2]}),u=[];l.buckets.each(function(_,S){u.push({name:S,dataList:_})});for(var c=u.length,d=0;d<c;++d){for(var v=u[d].name,g=0;g<u[d].dataList.length;++g){var y=u[d].dataList[g][0]+"";s[y]=d}for(var y in s)s.hasOwnProperty(y)&&s[y]!==d&&(s[y]=d,n[o]=[y,0,v],o++)}return n},r.prototype.getInitialData=function(n,o){for(var s=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],l=s.get("type"),u=filter(n.data,function(x){return x[2]!==void 0}),c=this.fixData(u||[]),d=[],v=this.nameMap=createHashMap(),g=0,y=0;y<c.length;++y)d.push(c[y][DATA_NAME_INDEX]),v.get(c[y][DATA_NAME_INDEX])||(v.set(c[y][DATA_NAME_INDEX],g),g++);var _=prepareSeriesDataSchema(c,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(l)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,S=new SeriesData$1(_,this);return S.initData(c),S},r.prototype.getLayerSeries=function(){for(var n=this.getData(),o=n.count(),s=[],l=0;l<o;++l)s[l]=l;var u=n.mapDimension("single"),c=groupData(s,function(v){return n.get("name",v)}),d=[];return c.buckets.each(function(v,g){v.sort(function(y,_){return n.get(u,y)-n.get(u,_)}),d.push({name:g,indices:v})}),d},r.prototype.getAxisTooltipData=function(n,o,s){isArray$1(n)||(n=n?[n]:[]);for(var l=this.getData(),u=this.getLayerSeries(),c=[],d=u.length,v,g=0;g<d;++g){for(var y=Number.MAX_VALUE,_=-1,S=u[g].indices.length,x=0;x<S;++x){var T=l.get(n[0],u[g].indices[x]),b=Math.abs(T-o);b<=y&&(v=T,y=b,_=u[g].indices[x])}c.push(_)}return{dataIndices:c,nestestValue:v}},r.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=l.getName(n),c=l.get(l.mapDimension("value"),n);return createTooltipMarkup("nameValue",{name:u,value:c})},r.type="series.themeRiver",r.dependencies=["singleAxis"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},r}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(a,r){a.eachSeriesByType("themeRiver",function(n){var o=n.getData(),s=n.coordinateSystem,l={},u=s.getRect();l.rect=u;var c=n.get("boundaryGap"),d=s.getAxis();if(l.boundaryGap=c,d.orient==="horizontal"){c[0]=parsePercent(c[0],u.height),c[1]=parsePercent(c[1],u.height);var v=u.height-c[0]-c[1];doThemeRiverLayout(o,n,v)}else{c[0]=parsePercent(c[0],u.width),c[1]=parsePercent(c[1],u.width);var g=u.width-c[0]-c[1];doThemeRiverLayout(o,n,g)}o.setLayout("layoutInfo",l)})}function doThemeRiverLayout(a,r,n){if(!!a.count())for(var o=r.coordinateSystem,s=r.getLayerSeries(),l=a.mapDimension("single"),u=a.mapDimension("value"),c=map$1(s,function(b){return map$1(b.indices,function(A){var w=o.dataToPoint(a.get(l,A));return w[1]=a.get(u,A),w})}),d=computeBaseline(c),v=d.y0,g=n/d.max,y=s.length,_=s[0].indices.length,S,x=0;x<_;++x){S=v[x]*g,a.setItemLayout(s[0].indices[x],{layerIndex:0,x:c[0][x][0],y0:S,y:c[0][x][1]*g});for(var T=1;T<y;++T)S+=c[T-1][x][1]*g,a.setItemLayout(s[T].indices[x],{layerIndex:T,x:c[T][x][0],y0:S,y:c[T][x][1]*g})}}function computeBaseline(a){for(var r=a.length,n=a[0].length,o=[],s=[],l=0,u=0;u<n;++u){for(var c=0,d=0;d<r;++d)c+=a[d][u][1];c>l&&(l=c),o.push(c)}for(var v=0;v<n;++v)s[v]=(l-o[v])/2;l=0;for(var g=0;g<n;++g){var y=o[g]+s[g];y>l&&(l=y)}return{y0:s,max:l}}function install$t(a){a.registerChartView(ThemeRiverView$1),a.registerSeriesModel(ThemeRiverSeriesModel$1),a.registerLayout(themeRiverLayout),a.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(a){__extends(r,a);function r(n,o,s,l){var u=a.call(this)||this;u.z2=DEFAULT_SECTOR_Z,u.textConfig={inside:!0},getECData(u).seriesIndex=o.seriesIndex;var c=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:n.getModel().get(["label","silent"])});return u.setTextContent(c),u.updateData(!0,n,o,s,l),u}return r.prototype.updateData=function(n,o,s,l,u){this.node=o,o.piece=this,s=s||this._seriesModel,l=l||this._ecModel;var c=this;getECData(c).dataIndex=o.dataIndex;var d=o.getModel(),v=d.getModel("emphasis"),g=o.getLayout(),y=extend({},g);y.label=null;var _=o.getVisual("style");_.lineJoin="bevel";var S=o.getVisual("decal");S&&(_.decal=createOrUpdatePatternFromDecal(S,u));var x=getSectorCornerRadius(d.getModel("itemStyle"),y,!0);extend(y,x),each$f(SPECIAL_STATES,function(w){var $=c.ensureState(w),C=d.getModel([w,"itemStyle"]);$.style=C.getItemStyle();var P=getSectorCornerRadius(C,y);P&&($.shape=P)}),n?(c.setShape(y),c.shape.r=g.r0,updateProps$1(c,{shape:{r:g.r}},s,o.dataIndex)):(updateProps$1(c,{shape:y},s),saveOldStyle(c)),c.useStyle(_),this._updateLabel(s);var T=d.getShallow("cursor");T&&c.attr("cursor",T),this._seriesModel=s||this._seriesModel,this._ecModel=l||this._ecModel;var b=v.get("focus"),A=b==="ancestor"?o.getAncestorsIndices():b==="descendant"?o.getDescendantIndices():b;toggleHoverEmphasis(this,A,v.get("blurScope"),v.get("disabled"))},r.prototype._updateLabel=function(n){var o=this,s=this.node.getModel(),l=s.getModel("label"),u=this.node.getLayout(),c=u.endAngle-u.startAngle,d=(u.startAngle+u.endAngle)/2,v=Math.cos(d),g=Math.sin(d),y=this,_=y.getTextContent(),S=this.node.dataIndex,x=l.get("minAngle")/180*Math.PI,T=l.get("show")&&!(x!=null&&Math.abs(c)<x);_.ignore=!T,each$f(DISPLAY_STATES,function(A){var w=A==="normal"?s.getModel("label"):s.getModel([A,"label"]),$=A==="normal",C=$?_:_.ensureState(A),P=n.getFormattedLabel(S,A);$&&(P=P||o.node.name),C.style=createTextStyle(w,{},null,A!=="normal",!0),P&&(C.style.text=P);var M=w.get("show");M!=null&&!$&&(C.ignore=!M);var E=b(w,"position"),D=$?y:y.states[A],I=D.style.fill;D.textConfig={outsideFill:w.get("color")==="inherit"?I:null,inside:E!=="outside"};var R,L=b(w,"distance")||0,O=b(w,"align");E==="outside"?(R=u.r+L,O=d>Math.PI/2?"right":"left"):!O||O==="center"?(c===2*Math.PI&&u.r0===0?R=0:R=(u.r+u.r0)/2,O="center"):O==="left"?(R=u.r0+L,d>Math.PI/2&&(O="right")):O==="right"&&(R=u.r-L,d>Math.PI/2&&(O="left")),C.style.align=O,C.style.verticalAlign=b(w,"verticalAlign")||"middle",C.x=R*v+u.cx,C.y=R*g+u.cy;var N=b(w,"rotate"),F=0;N==="radial"?(F=-d,F<-Math.PI/2&&(F+=Math.PI)):N==="tangential"?(F=Math.PI/2-d,F>Math.PI/2?F-=Math.PI:F<-Math.PI/2&&(F+=Math.PI)):isNumber(N)&&(F=N*Math.PI/180),C.rotation=F});function b(A,w){var $=A.get(w);return $==null?l.get(w):$}_.dirtyStyle()},r}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(a){a.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"sunburst",query:r},o);function o(s,l){var u=retrieveTargetInfo(r,[ROOT_TO_NODE_ACTION],s);if(u){var c=s.getViewRoot();c&&(r.direction=aboveViewRoot(c,u.node)?"rollUp":"drillDown"),s.resetViewRoot(u.node)}}}),a.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(r,n,o){r=extend({},r),n.eachComponent({mainType:"series",subType:"sunburst",query:r},s);function s(l){var u=retrieveTargetInfo(r,[HIGHLIGHT_ACTION],l);u&&(r.dataIndex=u.node.dataIndex)}o.dispatchAction(extend(r,{type:"highlight"}))}),a.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(r,n,o){r=extend({},r),o.dispatchAction(extend(r,{type:"downplay"}))})}var SunburstView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s,l){var u=this;this.seriesModel=n,this.api=s,this.ecModel=o;var c=n.getData(),d=c.tree.root,v=n.getViewRoot(),g=this.group,y=n.get("renderLabelForZeroData"),_=[];v.eachNode(function(w){_.push(w)});var S=this._oldChildren||[];x(_,S),A(d,v),this._initEvents(),this._oldChildren=_;function x(w,$){if(w.length===0&&$.length===0)return;new DataDiffer$1($,w,C,C).add(P).update(P).remove(curry$1(P,null)).execute();function C(M){return M.getId()}function P(M,E){var D=M==null?null:w[M],I=E==null?null:$[E];T(D,I)}}function T(w,$){if(!y&&w&&!w.getValue()&&(w=null),w!==d&&$!==d){if($&&$.piece)w?($.piece.updateData(!1,w,n,o,s),c.setItemGraphicEl(w.dataIndex,$.piece)):b($);else if(w){var C=new SunburstPiece$1(w,n,o,s);g.add(C),c.setItemGraphicEl(w.dataIndex,C)}}}function b(w){!w||w.piece&&(g.remove(w.piece),w.piece=null)}function A(w,$){$.depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,w,n,o,s):(u.virtualPiece=new SunburstPiece$1(w,n,o,s),g.add(u.virtualPiece)),$.piece.off("click"),u.virtualPiece.on("click",function(C){u._rootToNode($.parentNode)})):u.virtualPiece&&(g.remove(u.virtualPiece),u.virtualPiece=null)}},r.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(o){var s=!1,l=n.seriesModel.getViewRoot();l.eachNode(function(u){if(!s&&u.piece&&u.piece===o.target){var c=u.getModel().get("nodeClick");if(c==="rootToNode")n._rootToNode(u);else if(c==="link"){var d=u.getModel(),v=d.get("link");if(v){var g=d.get("target",!0)||"_blank";windowOpen(v,g)}}s=!0}})})},r.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},r.prototype.containPoint=function(n,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=n[0]-l.cx,c=n[1]-l.cy,d=Math.sqrt(u*u+c*c);return d<=l.r&&d>=l.r0}},r.type="sunburst",r}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.ignoreStyleOnData=!0,n}return r.prototype.getInitialData=function(n,o){var s={name:n.name,children:n.data};completeTreeValue(s);var l=this._levelModels=map$1(n.levels||[],function(d){return new Model$1(d,this,o)},this),u=Tree$1.createTree(s,this,c);function c(d){d.wrapMethod("getItemModel",function(v,g){var y=u.getNodeByDataIndex(g),_=l[y.depth];return _&&(v.parentModel=_),v})}return u.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.getDataParams=function(n){var o=a.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(n);return o.treePathInfo=wrapTreePathInfo(s,this),o},r.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var o=this.getRawData().tree.root;(!n||n!==o&&!o.contains(n))&&(this._viewRoot=o)},r.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},r.type="series.sunburst",r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},r}(SeriesModel$1);function completeTreeValue(a){var r=0;each$f(a.children,function(o){completeTreeValue(o);var s=o.value;isArray$1(s)&&(s=s[0]),r+=s});var n=a.value;isArray$1(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=r),n<0&&(n=0),isArray$1(a.value)?a.value[0]=n:a.value=n}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(a,r,n){r.eachSeriesByType(a,function(o){var s=o.get("center"),l=o.get("radius");isArray$1(l)||(l=[0,l]),isArray$1(s)||(s=[s,s]);var u=n.getWidth(),c=n.getHeight(),d=Math.min(u,c),v=parsePercent(s[0],u),g=parsePercent(s[1],c),y=parsePercent(l[0],d/2),_=parsePercent(l[1],d/2),S=-o.get("startAngle")*RADIAN,x=o.get("minAngle")*RADIAN,T=o.getData().tree.root,b=o.getViewRoot(),A=b.depth,w=o.get("sort");w!=null&&initChildren(b,w);var $=0;each$f(b.children,function(z){!isNaN(z.getValue())&&$++});var C=b.getValue(),P=Math.PI/(C||$)*2,M=b.depth>0,E=b.height-(M?-1:1),D=(_-y)/(E||1),I=o.get("clockwise"),R=o.get("stillShowZeroSum"),L=I?1:-1,O=function(z,U){if(!!z){var H=U;if(z!==T){var Y=z.getValue(),X=C===0&&R?P:Y*P;X<x&&(X=x),H=U+L*X;var te=z.depth-A-(M?-1:1),oe=y+D*te,ce=y+D*(te+1),de=o.getLevelModel(z);if(de){var Z=de.get("r0",!0),re=de.get("r",!0),q=de.get("radius",!0);q!=null&&(Z=q[0],re=q[1]),Z!=null&&(oe=parsePercent(Z,d/2)),re!=null&&(ce=parsePercent(re,d/2))}z.setLayout({angle:X,startAngle:U,endAngle:H,clockwise:I,cx:v,cy:g,r0:oe,r:ce})}if(z.children&&z.children.length){var J=0;each$f(z.children,function(he){J+=O(he,U+J)})}return H-U}};if(M){var N=y,F=y+D,B=Math.PI*2;T.setLayout({angle:B,startAngle:S,endAngle:S+B,clockwise:I,cx:v,cy:g,r0:N,r:F})}O(b,S)})}function initChildren(a,r){var n=a.children||[];a.children=sort(n,r),n.length&&each$f(a.children,function(o){initChildren(o,r)})}function sort(a,r){if(isFunction(r)){var n=map$1(a,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return n.sort(function(s,l){return r(s.params,l.params)}),map$1(n,function(s){return a[s.index]})}else{var o=r==="asc";return a.sort(function(s,l){var u=(s.getValue()-l.getValue())*(o?1:-1);return u===0?(s.dataIndex-l.dataIndex)*(o?-1:1):u})}}function sunburstVisual(a){var r={};function n(o,s,l){for(var u=o;u&&u.depth>1;)u=u.parentNode;var c=s.getColorFromPalette(u.name||u.dataIndex+"",r);return o.depth>1&&isString(c)&&(c=lift(c,(o.depth-1)/(l-1)*.5)),c}a.eachSeriesByType("sunburst",function(o){var s=o.getData(),l=s.tree;l.eachNode(function(u){var c=u.getModel(),d=c.getModel("itemStyle").getItemStyle();d.fill||(d.fill=n(u,o,l.root.height));var v=s.ensureUniqueItemVisual(u.dataIndex,"style");extend(v,d)})})}function install$s(a){a.registerChartView(SunburstView$1),a.registerSeriesModel(SunburstSeriesModel$1),a.registerLayout(curry$1(sunburstLayout,"sunburst")),a.registerProcessor(curry$1(dataFilter$1,"sunburst")),a.registerVisual(sunburstVisual),installSunburstAction(a)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},r.prototype.getInitialData=function(n,o){return createSeriesData(null,this)},r.prototype.getDataParams=function(n,o,s){var l=a.prototype.getDataParams.call(this,n,o);return s&&(l.info=customInnerStore(s).info),l},r.type="series.custom",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},r}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(a,r){return r=r||[0,0],map$1(["x","y"],function(n,o){var s=this.getAxis(n),l=r[o],u=a[o]/2;return s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-u)-s.dataToCoord(l+u))},this)}function cartesianPrepareCustom(a){var r=a.master.getRect();return{coordSys:{type:"cartesian2d",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(n){return a.dataToPoint(n)},size:bind$1(dataToCoordSize$3,a)}}}function dataToCoordSize$2(a,r){return r=r||[0,0],map$1([0,1],function(n){var o=r[n],s=a[n]/2,l=[],u=[];return l[n]=o-s,u[n]=o+s,l[1-n]=u[1-n]=r[1-n],Math.abs(this.dataToPoint(l)[n]-this.dataToPoint(u)[n])},this)}function geoPrepareCustom(a){var r=a.getBoundingRect();return{coordSys:{type:"geo",x:r.x,y:r.y,width:r.width,height:r.height,zoom:a.getZoom()},api:{coord:function(n){return a.dataToPoint(n)},size:bind$1(dataToCoordSize$2,a)}}}function dataToCoordSize$1(a,r){var n=this.getAxis(),o=r instanceof Array?r[0]:r,s=(a instanceof Array?a[0]:a)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s))}function singlePrepareCustom(a){var r=a.getRect();return{coordSys:{type:"singleAxis",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(n){return a.dataToPoint(n)},size:bind$1(dataToCoordSize$1,a)}}}function dataToCoordSize(a,r){return r=r||[0,0],map$1(["Radius","Angle"],function(n,o){var s="get"+n+"Axis",l=this[s](),u=r[o],c=a[o]/2,d=l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(u-c)-l.dataToCoord(u+c));return n==="Angle"&&(d=d*Math.PI/180),d},this)}function polarPrepareCustom(a){var r=a.getRadiusAxis(),n=a.getAngleAxis(),o=r.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:o[1],r0:o[0]},api:{coord:function(s){var l=r.dataToRadius(s[0]),u=n.dataToAngle(s[1]),c=a.coordToPoint([l,u]);return c.push(l,u*Math.PI/180),c},size:bind$1(dataToCoordSize,a)}}}function calendarPrepareCustom(a){var r=a.getRect(),n=a.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(o,s){return a.dataToPoint(o,s)}}}}function isEC4CompatibleStyle(a,r,n,o){return a&&(a.legacy||a.legacy!==!1&&!n&&!o&&r!=="tspan"&&(r==="text"||hasOwn(a,"text")))}function convertFromEC4CompatibleStyle(a,r,n){var o=a,s,l,u;if(r==="text")u=o;else{u={},hasOwn(o,"text")&&(u.text=o.text),hasOwn(o,"rich")&&(u.rich=o.rich),hasOwn(o,"textFill")&&(u.fill=o.textFill),hasOwn(o,"textStroke")&&(u.stroke=o.textStroke),hasOwn(o,"fontFamily")&&(u.fontFamily=o.fontFamily),hasOwn(o,"fontSize")&&(u.fontSize=o.fontSize),hasOwn(o,"fontStyle")&&(u.fontStyle=o.fontStyle),hasOwn(o,"fontWeight")&&(u.fontWeight=o.fontWeight),l={type:"text",style:u,silent:!0},s={};var c=hasOwn(o,"textPosition");n?s.position=c?o.textPosition:"inside":c&&(s.position=o.textPosition),hasOwn(o,"textPosition")&&(s.position=o.textPosition),hasOwn(o,"textOffset")&&(s.offset=o.textOffset),hasOwn(o,"textRotation")&&(s.rotation=o.textRotation),hasOwn(o,"textDistance")&&(s.distance=o.textDistance)}return convertEC4CompatibleRichItem(u,a),each$f(u.rich,function(d){convertEC4CompatibleRichItem(d,d)}),{textConfig:s,textContent:l}}function convertEC4CompatibleRichItem(a,r){!r||(r.font=r.textFont||r.font,hasOwn(r,"textStrokeWidth")&&(a.lineWidth=r.textStrokeWidth),hasOwn(r,"textAlign")&&(a.align=r.textAlign),hasOwn(r,"textVerticalAlign")&&(a.verticalAlign=r.textVerticalAlign),hasOwn(r,"textLineHeight")&&(a.lineHeight=r.textLineHeight),hasOwn(r,"textWidth")&&(a.width=r.textWidth),hasOwn(r,"textHeight")&&(a.height=r.textHeight),hasOwn(r,"textBackgroundColor")&&(a.backgroundColor=r.textBackgroundColor),hasOwn(r,"textPadding")&&(a.padding=r.textPadding),hasOwn(r,"textBorderColor")&&(a.borderColor=r.textBorderColor),hasOwn(r,"textBorderWidth")&&(a.borderWidth=r.textBorderWidth),hasOwn(r,"textBorderRadius")&&(a.borderRadius=r.textBorderRadius),hasOwn(r,"textBoxShadowColor")&&(a.shadowColor=r.textBoxShadowColor),hasOwn(r,"textBoxShadowBlur")&&(a.shadowBlur=r.textBoxShadowBlur),hasOwn(r,"textBoxShadowOffsetX")&&(a.shadowOffsetX=r.textBoxShadowOffsetX),hasOwn(r,"textBoxShadowOffsetY")&&(a.shadowOffsetY=r.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(a,r,n){var o=a;o.textPosition=o.textPosition||n.position||"inside",n.offset!=null&&(o.textOffset=n.offset),n.rotation!=null&&(o.textRotation=n.rotation),n.distance!=null&&(o.textDistance=n.distance);var s=o.textPosition.indexOf("inside")>=0,l=a.fill||"#000";convertToEC4RichItem(o,r);var u=o.textFill==null;return s?u&&(o.textFill=n.insideFill||"#fff",!o.textStroke&&n.insideStroke&&(o.textStroke=n.insideStroke),!o.textStroke&&(o.textStroke=l),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(u&&(o.textFill=a.fill||n.outsideFill||"#000"),!o.textStroke&&n.outsideStroke&&(o.textStroke=n.outsideStroke)),o.text=r.text,o.rich=r.rich,each$f(r.rich,function(c){convertToEC4RichItem(c,c)}),o}function convertToEC4RichItem(a,r){!r||(hasOwn(r,"fill")&&(a.textFill=r.fill),hasOwn(r,"stroke")&&(a.textStroke=r.fill),hasOwn(r,"lineWidth")&&(a.textStrokeWidth=r.lineWidth),hasOwn(r,"font")&&(a.font=r.font),hasOwn(r,"fontStyle")&&(a.fontStyle=r.fontStyle),hasOwn(r,"fontWeight")&&(a.fontWeight=r.fontWeight),hasOwn(r,"fontSize")&&(a.fontSize=r.fontSize),hasOwn(r,"fontFamily")&&(a.fontFamily=r.fontFamily),hasOwn(r,"align")&&(a.textAlign=r.align),hasOwn(r,"verticalAlign")&&(a.textVerticalAlign=r.verticalAlign),hasOwn(r,"lineHeight")&&(a.textLineHeight=r.lineHeight),hasOwn(r,"width")&&(a.textWidth=r.width),hasOwn(r,"height")&&(a.textHeight=r.height),hasOwn(r,"backgroundColor")&&(a.textBackgroundColor=r.backgroundColor),hasOwn(r,"padding")&&(a.textPadding=r.padding),hasOwn(r,"borderColor")&&(a.textBorderColor=r.borderColor),hasOwn(r,"borderWidth")&&(a.textBorderWidth=r.borderWidth),hasOwn(r,"borderRadius")&&(a.textBorderRadius=r.borderRadius),hasOwn(r,"shadowColor")&&(a.textBoxShadowColor=r.shadowColor),hasOwn(r,"shadowBlur")&&(a.textBoxShadowBlur=r.shadowBlur),hasOwn(r,"shadowOffsetX")&&(a.textBoxShadowOffsetX=r.shadowOffsetX),hasOwn(r,"shadowOffsetY")&&(a.textBoxShadowOffsetY=r.shadowOffsetY),hasOwn(r,"textShadowColor")&&(a.textShadowColor=r.textShadowColor),hasOwn(r,"textShadowBlur")&&(a.textShadowBlur=r.textShadowBlur),hasOwn(r,"textShadowOffsetX")&&(a.textShadowOffsetX=r.textShadowOffsetX),hasOwn(r,"textShadowOffsetY")&&(a.textShadowOffsetY=r.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(a,r){return a[r]=1,a},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(a,r,n,o,s){var l=a+"Animation",u=getAnimationConfig(a,o,s)||{},c=transitionInnerStore(r).userDuring;return u.duration>0&&(u.during=c?bind$1(duringCall,{el:r,userDuring:c}):null,u.setToFinal=!0,u.scope=a),extend(u,n[l]),u}function applyUpdateTransition(a,r,n,o){o=o||{};var s=o.dataIndex,l=o.isInit,u=o.clearStyle,c=n.isAnimationEnabled(),d=transitionInnerStore(a),v=r.style;d.userDuring=r.during;var g={},y={};if(prepareTransformAllPropsFinal(a,r,y),prepareShapeOrExtraAllPropsFinal("shape",r,y),prepareShapeOrExtraAllPropsFinal("extra",r,y),!l&&c&&(prepareTransformTransitionFrom(a,r,g),prepareShapeOrExtraTransitionFrom("shape",a,r,g),prepareShapeOrExtraTransitionFrom("extra",a,r,g),prepareStyleTransitionFrom(a,r,v,g)),y.style=v,applyPropsDirectly(a,y,u),applyMiscProps(a,r),c)if(l){var _={};each$f(ELEMENT_ANIMATABLE_PROPS,function(x){var T=x?r[x]:r;T&&T.enterFrom&&(x&&(_[x]=_[x]||{}),extend(x?_[x]:_,T.enterFrom))});var S=getElementAnimationConfig("enter",a,r,n,s);S.duration>0&&a.animateFrom(_,S)}else applyPropsTransition(a,r,s||0,n,g);updateLeaveTo(a,r),v?a.dirty():a.markRedraw()}function updateLeaveTo(a,r){for(var n=transitionInnerStore(a).leaveToProps,o=0;o<ELEMENT_ANIMATABLE_PROPS.length;o++){var s=ELEMENT_ANIMATABLE_PROPS[o],l=s?r[s]:r;l&&l.leaveTo&&(n||(n=transitionInnerStore(a).leaveToProps={}),s&&(n[s]=n[s]||{}),extend(s?n[s]:n,l.leaveTo))}}function applyLeaveTransition(a,r,n,o){if(a){var s=a.parent,l=transitionInnerStore(a).leaveToProps;if(l){var u=getElementAnimationConfig("update",a,r,n,0);u.done=function(){s.remove(a),o&&o()},a.animateTo(l,u)}else s.remove(a),o&&o()}}function isTransitionAll(a){return a==="all"}function applyPropsDirectly(a,r,n){var o=r.style;if(!a.isGroup&&o){if(n){a.useStyle({});for(var s=a.animators,l=0;l<s.length;l++){var u=s[l];u.targetName==="style"&&u.changeTarget(a.style)}}a.setStyle(o)}r&&(r.style=null,r&&a.attr(r),r.style=o)}function applyPropsTransition(a,r,n,o,s){if(s){var l=getElementAnimationConfig("update",a,r,o,n);l.duration>0&&a.animateFrom(s,l)}}function applyMiscProps(a,r){hasOwn(r,"silent")&&(a.silent=r.silent),hasOwn(r,"ignore")&&(a.ignore=r.ignore),a instanceof Displayable$1&&hasOwn(r,"invisible")&&(a.invisible=r.invisible),a instanceof Path$1&&hasOwn(r,"autoBatch")&&(a.autoBatch=r.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(a,r){return tmpDuringScope.el[a]=r,this},getTransform:function(a){return tmpDuringScope.el[a]},setShape:function(a,r){var n=tmpDuringScope.el,o=n.shape||(n.shape={});return o[a]=r,n.dirtyShape&&n.dirtyShape(),this},getShape:function(a){var r=tmpDuringScope.el.shape;if(r)return r[a]},setStyle:function(a,r){var n=tmpDuringScope.el,o=n.style;return o&&(o[a]=r,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(a){var r=tmpDuringScope.el.style;if(r)return r[a]},setExtra:function(a,r){var n=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return n[a]=r,this},getExtra:function(a){var r=tmpDuringScope.el.extra;if(r)return r[a]}};function duringCall(){var a=this,r=a.el;if(!!r){var n=transitionInnerStore(r).userDuring,o=a.userDuring;if(n!==o){a.el=a.userDuring=null;return}tmpDuringScope.el=r,o(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(a,r,n,o){var s=n[a];if(!!s){var l=r[a],u;if(l){var c=n.transition,d=s.transition;if(d)if(!u&&(u=o[a]={}),isTransitionAll(d))extend(u,l);else for(var v=normalizeToArray(d),g=0;g<v.length;g++){var y=v[g],_=l[y];u[y]=_}else if(isTransitionAll(c)||indexOf(c,a)>=0){!u&&(u=o[a]={});for(var S=keys(l),g=0;g<S.length;g++){var y=S[g],_=l[y];isNonStyleTransitionEnabled(s[y],_)&&(u[y]=_)}}}}}function prepareShapeOrExtraAllPropsFinal(a,r,n){var o=r[a];if(!!o)for(var s=n[a]={},l=keys(o),u=0;u<l.length;u++){var c=l[u];s[c]=cloneValue(o[c])}}function prepareTransformTransitionFrom(a,r,n){for(var o=r.transition,s=isTransitionAll(o)?TRANSFORMABLE_PROPS:normalizeToArray(o||[]),l=0;l<s.length;l++){var u=s[l];if(!(u==="style"||u==="shape"||u==="extra")){var c=a[u];n[u]=c}}}function prepareTransformAllPropsFinal(a,r,n){for(var o=0;o<LEGACY_TRANSFORM_PROPS.length;o++){var s=LEGACY_TRANSFORM_PROPS[o],l=LEGACY_TRANSFORM_PROPS_MAP[s],u=r[s];u&&(n[l[0]]=u[0],n[l[1]]=u[1])}for(var o=0;o<TRANSFORMABLE_PROPS.length;o++){var c=TRANSFORMABLE_PROPS[o];r[c]!=null&&(n[c]=r[c])}}function prepareStyleTransitionFrom(a,r,n,o){if(!!n){var s=a.style,l;if(s){var u=n.transition,c=r.transition;if(u&&!isTransitionAll(u)){var d=normalizeToArray(u);!l&&(l=o.style={});for(var v=0;v<d.length;v++){var g=d[v],y=s[g];l[g]=y}}else if(a.getAnimationStyleProps&&(isTransitionAll(c)||isTransitionAll(u)||indexOf(c,"style")>=0)){var _=a.getAnimationStyleProps(),S=_?_.style:null;if(S){!l&&(l=o.style={});for(var x=keys(n),v=0;v<x.length;v++){var g=x[v];if(S[g]){var y=s[g];l[g]=y}}}}}}}function isNonStyleTransitionEnabled(a,r){return isArrayLike(a)?a!==r:a!=null&&isFinite(a)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(a){a.stopAnimation("keyframe"),a.attr(getStateToRestore(a))}function applyKeyframeAnimation(a,r,n){if(!(!n.isAnimationEnabled()||!r)){if(isArray$1(r)){each$f(r,function(c){applyKeyframeAnimation(a,c,n)});return}var o=r.keyframes,s=r.duration;if(n&&s==null){var l=getAnimationConfig("enter",n,0);s=l&&l.duration}if(!(!o||!s)){var u=getStateToRestore(a);each$f(ELEMENT_ANIMATABLE_PROPS,function(c){if(!(c&&!a[c])){var d;o.sort(function(v,g){return v.percent-g.percent}),each$f(o,function(v){var g=a.animators,y=c?v[c]:v;if(!!y){var _=keys(y);if(c||(_=filter(_,function(T){return indexOf(KEYFRAME_EXCLUDE_KEYS,T)<0})),!!_.length){d||(d=a.animate(c,r.loop,!0),d.scope="keyframe");for(var S=0;S<g.length;S++)g[S]!==d&&g[S].targetName===d.targetName&&g[S].stopTracks(_);c&&(u[c]=u[c]||{});var x=c?u[c]:u;each$f(_,function(T){x[T]=((c?a[c]:a)||{})[T]}),d.whenWithKeys(s*v.percent,y,_,v.easing)}}}),d&&d.delay(r.delay||0).duration(s).start(r.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(a){return a instanceof Path$1}function isDisplayable(a){return a instanceof Displayable$1}function copyElement(a,r){r.copyTransform(a),isDisplayable(r)&&isDisplayable(a)&&(r.setStyle(a.style),r.z=a.z,r.z2=a.z2,r.zlevel=a.zlevel,r.invisible=a.invisible,r.ignore=a.ignore,isPath(r)&&isPath(a)&&r.setShape(a.shape))}var CustomChartView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s,l){this._progressiveEls=null;var u=this._data,c=n.getData(),d=this.group,v=makeRenderItem(n,c,o,s);u||d.removeAll(),c.diff(u).add(function(y){createOrUpdateItem(s,null,y,v(y,l),n,d,c)}).remove(function(y){var _=u.getItemGraphicEl(y);_&&applyLeaveTransition(_,customInnerStore(_).option,n)}).update(function(y,_){var S=u.getItemGraphicEl(_);createOrUpdateItem(s,S,y,v(y,l),n,d,c)}).execute();var g=n.get("clip",!0)?createClipPath(n.coordinateSystem,!1,n):null;g?d.setClipPath(g):d.removeClipPath(),this._data=c},r.prototype.incrementalPrepareRender=function(n,o,s){this.group.removeAll(),this._data=null},r.prototype.incrementalRender=function(n,o,s,l,u){var c=o.getData(),d=makeRenderItem(o,c,s,l),v=this._progressiveEls=[];function g(S){S.isGroup||(S.incremental=!0,S.ensureState("emphasis").hoverLayer=!0)}for(var y=n.start;y<n.end;y++){var _=createOrUpdateItem(null,null,y,d(y,u),o,this.group,c);_&&(_.traverse(g),v.push(_))}},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype.filterForExposedEvent=function(n,o,s,l){var u=o.element;if(u==null||s.name===u)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===u)return!0;return!1},r.type="custom",r}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(a){var r=a.type,n;if(r==="path"){var o=a.shape,s=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,l=getPathData(o);n=makePath(l,null,s,o.layout||"center"),customInnerStore(n).customPathData=l}else if(r==="image")n=new ZRImage$1({}),customInnerStore(n).customImagePath=a.style.image;else if(r==="text")n=new ZRText$1({});else if(r==="group")n=new Group$4;else{if(r==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var u=getShapeClass(r);if(!u){var c="";throwError(c)}n=new u}return customInnerStore(n).customGraphicType=r,n.name=a.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function updateElNormal(a,r,n,o,s,l,u){stopPreviousKeyframeAnimationAndRestore(r);var c=s&&s.normal.cfg;c&&r.setTextConfig(c),o&&o.transition==null&&(o.transition=DEFAULT_TRANSITION);var d=o&&o.style;if(d){if(r.type==="text"){var v=d;hasOwn(v,"textFill")&&(v.fill=v.textFill),hasOwn(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,y=isPath(r)?d.decal:null;a&&y&&(y.dirty=!0,g=createOrUpdatePatternFromDecal(y,a)),d.__decalPattern=g}if(isDisplayable(r)&&d){var g=d.__decalPattern;g&&(d.decal=g)}applyUpdateTransition(r,o,l,{dataIndex:n,isInit:u,clearStyle:!0}),applyKeyframeAnimation(r,o.keyframeAnimation,l)}function updateElOnState(a,r,n,o,s){var l=r.isGroup?null:r,u=s&&s[a].cfg;if(l){var c=l.ensureState(a);if(o===!1){var d=l.getState(a);d&&(d.style=null)}else c.style=o||null;u&&(c.textConfig=u),setDefaultStateProxy(l)}}function updateZ(a,r,n){if(!a.isGroup){var o=a,s=n.currentZ,l=n.currentZLevel;o.z=s,o.zlevel=l;var u=r.z2;u!=null&&(o.z2=u||0);for(var c=0;c<STATES.length;c++)updateZForEachState(o,r,STATES[c])}}function updateZForEachState(a,r,n){var o=n===NORMAL,s=o?r:retrieveStateOption(r,n),l=s?s.z2:null,u;l!=null&&(u=o?a:a.ensureState(n),u.z2=l||0)}function makeRenderItem(a,r,n,o){var s=a.get("renderItem"),l=a.coordinateSystem,u={};l&&(u=l.prepareCustoms?l.prepareCustoms(l):prepareCustoms[l.type](l));for(var c=defaults({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:C,style:M,ordinalRawValue:P,styleEmphasis:E,visual:R,barLayout:L,currentSeriesIndices:O,font:N},u.api||{}),d={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:u.coordSys,dataInsideLength:r.count(),encode:wrapEncodeDef(a.getData())},v,g,y={},_={},S={},x={},T=0;T<STATES.length;T++){var b=STATES[T];S[b]=a.getModel(PATH_ITEM_STYLE[b]),x[b]=a.getModel(PATH_LABEL[b])}function A(F){return F===v?g||(g=r.getItemModel(F)):r.getItemModel(F)}function w(F,B){return r.hasItemOption?F===v?y[B]||(y[B]=A(F).getModel(PATH_ITEM_STYLE[B])):A(F).getModel(PATH_ITEM_STYLE[B]):S[B]}function $(F,B){return r.hasItemOption?F===v?_[B]||(_[B]=A(F).getModel(PATH_LABEL[B])):A(F).getModel(PATH_LABEL[B]):x[B]}return function(F,B){return v=F,g=null,y={},_={},s&&s(defaults({dataIndexInside:F,dataIndex:r.getRawIndex(F),actionType:B?B.type:null},d),c)};function C(F,B){return B==null&&(B=v),r.getStore().get(r.getDimensionIndex(F||0),B)}function P(F,B){B==null&&(B=v),F=F||0;var z=r.getDimensionInfo(F);if(!z){var U=r.getDimensionIndex(F);return U>=0?r.getStore().get(U,B):void 0}var H=r.get(z.name,B),Y=z&&z.ordinalMeta;return Y?Y.categories[H]:H}function M(F,B){B==null&&(B=v);var z=r.getItemVisual(B,"style"),U=z&&z.fill,H=z&&z.opacity,Y=w(B,NORMAL).getItemStyle();U!=null&&(Y.fill=U),H!=null&&(Y.opacity=H);var X={inheritColor:isString(U)?U:"#000"},te=$(B,NORMAL),oe=createTextStyle(te,null,X,!1,!0);oe.text=te.getShallow("show")?retrieve2(a.getFormattedLabel(B,NORMAL),getDefaultLabel(r,B)):null;var ce=createTextConfig(te,X,!1);return I(F,Y),Y=convertToEC4StyleForCustomSerise(Y,oe,ce),F&&D(Y,F),Y.legacy=!0,Y}function E(F,B){B==null&&(B=v);var z=w(B,EMPHASIS).getItemStyle(),U=$(B,EMPHASIS),H=createTextStyle(U,null,null,!0,!0);H.text=U.getShallow("show")?retrieve3(a.getFormattedLabel(B,EMPHASIS),a.getFormattedLabel(B,NORMAL),getDefaultLabel(r,B)):null;var Y=createTextConfig(U,null,!0);return I(F,z),z=convertToEC4StyleForCustomSerise(z,H,Y),F&&D(z,F),z.legacy=!0,z}function D(F,B){for(var z in B)hasOwn(B,z)&&(F[z]=B[z])}function I(F,B){F&&(F.textFill&&(B.textFill=F.textFill),F.textPosition&&(B.textPosition=F.textPosition))}function R(F,B){if(B==null&&(B=v),hasOwn(STYLE_VISUAL_TYPE,F)){var z=r.getItemVisual(B,"style");return z?z[STYLE_VISUAL_TYPE[F]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,F))return r.getItemVisual(B,F)}function L(F){if(l.type==="cartesian2d"){var B=l.getBaseAxis();return getLayoutOnAxis(defaults({axis:B},F))}}function O(){return n.getCurrentSeriesIndices()}function N(F){return getFont(F,n)}}function wrapEncodeDef(a){var r={};return each$f(a.dimensions,function(n){var o=a.getDimensionInfo(n);if(!o.isExtraCoord){var s=o.coordDim,l=r[s]=r[s]||[];l[o.coordDimIndex]=a.getDimensionIndex(n)}}),r}function createOrUpdateItem(a,r,n,o,s,l,u){if(!o){l.remove(r);return}var c=doCreateOrUpdateEl(a,r,n,o,s,l);return c&&u.setItemGraphicEl(n,c),c&&toggleHoverEmphasis(c,o.focus,o.blurScope,o.emphasisDisabled),c}function doCreateOrUpdateEl(a,r,n,o,s,l){var u=-1,c=r;r&&doesElNeedRecreate(r,o,s)&&(u=indexOf(l.childrenRef(),r),r=null);var d=!r,v=r;v?v.clearStates():(v=createEl$1(o),c&&copyElement(c,v)),o.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(v,n,o,s,d,attachedTxInfoTmp),doCreateOrUpdateClipPath(v,n,o,s,d),updateElNormal(a,v,n,o,attachedTxInfoTmp,s,d),hasOwn(o,"info")&&(customInnerStore(v).info=o.info);for(var g=0;g<STATES.length;g++){var y=STATES[g];if(y!==NORMAL){var _=retrieveStateOption(o,y),S=retrieveStyleOptionOnState(o,_,y);updateElOnState(y,v,_,S,attachedTxInfoTmp)}}return updateZ(v,o,s),o.type==="group"&&mergeChildren(a,v,n,o,s),u>=0?l.replaceAt(v,u):l.add(v),v}function doesElNeedRecreate(a,r,n){var o=customInnerStore(a),s=r.type,l=r.shape,u=r.style;return n.isUniversalTransitionEnabled()||s!=null&&s!==o.customGraphicType||s==="path"&&hasOwnPathData(l)&&getPathData(l)!==o.customPathData||s==="image"&&hasOwn(u,"image")&&u.image!==o.customImagePath}function doCreateOrUpdateClipPath(a,r,n,o,s){var l=n.clipPath;if(l===!1)a&&a.getClipPath()&&a.removeClipPath();else if(l){var u=a.getClipPath();u&&doesElNeedRecreate(u,l,o)&&(u=null),u||(u=createEl$1(l),a.setClipPath(u)),updateElNormal(null,u,r,l,null,o,s)}}function doCreateOrUpdateAttachedTx(a,r,n,o,s,l){if(!a.isGroup){processTxInfo(n,null,l),processTxInfo(n,EMPHASIS,l);var u=l.normal.conOpt,c=l.emphasis.conOpt,d=l.blur.conOpt,v=l.select.conOpt;if(u!=null||c!=null||v!=null||d!=null){var g=a.getTextContent();if(u===!1)g&&a.removeTextContent();else{u=l.normal.conOpt=u||{type:"text"},g?g.clearStates():(g=createEl$1(u),a.setTextContent(g)),updateElNormal(null,g,r,u,null,o,s);for(var y=u&&u.style,_=0;_<STATES.length;_++){var S=STATES[_];if(S!==NORMAL){var x=l[S].conOpt;updateElOnState(S,g,x,retrieveStyleOptionOnState(u,x,S),null)}}y?g.dirty():g.markRedraw()}}}}function processTxInfo(a,r,n){var o=r?retrieveStateOption(a,r):a,s=r?retrieveStyleOptionOnState(a,o,EMPHASIS):a.style,l=a.type,u=o?o.textConfig:null,c=a.textContent,d=c?r?retrieveStateOption(c,r):c:null;if(s&&(n.isLegacy||isEC4CompatibleStyle(s,l,!!u,!!d))){n.isLegacy=!0;var v=convertFromEC4CompatibleStyle(s,l,!r);!u&&v.textConfig&&(u=v.textConfig),!d&&v.textContent&&(d=v.textContent)}if(!r&&d){var g=d;!g.type&&(g.type="text")}var y=r?n[r]:n.normal;y.cfg=u,y.conOpt=d}function retrieveStateOption(a,r){return r?a?a[r]:null:a}function retrieveStyleOptionOnState(a,r,n){var o=r&&r.style;return o==null&&n===EMPHASIS&&a&&(o=a.styleEmphasis),o}function mergeChildren(a,r,n,o,s){var l=o.children,u=l?l.length:0,c=o.$mergeChildren,d=c==="byName"||o.diffChildrenByName,v=c===!1;if(!(!u&&!d&&!v)){if(d){diffGroupChildren({api:a,oldChildren:r.children()||[],newChildren:l||[],dataIndex:n,seriesModel:s,group:r});return}v&&r.removeAll();for(var g=0;g<u;g++){var y=l[g],_=r.childAt(g);y?(y.ignore==null&&(y.ignore=!1),doCreateOrUpdateEl(a,_,n,y,s,r)):_.ignore=!0}for(var S=r.childCount()-1;S>=g;S--){var x=r.childAt(S);removeChildFromGroup(r,x,s)}}}function removeChildFromGroup(a,r,n){r&&applyLeaveTransition(r,customInnerStore(a).option,n)}function diffGroupChildren(a){new DataDiffer$1(a.oldChildren,a.newChildren,getKey,getKey,a).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(a,r){var n=a&&a.name;return n!=null?n:GROUP_DIFF_PREFIX+r}function processAddUpdate(a,r){var n=this.context,o=a!=null?n.newChildren[a]:null,s=r!=null?n.oldChildren[r]:null;doCreateOrUpdateEl(n.api,s,n.dataIndex,o,n.seriesModel,n.group)}function processRemove(a){var r=this.context,n=r.oldChildren[a];n&&applyLeaveTransition(n,customInnerStore(n).option,r.seriesModel)}function getPathData(a){return a&&(a.pathData||a.d)}function hasOwnPathData(a){return a&&(hasOwn(a,"pathData")||hasOwn(a,"d"))}function install$r(a){a.registerChartView(CustomChartView$1),a.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(r,n,o,s){var l=n.get("value"),u=n.get("status");if(this._axisModel=r,this._axisPointerModel=n,this._api=o,!(!s&&this._lastValue===l&&this._lastStatus===u)){this._lastValue=l,this._lastStatus=u;var c=this._group,d=this._handle;if(!u||u==="hide"){c&&c.hide(),d&&d.hide();return}c&&c.show(),d&&d.show();var v={};this.makeElOption(v,l,r,n,o);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(r,n);if(!c)c=this._group=new Group$4,this.createPointerEl(c,v,r,n),this.createLabelEl(c,v,r,n),o.getZr().add(c);else{var _=curry$1(updateProps,n,y);this.updatePointerEl(c,v,_),this.updateLabelEl(c,v,_,n)}updateMandatoryProps(c,n,!0),this._renderHandle(l)}},a.prototype.remove=function(r){this.clear(r)},a.prototype.dispose=function(r){this.clear(r)},a.prototype.determineAnimation=function(r,n){var o=n.get("animation"),s=r.axis,l=s.type==="category",u=n.get("snap");if(!u&&!l)return!1;if(o==="auto"||o==null){var c=this.animationThreshold;if(l&&s.getBandWidth()>c)return!0;if(u){var d=getAxisInfo$1(r).seriesDataCount,v=s.getExtent();return Math.abs(v[0]-v[1])/d>c}return!1}return o===!0},a.prototype.makeElOption=function(r,n,o,s,l){},a.prototype.createPointerEl=function(r,n,o,s){var l=n.pointer;if(l){var u=inner$b(r).pointerEl=new graphic[l.type](clone$1(n.pointer));r.add(u)}},a.prototype.createLabelEl=function(r,n,o,s){if(n.label){var l=inner$b(r).labelEl=new ZRText$1(clone$1(n.label));r.add(l),updateLabelShowHide(l,s)}},a.prototype.updatePointerEl=function(r,n,o){var s=inner$b(r).pointerEl;s&&n.pointer&&(s.setStyle(n.pointer.style),o(s,{shape:n.pointer.shape}))},a.prototype.updateLabelEl=function(r,n,o,s){var l=inner$b(r).labelEl;l&&(l.setStyle(n.label.style),o(l,{x:n.label.x,y:n.label.y}),updateLabelShowHide(l,s))},a.prototype._renderHandle=function(r){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,o=this._api.getZr(),s=this._handle,l=n.getModel("handle"),u=n.get("status");if(!l.get("show")||!u||u==="hide"){s&&o.remove(s),this._handle=null;return}var c;this._handle||(c=!0,s=this._handle=createIcon(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){stop(v.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(s)),updateMandatoryProps(s,n,!1),s.setStyle(l.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=l.get("size");isArray$1(d)||(d=[d,d]),s.scaleX=d[0]/2,s.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(r,c)}},a.prototype._moveHandleToValue=function(r,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(r,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(r,n){var o=this._handle;if(!!o){this._dragging=!0;var s=this.updateHandleTransform(getHandleTransProps(o),[r,n],this._axisModel,this._axisPointerModel);this._payloadInfo=s,o.stopAnimation(),o.attr(getHandleTransProps(s)),inner$b(o).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var r=this._handle;if(!!r){var n=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var r=this._handle;if(!!r){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(r){this._lastValue=null,this._lastStatus=null;var n=r.getZr(),o=this._group,s=this._handle;n&&o&&(this._lastGraphicKey=null,o&&n.remove(o),s&&n.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(r,n,o){return o=o||0,{x:r[o],y:r[1-o],width:n[o],height:n[1-o]}},a}();function updateProps(a,r,n,o){propsEqual(inner$b(n).lastProp,o)||(inner$b(n).lastProp=o,r?updateProps$1(n,o,a):(n.stopAnimation(),n.attr(o)))}function propsEqual(a,r){if(isObject$5(a)&&isObject$5(r)){var n=!0;return each$f(r,function(o,s){n=n&&propsEqual(a[s],o)}),!!n}else return a===r}function updateLabelShowHide(a,r){a[r.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function updateMandatoryProps(a,r,n){var o=r.get("z"),s=r.get("zlevel");a&&a.traverse(function(l){l.type!=="group"&&(o!=null&&(l.z=o),s!=null&&(l.zlevel=s),l.silent=n)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(a){var r=a.get("type"),n=a.getModel(r+"Style"),o;return r==="line"?(o=n.getLineStyle(),o.fill=null):r==="shadow"&&(o=n.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(a,r,n,o,s){var l=n.get("value"),u=getValueLabel(l,r.axis,r.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),c=n.getModel("label"),d=normalizeCssArray(c.get("padding")||0),v=c.getFont(),g=getBoundingRect(u,v),y=s.position,_=g.width+d[1]+d[3],S=g.height+d[0]+d[2],x=s.align;x==="right"&&(y[0]-=_),x==="center"&&(y[0]-=_/2);var T=s.verticalAlign;T==="bottom"&&(y[1]-=S),T==="middle"&&(y[1]-=S/2),confineInContainer(y,_,S,o);var b=c.get("backgroundColor");(!b||b==="auto")&&(b=r.get(["axisLine","lineStyle","color"])),a.label={x:y[0],y:y[1],style:createTextStyle(c,{text:u,font:v,fill:c.getTextColor(),padding:d,backgroundColor:b}),z2:10}}function confineInContainer(a,r,n,o){var s=o.getWidth(),l=o.getHeight();a[0]=Math.min(a[0]+r,s)-r,a[1]=Math.min(a[1]+n,l)-n,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function getValueLabel(a,r,n,o,s){a=r.scale.parse(a);var l=r.scale.getLabel({value:a},{precision:s.precision}),u=s.formatter;if(u){var c={value:getAxisRawValue(r,{value:a}),axisDimension:r.dim,axisIndex:r.index,seriesData:[]};each$f(o,function(d){var v=n.getSeriesByIndex(d.seriesIndex),g=d.dataIndexInside,y=v&&v.getDataParams(g);y&&c.seriesData.push(y)}),isString(u)?l=u.replace("{value}",l):isFunction(u)&&(l=u(c))}return l}function getTransformedPosition(a,r,n){var o=create$1();return rotate(o,o,n.rotation),translate(o,o,n.position),applyTransform([a.dataToCoord(r),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(a,r,n,o,s,l){var u=AxisBuilder$1.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=s.get(["label","margin"]),buildLabelElOption(r,o,s,l,{position:getTransformedPosition(o.axis,a,n),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function makeLineShape(a,r,n){return n=n||0,{x1:a[n],y1:a[1-n],x2:r[n],y2:r[1-n]}}function makeRectShape(a,r,n){return n=n||0,{x:a[n],y:a[1-n],width:r[n],height:r[1-n]}}function makeSectorShape(a,r,n,o,s,l){return{cx:a,cy:r,r0:n,r:o,startAngle:s,endAngle:l,clockwise:!0}}var CartesianAxisPointer=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.makeElOption=function(n,o,s,l,u){var c=s.axis,d=c.grid,v=l.get("type"),g=getCartesian(d,c).getOtherAxis(c).getGlobalExtent(),y=c.toGlobalCoord(c.dataToCoord(o,!0));if(v&&v!=="none"){var _=buildElStyle(l),S=pointerShapeBuilder$2[v](c,y,g);S.style=_,n.graphicKey=S.type,n.pointer=S}var x=layout$2(d.model,s);buildCartesianSingleLabelElOption(o,n,x,s,l,u)},r.prototype.getHandleTransform=function(n,o,s){var l=layout$2(o.axis.grid.model,o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,n,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(n,o,s,l){var u=s.axis,c=u.grid,d=u.getGlobalExtent(!0),v=getCartesian(c,u).getOtherAxis(u).getGlobalExtent(),g=u.dim==="x"?0:1,y=[n.x,n.y];y[g]+=o[g],y[g]=Math.min(d[1],y[g]),y[g]=Math.max(d[0],y[g]);var _=(v[1]+v[0])/2,S=[_,_];S[g]=y[g];var x=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:n.rotation,cursorPoint:S,tooltipOption:x[g]}},r}(BaseAxisPointer$1);function getCartesian(a,r){var n={};return n[r.dim+"AxisIndex"]=r.index,a.getCartesian(n)}var pointerShapeBuilder$2={line:function(a,r,n){var o=makeLineShape([r,n[0]],[r,n[1]],getAxisDimIndex(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,r,n){var o=Math.max(1,a.getBandWidth()),s=n[1]-n[0];return{type:"Rect",shape:makeRectShape([r-o/2,n[0]],[o,s],getAxisDimIndex(a))}}};function getAxisDimIndex(a){return a.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="axisPointer",r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},r}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(a,r,n){if(!env$1.node){var o=r.getZr();inner$a(o).records||(inner$a(o).records={}),initGlobalListeners(o,r);var s=inner$a(o).records[a]||(inner$a(o).records[a]={});s.handler=n}}function initGlobalListeners(a,r){if(inner$a(a).initialized)return;inner$a(a).initialized=!0,n("click",curry$1(doEnter,"click")),n("mousemove",curry$1(doEnter,"mousemove")),n("globalout",onLeave);function n(o,s){a.on(o,function(l){var u=makeDispatchAction$1(r);each$8(inner$a(a).records,function(c){c&&s(c,l,u.dispatchAction)}),dispatchTooltipFinally(u.pendings,r)})}}function dispatchTooltipFinally(a,r){var n=a.showTip.length,o=a.hideTip.length,s;n?s=a.showTip[n-1]:o&&(s=a.hideTip[o-1]),s&&(s.dispatchAction=null,r.dispatchAction(s))}function onLeave(a,r,n){a.handler("leave",null,n)}function doEnter(a,r,n,o){r.handler(a,n,o)}function makeDispatchAction$1(a){var r={showTip:[],hideTip:[]},n=function(o){var s=r[o.type];s?s.push(o):(o.dispatchAction=n,a.dispatchAction(o))};return{dispatchAction:n,pendings:r}}function unregister(a,r){if(!env$1.node){var n=r.getZr(),o=(inner$a(n).records||{})[a];o&&(inner$a(n).records[a]=null)}}var AxisPointerView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=o.getComponent("tooltip"),u=n.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";register("axisPointer",s,function(c,d,v){u!=="none"&&(c==="leave"||u.indexOf(c)>=0)&&v({type:"updateAxisPointer",currTrigger:c,x:d&&d.offsetX,y:d&&d.offsetY})})},r.prototype.remove=function(n,o){unregister("axisPointer",o)},r.prototype.dispose=function(n,o){unregister("axisPointer",o)},r.type="axisPointer",r}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(a,r){var n=[],o=a.seriesIndex,s;if(o==null||!(s=r.getSeriesByIndex(o)))return{point:[]};var l=s.getData(),u=queryDataIndex(l,a);if(u==null||u<0||isArray$1(u))return{point:[]};var c=l.getItemGraphicEl(u),d=s.coordinateSystem;if(s.getTooltipPosition)n=s.getTooltipPosition(u)||[];else if(d&&d.dataToPoint)if(a.isStacked){var v=d.getBaseAxis(),g=d.getOtherAxis(v),y=g.dim,_=v.dim,S=y==="x"||y==="radius"?1:0,x=l.mapDimension(_),T=[];T[S]=l.get(x,u),T[1-S]=l.get(l.getCalculationInfo("stackResultDimension"),u),n=d.dataToPoint(T)||[]}else n=d.dataToPoint(l.getValues(map$1(d.dimensions,function(A){return l.mapDimension(A)}),u))||[];else if(c){var b=c.getBoundingRect().clone();b.applyTransform(c.transform),n=[b.x+b.width/2,b.y+b.height/2]}return{point:n,el:c}}var inner$9=makeInner();function axisTrigger(a,r,n){var o=a.currTrigger,s=[a.x,a.y],l=a,u=a.dispatchAction||bind$1(n.dispatchAction,n),c=r.getComponent("axisPointer").coordSysAxesInfo;if(!!c){illegalPoint(s)&&(s=findPointFromSeries({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},r).point);var d=illegalPoint(s),v=l.axesInfo,g=c.axesInfo,y=o==="leave"||illegalPoint(s),_={},S={},x={list:[],map:{}},T={showPointer:curry$1(showPointer,S),showTooltip:curry$1(showTooltip,x)};each$f(c.coordSysMap,function(A,w){var $=d||A.containPoint(s);each$f(c.coordSysAxesInfo[w],function(C,P){var M=C.axis,E=findInputAxisInfo(v,C);if(!y&&$&&(!v||E)){var D=E&&E.value;D==null&&!d&&(D=M.pointToData(s)),D!=null&&processOnAxis(C,D,T,!1,_)}})});var b={};return each$f(g,function(A,w){var $=A.linkGroup;$&&!S[w]&&each$f($.axesInfo,function(C,P){var M=S[P];if(C!==A&&M){var E=M.value;$.mapper&&(E=A.axis.scale.parse($.mapper(E,makeMapperParam(C),makeMapperParam(A)))),b[A.key]=E}})}),each$f(b,function(A,w){processOnAxis(g[w],A,T,!0,_)}),updateModelActually(S,g,_),dispatchTooltipActually(x,s,a,u),dispatchHighDownActually(g,u,n),_}}function processOnAxis(a,r,n,o,s){var l=a.axis;if(!(l.scale.isBlank()||!l.containData(r))){if(!a.involveSeries){n.showPointer(a,r);return}var u=buildPayloadsBySeries(r,a),c=u.payloadBatch,d=u.snapToValue;c[0]&&s.seriesIndex==null&&extend(s,c[0]),!o&&a.snap&&l.containData(d)&&d!=null&&(r=d),n.showPointer(a,r,c),n.showTooltip(a,u,d)}}function buildPayloadsBySeries(a,r){var n=r.axis,o=n.dim,s=a,l=[],u=Number.MAX_VALUE,c=-1;return each$f(r.seriesModels,function(d,v){var g=d.getData().mapDimensionsAll(o),y,_;if(d.getAxisTooltipData){var S=d.getAxisTooltipData(g,a,n);_=S.dataIndices,y=S.nestestValue}else{if(_=d.getData().indicesOfNearest(g[0],a,n.type==="category"?.5:null),!_.length)return;y=d.getData().get(g[0],_[0])}if(!(y==null||!isFinite(y))){var x=a-y,T=Math.abs(x);T<=u&&((T<u||x>=0&&c<0)&&(u=T,c=x,s=y,l.length=0),each$f(_,function(b){l.push({seriesIndex:d.seriesIndex,dataIndexInside:b,dataIndex:d.getData().getRawIndex(b)})}))}}),{payloadBatch:l,snapToValue:s}}function showPointer(a,r,n,o){a[r.key]={value:n,payloadBatch:o}}function showTooltip(a,r,n,o){var s=n.payloadBatch,l=r.axis,u=l.model,c=r.axisPointerModel;if(!(!r.triggerTooltip||!s.length)){var d=r.coordSys.model,v=makeKey(d),g=a.map[v];g||(g=a.map[v]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},a.list.push(g)),g.dataByAxis.push({axisDim:l.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:o,valueLabelOpt:{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function updateModelActually(a,r,n){var o=n.axesInfo=[];each$f(r,function(s,l){var u=s.axisPointerModel.option,c=a[l];c?(!s.useHandle&&(u.status="show"),u.value=c.value,u.seriesDataIndices=(c.payloadBatch||[]).slice()):!s.useHandle&&(u.status="hide"),u.status==="show"&&o.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:u.value})})}function dispatchTooltipActually(a,r,n,o){if(illegalPoint(r)||!a.list.length){o({type:"hideTip"});return}var s=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:r[0],y:r[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:a.list})}function dispatchHighDownActually(a,r,n){var o=n.getZr(),s="axisPointerLastHighlights",l=inner$9(o)[s]||{},u=inner$9(o)[s]={};each$f(a,function(v,g){var y=v.axisPointerModel.option;y.status==="show"&&each$f(y.seriesDataIndices,function(_){var S=_.seriesIndex+" | "+_.dataIndex;u[S]=_})});var c=[],d=[];each$f(l,function(v,g){!u[g]&&d.push(v)}),each$f(u,function(v,g){!l[g]&&c.push(v)}),d.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),c.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:c})}function findInputAxisInfo(a,r){for(var n=0;n<(a||[]).length;n++){var o=a[n];if(r.axis.dim===o.axisDim&&r.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(a){var r=a.axis.model,n={},o=n.axisDim=a.axis.dim;return n.axisIndex=n[o+"AxisIndex"]=r.componentIndex,n.axisName=n[o+"AxisName"]=r.name,n.axisId=n[o+"AxisId"]=r.id,n}function illegalPoint(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function install$q(a){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),a.registerComponentModel(AxisPointerModel$1),a.registerComponentView(AxisPointerView$1),a.registerPreprocessor(function(r){if(r){(!r.axisPointer||r.axisPointer.length===0)&&(r.axisPointer={});var n=r.axisPointer.link;n&&!isArray$1(n)&&(r.axisPointer.link=[n])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(r,n){r.getComponent("axisPointer").coordSysAxesInfo=collect(r,n)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(a){use(install$N),use(install$q)}var PolarAxisPointer=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.makeElOption=function(n,o,s,l,u){var c=s.axis;c.dim==="angle"&&(this.animationThreshold=Math.PI/18);var d=c.polar,v=d.getOtherAxis(c),g=v.getExtent(),y=c.dataToCoord(o),_=l.get("type");if(_&&_!=="none"){var S=buildElStyle(l),x=pointerShapeBuilder$1[_](c,d,y,g);x.style=S,n.graphicKey=x.type,n.pointer=x}var T=l.get(["label","margin"]),b=getLabelPosition(o,s,l,d,T);buildLabelElOption(n,s,l,u,b)},r}(BaseAxisPointer$1);function getLabelPosition(a,r,n,o,s){var l=r.axis,u=l.dataToCoord(a),c=o.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var d=o.getRadiusAxis().getExtent(),v,g,y;if(l.dim==="radius"){var _=create$1();rotate(_,_,c),translate(_,_,[o.cx,o.cy]),v=applyTransform([u,-s],_);var S=r.getModel("axisLabel").get("rotate")||0,x=AxisBuilder$1.innerTextLayout(c,S*Math.PI/180,-1);g=x.textAlign,y=x.textVerticalAlign}else{var T=d[1];v=o.coordToPoint([T+s,u]);var b=o.cx,A=o.cy;g=Math.abs(v[0]-b)/T<.3?"center":v[0]>b?"left":"right",y=Math.abs(v[1]-A)/T<.3?"middle":v[1]>A?"top":"bottom"}return{position:v,align:g,verticalAlign:y}}var pointerShapeBuilder$1={line:function(a,r,n,o){return a.dim==="angle"?{type:"Line",shape:makeLineShape(r.coordToPoint([o[0],n]),r.coordToPoint([o[1],n]))}:{type:"Circle",shape:{cx:r.cx,cy:r.cy,r:n}}},shadow:function(a,r,n,o){var s=Math.max(1,a.getBandWidth()),l=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:makeSectorShape(r.cx,r.cy,o[0],o[1],(-n-s/2)*l,(-n+s/2)*l)}:{type:"Sector",shape:makeSectorShape(r.cx,r.cy,n-s/2,n+s/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.findAxisModel=function(n){var o,s=this.ecModel;return s.eachComponent(n,function(l){l.getCoordSysModel()===this&&(o=l)},this),o},r.type="polar",r.dependencies=["radiusAxis","angleAxis"],r.defaultOption={z:0,center:["50%","50%"],radius:"80%"},r}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},r.type="polarAxis",r}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="angleAxis",r}(PolarAxisModel),RadiusAxisModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="radiusAxis",r}(PolarAxisModel),RadiusAxis=function(a){__extends(r,a);function r(n,o){return a.call(this,"radius",n,o)||this}return r.prototype.pointToData=function(n,o){return this.polar.pointToData(n,o)[this.dim==="radius"?0:1]},r}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(a){__extends(r,a);function r(n,o){return a.call(this,"angle",n,o||[0,360])||this}return r.prototype.pointToData=function(n,o){return this.polar.pointToData(n,o)[this.dim==="radius"?0:1]},r.prototype.calculateCategoryInterval=function(){var n=this,o=n.getLabelModel(),s=n.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var c=l[0],d=n.dataToCoord(c+1)-n.dataToCoord(c),v=Math.abs(d),g=getBoundingRect(c==null?"":c+"",o.getFont(),"center","top"),y=Math.max(g.height,7),_=y/v;isNaN(_)&&(_=1/0);var S=Math.max(0,Math.floor(_)),x=inner$8(n.model),T=x.lastAutoInterval,b=x.lastTickCount;return T!=null&&b!=null&&Math.abs(T-S)<=1&&Math.abs(b-u)<=1&&T>S?S=T:(x.lastTickCount=u,x.lastAutoInterval=S),S},r}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function a(r){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=r||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(r){var n=this.pointToCoord(r);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},a.prototype.containData=function(r){return this._radiusAxis.containData(r[0])&&this._angleAxis.containData(r[1])},a.prototype.getAxis=function(r){var n="_"+r+"Axis";return this[n]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(r){var n=[],o=this._angleAxis,s=this._radiusAxis;return o.scale.type===r&&n.push(o),s.scale.type===r&&n.push(s),n},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(r){var n=this._angleAxis;return r===n?this._radiusAxis:n},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(r){var n=r!=null&&r!=="auto"?this.getAxis(r):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},a.prototype.dataToPoint=function(r,n){return this.coordToPoint([this._radiusAxis.dataToRadius(r[0],n),this._angleAxis.dataToAngle(r[1],n)])},a.prototype.pointToData=function(r,n){var o=this.pointToCoord(r);return[this._radiusAxis.radiusToData(o[0],n),this._angleAxis.angleToData(o[1],n)]},a.prototype.pointToCoord=function(r){var n=r[0]-this.cx,o=r[1]-this.cy,s=this.getAngleAxis(),l=s.getExtent(),u=Math.min(l[0],l[1]),c=Math.max(l[0],l[1]);s.inverse?u=c-360:c=u+360;var d=Math.sqrt(n*n+o*o);n/=d,o/=d;for(var v=Math.atan2(-o,n)/Math.PI*180,g=v<u?1:-1;v<u||v>c;)v+=g*360;return[d,v]},a.prototype.coordToPoint=function(r){var n=r[0],o=r[1]/180*Math.PI,s=Math.cos(o)*n+this.cx,l=-Math.sin(o)*n+this.cy;return[s,l]},a.prototype.getArea=function(){var r=this.getAngleAxis(),n=this.getRadiusAxis(),o=n.getExtent().slice();o[0]>o[1]&&o.reverse();var s=r.getExtent(),l=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-s[0]*l,endAngle:-s[1]*l,clockwise:r.inverse,contain:function(u,c){var d=u-this.cx,v=c-this.cy,g=d*d+v*v-1e-4,y=this.r,_=this.r0;return g<=y*y&&g>=_*_}}},a.prototype.convertToPixel=function(r,n,o){var s=getCoordSys$2(n);return s===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(r,n,o){var s=getCoordSys$2(n);return s===this?this.pointToData(o):null},a}();function getCoordSys$2(a){var r=a.seriesModel,n=a.polarModel;return n&&n.coordinateSystem||r&&r.coordinateSystem}const Polar$1=Polar;function resizePolar(a,r,n){var o=r.get("center"),s=n.getWidth(),l=n.getHeight();a.cx=parsePercent(o[0],s),a.cy=parsePercent(o[1],l);var u=a.getRadiusAxis(),c=Math.min(s,l)/2,d=r.get("radius");d==null?d=[0,"100%"]:isArray$1(d)||(d=[0,d]);var v=[parsePercent(d[0],c),parsePercent(d[1],c)];u.inverse?u.setExtent(v[1],v[0]):u.setExtent(v[0],v[1])}function updatePolarScale(a,r){var n=this,o=n.getAngleAxis(),s=n.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),a.eachSeries(function(c){if(c.coordinateSystem===n){var d=c.getData();each$f(getDataDimensionsOnAxis(d,"radius"),function(v){s.scale.unionExtentFromData(d,v)}),each$f(getDataDimensionsOnAxis(d,"angle"),function(v){o.scale.unionExtentFromData(d,v)})}}),niceScaleExtent(o.scale,o.model),niceScaleExtent(s.scale,s.model),o.type==="category"&&!o.onBand){var l=o.getExtent(),u=360/o.scale.count();o.inverse?l[1]+=u:l[1]-=u,o.setExtent(l[0],l[1])}}function isAngleAxisModel(a){return a.mainType==="angleAxis"}function setAxis(a,r){if(a.type=r.get("type"),a.scale=createScaleByModel$1(r),a.onBand=r.get("boundaryGap")&&a.type==="category",a.inverse=r.get("inverse"),isAngleAxisModel(r)){a.inverse=a.inverse!==r.get("clockwise");var n=r.get("startAngle");a.setExtent(n,n+(a.inverse?-360:360))}r.axis=a,a.model=r}var polarCreator={dimensions:polarDimensions,create:function(a,r){var n=[];return a.eachComponent("polar",function(o,s){var l=new Polar$1(s+"");l.update=updatePolarScale;var u=l.getRadiusAxis(),c=l.getAngleAxis(),d=o.findAxisModel("radiusAxis"),v=o.findAxisModel("angleAxis");setAxis(u,d),setAxis(c,v),resizePolar(l,o,r),n.push(l),o.coordinateSystem=l,l.model=o}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="polar"){var s=o.getReferringComponents("polar",SINGLE_REFERRING).models[0];o.coordinateSystem=s.coordinateSystem}}),n}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(a,r,n){r[1]>r[0]&&(r=r.slice().reverse());var o=a.coordToPoint([r[0],n]),s=a.coordToPoint([r[1],n]);return{x1:o[0],y1:o[1],x2:s[0],y2:s[1]}}function getRadiusIdx(a){var r=a.getRadiusAxis();return r.inverse?0:1}function fixAngleOverlap(a){var r=a[0],n=a[a.length-1];r&&n&&Math.abs(Math.abs(r.coord-n.coord)-360)<1e-4&&a.pop()}var AngleAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.axisPointerClass="PolarAxisPointer",n}return r.prototype.render=function(n,o){if(this.group.removeAll(),!!n.get("show")){var s=n.axis,l=s.polar,u=l.getRadiusAxis().getExtent(),c=s.getTicksCoords(),d=s.getMinorTicksCoords(),v=map$1(s.getViewLabels(),function(g){g=clone$4(g);var y=s.scale,_=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=s.dataToCoord(_),g});fixAngleOverlap(v),fixAngleOverlap(c),each$f(elementList,function(g){n.get([g,"show"])&&(!s.scale.isBlank()||g==="axisLine")&&angelAxisElementsBuilders[g](this.group,n,l,c,d,u,v)},this)}},r.type="angleAxis",r}(AxisView$1),angelAxisElementsBuilders={axisLine:function(a,r,n,o,s,l){var u=r.getModel(["axisLine","lineStyle"]),c=getRadiusIdx(n),d=c?0:1,v;l[d]===0?v=new Circle$1({shape:{cx:n.cx,cy:n.cy,r:l[c]},style:u.getLineStyle(),z2:1,silent:!0}):v=new Ring$1({shape:{cx:n.cx,cy:n.cy,r:l[c],r0:l[d]},style:u.getLineStyle(),z2:1,silent:!0}),v.style.fill=null,a.add(v)},axisTick:function(a,r,n,o,s,l){var u=r.getModel("axisTick"),c=(u.get("inside")?-1:1)*u.get("length"),d=l[getRadiusIdx(n)],v=map$1(o,function(g){return new Line$3({shape:getAxisLineShape(n,[d,d+c],g.coord)})});a.add(mergePath(v,{style:defaults(u.getModel("lineStyle").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,r,n,o,s,l){if(!!s.length){for(var u=r.getModel("axisTick"),c=r.getModel("minorTick"),d=(u.get("inside")?-1:1)*c.get("length"),v=l[getRadiusIdx(n)],g=[],y=0;y<s.length;y++)for(var _=0;_<s[y].length;_++)g.push(new Line$3({shape:getAxisLineShape(n,[v,v+d],s[y][_].coord)}));a.add(mergePath(g,{style:defaults(c.getModel("lineStyle").getLineStyle(),defaults(u.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,r,n,o,s,l,u){var c=r.getCategories(!0),d=r.getModel("axisLabel"),v=d.get("margin"),g=r.get("triggerEvent");each$f(u,function(y,_){var S=d,x=y.tickValue,T=l[getRadiusIdx(n)],b=n.coordToPoint([T+v,y.coord]),A=n.cx,w=n.cy,$=Math.abs(b[0]-A)/T<.3?"center":b[0]>A?"left":"right",C=Math.abs(b[1]-w)/T<.3?"middle":b[1]>w?"top":"bottom";if(c&&c[x]){var P=c[x];isObject$5(P)&&P.textStyle&&(S=new Model$1(P.textStyle,d,d.ecModel))}var M=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(r),style:createTextStyle(S,{x:b[0],y:b[1],fill:S.getTextColor()||r.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:$,verticalAlign:C})});if(a.add(M),g){var E=AxisBuilder$1.makeAxisEventDataBase(r);E.targetType="axisLabel",E.value=y.rawLabel,getECData(M).eventData=E}},this)},splitLine:function(a,r,n,o,s,l){var u=r.getModel("splitLine"),c=u.getModel("lineStyle"),d=c.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<o.length;y++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new Line$3({shape:getAxisLineShape(n,l,o[y].coord)}))}for(var y=0;y<g.length;y++)a.add(mergePath(g[y],{style:defaults({stroke:d[y%d.length]},c.getLineStyle()),silent:!0,z:r.get("z")}))},minorSplitLine:function(a,r,n,o,s,l){if(!!s.length){for(var u=r.getModel("minorSplitLine"),c=u.getModel("lineStyle"),d=[],v=0;v<s.length;v++)for(var g=0;g<s[v].length;g++)d.push(new Line$3({shape:getAxisLineShape(n,l,s[v][g].coord)}));a.add(mergePath(d,{style:c.getLineStyle(),silent:!0,z:r.get("z")}))}},splitArea:function(a,r,n,o,s,l){if(!!o.length){var u=r.getModel("splitArea"),c=u.getModel("areaStyle"),d=c.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=Math.PI/180,_=-o[0].coord*y,S=Math.min(l[0],l[1]),x=Math.max(l[0],l[1]),T=r.get("clockwise"),b=1,A=o.length;b<=A;b++){var w=b===A?o[0].coord:o[b].coord,$=v++%d.length;g[$]=g[$]||[],g[$].push(new Sector$1({shape:{cx:n.cx,cy:n.cy,r0:S,r:x,startAngle:_,endAngle:-w*y,clockwise:T},silent:!0})),_=-w*y}for(var b=0;b<g.length;b++)a.add(mergePath(g[b],{style:defaults({fill:d[b%d.length]},c.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.axisPointerClass="PolarAxisPointer",n}return r.prototype.render=function(n,o){if(this.group.removeAll(),!!n.get("show")){var s=this._axisGroup,l=this._axisGroup=new Group$4;this.group.add(l);var u=n.axis,c=u.polar,d=c.getAngleAxis(),v=u.getTicksCoords(),g=u.getMinorTicksCoords(),y=d.getExtent()[0],_=u.getExtent(),S=layoutAxis(c,n,y),x=new AxisBuilder$1(n,S);each$f(axisBuilderAttrs$1,x.add,x),l.add(x.getGroup()),groupTransition(s,l,n),each$f(selfBuilderAttrs$1,function(T){n.get([T,"show"])&&!u.scale.isBlank()&&axisElementBuilders$1[T](this.group,n,c,y,_,v,g)},this)}},r.type="radiusAxis",r}(AxisView$1),axisElementBuilders$1={splitLine:function(a,r,n,o,s,l){var u=r.getModel("splitLine"),c=u.getModel("lineStyle"),d=c.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<l.length;y++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new Circle$1({shape:{cx:n.cx,cy:n.cy,r:Math.max(l[y].coord,0)}}))}for(var y=0;y<g.length;y++)a.add(mergePath(g[y],{style:defaults({stroke:d[y%d.length],fill:null},c.getLineStyle()),silent:!0}))},minorSplitLine:function(a,r,n,o,s,l,u){if(!!u.length){for(var c=r.getModel("minorSplitLine"),d=c.getModel("lineStyle"),v=[],g=0;g<u.length;g++)for(var y=0;y<u[g].length;y++)v.push(new Circle$1({shape:{cx:n.cx,cy:n.cy,r:u[g][y].coord}}));a.add(mergePath(v,{style:defaults({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(a,r,n,o,s,l){if(!!l.length){var u=r.getModel("splitArea"),c=u.getModel("areaStyle"),d=c.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=l[0].coord,_=1;_<l.length;_++){var S=v++%d.length;g[S]=g[S]||[],g[S].push(new Sector$1({shape:{cx:n.cx,cy:n.cy,r0:y,r:l[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[_].coord}for(var _=0;_<g.length;_++)a.add(mergePath(g[_],{style:defaults({fill:d[_%d.length]},c.getAreaStyle()),silent:!0}))}}};function layoutAxis(a,r,n){return{position:[a.cx,a.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function getAxisKey(a,r){return r.dim+a.model.componentIndex}function barLayoutPolar(a,r,n){var o={},s=calRadialBar(filter(r.getSeriesByType(a),function(l){return!r.isSeriesFiltered(l)&&l.coordinateSystem&&l.coordinateSystem.type==="polar"}));r.eachSeriesByType(a,function(l){if(l.coordinateSystem.type==="polar"){var u=l.getData(),c=l.coordinateSystem,d=c.getBaseAxis(),v=getAxisKey(c,d),g=getSeriesStackId(l),y=s[v][g],_=y.offset,S=y.width,x=c.getOtherAxis(d),T=l.coordinateSystem.cx,b=l.coordinateSystem.cy,A=l.get("barMinHeight")||0,w=l.get("barMinAngle")||0;o[g]=o[g]||[];for(var $=u.mapDimension(x.dim),C=u.mapDimension(d.dim),P=isDimensionStacked(u,$),M=d.dim!=="radius"||!l.get("roundCap",!0),E=x.dataToCoord(0),D=0,I=u.count();D<I;D++){var R=u.get($,D),L=u.get(C,D),O=R>=0?"p":"n",N=E;P&&(o[g][L]||(o[g][L]={p:E,n:E}),N=o[g][L][O]);var F=void 0,B=void 0,z=void 0,U=void 0;if(x.dim==="radius"){var H=x.dataToCoord(R)-E,Y=d.dataToCoord(L);Math.abs(H)<A&&(H=(H<0?-1:1)*A),F=N,B=N+H,z=Y-_,U=z-S,P&&(o[g][L][O]=B)}else{var X=x.dataToCoord(R,M)-E,te=d.dataToCoord(L);Math.abs(X)<w&&(X=(X<0?-1:1)*w),F=te+_,B=F+S,z=N,U=N+X,P&&(o[g][L][O]=U)}u.setItemLayout(D,{cx:T,cy:b,r0:F,r:B,startAngle:-z*Math.PI/180,endAngle:-U*Math.PI/180,clockwise:z>=U})}}})}function calRadialBar(a){var r={};each$f(a,function(o,s){var l=o.getData(),u=o.coordinateSystem,c=u.getBaseAxis(),d=getAxisKey(u,c),v=c.getExtent(),g=c.type==="category"?c.getBandWidth():Math.abs(v[1]-v[0])/l.count(),y=r[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},_=y.stacks;r[d]=y;var S=getSeriesStackId(o);_[S]||y.autoWidthCount++,_[S]=_[S]||{width:0,maxWidth:0};var x=parsePercent(o.get("barWidth"),g),T=parsePercent(o.get("barMaxWidth"),g),b=o.get("barGap"),A=o.get("barCategoryGap");x&&!_[S].width&&(x=Math.min(y.remainedWidth,x),_[S].width=x,y.remainedWidth-=x),T&&(_[S].maxWidth=T),b!=null&&(y.gap=b),A!=null&&(y.categoryGap=A)});var n={};return each$f(r,function(o,s){n[s]={};var l=o.stacks,u=o.bandWidth,c=parsePercent(o.categoryGap,u),d=parsePercent(o.gap,1),v=o.remainedWidth,g=o.autoWidthCount,y=(v-c)/(g+(g-1)*d);y=Math.max(y,0),each$f(l,function(T,b){var A=T.maxWidth;A&&A<y&&(A=Math.min(A,v),T.width&&(A=Math.min(A,T.width)),v-=A,T.width=A,g--)}),y=(v-c)/(g+(g-1)*d),y=Math.max(y,0);var _=0,S;each$f(l,function(T,b){T.width||(T.width=y),S=T,_+=T.width*(1+d)}),S&&(_-=S.width*d);var x=-_/2;each$f(l,function(T,b){n[s][b]=n[s][b]||{offset:x,width:T.width},x+=T.width*(1+d)})}),n}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="polar",r}(ComponentView$1);function install$o(a){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),a.registerCoordinateSystem("polar",polarCreator$1),a.registerComponentModel(PolarModel$1),a.registerComponentView(PolarView),axisModelCreator(a,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(a,"radius",RadiusAxisModel,radiusAxisExtraOption),a.registerComponentView(AngleAxisView$1),a.registerComponentView(RadiusAxisView$1),a.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(a,r){r=r||{};var n=a.coordinateSystem,o=a.axis,s={},l=o.position,u=o.orient,c=n.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],v={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};s.position=[u==="vertical"?v.vertical[l]:d[0],u==="horizontal"?v.horizontal[l]:d[3]];var g={horizontal:0,vertical:1};s.rotation=Math.PI/2*g[u];var y={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=y[l],a.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),retrieve(r.labelInside,a.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var _=r.rotate;return _==null&&(_=a.get(["axisLabel","rotate"])),s.labelRotation=l==="top"?-_:_,s.z2=1,s}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.axisPointerClass="SingleAxisPointer",n}return r.prototype.render=function(n,o,s,l){var u=this.group;u.removeAll();var c=this._axisGroup;this._axisGroup=new Group$4;var d=layout$1(n),v=new AxisBuilder$1(n,d);each$f(axisBuilderAttrs,v.add,v),u.add(this._axisGroup),u.add(v.getGroup()),each$f(selfBuilderAttrs,function(g){n.get([g,"show"])&&axisElementBuilders[g](this,this.group,this._axisGroup,n)},this),groupTransition(c,this._axisGroup,n),a.prototype.render.call(this,n,o,s,l)},r.prototype.remove=function(){rectCoordAxisHandleRemove(this)},r.type="singleAxis",r}(AxisView$1),axisElementBuilders={splitLine:function(a,r,n,o){var s=o.axis;if(!s.scale.isBlank()){var l=o.getModel("splitLine"),u=l.getModel("lineStyle"),c=u.get("color");c=c instanceof Array?c:[c];for(var d=u.get("width"),v=o.coordinateSystem.getRect(),g=s.isHorizontal(),y=[],_=0,S=s.getTicksCoords({tickModel:l}),x=[],T=[],b=0;b<S.length;++b){var A=s.toGlobalCoord(S[b].coord);g?(x[0]=A,x[1]=v.y,T[0]=A,T[1]=v.y+v.height):(x[0]=v.x,x[1]=A,T[0]=v.x+v.width,T[1]=A);var w=new Line$3({shape:{x1:x[0],y1:x[1],x2:T[0],y2:T[1]},silent:!0});subPixelOptimizeLine(w.shape,d);var $=_++%c.length;y[$]=y[$]||[],y[$].push(w)}for(var C=u.getLineStyle(["color"]),b=0;b<y.length;++b)r.add(mergePath(y[b],{style:defaults({stroke:c[b%c.length]},C),silent:!0}))}},splitArea:function(a,r,n,o){rectCoordAxisBuildSplitArea(a,n,o,o)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.getCoordSysModel=function(){return this},r.type="singleAxis",r.layoutMode="box",r.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},r}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(a){__extends(r,a);function r(n,o,s,l,u){var c=a.call(this,n,o,s)||this;return c.type=l||"value",c.position=u||"bottom",c}return r.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},r.prototype.pointToData=function(n,o){return this.coordinateSystem.pointToData(n)[0]},r}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function a(r,n,o){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=r,this._init(r,n,o)}return a.prototype._init=function(r,n,o){var s=this.dimension,l=new SingleAxis$1(s,createScaleByModel$1(r),[0,0],r.get("type"),r.get("position")),u=l.type==="category";l.onBand=u&&r.get("boundaryGap"),l.inverse=r.get("inverse"),l.orient=r.get("orient"),r.axis=l,l.model=r,l.coordinateSystem=this,this._axis=l},a.prototype.update=function(r,n){r.eachSeries(function(o){if(o.coordinateSystem===this){var s=o.getData();each$f(s.mapDimensionsAll(this.dimension),function(l){this._axis.scale.unionExtentFromData(s,l)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(r,n){this._rect=getLayoutRect({left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var r=this._rect,n=this._axis,o=n.isHorizontal(),s=o?[0,r.width]:[0,r.height],l=n.inverse?1:0;n.setExtent(s[l],s[1-l]),this._updateAxisTransform(n,o?r.x:r.y)},a.prototype._updateAxisTransform=function(r,n){var o=r.getExtent(),s=o[0]+o[1],l=r.isHorizontal();r.toGlobalCoord=l?function(u){return u+n}:function(u){return s-u+n},r.toLocalCoord=l?function(u){return u-n}:function(u){return s-u+n}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(r){var n=this.getRect(),o=this.getAxis(),s=o.orient;return s==="horizontal"?o.contain(o.toLocalCoord(r[0]))&&r[1]>=n.y&&r[1]<=n.y+n.height:o.contain(o.toLocalCoord(r[1]))&&r[0]>=n.y&&r[0]<=n.y+n.height},a.prototype.pointToData=function(r){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(r[n.orient==="horizontal"?0:1]))]},a.prototype.dataToPoint=function(r){var n=this.getAxis(),o=this.getRect(),s=[],l=n.orient==="horizontal"?0:1;return r instanceof Array&&(r=r[0]),s[l]=n.toGlobalCoord(n.dataToCoord(+r)),s[1-l]=l===0?o.y+o.height/2:o.x+o.width/2,s},a.prototype.convertToPixel=function(r,n,o){var s=getCoordSys$1(n);return s===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(r,n,o){var s=getCoordSys$1(n);return s===this?this.pointToData(o):null},a}();function getCoordSys$1(a){var r=a.seriesModel,n=a.singleAxisModel;return n&&n.coordinateSystem||r&&r.coordinateSystem}function create(a,r){var n=[];return a.eachComponent("singleAxis",function(o,s){var l=new Single(o,a,r);l.name="single_"+s,l.resize(o,r),o.coordinateSystem=l,n.push(l)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var s=o.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];o.coordinateSystem=s&&s.coordinateSystem}}),n}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.makeElOption=function(n,o,s,l,u){var c=s.axis,d=c.coordinateSystem,v=getGlobalExtent(d,1-getPointDimIndex(c)),g=d.dataToPoint(o)[0],y=l.get("type");if(y&&y!=="none"){var _=buildElStyle(l),S=pointerShapeBuilder[y](c,g,v);S.style=_,n.graphicKey=S.type,n.pointer=S}var x=layout$1(s);buildCartesianSingleLabelElOption(o,n,x,s,l,u)},r.prototype.getHandleTransform=function(n,o,s){var l=layout$1(o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,n,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(n,o,s,l){var u=s.axis,c=u.coordinateSystem,d=getPointDimIndex(u),v=getGlobalExtent(c,d),g=[n.x,n.y];g[d]+=o[d],g[d]=Math.min(v[1],g[d]),g[d]=Math.max(v[0],g[d]);var y=getGlobalExtent(c,1-d),_=(y[1]+y[0])/2,S=[_,_];return S[d]=g[d],{x:g[0],y:g[1],rotation:n.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}},r}(BaseAxisPointer$1),pointerShapeBuilder={line:function(a,r,n){var o=makeLineShape([r,n[0]],[r,n[1]],getPointDimIndex(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,r,n){var o=a.getBandWidth(),s=n[1]-n[0];return{type:"Rect",shape:makeRectShape([r-o/2,n[0]],[o,s],getPointDimIndex(a))}}};function getPointDimIndex(a){return a.isHorizontal()?0:1}function getGlobalExtent(a,r){var n=a.getRect();return[n[XY$1[r]],n[XY$1[r]]+n[WH$1[r]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="single",r}(ComponentView$1);function install$n(a){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),a.registerComponentView(SingleView),a.registerComponentView(SingleAxisView$1),a.registerComponentModel(SingleAxisModel$1),axisModelCreator(a,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),a.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o,s){var l=getLayoutParams(n);a.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(n,l)},r.prototype.mergeOption=function(n){a.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,n)},r.prototype.getCellSize=function(){return this.option.cellSize},r.type="calendar",r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},r}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(a,r){var n=a.cellSize,o;isArray$1(n)?o=n:o=a.cellSize=[n,n],o.length===1&&(o[1]=o[0]);var s=map$1([0,1],function(l){return sizeCalculable(r,l)&&(o[l]="auto"),o[l]!=null&&o[l]!=="auto"});mergeLayoutParam(a,r,{type:"box",ignoreSize:s})}const CalendarModel$1=CalendarModel;var CalendarView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){var l=this.group;l.removeAll();var u=n.coordinateSystem,c=u.getRangeInfo(),d=u.getOrient(),v=o.getLocaleModel();this._renderDayRect(n,c,l),this._renderLines(n,c,d,l),this._renderYearText(n,c,d,l),this._renderMonthText(n,v,d,l),this._renderWeekText(n,v,c,d,l)},r.prototype._renderDayRect=function(n,o,s){for(var l=n.coordinateSystem,u=n.getModel("itemStyle").getItemStyle(),c=l.getCellWidth(),d=l.getCellHeight(),v=o.start.time;v<=o.end.time;v=l.getNextNDay(v,1).time){var g=l.dataToRect([v],!1).tl,y=new Rect$3({shape:{x:g[0],y:g[1],width:c,height:d},cursor:"default",style:u});s.add(y)}},r.prototype._renderLines=function(n,o,s,l){var u=this,c=n.coordinateSystem,d=n.getModel(["splitLine","lineStyle"]).getLineStyle(),v=n.get(["splitLine","show"]),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=o.start,_=0;y.time<=o.end.time;_++){x(y.formatedDate),_===0&&(y=c.getDateInfo(o.start.y+"-"+o.start.m));var S=y.date;S.setMonth(S.getMonth()+1),y=c.getDateInfo(S)}x(c.getNextNDay(o.end.time,1).formatedDate);function x(T){u._firstDayOfMonth.push(c.getDateInfo(T)),u._firstDayPoints.push(c.dataToRect([T],!1).tl);var b=u._getLinePointsOfOneWeek(n,T,s);u._tlpoints.push(b[0]),u._blpoints.push(b[b.length-1]),v&&u._drawSplitline(b,d,l)}v&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,g,s),d,l),v&&this._drawSplitline(u._getEdgesPoints(u._blpoints,g,s),d,l)},r.prototype._getEdgesPoints=function(n,o,s){var l=[n[0].slice(),n[n.length-1].slice()],u=s==="horizontal"?0:1;return l[0][u]=l[0][u]-o/2,l[1][u]=l[1][u]+o/2,l},r.prototype._drawSplitline=function(n,o,s){var l=new Polyline$3({z2:20,shape:{points:n},style:o});s.add(l)},r.prototype._getLinePointsOfOneWeek=function(n,o,s){for(var l=n.coordinateSystem,u=l.getDateInfo(o),c=[],d=0;d<7;d++){var v=l.getNextNDay(u.time,d),g=l.dataToRect([v.time],!1);c[2*v.day]=g.tl,c[2*v.day+1]=g[s==="horizontal"?"bl":"tr"]}return c},r.prototype._formatterLabel=function(n,o){return isString(n)&&n?formatTplSimple(n,o):isFunction(n)?n(o):o.nameMap},r.prototype._yearTextPositionControl=function(n,o,s,l,u){var c=o[0],d=o[1],v=["center","bottom"];l==="bottom"?(d+=u,v=["center","top"]):l==="left"?c-=u:l==="right"?(c+=u,v=["center","top"]):d-=u;var g=0;return(l==="left"||l==="right")&&(g=Math.PI/2),{rotation:g,x:c,y:d,style:{align:v[0],verticalAlign:v[1]}}},r.prototype._renderYearText=function(n,o,s,l){var u=n.getModel("yearLabel");if(!!u.get("show")){var c=u.get("margin"),d=u.get("position");d||(d=s!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,y=(v[0][1]+v[1][1])/2,_=s==="horizontal"?0:1,S={top:[g,v[_][1]],bottom:[g,v[1-_][1]],left:[v[1-_][0],y],right:[v[_][0],y]},x=o.start.y;+o.end.y>+o.start.y&&(x=x+"-"+o.end.y);var T=u.get("formatter"),b={start:o.start.y,end:o.end.y,nameMap:x},A=this._formatterLabel(T,b),w=new ZRText$1({z2:30,style:createTextStyle(u,{text:A})});w.attr(this._yearTextPositionControl(w,S[d],s,d,c)),l.add(w)}},r.prototype._monthTextPositionControl=function(n,o,s,l,u){var c="left",d="top",v=n[0],g=n[1];return s==="horizontal"?(g=g+u,o&&(c="center"),l==="start"&&(d="bottom")):(v=v+u,o&&(d="middle"),l==="start"&&(c="right")),{x:v,y:g,align:c,verticalAlign:d}},r.prototype._renderMonthText=function(n,o,s,l){var u=n.getModel("monthLabel");if(!!u.get("show")){var c=u.get("nameMap"),d=u.get("margin"),v=u.get("position"),g=u.get("align"),y=[this._tlpoints,this._blpoints];(!c||isString(c))&&(c&&(o=getLocaleModel(c)||o),c=o.get(["time","monthAbbr"])||[]);var _=v==="start"?0:1,S=s==="horizontal"?0:1;d=v==="start"?-d:d;for(var x=g==="center",T=0;T<y[_].length-1;T++){var b=y[_][T].slice(),A=this._firstDayOfMonth[T];if(x){var w=this._firstDayPoints[T];b[S]=(w[S]+y[0][T+1][S])/2}var $=u.get("formatter"),C=c[+A.m-1],P={yyyy:A.y,yy:(A.y+"").slice(2),MM:A.m,M:+A.m,nameMap:C},M=this._formatterLabel($,P),E=new ZRText$1({z2:30,style:extend(createTextStyle(u,{text:M}),this._monthTextPositionControl(b,x,s,v,d))});l.add(E)}}},r.prototype._weekTextPositionControl=function(n,o,s,l,u){var c="center",d="middle",v=n[0],g=n[1],y=s==="start";return o==="horizontal"?(v=v+l+(y?1:-1)*u[0]/2,c=y?"right":"left"):(g=g+l+(y?1:-1)*u[1]/2,d=y?"bottom":"top"),{x:v,y:g,align:c,verticalAlign:d}},r.prototype._renderWeekText=function(n,o,s,l,u){var c=n.getModel("dayLabel");if(!!c.get("show")){var d=n.coordinateSystem,v=c.get("position"),g=c.get("nameMap"),y=c.get("margin"),_=d.getFirstDayOfWeek();if(!g||isString(g)){g&&(o=getLocaleModel(g)||o);var S=o.get(["time","dayOfWeekShort"]);g=S||map$1(o.get(["time","dayOfWeekAbbr"]),function(P){return P[0]})}var x=d.getNextNDay(s.end.time,7-s.lweek).time,T=[d.getCellWidth(),d.getCellHeight()];y=parsePercent(y,Math.min(T[1],T[0])),v==="start"&&(x=d.getNextNDay(s.start.time,-(7+s.fweek)).time,y=-y);for(var b=0;b<7;b++){var A=d.getNextNDay(x,b),w=d.dataToRect([A.time],!1).center,$=b;$=Math.abs((b+_)%7);var C=new ZRText$1({z2:30,style:extend(createTextStyle(c,{text:g[$]}),this._weekTextPositionControl(w,l,v,y,T))});u.add(C)}}},r.type="calendar",r}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function a(r,n,o){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=r}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(r){r=parseDate(r);var n=r.getFullYear(),o=r.getMonth()+1,s=o<10?"0"+o:""+o,l=r.getDate(),u=l<10?"0"+l:""+l,c=r.getDay();return c=Math.abs((c+7-this.getFirstDayOfWeek())%7),{y:n+"",m:s,d:u,day:c,time:r.getTime(),formatedDate:n+"-"+s+"-"+u,date:r}},a.prototype.getNextNDay=function(r,n){return n=n||0,n===0?this.getDateInfo(r):(r=new Date(this.getDateInfo(r).time),r.setDate(r.getDate()+n),this.getDateInfo(r))},a.prototype.update=function(r,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,s=["width","height"],l=this._model.getCellSize().slice(),u=this._model.getBoxLayoutParams(),c=this._orient==="horizontal"?[o,7]:[7,o];each$f([0,1],function(y){g(l,y)&&(u[s[y]]=l[y]*c[y])});var d={width:n.getWidth(),height:n.getHeight()},v=this._rect=getLayoutRect(u,d);each$f([0,1],function(y){g(l,y)||(l[y]=v[s[y]]/c[y])});function g(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=l[0],this._sh=l[1]},a.prototype.dataToPoint=function(r,n){isArray$1(r)&&(r=r[0]),n==null&&(n=!0);var o=this.getDateInfo(r),s=this._rangeInfo,l=o.formatedDate;if(n&&!(o.time>=s.start.time&&o.time<s.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var u=o.day,c=this._getRangeInfo([s.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+u*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]},a.prototype.pointToData=function(r){var n=this.pointToDate(r);return n&&n.time},a.prototype.dataToRect=function(r,n){var o=this.dataToPoint(r,n);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},a.prototype.pointToDate=function(r){var n=Math.floor((r[0]-this._rect.x)/this._sw)+1,o=Math.floor((r[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(o,n-1,s):this._getDateByWeeksAndDay(n,o-1,s)},a.prototype.convertToPixel=function(r,n,o){var s=getCoordSys(n);return s===this?s.dataToPoint(o):null},a.prototype.convertFromPixel=function(r,n,o){var s=getCoordSys(n);return s===this?s.pointToData(o):null},a.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var r=this._model.get("range"),n;if(isArray$1(r)&&r.length===1&&(r=r[0]),isArray$1(r))n=r;else{var o=r.toString();if(/^\d{4}$/.test(o)&&(n=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var s=this.getDateInfo(o),l=s.date;l.setMonth(l.getMonth()+1);var u=this.getNextNDay(l,-1);n=[s.formatedDate,u.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(n=[o,o])}if(!n)return r;var c=this._getRangeInfo(n);return c.start.time>c.end.time&&n.reverse(),n},a.prototype._getRangeInfo=function(r){var n=[this.getDateInfo(r[0]),this.getDateInfo(r[1])],o;n[0].time>n[1].time&&(o=!0,n.reverse());var s=Math.floor(n[1].time/PROXIMATE_ONE_DAY)-Math.floor(n[0].time/PROXIMATE_ONE_DAY)+1,l=new Date(n[0].time),u=l.getDate(),c=n[1].date.getDate();l.setDate(u+s-1);var d=l.getDate();if(d!==c)for(var v=l.getTime()-n[1].time>0?1:-1;(d=l.getDate())!==c&&(l.getTime()-n[1].time)*v>0;)s-=v,l.setDate(d-v);var g=Math.floor((s+n[0].day+6)/7),y=o?-g+1:g-1;return o&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:s,weeks:g,nthWeek:y,fweek:n[0].day,lweek:n[1].day}},a.prototype._getDateByWeeksAndDay=function(r,n,o){var s=this._getRangeInfo(o);if(r>s.weeks||r===0&&n<s.fweek||r===s.weeks&&n>s.lweek)return null;var l=(r-1)*7-s.fweek+n,u=new Date(s.start.time);return u.setDate(+s.start.d+l),this.getDateInfo(u)},a.create=function(r,n){var o=[];return r.eachComponent("calendar",function(s){var l=new a(s);o.push(l),s.coordinateSystem=l}),r.eachSeries(function(s){s.get("coordinateSystem")==="calendar"&&(s.coordinateSystem=o[s.get("calendarIndex")||0])}),o},a.dimensions=["time","value"],a}();function getCoordSys(a){var r=a.calendarModel,n=a.seriesModel,o=r?r.coordinateSystem:n?n.coordinateSystem:null;return o}const Calendar$1=Calendar;function install$m(a){a.registerComponentModel(CalendarModel$1),a.registerComponentView(CalendarView$1),a.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(a,r){var n=a.existing;if(r.id=a.keyInfo.id,!r.type&&n&&(r.type=n.type),r.parentId==null){var o=r.parentOption;o?r.parentId=o.id:n&&(r.parentId=n.parentId)}r.parentOption=null}function isSetLoc(a,r){var n;return each$f(r,function(o){a[o]!=null&&a[o]!=="auto"&&(n=!0)}),n}function mergeNewElOptionToExist(a,r,n){var o=extend({},n),s=a[r],l=n.$action||"merge";l==="merge"?s?(merge$1(s,o,!0),mergeLayoutParam(s,o,{ignoreSize:!0}),copyLayoutParams(n,s),copyTransitionInfo(n,s),copyTransitionInfo(n,s,"shape"),copyTransitionInfo(n,s,"style"),copyTransitionInfo(n,s,"extra"),n.clipPath=s.clipPath):a[r]=o:l==="replace"?a[r]=o:l==="remove"&&s&&(a[r]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(a,r,n){if(n&&(!a[n]&&r[n]&&(a[n]={}),a=a[n],r=r[n]),!(!a||!r))for(var o=n?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,s=0;s<o.length;s++){var l=o[s];a[l]==null&&r[l]!=null&&(a[l]=r[l])}}function setLayoutInfoToExist(a,r){if(!!a&&(a.hv=r.hv=[isSetLoc(r,["left","right"]),isSetLoc(r,["top","bottom"])],a.type==="group")){var n=a,o=r;n.width==null&&(n.width=o.width=0),n.height==null&&(n.height=o.height=0)}}var GraphicComponentModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.preventAutoZ=!0,n}return r.prototype.mergeOption=function(n,o){var s=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,n,o),this.option.elements=s},r.prototype.optionUpdated=function(n,o){var s=this.option,l=(o?s:n).elements,u=s.elements=o?[]:s.elements,c=[];this._flatten(l,c,null);var d=mappingToExists(u,c,"normalMerge"),v=this._elOptionsToUpdate=[];each$f(d,function(g,y){var _=g.newOption;!_||(v.push(_),setKeyInfoToNewElOption(g,_),mergeNewElOptionToExist(u,y,_),setLayoutInfoToExist(u[y],_))},this),s.elements=filter(u,function(g){return g&&delete g.$action,g!=null})},r.prototype._flatten=function(n,o,s){each$f(n,function(l){if(!!l){s&&(l.parentOption=s),o.push(l);var u=l.children;u&&u.length&&this._flatten(u,o,l),delete l.children}},this)},r.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},r.type="graphic",r.defaultOption={elements:[]},r}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(){this._elMap=createHashMap()},r.prototype.render=function(n,o,s){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,s)},r.prototype._updateElements=function(n){var o=n.useElOptionsToUpdate();if(!!o){var s=this._elMap,l=this.group,u=n.get("z"),c=n.get("zlevel");each$f(o,function(d){var v=convertOptionIdName(d.id,null),g=v!=null?s.get(v):null,y=convertOptionIdName(d.parentId,null),_=y!=null?s.get(y):l,S=d.type,x=d.style;S==="text"&&x&&d.hv&&d.hv[1]&&(x.textVerticalAlign=x.textBaseline=x.verticalAlign=x.align=null);var T=d.textContent,b=d.textConfig;if(x&&isEC4CompatibleStyle(x,S,!!b,!!T)){var A=convertFromEC4CompatibleStyle(x,S,!0);!b&&A.textConfig&&(b=d.textConfig=A.textConfig),!T&&A.textContent&&(T=A.textContent)}var w=getCleanedElOption(d),$=d.$action||"merge",C=$==="merge",P=$==="replace";if(C){var M=!g,E=g;M?E=createEl(v,_,d.type,s):(E&&(inner$7(E).isNew=!1),stopPreviousKeyframeAnimationAndRestore(E)),E&&(applyUpdateTransition(E,w,n,{isInit:M}),updateCommonAttrs(E,d,u,c))}else if(P){removeEl$1(g,d,s,n);var D=createEl(v,_,d.type,s);D&&(applyUpdateTransition(D,w,n,{isInit:!0}),updateCommonAttrs(D,d,u,c))}else $==="remove"&&(updateLeaveTo(g,d),removeEl$1(g,d,s,n));var I=s.get(v);if(I&&T)if(C){var R=I.getTextContent();R?R.attr(T):I.setTextContent(new ZRText$1(T))}else P&&I.setTextContent(new ZRText$1(T));if(I){var L=d.clipPath;if(L){var O=L.type,N=void 0,M=!1;if(C){var F=I.getClipPath();M=!F||inner$7(F).type!==O,N=M?newEl(O):F}else P&&(M=!0,N=newEl(O));I.setClipPath(N),applyUpdateTransition(N,L,n,{isInit:M}),applyKeyframeAnimation(N,L.keyframeAnimation,n)}var B=inner$7(I);I.setTextConfig(b),B.option=d,setEventData(I,n,d),setTooltipConfig({el:I,componentModel:n,itemName:I.name,itemTooltipOption:d.tooltip}),applyKeyframeAnimation(I,d.keyframeAnimation,n)}})}},r.prototype._relocate=function(n,o){for(var s=n.option.elements,l=this.group,u=this._elMap,c=o.getWidth(),d=o.getHeight(),v=["x","y"],g=0;g<s.length;g++){var y=s[g],_=convertOptionIdName(y.id,null),S=_!=null?u.get(_):null;if(!(!S||!S.isGroup)){var x=S.parent,T=x===l,b=inner$7(S),A=inner$7(x);b.width=parsePercent(b.option.width,T?c:A.width)||0,b.height=parsePercent(b.option.height,T?d:A.height)||0}}for(var g=s.length-1;g>=0;g--){var y=s[g],_=convertOptionIdName(y.id,null),S=_!=null?u.get(_):null;if(!!S){var x=S.parent,A=inner$7(x),w=x===l?{width:c,height:d}:{width:A.width,height:A.height},$={},C=positionElement(S,y,w,null,{hv:y.hv,boundingMode:y.bounding},$);if(!inner$7(S).isNew&&C){for(var P=y.transition,M={},E=0;E<v.length;E++){var D=v[E],I=$[D];P&&(isTransitionAll(P)||indexOf(P,D)>=0)?M[D]=I:S[D]=I}updateProps$1(S,M,n,0)}else S.attr($)}}},r.prototype._clear=function(){var n=this,o=this._elMap;o.each(function(s){removeEl$1(s,inner$7(s).option,o,n._lastGraphicModel)}),this._elMap=createHashMap()},r.prototype.dispose=function(){this._clear()},r.type="graphic",r}(ComponentView$1);function newEl(a){var r=hasOwn(nonShapeGraphicElements,a)?nonShapeGraphicElements[a]:getShapeClass(a),n=new r({});return inner$7(n).type=a,n}function createEl(a,r,n,o){var s=newEl(n);return r.add(s),o.set(a,s),inner$7(s).id=a,inner$7(s).isNew=!0,s}function removeEl$1(a,r,n,o){var s=a&&a.parent;s&&(a.type==="group"&&a.traverse(function(l){removeEl$1(l,r,n,o)}),applyLeaveTransition(a,r,o),n.removeKey(inner$7(a).id))}function updateCommonAttrs(a,r,n,o){a.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",o||0],["z",n||0],["z2",0]],function(s){var l=s[0];hasOwn(r,l)?a[l]=retrieve2(r[l],s[1]):a[l]==null&&(a[l]=s[1])}),each$f(keys(r),function(s){if(s.indexOf("on")===0){var l=r[s];a[s]=isFunction(l)?l:null}}),hasOwn(r,"draggable")&&(a.draggable=r.draggable),r.name!=null&&(a.name=r.name),r.id!=null&&(a.id=r.id)}function getCleanedElOption(a){return a=extend({},a),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(r){delete a[r]}),a}function setEventData(a,r,n){var o=getECData(a).eventData;!a.silent&&!a.ignore&&!o&&(o=getECData(a).eventData={componentType:"graphic",componentIndex:r.componentIndex,name:a.name}),o&&(o.info=n.info)}function install$l(a){a.registerComponentModel(GraphicComponentModel),a.registerComponentView(GraphicComponentView),a.registerPreprocessor(function(r){var n=r.graphic;isArray$1(n)?!n[0]||!n[0].elements?r.graphic=[{elements:n}]:r.graphic=[r.graphic[0]]:n&&!n.elements&&(r.graphic=[{elements:[n]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(a){var r=a.get("coordinateSystem");return indexOf(SERIES_COORDS,r)>=0}function getAxisMainType(a){return a+"Axis"}function findEffectedDataZooms(a,r){var n=createHashMap(),o=[],s=createHashMap();a.eachComponent({mainType:"dataZoom",query:r},function(g){s.get(g.uid)||c(g)});var l;do l=!1,a.eachComponent("dataZoom",u);while(l);function u(g){!s.get(g.uid)&&d(g)&&(c(g),l=!0)}function c(g){s.set(g.uid,!0),o.push(g),v(g)}function d(g){var y=!1;return g.eachTargetAxis(function(_,S){var x=n.get(_);x&&x[S]&&(y=!0)}),y}function v(g){g.eachTargetAxis(function(y,_){(n.get(y)||n.set(y,[]))[_]=!0})}return o}function collectReferCoordSysModelInfo(a){var r=a.ecModel,n={infoList:[],infoMap:createHashMap()};return a.eachTargetAxis(function(o,s){var l=r.getComponent(getAxisMainType(o),s);if(!!l){var u=l.getCoordSysModel();if(!!u){var c=u.uid,d=n.infoMap.get(c);d||(d={model:u,axisModels:[]},n.infoList.push(d),n.infoMap.set(c,d)),d.axisModels.push(l)}}}),n}var DataZoomAxisInfo=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(r){this.indexMap[r]||(this.indexList.push(r),this.indexMap[r]=!0)},a}(),DataZoomModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return r.prototype.init=function(n,o,s){var l=retrieveRawOption(n);this.settledOption=l,this.mergeDefaultAndTheme(n,s),this._doInit(l)},r.prototype.mergeOption=function(n){var o=retrieveRawOption(n);merge$1(this.option,n,!0),merge$1(this.settledOption,o,!0),this._doInit(o)},r.prototype._doInit=function(n){var o=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var s=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(l,u){this._rangePropMode[u]==="value"&&(o[l[0]]=s[l[0]]=null)},this),this._resetTarget()},r.prototype._resetTarget=function(){var n=this.get("orient",!0),o=this._targetAxisInfoMap=createHashMap(),s=this._fillSpecifiedTargetAxis(o);s?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(l){l.indexList.length&&(this._noTarget=!1)},this)},r.prototype._fillSpecifiedTargetAxis=function(n){var o=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(s){var l=this.getReferringComponents(getAxisMainType(s),MULTIPLE_REFERRING);if(!!l.specified){o=!0;var u=new DataZoomAxisInfo;each$f(l.models,function(c){u.add(c.componentIndex)}),n.set(s,u)}},this),o},r.prototype._fillAutoTargetAxisByOrient=function(n,o){var s=this.ecModel,l=!0;if(l){var u=o==="vertical"?"y":"x",c=s.findComponents({mainType:u+"Axis"});d(c,u)}if(l){var c=s.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===o}});d(c,"single")}function d(v,g){var y=v[0];if(!!y){var _=new DataZoomAxisInfo;if(_.add(y.componentIndex),n.set(g,_),l=!1,g==="x"||g==="y"){var S=y.getReferringComponents("grid",SINGLE_REFERRING).models[0];S&&each$f(v,function(x){y.componentIndex!==x.componentIndex&&S===x.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&_.add(x.componentIndex)})}}}l&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(v){if(!!l){var g=s.findComponents({mainType:getAxisMainType(v),filter:function(_){return _.get("type",!0)==="category"}});if(g[0]){var y=new DataZoomAxisInfo;y.add(g[0].componentIndex),n.set(v,y),l=!1}}},this)},r.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(o){!n&&(n=o)},this),n==="y"?"vertical":"horizontal"},r.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},r.prototype._updateRangeUse=function(n){var o=this._rangePropMode,s=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(l,u){var c=n[l[0]]!=null,d=n[l[1]]!=null;c&&!d?o[u]="percent":!c&&d?o[u]="value":s?o[u]=s[u]:c&&(o[u]="percent")})},r.prototype.noTarget=function(){return this._noTarget},r.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(o,s){n==null&&(n=this.ecModel.getComponent(getAxisMainType(o),s))},this),n},r.prototype.eachTargetAxis=function(n,o){this._targetAxisInfoMap.each(function(s,l){each$f(s.indexList,function(u){n.call(o,l,u)})})},r.prototype.getAxisProxy=function(n,o){var s=this.getAxisModel(n,o);if(s)return s.__dzAxisProxy},r.prototype.getAxisModel=function(n,o){var s=this._targetAxisInfoMap.get(n);if(s&&s.indexMap[o])return this.ecModel.getComponent(getAxisMainType(n),o)},r.prototype.setRawRange=function(n){var o=this.option,s=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(l){(n[l[0]]!=null||n[l[1]]!=null)&&(o[l[0]]=s[l[0]]=n[l[0]],o[l[1]]=s[l[1]]=n[l[1]])},this),this._updateRangeUse(n)},r.prototype.setCalculatedRange=function(n){var o=this.option;each$f(["start","startValue","end","endValue"],function(s){o[s]=n[s]})},r.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},r.prototype.getValueRange=function(n,o){if(n==null&&o==null){var s=this.findRepresentativeAxisProxy();if(s)return s.getDataValueWindow()}else return this.getAxisProxy(n,o).getDataValueWindow()},r.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var o,s=this._targetAxisInfoMap.keys(),l=0;l<s.length;l++)for(var u=s[l],c=this._targetAxisInfoMap.get(u),d=0;d<c.indexList.length;d++){var v=this.getAxisProxy(u,c.indexList[d]);if(v.hostedBy(this))return v;o||(o=v)}return o},r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},r.prototype.getOrient=function(){return this._orient},r.type="dataZoom",r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],r.defaultOption={z:4,filterMode:"filter",start:0,end:100},r}(ComponentModel$1);function retrieveRawOption(a){var r={};return each$f(["start","end","startValue","endValue","throttle"],function(n){a.hasOwnProperty(n)&&(r[n]=a[n])}),r}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="dataZoom.select",r}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s,l){this.dataZoomModel=n,this.ecModel=o,this.api=s},r.type="dataZoom",r}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="dataZoom.select",r}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function a(r,n,o,s){this._dimName=r,this._axisIndex=n,this.ecModel=s,this._dataZoomModel=o}return a.prototype.hostedBy=function(r){return this._dataZoomModel===r},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var r=[];return this.ecModel.eachSeries(function(n){if(isCoordSupported(n)){var o=getAxisMainType(this._dimName),s=n.getReferringComponents(o,SINGLE_REFERRING).models[0];s&&this._axisIndex===s.componentIndex&&r.push(n)}},this),r},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},a.prototype.calculateDataWindow=function(r){var n=this._dataExtent,o=this.getAxisModel(),s=o.axis.scale,l=this._dataZoomModel.getRangePropMode(),u=[0,100],c=[],d=[],v;each$7(["start","end"],function(_,S){var x=r[_],T=r[_+"Value"];l[S]==="percent"?(x==null&&(x=u[S]),T=s.parse(linearMap$2(x,u,n))):(v=!0,T=T==null?n[S]:s.parse(T),x=linearMap$2(T,n,u)),d[S]=T,c[S]=x}),asc$1(d),asc$1(c);var g=this._minMaxSpan;v?y(d,c,n,u,!1):y(c,d,u,n,!0);function y(_,S,x,T,b){var A=b?"Span":"ValueSpan";sliderMove(0,_,x,"all",g["min"+A],g["max"+A]);for(var w=0;w<2;w++)S[w]=linearMap$2(_[w],x,T,!0),b&&(S[w]=s.parse(S[w]))}return{valueWindow:d,percentWindow:c}},a.prototype.reset=function(r){if(r===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,n),this._updateMinMaxSpan();var o=this.calculateDataWindow(r.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(r,n){if(r!==this._dataZoomModel)return;var o=this._dimName,s=this.getTargetSeriesModels(),l=r.get("filterMode"),u=this._valueWindow;if(l==="none")return;each$7(s,function(d){var v=d.getData(),g=v.mapDimensionsAll(o);if(!!g.length){if(l==="weakFilter"){var y=v.getStore(),_=map$1(g,function(S){return v.getDimensionIndex(S)},v);v.filterSelf(function(S){for(var x,T,b,A=0;A<g.length;A++){var w=y.get(_[A],S),$=!isNaN(w),C=w<u[0],P=w>u[1];if($&&!C&&!P)return!0;$&&(b=!0),C&&(x=!0),P&&(T=!0)}return b&&x&&T})}else each$7(g,function(S){if(l==="empty")d.setData(v=v.map(S,function(T){return c(T)?T:NaN}));else{var x={};x[S]=u,v.selectRange(x)}});each$7(g,function(S){v.setApproximateExtent(u,S)})}});function c(d){return d>=u[0]&&d<=u[1]}},a.prototype._updateMinMaxSpan=function(){var r=this._minMaxSpan={},n=this._dataZoomModel,o=this._dataExtent;each$7(["min","max"],function(s){var l=n.get(s+"Span"),u=n.get(s+"ValueSpan");u!=null&&(u=this.getAxisModel().axis.scale.parse(u)),u!=null?l=linearMap$2(o[0]+u,o,[0,100],!0):l!=null&&(u=linearMap$2(l,[0,100],o,!0)-o[0]),r[s+"Span"]=l,r[s+"ValueSpan"]=u},this)},a.prototype._setAxisModel=function(){var r=this.getAxisModel(),n=this._percentWindow,o=this._valueWindow;if(!!n){var s=getPixelPrecision(o,[0,500]);s=Math.min(s,20);var l=r.axis.scale.rawExtentInfo;n[0]!==0&&l.setDeterminedMinMax("min",+o[0].toFixed(s)),n[1]!==100&&l.setDeterminedMinMax("max",+o[1].toFixed(s)),l.freeze()}},a}();function calculateDataExtent(a,r,n){var o=[1/0,-1/0];each$7(n,function(u){unionAxisExtentFromData(o,u.getData(),r)});var s=a.getAxisModel(),l=ensureScaleRawExtentInfo(s.axis.scale,s,o).calculate();return[l.min,l.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(a){function r(s){a.eachComponent("dataZoom",function(l){l.eachTargetAxis(function(u,c){var d=a.getComponent(getAxisMainType(u),c);s(u,c,d,l)})})}r(function(s,l,u,c){u.__dzAxisProxy=null});var n=[];r(function(s,l,u,c){u.__dzAxisProxy||(u.__dzAxisProxy=new AxisProxy$1(s,l,c,a),n.push(u.__dzAxisProxy))});var o=createHashMap();return each$f(n,function(s){each$f(s.getTargetSeriesModels(),function(l){o.set(l.uid,l)})}),o},overallReset:function(a,r){a.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){n.getAxisProxy(o,s).reset(n)}),n.eachTargetAxis(function(o,s){n.getAxisProxy(o,s).filterData(n,r)})}),a.eachComponent("dataZoom",function(n){var o=n.findRepresentativeAxisProxy();if(o){var s=o.getDataPercentWindow(),l=o.getDataValueWindow();n.setCalculatedRange({start:s[0],end:s[1],startValue:l[0],endValue:l[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(a){a.registerAction("dataZoom",function(r,n){var o=findEffectedDataZooms(n,r);each$f(o,function(s){s.setRawRange({start:r.start,end:r.end,startValue:r.startValue,endValue:r.endValue})})})}var installed$1=!1;function installCommon$1(a){installed$1||(installed$1=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(a){a.registerComponentModel(SelectZoomModel),a.registerComponentView(SelectZoomView),installCommon$1(a)}var ToolboxFeature=function(){function a(){}return a}(),features={};function registerFeature(a,r){features[a]=r}function getFeature(a){return features[a]}var ToolboxModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;each$f(this.option.feature,function(o,s){var l=getFeature(s);l&&(l.getDefaultOption&&(l.defaultOption=l.getDefaultOption(n)),merge$1(o,l.defaultOption))})},r.type="toolbox",r.layoutMode={type:"box",ignoreSize:!0},r.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},r}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout(a,r,n){var o=r.getBoxLayoutParams(),s=r.get("padding"),l={width:n.getWidth(),height:n.getHeight()},u=getLayoutRect(o,l,s);box(r.get("orient"),a,r.get("itemGap"),u.width,u.height),positionElement(a,o,l,s)}function makeBackground(a,r){var n=normalizeCssArray(r.get("padding")),o=r.getItemStyle(["color","opacity"]);return o.fill=r.get("backgroundColor"),a=new Rect$3({shape:{x:a.x-n[3],y:a.y-n[0],width:a.width+n[1]+n[3],height:a.height+n[0]+n[2],r:r.get("borderRadius")},style:o,silent:!0,z2:-1}),a}var ToolboxView=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(n,o,s,l){var u=this.group;if(u.removeAll(),!n.get("show"))return;var c=+n.get("itemSize"),d=n.get("orient")==="vertical",v=n.get("feature")||{},g=this._features||(this._features={}),y=[];each$f(v,function(x,T){y.push(T)}),new DataDiffer$1(this._featureNames||[],y).add(_).update(_).remove(curry$1(_,null)).execute(),this._featureNames=y;function _(x,T){var b=y[x],A=y[T],w=v[b],$=new Model$1(w,n,n.ecModel),C;if(l&&l.newTitle!=null&&l.featureName===b&&(w.title=l.newTitle),b&&!A){if(isUserFeatureName(b))C={onclick:$.option.onclick,featureName:b};else{var P=getFeature(b);if(!P)return;C=new P}g[b]=C}else if(C=g[A],!C)return;C.uid=getUID("toolbox-feature"),C.model=$,C.ecModel=o,C.api=s;var M=C instanceof ToolboxFeature;if(!b&&A){M&&C.dispose&&C.dispose(o,s);return}if(!$.get("show")||M&&C.unusable){M&&C.remove&&C.remove(o,s);return}S($,C,b),$.setIconStatus=function(E,D){var I=this.option,R=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[E]=D,R[E]&&(D==="emphasis"?enterEmphasis:leaveEmphasis)(R[E])},C instanceof ToolboxFeature&&C.render&&C.render($,o,s,l)}function S(x,T,b){var A=x.getModel("iconStyle"),w=x.getModel(["emphasis","iconStyle"]),$=T instanceof ToolboxFeature&&T.getIcons?T.getIcons():x.get("icon"),C=x.get("title")||{},P,M;isString($)?(P={},P[b]=$):P=$,isString(C)?(M={},M[b]=C):M=C;var E=x.iconPaths={};each$f(P,function(D,I){var R=createIcon(D,{},{x:-c/2,y:-c/2,width:c,height:c});R.setStyle(A.getItemStyle());var L=R.ensureState("emphasis");L.style=w.getItemStyle();var O=new ZRText$1({style:{text:M[I],align:w.get("textAlign"),borderRadius:w.get("textBorderRadius"),padding:w.get("textPadding"),fill:null},ignore:!0});R.setTextContent(O),setTooltipConfig({el:R,componentModel:n,itemName:I,formatterParamsExtra:{title:M[I]}}),R.__title=M[I],R.on("mouseover",function(){var N=w.getItemStyle(),F=d?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";O.setStyle({fill:w.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:w.get("textBackgroundColor")}),R.setTextConfig({position:w.get("textPosition")||F}),O.ignore=!n.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){x.get(["iconStatus",I])!=="emphasis"&&s.leaveEmphasis(this),O.hide()}),(x.get(["iconStatus",I])==="emphasis"?enterEmphasis:leaveEmphasis)(R),u.add(R),R.on("click",bind$1(T.onclick,T,o,s,I)),E[I]=R})}layout(u,n,s),u.add(makeBackground(u.getBoundingRect(),n)),d||u.eachChild(function(x){var T=x.__title,b=x.ensureState("emphasis"),A=b.textConfig||(b.textConfig={}),w=x.getTextContent(),$=w&&w.ensureState("emphasis");if($&&!isFunction($)&&T){var C=$.style||($.style={}),P=getBoundingRect(T,ZRText$1.makeFont(C)),M=x.x+u.x,E=x.y+u.y+c,D=!1;E+P.height>s.getHeight()&&(A.position="top",D=!0);var I=D?-5-P.height:c+10;M+P.width/2>s.getWidth()?(A.position=["100%",I],C.align="right"):M-P.width/2<0&&(A.position=[0,I],C.align="left")}})},r.prototype.updateView=function(n,o,s,l){each$f(this._features,function(u){u instanceof ToolboxFeature&&u.updateView&&u.updateView(u.model,o,s,l)})},r.prototype.remove=function(n,o){each$f(this._features,function(s){s instanceof ToolboxFeature&&s.remove&&s.remove(n,o)}),this.group.removeAll()},r.prototype.dispose=function(n,o){each$f(this._features,function(s){s instanceof ToolboxFeature&&s.dispose&&s.dispose(n,o)})},r.type="toolbox",r}(ComponentView$1);function isUserFeatureName(a){return a.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.onclick=function(n,o){var s=this.model,l=s.get("name")||n.get("title.0.text")||"echarts",u=o.getZr().painter.getType()==="svg",c=u?"svg":s.get("type",!0)||"png",d=o.getConnectedDataURL({type:c,backgroundColor:s.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),v=env$1.browser;if(isFunction(MouseEvent)&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=l+"."+c,g.target="_blank",g.href=d;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||u){var _=d.split(","),S=_[0].indexOf("base64")>-1,x=u?decodeURIComponent(_[1]):_[1];S&&(x=window.atob(x));var T=l+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var b=x.length,A=new Uint8Array(b);b--;)A[b]=x.charCodeAt(b);var w=new Blob([A]);window.navigator.msSaveOrOpenBlob(w,T)}else{var $=document.createElement("iframe");document.body.appendChild($);var C=$.contentWindow,P=C.document;P.open("image/svg+xml","replace"),P.write(x),P.close(),C.focus(),P.execCommand("SaveAs",!0,T),document.body.removeChild($)}}else{var M=s.get("lang"),E='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(M&&M[0]||"")+'" /></body>',D=window.open();D.document.write(E),D.document.title=l}},r.getDefaultOption=function(n){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},r}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.getIcons=function(){var n=this.model,o=n.get("icon"),s={};return each$f(n.get("type"),function(l){o[l]&&(s[l]=o[l])}),s},r.getDefaultOption=function(n){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},r.prototype.onclick=function(n,o,s){var l=this.model,u=l.get(["seriesIndex",s]);if(!!seriesOptGenreator[s]){var c={series:[]},d=function(y){var _=y.subType,S=y.id,x=seriesOptGenreator[s](_,S,y,l);x&&(defaults(x,y.option),c.series.push(x));var T=y.coordinateSystem;if(T&&T.type==="cartesian2d"&&(s==="line"||s==="bar")){var b=T.getAxesByScale("ordinal")[0];if(b){var A=b.dim,w=A+"Axis",$=y.getReferringComponents(w,SINGLE_REFERRING).models[0],C=$.componentIndex;c[w]=c[w]||[];for(var P=0;P<=C;P++)c[w][C]=c[w][C]||{};c[w][C].boundaryGap=s==="bar"}}};each$f(radioTypes,function(y){indexOf(y,s)>=0&&each$f(y,function(_){l.setIconStatus(_,"normal")})}),l.setIconStatus(s,"emphasis"),n.eachComponent({mainType:"series",query:u==null?null:{seriesIndex:u}},d);var v,g=s;s==="stack"&&(v=merge$1({stack:l.option.title.tiled,tiled:l.option.title.stack},l.option.title),l.get(["iconStatus",s])!=="emphasis"&&(g="tiled")),o.dispatchAction({type:"changeMagicType",currentType:g,newOption:c,newTitle:v,featureName:"magicType"})}},r}(ToolboxFeature),seriesOptGenreator={line:function(a,r,n,o){if(a==="bar")return merge$1({id:r,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(a,r,n,o){if(a==="line")return merge$1({id:r,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(a,r,n,o){var s=n.get("stack")===INNER_STACK_KEYWORD;if(a==="line"||a==="bar")return o.setIconStatus("stack",s?"normal":"emphasis"),merge$1({id:r,stack:s?"":INNER_STACK_KEYWORD},o.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,r){r.mergeOption(a.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(a){var r={},n=[],o=[];return a.eachRawSeries(function(s){var l=s.coordinateSystem;if(l&&(l.type==="cartesian2d"||l.type==="polar")){var u=l.getBaseAxis();if(u.type==="category"){var c=u.dim+"_"+u.index;r[c]||(r[c]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},o.push({axisDim:u.dim,axisIndex:u.index})),r[c].series.push(s)}else n.push(s)}else n.push(s)}),{seriesGroupByCategoryAxis:r,other:n,meta:o}}function assembleSeriesWithCategoryAxis(a){var r=[];return each$f(a,function(n,o){var s=n.categoryAxis,l=n.valueAxis,u=l.dim,c=[" "].concat(map$1(n.series,function(S){return S.name})),d=[s.model.getCategories()];each$f(n.series,function(S){var x=S.getRawData();d.push(S.getRawData().mapArray(x.mapDimension(u),function(T){return T}))});for(var v=[c.join(ITEM_SPLITER)],g=0;g<d[0].length;g++){for(var y=[],_=0;_<d.length;_++)y.push(d[_][g]);v.push(y.join(ITEM_SPLITER))}r.push(v.join(`
`))}),r.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(a){return map$1(a,function(r){var n=r.getRawData(),o=[r.name],s=[];return n.each(n.dimensions,function(){for(var l=arguments.length,u=arguments[l-1],c=n.getName(u),d=0;d<l-1;d++)s[d]=arguments[d];o.push((c?c+ITEM_SPLITER:"")+s.join(ITEM_SPLITER))}),o.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(a){var r=groupSeries(a);return{value:filter([assembleSeriesWithCategoryAxis(r.seriesGroupByCategoryAxis),assembleOtherSeries(r.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:r.meta}}function trim(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(a){var r=a.slice(0,a.indexOf(`
`));if(r.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(a){for(var r=a.split(/\n+/g),n=trim(r.shift()).split(itemSplitRegex),o=[],s=map$1(n,function(d){return{name:d,data:[]}}),l=0;l<r.length;l++){var u=trim(r[l]).split(itemSplitRegex);o.push(u.shift());for(var c=0;c<u.length;c++)s[c]&&(s[c].data[l]=u[c])}return{series:s,categories:o}}function parseListContents(a){for(var r=a.split(/\n+/g),n=trim(r.shift()),o=[],s=0;s<r.length;s++){var l=trim(r[s]);if(!!l){var u=l.split(itemSplitRegex),c="",d=void 0,v=!1;isNaN(u[0])?(v=!0,c=u[0],u=u.slice(1),o[s]={name:c,value:[]},d=o[s].value):d=o[s]=[];for(var g=0;g<u.length;g++)d.push(+u[g]);d.length===1&&(v?o[s].value=d[0]:o[s]=d[0])}}return{name:n,data:o}}function parseContents(a,r){var n=a.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),o={series:[]};return each$f(n,function(s,l){if(isTSVFormat(s)){var u=parseTSVContents(s),c=r[l],d=c.axisDim+"Axis";c&&(o[d]=o[d]||[],o[d][c.axisIndex]={data:u.categories},o.series=o.series.concat(u.series))}else{var u=parseListContents(s);o.series.push(u)}}),o}var DataView=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.onclick=function(n,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var s=o.getDom(),l=this.model;this._dom&&s.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=l.get("backgroundColor")||"#fff";var c=document.createElement("h4"),d=l.get("lang")||[];c.innerHTML=d[0]||l.get("title"),c.style.cssText="margin:10px 20px",c.style.color=l.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var y=l.get("optionToContent"),_=l.get("contentToOption"),S=getContentFromModel(n);if(isFunction(y)){var x=y(o.getOption());isString(x)?v.innerHTML=x:isDom(x)&&v.appendChild(x)}else{g.readOnly=l.get("readOnly");var T=g.style;T.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",T.color=l.get("textColor"),T.borderColor=l.get("textareaBorderColor"),T.backgroundColor=l.get("textareaColor"),g.value=S.value,v.appendChild(g)}var b=S.meta,A=document.createElement("div");A.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",$=document.createElement("div"),C=document.createElement("div");w+=";background-color:"+l.get("buttonColor"),w+=";color:"+l.get("buttonTextColor");var P=this;function M(){s.removeChild(u),P._dom=null}addEventListener($,"click",M),addEventListener(C,"click",function(){if(_==null&&y!=null||_!=null&&y==null){M();return}var E;try{isFunction(_)?E=_(v,o.getOption()):E=parseContents(g.value,b)}catch(D){throw M(),new Error("Data view format error "+D)}E&&o.dispatchAction({type:"changeDataView",newOption:E}),M()}),$.innerHTML=d[1],C.innerHTML=d[2],C.style.cssText=$.style.cssText=w,!l.get("readOnly")&&A.appendChild(C),A.appendChild($),u.appendChild(c),u.appendChild(v),u.appendChild(A),v.style.height=s.clientHeight-80+"px",s.appendChild(u),this._dom=u},r.prototype.remove=function(n,o){this._dom&&o.getDom().removeChild(this._dom)},r.prototype.dispose=function(n,o){this.remove(n,o)},r.getDefaultOption=function(n){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return o},r}(ToolboxFeature);function tryMergeDataOption(a,r){return map$1(a,function(n,o){var s=r&&r[o];if(isObject$5(s)&&!isArray$1(s)){var l=isObject$5(n)&&!isArray$1(n);l||(n={value:n});var u=s.name!=null&&n.name==null;return n=defaults(n,s),u&&delete n.name,n}else return n})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,r){var n=[];each$f(a.newOption.series,function(o){var s=r.getSeriesByName(o.name)[0];if(!s)n.push(extend({type:"scatter"},o));else{var l=s.get("data");n.push({name:o.name,data:tryMergeDataOption(o.data,l)})}}),r.mergeOption(defaults({series:n},a.newOption))});const DataView$1=DataView;var each$6=each$f,inner$6=makeInner();function push(a,r){var n=getStoreSnapshots(a);each$6(r,function(o,s){for(var l=n.length-1;l>=0;l--){var u=n[l];if(u[s])break}if(l<0){var c=a.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(c){var d=c.getPercentRange();n[0][s]={dataZoomId:s,start:d[0],end:d[1]}}}}),n.push(r)}function pop(a){var r=getStoreSnapshots(a),n=r[r.length-1];r.length>1&&r.pop();var o={};return each$6(n,function(s,l){for(var u=r.length-1;u>=0;u--)if(s=r[u][l],s){o[l]=s;break}}),o}function clear(a){inner$6(a).snapshots=null}function count(a){return getStoreSnapshots(a).length}function getStoreSnapshots(a){var r=inner$6(a);return r.snapshots||(r.snapshots=[{}]),r.snapshots}var RestoreOption=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.onclick=function(n,o){clear(n),o.dispatchAction({type:"restore",from:this.uid})},r.getDefaultOption=function(n){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return o},r}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,r){r.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function a(r,n,o){var s=this;this._targetInfoList=[];var l=parseFinder(n,r);each$f(targetInfoBuilders,function(u,c){(!o||!o.include||indexOf(o.include,c)>=0)&&u(l,s._targetInfoList)})}return a.prototype.setOutputRanges=function(r,n){return this.matchOutputRanges(r,n,function(o,s,l){if((o.coordRanges||(o.coordRanges=[])).push(s),!o.coordRange){o.coordRange=s;var u=coordConvert[o.brushType](0,l,s);o.__rangeOffset={offset:diffProcessor[o.brushType](u.values,o.range,[1,1]),xyMinMax:u.xyMinMax}}}),r},a.prototype.matchOutputRanges=function(r,n,o){each$f(r,function(s){var l=this.findTargetInfo(s,n);l&&l!==!0&&each$f(l.coordSyses,function(u){var c=coordConvert[s.brushType](1,u,s.range,!0);o(s,c.values,u,n)})},this)},a.prototype.setInputRanges=function(r,n){each$f(r,function(o){var s=this.findTargetInfo(o,n);if(o.range=o.range||[],s&&s!==!0){o.panelId=s.panelId;var l=coordConvert[o.brushType](0,s.coordSys,o.coordRange),u=o.__rangeOffset;o.range=u?diffProcessor[o.brushType](l.values,u.offset,getScales(l.xyMinMax,u.xyMinMax)):l.values}},this)},a.prototype.makePanelOpts=function(r,n){return map$1(this._targetInfoList,function(o){var s=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:n?n(o):null,clipPath:makeRectPanelClipPath(s),isTargetByCursor:makeRectIsTargetByCursor(s,r,o.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(s)}})},a.prototype.controlSeries=function(r,n,o){var s=this.findTargetInfo(r,o);return s===!0||s&&indexOf(s.coordSyses,n.coordinateSystem)>=0},a.prototype.findTargetInfo=function(r,n){for(var o=this._targetInfoList,s=parseFinder(n,r),l=0;l<o.length;l++){var u=o[l],c=r.panelId;if(c){if(u.panelId===c)return u}else for(var d=0;d<targetInfoMatchers.length;d++)if(targetInfoMatchers[d](s,u))return u}return!0},a}();function formatMinMax(a){return a[0]>a[1]&&a.reverse(),a}function parseFinder(a,r){return parseFinder$1(a,r,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(a,r){var n=a.xAxisModels,o=a.yAxisModels,s=a.gridModels,l=createHashMap(),u={},c={};!n&&!o&&!s||(each$f(n,function(d){var v=d.axis.grid.model;l.set(v.id,v),u[v.id]=!0}),each$f(o,function(d){var v=d.axis.grid.model;l.set(v.id,v),c[v.id]=!0}),each$f(s,function(d){l.set(d.id,d),u[d.id]=!0,c[d.id]=!0}),l.each(function(d){var v=d.coordinateSystem,g=[];each$f(v.getCartesians(),function(y,_){(indexOf(n,y.getAxis("x").model)>=0||indexOf(o,y.getAxis("y").model)>=0)&&g.push(y)}),r.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:g[0],coordSyses:g,getPanelRect:panelRectBuilders.grid,xAxisDeclared:u[d.id],yAxisDeclared:c[d.id]})}))},geo:function(a,r){each$f(a.geoModels,function(n){var o=n.coordinateSystem;r.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:o,coordSyses:[o],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(a,r){var n=a.xAxisModel,o=a.yAxisModel,s=a.gridModel;return!s&&n&&(s=n.axis.grid.model),!s&&o&&(s=o.axis.grid.model),s&&s===r.gridModel},function(a,r){var n=a.geoModel;return n&&n===r.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,r=a.getBoundingRect().clone();return r.applyTransform(getTransform$1(a)),r}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(a,r,n,o){var s=a?r.pointToData([n[0][0],n[1][0]],o):r.dataToPoint([n[0][0],n[1][0]],o),l=a?r.pointToData([n[0][1],n[1][1]],o):r.dataToPoint([n[0][1],n[1][1]],o),u=[formatMinMax([s[0],l[0]]),formatMinMax([s[1],l[1]])];return{values:u,xyMinMax:u}},polygon:function(a,r,n,o){var s=[[1/0,-1/0],[1/0,-1/0]],l=map$1(n,function(u){var c=a?r.pointToData(u,o):r.dataToPoint(u,o);return s[0][0]=Math.min(s[0][0],c[0]),s[1][0]=Math.min(s[1][0],c[1]),s[0][1]=Math.max(s[0][1],c[0]),s[1][1]=Math.max(s[1][1],c[1]),c});return{values:l,xyMinMax:s}}};function axisConvert(a,r,n,o){var s=n.getAxis(["x","y"][a]),l=formatMinMax(map$1([0,1],function(c){return r?s.coordToData(s.toLocalCoord(o[c]),!0):s.toGlobalCoord(s.dataToCoord(o[c]))})),u=[];return u[a]=l,u[1-a]=[NaN,NaN],{values:l,xyMinMax:u}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(a,r,n){return[[a[0][0]-n[0]*r[0][0],a[0][1]-n[0]*r[0][1]],[a[1][0]-n[1]*r[1][0],a[1][1]-n[1]*r[1][1]]]},polygon:function(a,r,n){return map$1(a,function(o,s){return[o[0]-n[0]*r[s][0],o[1]-n[1]*r[s][1]]})}};function axisDiffProcessor(a,r,n,o){return[r[0]-o[a]*n[0],r[1]-o[a]*n[1]]}function getScales(a,r){var n=getSize(a),o=getSize(r),s=[n[0]/o[0],n[1]/o[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}function getSize(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(n,o,s,l){this._brushController||(this._brushController=new BrushController$1(s.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(n,o,this,l,s),updateBackBtnStatus(n,o)},r.prototype.onclick=function(n,o,s){handlers[s].call(this)},r.prototype.remove=function(n,o){this._brushController&&this._brushController.unmount()},r.prototype.dispose=function(n,o){this._brushController&&this._brushController.dispose()},r.prototype._onBrush=function(n){var o=n.areas;if(!n.isEnd||!o.length)return;var s={},l=this.ecModel;this._brushController.updateCovers([]);var u=new BrushTargetManager$1(makeAxisFinder(this.model),l,{include:["grid"]});u.matchOutputRanges(o,l,function(v,g,y){if(y.type==="cartesian2d"){var _=v.brushType;_==="rect"?(c("x",y,g[0]),c("y",y,g[1])):c({lineX:"x",lineY:"y"}[_],y,g)}}),push(l,s),this._dispatchZoomAction(s);function c(v,g,y){var _=g.getAxis(v),S=_.model,x=d(v,S,l),T=x.findRepresentativeAxisProxy(S).getMinMaxSpan();(T.minValueSpan!=null||T.maxValueSpan!=null)&&(y=sliderMove(0,y.slice(),_.scale.getExtent(),0,T.minValueSpan,T.maxValueSpan)),x&&(s[x.id]={dataZoomId:x.id,startValue:y[0],endValue:y[1]})}function d(v,g,y){var _;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(S){var x=S.getAxisModel(v,g.componentIndex);x&&(_=S)}),_}},r.prototype._dispatchZoomAction=function(n){var o=[];each$5(n,function(s,l){o.push(clone$4(s))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},r.getDefaultOption=function(n){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return o},r}(ToolboxFeature),handlers={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(a){var r={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return r.xAxisIndex==null&&r.xAxisId==null&&(r.xAxisIndex="all"),r.yAxisIndex==null&&r.yAxisId==null&&(r.yAxisIndex="all"),r}function updateBackBtnStatus(a,r){a.setIconStatus("back",count(r)>1?"emphasis":"normal")}function updateZoomBtnStatus(a,r,n,o,s){var l=n._isZoomActive;o&&o.type==="takeGlobalCursor"&&(l=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),n._isZoomActive=l,a.setIconStatus("zoom",l?"emphasis":"normal");var u=new BrushTargetManager$1(makeAxisFinder(a),r,{include:["grid"]}),c=u.makePanelOpts(s,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(c).enableBrush(l&&c.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(a){var r=a.getComponent("toolbox",0),n=["feature","dataZoom"];if(!r||r.get(n)==null)return;var o=r.getModel(n),s=[],l=makeAxisFinder(o),u=parseFinder$1(a,l);each$5(u.xAxisModels,function(d){return c(d,"xAxis","xAxisIndex")}),each$5(u.yAxisModels,function(d){return c(d,"yAxis","yAxisIndex")});function c(d,v,g){var y=d.componentIndex,_={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+v+y};_[g]=y,s.push(_)}return s});const DataZoom=DataZoomFeature;function install$j(a){a.registerComponentModel(ToolboxModel$1),a.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="tooltip",r.dependencies=["axisPointer"],r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},r}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(a){var r=a.get("confine");return r!=null?!!r:a.get("renderMode")==="richText"}function testStyle(a){if(!!env$1.domSupported){for(var r=document.documentElement.style,n=0,o=a.length;n<o;n++)if(a[n]in r)return a[n]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(a,r){if(!a)return r;r=toCamelCase(r,!0);var n=a.indexOf(r);return a=n===-1?r:"-"+a.slice(0,n)+"-"+r,a.toLowerCase()}function getComputedStyle$1(a,r){var n=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return n?r?n[r]:n:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function assembleArrow(a,r,n){if(!isString(n)||n==="inside")return"";var o=a.get("backgroundColor"),s=a.get("borderWidth");r=convertToColorString(r);var l=mirrorPos(n),u=Math.max(Math.round(s)*1.5,6),c="",d=CSS_TRANSFORM_VENDOR+":",v;indexOf(["left","right"],l)>-1?(c+="top:50%",d+="translateY(-50%) rotate("+(v=l==="left"?-225:-45)+"deg)"):(c+="left:50%",d+="translateX(-50%) rotate("+(v=l==="top"?225:45)+"deg)");var g=v*Math.PI/180,y=u+s,_=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),S=Math.round(((_-Math.SQRT2*s)/2+Math.SQRT2*s-(_-y)/2)*100)/100;c+=";"+l+":-"+S+"px";var x=r+" solid "+s+"px;",T=["position:absolute;width:"+u+"px;height:"+u+"px;",c+";"+d+";","border-bottom:"+x,"border-right:"+x,"background-color:"+o+";"];return'<div style="'+T.join("")+'"></div>'}function assembleTransition(a,r){var n="cubic-bezier(0.23,1,0.32,1)",o=" "+a/2+"s "+n,s="opacity"+o+",visibility"+o;return r||(o=" "+a+"s "+n,s+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+s}function assembleTransform(a,r,n){var o=a.toFixed(0)+"px",s=r.toFixed(0)+"px";if(!env$1.transformSupported)return n?"top:"+s+";left:"+o+";":[["top",s],["left",o]];var l=env$1.transform3dSupported,u="translate"+(l?"3d":"")+"("+o+","+s+(l?",0":"")+")";return n?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+u+";":[["top",0],["left",0],[TRANSFORM_VENDOR,u]]}function assembleFont(a){var r=[],n=a.get("fontSize"),o=a.getTextColor();o&&r.push("color:"+o),r.push("font:"+a.getFont()),n&&r.push("line-height:"+Math.round(n*3/2)+"px");var s=a.get("textShadowColor"),l=a.get("textShadowBlur")||0,u=a.get("textShadowOffsetX")||0,c=a.get("textShadowOffsetY")||0;return s&&l&&r.push("text-shadow:"+u+"px "+c+"px "+l+"px "+s),each$f(["decoration","align"],function(d){var v=a.get(d);v&&r.push("text-"+d+":"+v)}),r.join(";")}function assembleCssText(a,r,n){var o=[],s=a.get("transitionDuration"),l=a.get("backgroundColor"),u=a.get("shadowBlur"),c=a.get("shadowColor"),d=a.get("shadowOffsetX"),v=a.get("shadowOffsetY"),g=a.getModel("textStyle"),y=getPaddingFromTooltipModel(a,"html"),_=d+"px "+v+"px "+u+"px "+c;return o.push("box-shadow:"+_),r&&s&&o.push(assembleTransition(s,n)),l&&o.push("background-color:"+l),each$f(["width","color","radius"],function(S){var x="border-"+S,T=toCamelCase(x),b=a.get(T);b!=null&&o.push(x+":"+b+(S==="color"?"":"px"))}),o.push(assembleFont(g)),y!=null&&o.push("padding:"+normalizeCssArray(y).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(a,r,n,o,s){var l=r&&r.painter;if(n){var u=l&&l.getViewportRoot();u&&transformLocalCoord(a,u,document.body,o,s)}else{a[0]=o,a[1]=s;var c=l&&l.getViewportRootOffset();c&&(a[0]+=c.offsetLeft,a[1]+=c.offsetTop)}a[2]=a[0]/r.getWidth(),a[3]=a[1]/r.getHeight()}var TooltipHTMLContent=function(){function a(r,n,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var s=document.createElement("div");s.domBelongToZr=!0,this.el=s;var l=this._zr=n.getZr(),u=this._appendToBody=o&&o.appendToBody;makeStyleCoord$1(this._styleCoord,l,u,n.getWidth()/2,n.getHeight()/2),u?document.body.appendChild(s):r.appendChild(s),this._container=r;var c=this;s.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},s.onmousemove=function(d){if(d=d||window.event,!c._enterable){var v=l.handler,g=l.painter.getViewportRoot();normalizeEvent(g,d,!0),v.dispatch("mousemove",d)}},s.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return a.prototype.update=function(r){var n=this._container,o=getComputedStyle$1(n,"position"),s=n.style;s.position!=="absolute"&&o!=="absolute"&&(s.position="relative");var l=r.get("alwaysShowContent");l&&this._moveIfResized(),this.el.className=r.get("className")||""},a.prototype.show=function(r,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,s=o.style,l=this._styleCoord;o.innerHTML?s.cssText=gCssText+assembleCssText(r,!this._firstShow,this._longHide)+assembleTransform(l[0],l[1],!0)+("border-color:"+convertToColorString(n)+";")+(r.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(r,n,o,s,l){var u=this.el;if(r==null){u.innerHTML="";return}var c="";if(isString(l)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(c=assembleArrow(o,s,l)),isString(r))u.innerHTML=r+c;else if(r){u.innerHTML="",isArray$1(r)||(r=[r]);for(var d=0;d<r.length;d++)isDom(r[d])&&r[d].parentNode!==u&&u.appendChild(r[d]);if(c&&u.childNodes.length){var v=document.createElement("div");v.innerHTML=c,u.appendChild(v)}}},a.prototype.setEnterable=function(r){this._enterable=r},a.prototype.getSize=function(){var r=this.el;return[r.offsetWidth,r.offsetHeight]},a.prototype.moveTo=function(r,n){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._appendToBody,r,n),o[0]!=null&&o[1]!=null){var s=this.el.style,l=assembleTransform(o[0],o[1]);each$f(l,function(u){s[u[0]]=u[1]})}},a.prototype._moveIfResized=function(){var r=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),n*this._zr.getHeight())},a.prototype.hide=function(){var r=this,n=this.el.style;n.visibility="hidden",n.opacity="0",env$1.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return r._longHide=!0},500)},a.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),r)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},a}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function a(r){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=r.getZr(),makeStyleCoord(this._styleCoord,this._zr,r.getWidth()/2,r.getHeight()/2)}return a.prototype.update=function(r){var n=r.get("alwaysShowContent");n&&this._moveIfResized()},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(r,n,o,s,l){var u=this;isObject$5(r)&&throwError(""),this.el&&this._zr.remove(this.el);var c=o.getModel("textStyle");this.el=new ZRText$1({style:{rich:n.richTextStyles,text:r,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:c.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){u.el.style[v]=o.get(v)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){u.el.style[v]=c.get(v)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},a.prototype.setEnterable=function(r){this._enterable=r},a.prototype.getSize=function(){var r=this.el,n=this.el.getBoundingRect(),o=calcShadowOuterSize(r.style);return[n.width+o.left+o.right,n.height+o.top+o.bottom]},a.prototype.moveTo=function(r,n){var o=this.el;if(o){var s=this._styleCoord;makeStyleCoord(s,this._zr,r,n),r=s[0],n=s[1];var l=o.style,u=mathMaxWith0(l.borderWidth||0),c=calcShadowOuterSize(l);o.x=r+u+c.left,o.y=n+u+c.top,o.markRedraw()}},a.prototype._moveIfResized=function(){var r=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),n*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),r)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function mathMaxWith0(a){return Math.max(0,a)}function calcShadowOuterSize(a){var r=mathMaxWith0(a.shadowBlur||0),n=mathMaxWith0(a.shadowOffsetX||0),o=mathMaxWith0(a.shadowOffsetY||0);return{left:mathMaxWith0(r-n),right:mathMaxWith0(r+n),top:mathMaxWith0(r-o),bottom:mathMaxWith0(r+o)}}function makeStyleCoord(a,r,n,o){a[0]=n,a[1]=o,a[2]=a[0]/r.getWidth(),a[3]=a[1]/r.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o){if(!(env$1.node||!o.getDom())){var s=n.getComponent("tooltip"),l=this._renderMode=getTooltipRenderMode(s.get("renderMode"));this._tooltipContent=l==="richText"?new TooltipRichContent$1(o):new TooltipHTMLContent$1(o.getDom(),o,{appendToBody:s.get("appendToBody",!0)})}},r.prototype.render=function(n,o,s){if(!(env$1.node||!s.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=o,this._api=s,this._alwaysShowContent=n.get("alwaysShowContent");var l=this._tooltipContent;l.update(n),l.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},r.prototype._initGlobalListener=function(){var n=this._tooltipModel,o=n.get("triggerOn");register("itemTooltip",this._api,bind$1(function(s,l,u){o!=="none"&&(o.indexOf(s)>=0?this._tryShow(l,u):s==="leave"&&this._hide(u))},this))},r.prototype._keepShow=function(){var n=this._tooltipModel,o=this._ecModel,s=this._api,l=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&l!=="none"&&l!=="click"){var u=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&u.manuallyShowTip(n,o,s,{x:u._lastX,y:u._lastY,dataByCoordSys:u._lastDataByCoordSys})})}},r.prototype.manuallyShowTip=function(n,o,s,l){if(!(l.from===this.uid||env$1.node||!s.getDom())){var u=makeDispatchAction(l,s);this._ticket="";var c=l.dataByCoordSys,d=findComponentReference(l,o,s);if(d){var v=d.el.getBoundingRect().clone();v.applyTransform(d.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:d.el,position:l.position,positionDefault:"bottom"},u)}else if(l.tooltip&&l.x!=null&&l.y!=null){var g=proxyRect;g.x=l.x,g.y=l.y,g.update(),getECData(g).tooltipConfig={name:null,option:l.tooltip},this._tryShow({offsetX:l.x,offsetY:l.y,target:g},u)}else if(c)this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,dataByCoordSys:c,tooltipOption:l.tooltipOption},u);else if(l.seriesIndex!=null){if(this._manuallyAxisShowTip(n,o,s,l))return;var y=findPointFromSeries(l,o),_=y.point[0],S=y.point[1];_!=null&&S!=null&&this._tryShow({offsetX:_,offsetY:S,target:y.el,position:l.position,positionDefault:"bottom"},u)}else l.x!=null&&l.y!=null&&(s.dispatchAction({type:"updateAxisPointer",x:l.x,y:l.y}),this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,target:s.getZr().findHover(l.x,l.y).target},u))}},r.prototype.manuallyHideTip=function(n,o,s,l){var u=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,l.from!==this.uid&&this._hide(makeDispatchAction(l,s))},r.prototype._manuallyAxisShowTip=function(n,o,s,l){var u=l.seriesIndex,c=l.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(u==null||c==null||d==null)){var v=o.getSeriesByIndex(u);if(!!v){var g=v.getData(),y=buildTooltipModel([g.getItemModel(c),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return s.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:c,position:l.position}),!0}}},r.prototype._tryShow=function(n,o){var s=n.target,l=this._tooltipModel;if(!!l){this._lastX=n.offsetX,this._lastY=n.offsetY;var u=n.dataByCoordSys;if(u&&u.length)this._showAxisTooltip(u,n);else if(s){this._lastDataByCoordSys=null;var c,d;findEventDispatcher(s,function(v){if(getECData(v).dataIndex!=null)return c=v,!0;if(getECData(v).tooltipConfig!=null)return d=v,!0},!0),c?this._showSeriesItemTooltip(n,c,o):d?this._showComponentItemTooltip(n,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},r.prototype._showOrMove=function(n,o){var s=n.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(o,s):o()},r.prototype._showAxisTooltip=function(n,o){var s=this._ecModel,l=this._tooltipModel,u=[o.offsetX,o.offsetY],c=buildTooltipModel([o.tooltipOption],l),d=this._renderMode,v=[],g=createTooltipMarkup("section",{blocks:[],noHeader:!0}),y=[],_=new TooltipMarkupStyleCreator;each$f(n,function(w){each$f(w.dataByAxis,function($){var C=s.getComponent($.axisDim+"Axis",$.axisIndex),P=$.value;if(!(!C||P==null)){var M=getValueLabel(P,C.axis,s,$.seriesDataIndices,$.valueLabelOpt),E=createTooltipMarkup("section",{header:M,noHeader:!trim$1(M),sortBlocks:!0,blocks:[]});g.blocks.push(E),each$f($.seriesDataIndices,function(D){var I=s.getSeriesByIndex(D.seriesIndex),R=D.dataIndexInside,L=I.getDataParams(R);if(!(L.dataIndex<0)){L.axisDim=$.axisDim,L.axisIndex=$.axisIndex,L.axisType=$.axisType,L.axisId=$.axisId,L.axisValue=getAxisRawValue(C.axis,{value:P}),L.axisValueLabel=M,L.marker=_.makeTooltipMarker("item",convertToColorString(L.color),d);var O=normalizeTooltipFormatResult(I.formatTooltip(R,!0,null)),N=O.frag;if(N){var F=buildTooltipModel([I],l).get("valueFormatter");E.blocks.push(F?extend({valueFormatter:F},N):N)}O.text&&y.push(O.text),v.push(L)}})}})}),g.blocks.reverse(),y.reverse();var S=o.position,x=c.get("order"),T=buildTooltipMarkup(g,_,d,x,s.get("useUTC"),c.get("textStyle"));T&&y.unshift(T);var b=d==="richText"?`

`:"<br/>",A=y.join(b);this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(n,v)?this._updatePosition(c,S,u[0],u[1],this._tooltipContent,v):this._showTooltipContent(c,A,v,Math.random()+"",u[0],u[1],S,null,_)})},r.prototype._showSeriesItemTooltip=function(n,o,s){var l=this._ecModel,u=getECData(o),c=u.seriesIndex,d=l.getSeriesByIndex(c),v=u.dataModel||d,g=u.dataIndex,y=u.dataType,_=v.getData(y),S=this._renderMode,x=n.positionDefault,T=buildTooltipModel([_.getItemModel(g),v,d&&(d.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),b=T.get("trigger");if(!(b!=null&&b!=="item")){var A=v.getDataParams(g,y),w=new TooltipMarkupStyleCreator;A.marker=w.makeTooltipMarker("item",convertToColorString(A.color),S);var $=normalizeTooltipFormatResult(v.formatTooltip(g,!1,y)),C=T.get("order"),P=T.get("valueFormatter"),M=$.frag,E=M?buildTooltipMarkup(P?extend({valueFormatter:P},M):M,w,S,C,l.get("useUTC"),T.get("textStyle")):$.text,D="item_"+v.name+"_"+g;this._showOrMove(T,function(){this._showTooltipContent(T,E,A,D,n.offsetX,n.offsetY,n.position,n.target,w)}),s({type:"showTip",dataIndexInside:g,dataIndex:_.getRawIndex(g),seriesIndex:c,from:this.uid})}},r.prototype._showComponentItemTooltip=function(n,o,s){var l=getECData(o),u=l.tooltipConfig,c=u.option||{};if(isString(c)){var d=c;c={content:d,formatter:d}}var v=[c],g=this._ecModel.getComponent(l.componentMainType,l.componentIndex);g&&v.push(g),v.push({formatter:c.content});var y=n.positionDefault,_=buildTooltipModel(v,this._tooltipModel,y?{position:y}:null),S=_.get("content"),x=Math.random()+"",T=new TooltipMarkupStyleCreator;this._showOrMove(_,function(){var b=clone$4(_.get("formatterParams")||{});this._showTooltipContent(_,S,b,x,n.offsetX,n.offsetY,n.position,o,T)}),s({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(n,o,s,l,u,c,d,v,g){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var y=this._tooltipContent;y.setEnterable(n.get("enterable"));var _=n.get("formatter");d=d||n.get("position");var S=o,x=this._getNearestPoint([u,c],s,n.get("trigger"),n.get("borderColor")),T=x.color;if(_)if(isString(_)){var b=n.ecModel.get("useUTC"),A=isArray$1(s)?s[0]:s,w=A&&A.axisType&&A.axisType.indexOf("time")>=0;S=_,w&&(S=format(A.axisValue,S,b)),S=formatTpl(S,s,!0)}else if(isFunction(_)){var $=bind$1(function(C,P){C===this._ticket&&(y.setContent(P,g,n,T,d),this._updatePosition(n,d,u,c,y,s,v))},this);this._ticket=l,S=_(s,l,$)}else S=_;y.setContent(S,g,n,T,d),y.show(n,T),this._updatePosition(n,d,u,c,y,s,v)}},r.prototype._getNearestPoint=function(n,o,s,l){if(s==="axis"||isArray$1(o))return{color:l||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(o))return{color:l||o.color||o.borderColor}},r.prototype._updatePosition=function(n,o,s,l,u,c,d){var v=this._api.getWidth(),g=this._api.getHeight();o=o||n.get("position");var y=u.getSize(),_=n.get("align"),S=n.get("verticalAlign"),x=d&&d.getBoundingRect().clone();if(d&&x.applyTransform(d.transform),isFunction(o)&&(o=o([s,l],c,u.el,x,{viewSize:[v,g],contentSize:y.slice()})),isArray$1(o))s=parsePercent(o[0],v),l=parsePercent(o[1],g);else if(isObject$5(o)){var T=o;T.width=y[0],T.height=y[1];var b=getLayoutRect(T,{width:v,height:g});s=b.x,l=b.y,_=null,S=null}else if(isString(o)&&d){var A=calcTooltipPosition(o,x,y,n.get("borderWidth"));s=A[0],l=A[1]}else{var A=refixTooltipPosition(s,l,u,v,g,_?null:20,S?null:20);s=A[0],l=A[1]}if(_&&(s-=isCenterAlign(_)?y[0]/2:_==="right"?y[0]:0),S&&(l-=isCenterAlign(S)?y[1]/2:S==="bottom"?y[1]:0),shouldTooltipConfine(n)){var A=confineTooltipPosition(s,l,u,v,g);s=A[0],l=A[1]}u.moveTo(s,l)},r.prototype._updateContentNotChangedOnAxis=function(n,o){var s=this._lastDataByCoordSys,l=this._cbParamsList,u=!!s&&s.length===n.length;return u&&each$f(s,function(c,d){var v=c.dataByAxis||[],g=n[d]||{},y=g.dataByAxis||[];u=u&&v.length===y.length,u&&each$f(v,function(_,S){var x=y[S]||{},T=_.seriesDataIndices||[],b=x.seriesDataIndices||[];u=u&&_.value===x.value&&_.axisType===x.axisType&&_.axisId===x.axisId&&T.length===b.length,u&&each$f(T,function(A,w){var $=b[w];u=u&&A.seriesIndex===$.seriesIndex&&A.dataIndex===$.dataIndex}),l&&each$f(_.seriesDataIndices,function(A){var w=A.seriesIndex,$=o[w],C=l[w];$&&C&&C.data!==$.data&&(u=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=o,!!u},r.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},r.prototype.dispose=function(n,o){env$1.node||!o.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},r.type="tooltip",r}(ComponentView$1);function buildTooltipModel(a,r,n){var o=r.ecModel,s;n?(s=new Model$1(n,o,o),s=new Model$1(r.option,s,o)):s=r;for(var l=a.length-1;l>=0;l--){var u=a[l];u&&(u instanceof Model$1&&(u=u.get("tooltip",!0)),isString(u)&&(u={formatter:u}),u&&(s=new Model$1(u,s,o)))}return s}function makeDispatchAction(a,r){return a.dispatchAction||bind$1(r.dispatchAction,r)}function refixTooltipPosition(a,r,n,o,s,l,u){var c=n.getSize(),d=c[0],v=c[1];return l!=null&&(a+d+l+2>o?a-=d+l:a+=l),u!=null&&(r+v+u>s?r-=v+u:r+=u),[a,r]}function confineTooltipPosition(a,r,n,o,s){var l=n.getSize(),u=l[0],c=l[1];return a=Math.min(a+u,o)-u,r=Math.min(r+c,s)-c,a=Math.max(a,0),r=Math.max(r,0),[a,r]}function calcTooltipPosition(a,r,n,o){var s=n[0],l=n[1],u=Math.ceil(Math.SQRT2*o)+8,c=0,d=0,v=r.width,g=r.height;switch(a){case"inside":c=r.x+v/2-s/2,d=r.y+g/2-l/2;break;case"top":c=r.x+v/2-s/2,d=r.y-l-u;break;case"bottom":c=r.x+v/2-s/2,d=r.y+g+u;break;case"left":c=r.x-s-u,d=r.y+g/2-l/2;break;case"right":c=r.x+v+u,d=r.y+g/2-l/2}return[c,d]}function isCenterAlign(a){return a==="center"||a==="middle"}function findComponentReference(a,r,n){var o=preParseFinder(a).queryOptionMap,s=o.keys()[0];if(!(!s||s==="series")){var l=queryReferringComponents(r,s,o.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}),u=l.models[0];if(!!u){var c=n.getViewOfComponentModel(u),d;if(c.group.traverse(function(v){var g=getECData(v).tooltipConfig;if(g&&g.name===a.name)return d=v,!0}),d)return{componentMainType:s,componentIndex:u.componentIndex,el:d}}}}const TooltipView$1=TooltipView;function install$i(a){use(install$q),a.registerComponentModel(TooltipModel$1),a.registerComponentView(TooltipView$1),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(a,r){var n=normalizeToArray(a?a.brush:[]);if(!!n.length){var o=[];each$f(n,function(d){var v=d.hasOwnProperty("toolbox")?d.toolbox:[];v instanceof Array&&(o=o.concat(v))});var s=a&&a.toolbox;isArray$1(s)&&(s=s[0]),s||(s={feature:{}},a.toolbox=[s]);var l=s.feature||(s.feature={}),u=l.brush||(l.brush={}),c=u.type||(u.type=[]);c.push.apply(c,o),removeDuplicate(c),r&&!c.length&&c.push.apply(c,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(a){var r={};each$f(a,function(n){r[n]=1}),a.length=0,each$f(r,function(n,o){a.push(o)})}var each$4=each$f;function hasKeys(a){if(a){for(var r in a)if(a.hasOwnProperty(r))return!0}}function createVisualMappings(a,r,n){var o={};return each$4(r,function(l){var u=o[l]=s();each$4(a[l],function(c,d){if(!!VisualMapping$1.isValidType(d)){var v={type:d,visual:c};n&&n(v,l),u[d]=new VisualMapping$1(v),d==="opacity"&&(v=clone$4(v),v.type="colorAlpha",u.__hidden.__alphaForOpacity=new VisualMapping$1(v))}})}),o;function s(){var l=function(){};l.prototype.__hidden=l.prototype;var u=new l;return u}}function replaceVisualOption(a,r,n){var o;each$f(n,function(s){r.hasOwnProperty(s)&&hasKeys(r[s])&&(o=!0)}),o&&each$f(n,function(s){r.hasOwnProperty(s)&&hasKeys(r[s])?a[s]=clone$4(r[s]):delete a[s]})}function applyVisual(a,r,n,o,s,l){var u={};each$f(a,function(y){var _=VisualMapping$1.prepareVisualTypes(r[y]);u[y]=_});var c;function d(y){return getItemVisualFromData(n,c,y)}function v(y,_){setItemVisualFromData(n,c,y,_)}l==null?n.each(g):n.each([l],g);function g(y,_){c=l==null?y:_;var S=n.getRawDataItem(c);if(!(S&&S.visualMap===!1))for(var x=o.call(s,y),T=r[x],b=u[x],A=0,w=b.length;A<w;A++){var $=b[A];T[$]&&T[$].applyVisual(y,d,v)}}}function incrementalApplyVisual(a,r,n,o){var s={};return each$f(a,function(l){var u=VisualMapping$1.prepareVisualTypes(r[l]);s[l]=u}),{progress:function(u,c){var d;o!=null&&(d=c.getDimensionIndex(o));function v(P){return getItemVisualFromData(c,y,P)}function g(P,M){setItemVisualFromData(c,y,P,M)}for(var y,_=c.getStore();(y=u.next())!=null;){var S=c.getRawDataItem(y);if(!(S&&S.visualMap===!1))for(var x=o!=null?_.get(d,y):y,T=n(x),b=r[T],A=s[T],w=0,$=A.length;w<$;w++){var C=A[w];b[C]&&b[C].applyVisual(x,v,g)}}}}}function makeBrushCommonSelectorForSeries(a){var r=a.brushType,n={point:function(o){return selector[r].point(o,n,a)},rect:function(o){return selector[r].rect(o,n,a)}};return n}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(a,r,n){return a&&n.boundingRect.contain(a[0],a[1])},rect:function(a,r,n){return a&&n.boundingRect.intersect(a)}},polygon:{point:function(a,r,n){return a&&n.boundingRect.contain(a[0],a[1])&&contain(n.range,a[0],a[1])},rect:function(a,r,n){var o=n.range;if(!a||o.length<=1)return!1;var s=a.x,l=a.y,u=a.width,c=a.height,d=o[0];if(contain(o,s,l)||contain(o,s+u,l)||contain(o,s,l+c)||contain(o,s+u,l+c)||BoundingRect$1.create(a).contain(d[0],d[1])||linePolygonIntersect(s,l,s+u,l,o)||linePolygonIntersect(s,l,s,l+c,o)||linePolygonIntersect(s+u,l,s+u,l+c,o)||linePolygonIntersect(s,l+c,s+u,l+c,o))return!0}}};function getLineSelectors(a){var r=["x","y"],n=["width","height"];return{point:function(o,s,l){if(o){var u=l.range,c=o[a];return inLineRange(c,u)}},rect:function(o,s,l){if(o){var u=l.range,c=[o[r[a]],o[r[a]]+o[n[a]]];return c[1]<c[0]&&c.reverse(),inLineRange(c[0],u)||inLineRange(c[1],u)||inLineRange(u[0],c)||inLineRange(u[1],c)}}}}function inLineRange(a,r){return r[0]<=a&&a<=r[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(a){a.eachComponent({mainType:"brush"},function(r){var n=r.brushTargetManager=new BrushTargetManager$1(r.option,a);n.setInputRanges(r.areas,a)})}function brushVisual(a,r,n){var o=[],s,l;a.eachComponent({mainType:"brush"},function(u){n&&n.type==="takeGlobalCursor"&&u.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),layoutCovers(a),a.eachComponent({mainType:"brush"},function(u,c){var d={brushId:u.id,brushIndex:c,brushName:u.name,areas:clone$4(u.areas),selected:[]};o.push(d);var v=u.option,g=v.brushLink,y=[],_=[],S=[],x=!1;c||(s=v.throttleType,l=v.throttleDelay);var T=map$1(u.areas,function(P){var M=boundingRectBuilders[P.brushType],E=defaults({boundingRect:M?M(P):void 0},P);return E.selectors=makeBrushCommonSelectorForSeries(E),E}),b=createVisualMappings(u.option,STATE_LIST,function(P){P.mappingMethod="fixed"});isArray$1(g)&&each$f(g,function(P){y[P]=1});function A(P){return g==="all"||!!y[P]}function w(P){return!!P.length}a.eachSeries(function(P,M){var E=S[M]=[];P.subType==="parallel"?$(P,M):C(P,M,E)});function $(P,M){var E=P.coordinateSystem;x=x||E.hasAxisBrushed(),A(M)&&E.eachActiveState(P.getData(),function(D,I){D==="active"&&(_[I]=1)})}function C(P,M,E){if(!(!P.brushSelector||brushModelNotControll(u,M))&&(each$f(T,function(I){u.brushTargetManager.controlSeries(I,P,a)&&E.push(I),x=x||w(E)}),A(M)&&w(E))){var D=P.getData();D.each(function(I){checkInRange(P,E,D,I)&&(_[I]=1)})}}a.eachSeries(function(P,M){var E={seriesId:P.id,seriesIndex:M,seriesName:P.name,dataIndex:[]};d.selected.push(E);var D=S[M],I=P.getData(),R=A(M)?function(L){return _[L]?(E.dataIndex.push(I.getRawIndex(L)),"inBrush"):"outOfBrush"}:function(L){return checkInRange(P,D,I,L)?(E.dataIndex.push(I.getRawIndex(L)),"inBrush"):"outOfBrush"};(A(M)?x:w(D))&&applyVisual(STATE_LIST,b,I,R)})}),dispatchAction$1(r,s,l,o,n)}function dispatchAction$1(a,r,n,o,s){if(!!s){var l=a.getZr();if(!l[DISPATCH_FLAG]){l[DISPATCH_METHOD]||(l[DISPATCH_METHOD]=doDispatch);var u=createOrUpdate(l,DISPATCH_METHOD,n,r);u(a,o)}}}function doDispatch(a,r){if(!a.isDisposed()){var n=a.getZr();n[DISPATCH_FLAG]=!0,a.dispatchAction({type:"brushSelect",batch:r}),n[DISPATCH_FLAG]=!1}}function checkInRange(a,r,n,o){for(var s=0,l=r.length;s<l;s++){var u=r[s];if(a.brushSelector(o,n,u.selectors,u))return!0}}function brushModelNotControll(a,r){var n=a.option.seriesIndex;return n!=null&&n!=="all"&&(isArray$1(n)?indexOf(n,r)<0:r!==n)}var boundingRectBuilders={rect:function(a){return getBoundingRectFromMinMax(a.range)},polygon:function(a){for(var r,n=a.range,o=0,s=n.length;o<s;o++){r=r||[[1/0,-1/0],[1/0,-1/0]];var l=n[o];l[0]<r[0][0]&&(r[0][0]=l[0]),l[0]>r[0][1]&&(r[0][1]=l[0]),l[1]<r[1][0]&&(r[1][0]=l[1]),l[1]>r[1][1]&&(r[1][1]=l[1])}return r&&getBoundingRectFromMinMax(r)}};function getBoundingRectFromMinMax(a){return new BoundingRect$1(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var BrushView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o){this.ecModel=n,this.api=o,this.model,(this._brushController=new BrushController$1(o.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},r.prototype.render=function(n,o,s,l){this.model=n,this._updateController(n,o,s,l)},r.prototype.updateTransform=function(n,o,s,l){layoutCovers(o),this._updateController(n,o,s,l)},r.prototype.updateVisual=function(n,o,s,l){this.updateTransform(n,o,s,l)},r.prototype.updateView=function(n,o,s,l){this._updateController(n,o,s,l)},r.prototype._updateController=function(n,o,s,l){(!l||l.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(s)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},r.prototype.dispose=function(){this._brushController.dispose()},r.prototype._onBrush=function(n){var o=this.model.id,s=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:clone$4(s),$from:o}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:clone$4(s),$from:o})},r.type="brush",r}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.areas=[],n.brushOption={},n}return r.prototype.optionUpdated=function(n,o){var s=this.option;!o&&replaceVisualOption(s,n,["inBrush","outOfBrush"]);var l=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},l.hasOwnProperty("liftZ")||(l.liftZ=5)},r.prototype.setAreas=function(n){!n||(this.areas=map$1(n,function(o){return generateBrushOption(this.option,o)},this))},r.prototype.setBrushOption=function(n){this.brushOption=generateBrushOption(this.option,n),this.brushType=this.brushOption.brushType},r.type="brush",r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},r}(ComponentModel$1);function generateBrushOption(a,r){return merge$1({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new Model$1(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},r,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(a){__extends(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(n,o,s){var l,u,c;o.eachComponent({mainType:"brush"},function(d){l=d.brushType,u=d.brushOption.brushMode||"single",c=c||!!d.areas.length}),this._brushType=l,this._brushMode=u,each$f(n.get("type",!0),function(d){n.setIconStatus(d,(d==="keep"?u==="multiple":d==="clear"?c:d===l)?"emphasis":"normal")})},r.prototype.updateView=function(n,o,s){this.render(n,o,s)},r.prototype.getIcons=function(){var n=this.model,o=n.get("icon",!0),s={};return each$f(n.get("type",!0),function(l){o[l]&&(s[l]=o[l])}),s},r.prototype.onclick=function(n,o,s){var l=this._brushType,u=this._brushMode;s==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:s==="keep"?l:l===s?!1:s,brushMode:s==="keep"?u==="multiple"?"single":"multiple":u}})},r.getDefaultOption=function(n){var o={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return o},r}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$h(a){a.registerComponentView(BrushView$1),a.registerComponentModel(BrushModel$1),a.registerPreprocessor(brushPreprocessor),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,brushVisual),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(r,n){n.eachComponent({mainType:"brush",query:r},function(o){o.setAreas(r.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature$1)}var TitleModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.layoutMode={type:"box",ignoreSize:!0},n}return r.type="title",r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},r}(ComponentModel$1),TitleView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,s){if(this.group.removeAll(),!!n.get("show")){var l=this.group,u=n.getModel("textStyle"),c=n.getModel("subtextStyle"),d=n.get("textAlign"),v=retrieve2(n.get("textBaseline"),n.get("textVerticalAlign")),g=new ZRText$1({style:createTextStyle(u,{text:n.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),_=n.get("subtext"),S=new ZRText$1({style:createTextStyle(c,{text:_,fill:c.getTextColor(),y:y.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=n.get("link"),T=n.get("sublink"),b=n.get("triggerEvent",!0);g.silent=!x&&!b,S.silent=!T&&!b,x&&g.on("click",function(){windowOpen(x,"_"+n.get("target"))}),T&&S.on("click",function(){windowOpen(T,"_"+n.get("subtarget"))}),getECData(g).eventData=getECData(S).eventData=b?{componentType:"title",componentIndex:n.componentIndex}:null,l.add(g),_&&l.add(S);var A=l.getBoundingRect(),w=n.getBoxLayoutParams();w.width=A.width,w.height=A.height;var $=getLayoutRect(w,{width:s.getWidth(),height:s.getHeight()},n.get("padding"));d||(d=n.get("left")||n.get("right"),d==="middle"&&(d="center"),d==="right"?$.x+=$.width:d==="center"&&($.x+=$.width/2)),v||(v=n.get("top")||n.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?$.y+=$.height:v==="middle"&&($.y+=$.height/2),v=v||"top"),l.x=$.x,l.y=$.y,l.markRedraw();var C={align:d,verticalAlign:v};g.setStyle(C),S.setStyle(C),A=l.getBoundingRect();var P=$.margin,M=n.getItemStyle(["color","opacity"]);M.fill=n.get("backgroundColor");var E=new Rect$3({shape:{x:A.x-P[3],y:A.y-P[0],width:A.width+P[1]+P[3],height:A.height+P[0]+P[2],r:n.get("borderRadius")},style:M,subPixelOptimize:!0,silent:!0});l.add(E)}},r.type="title",r}(ComponentView$1);function install$g(a){a.registerComponentModel(TitleModel),a.registerComponentView(TitleView)}var TimelineModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.layoutMode="box",n}return r.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s),this._initData()},r.prototype.mergeOption=function(n){a.prototype.mergeOption.apply(this,arguments),this._initData()},r.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var o=this._data.count();this.option.loop?n=(n%o+o)%o:(n>=o&&(n=o-1),n<0&&(n=0)),this.option.currentIndex=n},r.prototype.getCurrentIndex=function(){return this.option.currentIndex},r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},r.prototype.setPlayState=function(n){this.option.autoPlay=!!n},r.prototype.getPlayState=function(){return!!this.option.autoPlay},r.prototype._initData=function(){var n=this.option,o=n.data||[],s=n.axisType,l=this._names=[],u;s==="category"?(u=[],each$f(o,function(v,g){var y=convertOptionIdName(getDataItemValue(v),""),_;isObject$5(v)?(_=clone$4(v),_.value=g):_=g,u.push(_),l.push(y)})):u=o;var c={category:"ordinal",time:"time",value:"number"}[s]||"number",d=this._data=new SeriesData$1([{name:"value",type:c}],this);d.initData(u,l)},r.prototype.getData=function(){return this._data},r.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},r.type="timeline",r.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},r}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="timeline.slider",r.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),r}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="timeline",r}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(a){__extends(r,a);function r(n,o,s,l){var u=a.call(this,n,o,s)||this;return u.type=l||"value",u}return r.prototype.getLabelModel=function(){return this.model.getModel("label")},r.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},r}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o){this.api=o},r.prototype.render=function(n,o,s){if(this.model=n,this.api=s,this.ecModel=o,this.group.removeAll(),n.get("show",!0)){var l=this._layout(n,s),u=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(l,n);n.formatTooltip=function(v){var g=d.scale.getLabel({value:v});return createTooltipMarkup("nameValue",{noName:!0,value:g})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](l,u,d,n)},this),this._renderAxisLabel(l,c,d,n),this._position(l,n)}this._doPlayStop(),this._updateTicksStatus()},r.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},r.prototype.dispose=function(){this._clearTimer()},r.prototype._layout=function(n,o){var s=n.get(["label","position"]),l=n.get("orient"),u=getViewRect(n,o),c;s==null||s==="auto"?c=l==="horizontal"?u.y+u.height/2<o.getHeight()/2?"-":"+":u.x+u.width/2<o.getWidth()/2?"+":"-":isString(s)?c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[l][s]:c=s;var d={horizontal:"center",vertical:c>=0||c==="+"?"left":"right"},v={horizontal:c>=0||c==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:PI/2},y=l==="vertical"?u.height:u.width,_=n.getModel("controlStyle"),S=_.get("show",!0),x=S?_.get("itemSize"):0,T=S?_.get("itemGap"):0,b=x+T,A=n.get(["label","rotate"])||0;A=A*PI/180;var w,$,C,P=_.get("position",!0),M=S&&_.get("showPlayBtn",!0),E=S&&_.get("showPrevBtn",!0),D=S&&_.get("showNextBtn",!0),I=0,R=y;P==="left"||P==="bottom"?(M&&(w=[0,0],I+=b),E&&($=[I,0],I+=b),D&&(C=[R-x,0],R-=b)):(M&&(w=[R-x,0],R-=b),E&&($=[0,0],I+=b),D&&(C=[R-x,0],R-=b));var L=[I,R];return n.get("inverse")&&L.reverse(),{viewRect:u,mainLength:y,orient:l,rotation:g[l],labelRotation:A,labelPosOpt:c,labelAlign:n.get(["label","align"])||d[l],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||v[l],playPosition:w,prevBtnPosition:$,nextBtnPosition:C,axisExtent:L,controlSize:x,controlGap:T}},r.prototype._position=function(n,o){var s=this._mainGroup,l=this._labelGroup,u=n.viewRect;if(n.orient==="vertical"){var c=create$1(),d=u.x,v=u.y+u.height;translate(c,c,[-d,-v]),rotate(c,c,-PI/2),translate(c,c,[d,v]),u=u.clone(),u.applyTransform(c)}var g=w(u),y=w(s.getBoundingRect()),_=w(l.getBoundingRect()),S=[s.x,s.y],x=[l.x,l.y];x[0]=S[0]=g[0][0];var T=n.labelPosOpt;if(T==null||isString(T)){var b=T==="+"?0:1;$(S,y,g,1,b),$(x,_,g,1,1-b)}else{var b=T>=0?0:1;$(S,y,g,1,b),x[1]=S[1]+T}s.setPosition(S),l.setPosition(x),s.rotation=l.rotation=n.rotation,A(s),A(l);function A(C){C.originX=g[0][0]-C.x,C.originY=g[1][0]-C.y}function w(C){return[[C.x,C.x+C.width],[C.y,C.y+C.height]]}function $(C,P,M,E,D){C[E]+=M[E][D]-P[E][D]}},r.prototype._createAxis=function(n,o){var s=o.getData(),l=o.get("axisType"),u=createScaleByModel(o,l);u.getTicks=function(){return s.mapArray(["value"],function(v){return{value:v}})};var c=s.getDataExtent("value");u.setExtent(c[0],c[1]),u.calcNiceTicks();var d=new TimelineAxis$1("value",u,n.axisExtent,l);return d.model=o,d},r.prototype._createGroup=function(n){var o=this[n]=new Group$4;return this.group.add(o),o},r.prototype._renderAxisLine=function(n,o,s,l){var u=s.getExtent();if(!!l.get(["lineStyle","show"])){var c=new Line$3({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:extend({lineCap:"round"},l.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(c);var d=this._progressLine=new Line$3({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:c.style.lineWidth},l.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(d)}},r.prototype._renderAxisTick=function(n,o,s,l){var u=this,c=l.getData(),d=s.scale.getTicks();this._tickSymbols=[],each$f(d,function(v){var g=s.dataToCoord(v.value),y=c.getItemModel(v.value),_=y.getModel("itemStyle"),S=y.getModel(["emphasis","itemStyle"]),x=y.getModel(["progress","itemStyle"]),T={x:g,y:0,onclick:bind$1(u._changeTimeline,u,v.value)},b=giveSymbol(y,_,o,T);b.ensureState("emphasis").style=S.getItemStyle(),b.ensureState("progress").style=x.getItemStyle(),enableHoverEmphasis(b);var A=getECData(b);y.get("tooltip")?(A.dataIndex=v.value,A.dataModel=l):A.dataIndex=A.dataModel=null,u._tickSymbols.push(b)})},r.prototype._renderAxisLabel=function(n,o,s,l){var u=this,c=s.getLabelModel();if(!!c.get("show")){var d=l.getData(),v=s.getViewLabels();this._tickLabels=[],each$f(v,function(g){var y=g.tickValue,_=d.getItemModel(y),S=_.getModel("label"),x=_.getModel(["emphasis","label"]),T=_.getModel(["progress","label"]),b=s.dataToCoord(g.tickValue),A=new ZRText$1({x:b,y:0,rotation:n.labelRotation-n.rotation,onclick:bind$1(u._changeTimeline,u,y),silent:!1,style:createTextStyle(S,{text:g.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});A.ensureState("emphasis").style=createTextStyle(x),A.ensureState("progress").style=createTextStyle(T),o.add(A),enableHoverEmphasis(A),labelDataIndexStore(A).dataIndex=y,u._tickLabels.push(A)})}},r.prototype._renderControl=function(n,o,s,l){var u=n.controlSize,c=n.rotation,d=l.getModel("controlStyle").getItemStyle(),v=l.getModel(["emphasis","controlStyle"]).getItemStyle(),g=l.getPlayState(),y=l.get("inverse",!0);_(n.nextBtnPosition,"next",bind$1(this._changeTimeline,this,y?"-":"+")),_(n.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,y?"+":"-")),_(n.playPosition,g?"stop":"play",bind$1(this._handlePlayClick,this,!g),!0);function _(S,x,T,b){if(!!S){var A=parsePercent$1(retrieve2(l.get(["controlStyle",x+"BtnSize"]),u),u),w=[0,-A/2,A,A],$=makeControlIcon(l,x+"Icon",w,{x:S[0],y:S[1],originX:u/2,originY:0,rotation:b?-c:0,rectHover:!0,style:d,onclick:T});$.ensureState("emphasis").style=v,o.add($),enableHoverEmphasis($)}}},r.prototype._renderCurrentPointer=function(n,o,s,l){var u=l.getData(),c=l.getCurrentIndex(),d=u.getItemModel(c).getModel("checkpointStyle"),v=this,g={onCreate:function(y){y.draggable=!0,y.drift=bind$1(v._handlePointerDrag,v),y.ondragend=bind$1(v._handlePointerDragend,v),pointerMoveTo(y,v._progressLine,c,s,l,!0)},onUpdate:function(y){pointerMoveTo(y,v._progressLine,c,s,l)}};this._currentPointer=giveSymbol(d,d,this._mainGroup,{},this._currentPointer,g)},r.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},r.prototype._handlePointerDrag=function(n,o,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},r.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},r.prototype._pointerChangeTimeline=function(n,o){var s=this._toAxisCoord(n)[0],l=this._axis,u=asc$2(l.getExtent().slice());s>u[1]&&(s=u[1]),s<u[0]&&(s=u[0]),this._currentPointer.x=s,this._currentPointer.markRedraw(),this._progressLine.shape.x2=s,this._progressLine.dirty();var c=this._findNearestTick(s),d=this.model;(o||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},r.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=n.model;n._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},r.prototype._toAxisCoord=function(n){var o=this._mainGroup.getLocalTransform();return applyTransform(n,o,!0)},r.prototype._findNearestTick=function(n){var o=this.model.getData(),s=1/0,l,u=this._axis;return o.each(["value"],function(c,d){var v=u.dataToCoord(c),g=Math.abs(v-n);g<s&&(s=g,l=d)}),l},r.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},r.prototype._changeTimeline=function(n){var o=this.model.getCurrentIndex();n==="+"?n=o+1:n==="-"&&(n=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},r.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),o=this._tickSymbols,s=this._tickLabels;if(o)for(var l=0;l<o.length;l++)o&&o[l]&&o[l].toggleState("progress",l<n);if(s)for(var l=0;l<s.length;l++)s&&s[l]&&s[l].toggleState("progress",labelDataIndexStore(s[l]).dataIndex<=n)},r.type="timeline.slider",r}(TimelineView$1);function createScaleByModel(a,r){if(r=r||a.get("type"),r)switch(r){case"category":return new OrdinalScale$1({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(a,r){return getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()},a.get("padding"))}function makeControlIcon(a,r,n,o){var s=o.style,l=createIcon(a.get(["controlStyle",r]),o||{},new BoundingRect$1(n[0],n[1],n[2],n[3]));return s&&l.setStyle(s),l}function giveSymbol(a,r,n,o,s,l){var u=r.get("color");if(s)s.setColor(u),n.add(s),l&&l.onUpdate(s);else{var c=a.get("symbol");s=createSymbol$1(c,-1,-1,2,2,u),s.setStyle("strokeNoScale",!0),n.add(s),l&&l.onCreate(s)}var d=r.getItemStyle(["color"]);s.setStyle(d),o=merge$1({rectHover:!0,z2:100},o,!0);var v=normalizeSymbolSize(a.get("symbolSize"));o.scaleX=v[0]/2,o.scaleY=v[1]/2;var g=normalizeSymbolOffset(a.get("symbolOffset"),v);g&&(o.x=(o.x||0)+g[0],o.y=(o.y||0)+g[1]);var y=a.get("symbolRotate");return o.rotation=(y||0)*Math.PI/180||0,s.attr(o),s.updateTransform(),s}function pointerMoveTo(a,r,n,o,s,l){if(!a.dragging){var u=s.getModel("checkpointStyle"),c=o.dataToCoord(s.getData().get("value",n));if(l||!u.get("animation",!0))a.attr({x:c,y:0}),r&&r.attr({shape:{x2:c}});else{var d={duration:u.get("animationDuration",!0),easing:u.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:c,y:0},d),r&&r.animateTo({shape:{x2:c}},d)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,n,o){var s=n.getComponent("timeline");return s&&r.currentIndex!=null&&(s.setCurrentIndex(r.currentIndex),!s.get("loop",!0)&&s.isIndexMax()&&s.getPlayState()&&(s.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:r.from}))),n.resetOption("timeline",{replaceMerge:s.get("replaceMerge",!0)}),defaults({currentIndex:s.option.currentIndex},r)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,n){var o=n.getComponent("timeline");o&&r.playState!=null&&o.setPlayState(r.playState)})}function timelinePreprocessor(a){var r=a&&a.timeline;isArray$1(r)||(r=r?[r]:[]),each$f(r,function(n){!n||compatibleEC2(n)})}function compatibleEC2(a){var r=a.type,n={number:"value",time:"time"};if(n[r]&&(a.axisType=n[r],delete a.type),transferItem(a),has$1(a,"controlPosition")){var o=a.controlStyle||(a.controlStyle={});has$1(o,"position")||(o.position=a.controlPosition),o.position==="none"&&!has$1(o,"show")&&(o.show=!1,delete o.position),delete a.controlPosition}each$f(a.data||[],function(s){isObject$5(s)&&!isArray$1(s)&&(!has$1(s,"value")&&has$1(s,"name")&&(s.value=s.name),transferItem(s))})}function transferItem(a){var r=a.itemStyle||(a.itemStyle={}),n=r.emphasis||(r.emphasis={}),o=a.label||a.label||{},s=o.normal||(o.normal={}),l={normal:1,emphasis:1};each$f(o,function(u,c){!l[c]&&!has$1(s,c)&&(s[c]=u)}),n.label&&!has$1(o,"emphasis")&&(o.emphasis=n.label,delete n.label)}function has$1(a,r){return a.hasOwnProperty(r)}function install$f(a){a.registerComponentModel(SliderTimelineModel$1),a.registerComponentView(SliderTimelineView$1),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(a),a.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(a,r){if(!a)return!1;for(var n=isArray$1(a)?a:[a],o=0;o<n.length;o++)if(n[o]&&n[o][r])return!0;return!1}function fillLabel(a){defaultEmphasis(a,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.createdBySelf=!1,n}return r.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s),this._mergeOption(n,s,!1,!0)},r.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},r.prototype.mergeOption=function(n,o){this._mergeOption(n,o,!1,!1)},r.prototype._mergeOption=function(n,o,s,l){var u=this.mainType;s||o.eachSeries(function(c){var d=c.get(this.mainType,!0),v=inner$5(c)[u];if(!d||!d.data){inner$5(c)[u]=null;return}v?v._mergeOption(d,o,!0):(l&&fillLabel(d),each$f(d.data,function(g){g instanceof Array?(fillLabel(g[0]),fillLabel(g[1])):fillLabel(g)}),v=this.createMarkerModelFromSeries(d,this,o),extend(v,{mainType:this.mainType,seriesIndex:c.seriesIndex,name:c.name,createdBySelf:!0}),v.__hostSeries=c),inner$5(c)[u]=v},this)},r.prototype.formatTooltip=function(n,o,s){var l=this.getData(),u=this.getRawValue(n),c=l.getName(n);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:c,value:u,noName:!c,noValue:u==null})]})},r.prototype.getData=function(){return this._data},r.prototype.setData=function(n){this._data=n},r.getMarkerModelFromSeries=function(n,o){return inner$5(n)[o]},r.type="marker",r.dependencies=["series","grid","polar","geo"],r}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.createMarkerModelFromSeries=function(n,o,s){return new r(n,o,s)},r.type="markPoint",r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},r}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function hasXAndY(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function markerTypeCalculatorWithExtent(a,r,n,o,s,l){var u=[],c=isDimensionStacked(r,o),d=c?r.getCalculationInfo("stackResultDimension"):o,v=numCalculate(r,d,a),g=r.indicesOfNearest(d,v)[0];u[s]=r.get(n,g),u[l]=r.get(d,g);var y=r.get(o,g),_=getPrecision(r.get(o,g));return _=Math.min(_,20),_>=0&&(u[l]=+u[l].toFixed(_)),[u,y]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(a,r){var n=a.getData(),o=a.coordinateSystem;if(r&&!hasXAndY(r)&&!isArray$1(r.coord)&&o){var s=o.dimensions,l=getAxisInfo(r,n,o,a);if(r=clone$4(r),r.type&&markerTypeCalculator[r.type]&&l.baseAxis&&l.valueAxis){var u=indexOf(s,l.baseAxis.dim),c=indexOf(s,l.valueAxis.dim),d=markerTypeCalculator[r.type](n,l.baseDataDim,l.valueDataDim,u,c);r.coord=d[0],r.value=d[1]}else{for(var v=[r.xAxis!=null?r.xAxis:r.radiusAxis,r.yAxis!=null?r.yAxis:r.angleAxis],g=0;g<2;g++)markerTypeCalculator[v[g]]&&(v[g]=numCalculate(n,n.mapDimension(s[g]),v[g]));r.coord=v}}return r}function getAxisInfo(a,r,n,o){var s={};return a.valueIndex!=null||a.valueDim!=null?(s.valueDataDim=a.valueIndex!=null?r.getDimension(a.valueIndex):a.valueDim,s.valueAxis=n.getAxis(dataDimToCoordDim(o,s.valueDataDim)),s.baseAxis=n.getOtherAxis(s.valueAxis),s.baseDataDim=r.mapDimension(s.baseAxis.dim)):(s.baseAxis=o.getBaseAxis(),s.valueAxis=n.getOtherAxis(s.baseAxis),s.baseDataDim=r.mapDimension(s.baseAxis.dim),s.valueDataDim=r.mapDimension(s.valueAxis.dim)),s}function dataDimToCoordDim(a,r){var n=a.getData().getDimensionInfo(r);return n&&n.coordDim}function dataFilter(a,r){return a&&a.containData&&r.coord&&!hasXOrY(r)?a.containData(r.coord):!0}function zoneFilter(a,r,n){return a&&a.containZone&&r.coord&&n.coord&&!hasXOrY(r)&&!hasXOrY(n)?a.containZone(r.coord,n.coord):!0}function createMarkerDimValueGetter(a,r){return a?function(n,o,s,l){var u=l<2?n.coord&&n.coord[l]:n.value;return parseDataValue(u,r[l])}:function(n,o,s,l){return parseDataValue(n.value,r[l])}}function numCalculate(a,r,n){if(n==="average"){var o=0,s=0;return a.each(r,function(l,u){isNaN(l)||(o+=l,s++)}),o/s}else return n==="median"?a.getMedian(r):a.getDataExtent(r)[n==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(){this.markerGroupMap=createHashMap()},r.prototype.render=function(n,o,s){var l=this,u=this.markerGroupMap;u.each(function(c){inner$4(c).keep=!1}),o.eachSeries(function(c){var d=MarkerModel$1.getMarkerModelFromSeries(c,l.type);d&&l.renderSeries(c,d,o,s)}),u.each(function(c){!inner$4(c).keep&&l.group.remove(c.group)})},r.prototype.markKeep=function(n){inner$4(n).keep=!0},r.prototype.toggleBlurSeries=function(n,o){var s=this;each$f(n,function(l){var u=MarkerModel$1.getMarkerModelFromSeries(l,s.type);if(u){var c=u.getData();c.eachItemGraphicEl(function(d){d&&(o?enterBlur(d):leaveBlur(d))})}})},r.type="marker",r}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(a,r,n){var o=r.coordinateSystem;a.each(function(s){var l=a.getItemModel(s),u,c=parsePercent(l.get("x"),n.getWidth()),d=parsePercent(l.get("y"),n.getHeight());if(!isNaN(c)&&!isNaN(d))u=[c,d];else if(r.getMarkerPosition)u=r.getMarkerPosition(a.getValues(a.dimensions,s));else if(o){var v=a.get(o.dimensions[0],s),g=a.get(o.dimensions[1],s);u=o.dataToPoint([v,g])}isNaN(c)||(u[0]=c),isNaN(d)||(u[1]=d),a.setItemLayout(s,u)})}var MarkPointView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.updateTransform=function(n,o,s){o.eachSeries(function(l){var u=MarkerModel$1.getMarkerModelFromSeries(l,"markPoint");u&&(updateMarkerLayout(u.getData(),l,s),this.markerGroupMap.get(l.id).updateLayout())},this)},r.prototype.renderSeries=function(n,o,s,l){var u=n.coordinateSystem,c=n.id,d=n.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,new SymbolDraw$1),y=createData(u,n,o);o.setData(y),updateMarkerLayout(o.getData(),n,l),y.each(function(_){var S=y.getItemModel(_),x=S.getShallow("symbol"),T=S.getShallow("symbolSize"),b=S.getShallow("symbolRotate"),A=S.getShallow("symbolOffset"),w=S.getShallow("symbolKeepAspect");if(isFunction(x)||isFunction(T)||isFunction(b)||isFunction(A)){var $=o.getRawValue(_),C=o.getDataParams(_);isFunction(x)&&(x=x($,C)),isFunction(T)&&(T=T($,C)),isFunction(b)&&(b=b($,C)),isFunction(A)&&(A=A($,C))}var P=S.getModel("itemStyle").getItemStyle(),M=getVisualFromData(d,"color");P.fill||(P.fill=M),y.setItemVisual(_,{symbol:x,symbolSize:T,symbolRotate:b,symbolOffset:A,symbolKeepAspect:w,style:P})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(_){_.traverse(function(S){getECData(S).dataModel=o})}),this.markKeep(g),g.group.silent=o.get("silent")||n.get("silent")},r.type="markPoint",r}(MarkerView$1);function createData(a,r,n){var o;a?o=map$1(a&&a.dimensions,function(c){var d=r.getData().getDimensionInfo(r.getData().mapDimension(c))||{};return extend(extend({},d),{name:c,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData$1(o,n),l=map$1(n.get("data"),curry$1(dataTransform,r));a&&(l=filter(l,curry$1(dataFilter,a)));var u=createMarkerDimValueGetter(!!a,o);return s.initData(l,null,u),s}const MarkPointView$1=MarkPointView;function install$e(a){a.registerComponentModel(MarkPointModel$1),a.registerComponentView(MarkPointView$1),a.registerPreprocessor(function(r){checkMarkerInSeries(r.series,"markPoint")&&(r.markPoint=r.markPoint||{})})}var MarkLineModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.createMarkerModelFromSeries=function(n,o,s){return new r(n,o,s)},r.type="markLine",r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},r}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(a,r,n,o){var s=a.getData(),l;if(isArray$1(o))l=o;else{var u=o.type;if(u==="min"||u==="max"||u==="average"||u==="median"||o.xAxis!=null||o.yAxis!=null){var c=void 0,d=void 0;if(o.yAxis!=null||o.xAxis!=null)c=r.getAxis(o.yAxis!=null?"y":"x"),d=retrieve(o.yAxis,o.xAxis);else{var v=getAxisInfo(o,s,r,a);c=v.valueAxis;var g=getStackedDimension(s,v.valueDataDim);d=numCalculate(s,g,u)}var y=c.dim==="x"?0:1,_=1-y,S=clone$4(o),x={coord:[]};S.type=null,S.coord=[],S.coord[_]=-1/0,x.coord[_]=1/0;var T=n.get("precision");T>=0&&isNumber(d)&&(d=+d.toFixed(Math.min(T,20))),S.coord[y]=x.coord[y]=d,l=[S,x,{type:u,valueIndex:o.valueIndex,value:d}]}else l=[]}var b=[dataTransform(a,l[0]),dataTransform(a,l[1]),extend({},l[2])];return b[2].type=b[2].type||null,merge$1(b[2],b[0]),merge$1(b[2],b[1]),b};function isInfinity$1(a){return!isNaN(a)&&!isFinite(a)}function ifMarkLineHasOnlyDim(a,r,n,o){var s=1-a,l=o.dimensions[a];return isInfinity$1(r[s])&&isInfinity$1(n[s])&&r[a]===n[a]&&o.getAxis(l).containData(r[a])}function markLineFilter(a,r){if(a.type==="cartesian2d"){var n=r[0].coord,o=r[1].coord;if(n&&o&&(ifMarkLineHasOnlyDim(1,n,o,a)||ifMarkLineHasOnlyDim(0,n,o,a)))return!0}return dataFilter(a,r[0])&&dataFilter(a,r[1])}function updateSingleMarkerEndLayout(a,r,n,o,s){var l=o.coordinateSystem,u=a.getItemModel(r),c,d=parsePercent(u.get("x"),s.getWidth()),v=parsePercent(u.get("y"),s.getHeight());if(!isNaN(d)&&!isNaN(v))c=[d,v];else{if(o.getMarkerPosition)c=o.getMarkerPosition(a.getValues(a.dimensions,r));else{var g=l.dimensions,y=a.get(g[0],r),_=a.get(g[1],r);c=l.dataToPoint([y,_])}if(isCoordinateSystemType(l,"cartesian2d")){var S=l.getAxis("x"),x=l.getAxis("y"),g=l.dimensions;isInfinity$1(a.get(g[0],r))?c[0]=S.toGlobalCoord(S.getExtent()[n?0:1]):isInfinity$1(a.get(g[1],r))&&(c[1]=x.toGlobalCoord(x.getExtent()[n?0:1]))}isNaN(d)||(c[0]=d),isNaN(v)||(c[1]=v)}a.setItemLayout(r,c)}var MarkLineView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.updateTransform=function(n,o,s){o.eachSeries(function(l){var u=MarkerModel$1.getMarkerModelFromSeries(l,"markLine");if(u){var c=u.getData(),d=inner$3(u).from,v=inner$3(u).to;d.each(function(g){updateSingleMarkerEndLayout(d,g,!0,l,s),updateSingleMarkerEndLayout(v,g,!1,l,s)}),c.each(function(g){c.setItemLayout(g,[d.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(l.id).updateLayout()}},this)},r.prototype.renderSeries=function(n,o,s,l){var u=n.coordinateSystem,c=n.id,d=n.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,new LineDraw$1);this.group.add(g.group);var y=createList$1(u,n,o),_=y.from,S=y.to,x=y.line;inner$3(o).from=_,inner$3(o).to=S,o.setData(x);var T=o.get("symbol"),b=o.get("symbolSize"),A=o.get("symbolRotate"),w=o.get("symbolOffset");isArray$1(T)||(T=[T,T]),isArray$1(b)||(b=[b,b]),isArray$1(A)||(A=[A,A]),isArray$1(w)||(w=[w,w]),y.from.each(function(C){$(_,C,!0),$(S,C,!1)}),x.each(function(C){var P=x.getItemModel(C).getModel("lineStyle").getLineStyle();x.setItemLayout(C,[_.getItemLayout(C),S.getItemLayout(C)]),P.stroke==null&&(P.stroke=_.getItemVisual(C,"style").fill),x.setItemVisual(C,{fromSymbolKeepAspect:_.getItemVisual(C,"symbolKeepAspect"),fromSymbolOffset:_.getItemVisual(C,"symbolOffset"),fromSymbolRotate:_.getItemVisual(C,"symbolRotate"),fromSymbolSize:_.getItemVisual(C,"symbolSize"),fromSymbol:_.getItemVisual(C,"symbol"),toSymbolKeepAspect:S.getItemVisual(C,"symbolKeepAspect"),toSymbolOffset:S.getItemVisual(C,"symbolOffset"),toSymbolRotate:S.getItemVisual(C,"symbolRotate"),toSymbolSize:S.getItemVisual(C,"symbolSize"),toSymbol:S.getItemVisual(C,"symbol"),style:P})}),g.updateData(x),y.line.eachItemGraphicEl(function(C){getECData(C).dataModel=o,C.traverse(function(P){getECData(P).dataModel=o})});function $(C,P,M){var E=C.getItemModel(P);updateSingleMarkerEndLayout(C,P,M,n,l);var D=E.getModel("itemStyle").getItemStyle();D.fill==null&&(D.fill=getVisualFromData(d,"color")),C.setItemVisual(P,{symbolKeepAspect:E.get("symbolKeepAspect"),symbolOffset:retrieve2(E.get("symbolOffset",!0),w[M?0:1]),symbolRotate:retrieve2(E.get("symbolRotate",!0),A[M?0:1]),symbolSize:retrieve2(E.get("symbolSize"),b[M?0:1]),symbol:retrieve2(E.get("symbol",!0),T[M?0:1]),style:D})}this.markKeep(g),g.group.silent=o.get("silent")||n.get("silent")},r.type="markLine",r}(MarkerView$1);function createList$1(a,r,n){var o;a?o=map$1(a&&a.dimensions,function(v){var g=r.getData().getDimensionInfo(r.getData().mapDimension(v))||{};return extend(extend({},g),{name:v,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData$1(o,n),l=new SeriesData$1(o,n),u=new SeriesData$1([],n),c=map$1(n.get("data"),curry$1(markLineTransform,r,a,n));a&&(c=filter(c,curry$1(markLineFilter,a)));var d=createMarkerDimValueGetter(!!a,o);return s.initData(map$1(c,function(v){return v[0]}),null,d),l.initData(map$1(c,function(v){return v[1]}),null,d),u.initData(map$1(c,function(v){return v[2]})),u.hasItemOption=!0,{from:s,to:l,line:u}}const MarkLineView$1=MarkLineView;function install$d(a){a.registerComponentModel(MarkLineModel$1),a.registerComponentView(MarkLineView$1),a.registerPreprocessor(function(r){checkMarkerInSeries(r.series,"markLine")&&(r.markLine=r.markLine||{})})}var MarkAreaModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.createMarkerModelFromSeries=function(n,o,s){return new r(n,o,s)},r.type="markArea",r.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},r}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(a,r,n,o){var s=dataTransform(a,o[0]),l=dataTransform(a,o[1]),u=s.coord,c=l.coord;u[0]=retrieve(u[0],-1/0),u[1]=retrieve(u[1],-1/0),c[0]=retrieve(c[0],1/0),c[1]=retrieve(c[1],1/0);var d=mergeAll([{},s,l]);return d.coord=[s.coord,l.coord],d.x0=s.x,d.y0=s.y,d.x1=l.x,d.y1=l.y,d};function isInfinity(a){return!isNaN(a)&&!isFinite(a)}function ifMarkAreaHasOnlyDim(a,r,n,o){var s=1-a;return isInfinity(r[s])&&isInfinity(n[s])}function markAreaFilter(a,r){var n=r.coord[0],o=r.coord[1],s={coord:n,x:r.x0,y:r.y0},l={coord:o,x:r.x1,y:r.y1};return isCoordinateSystemType(a,"cartesian2d")?n&&o&&(ifMarkAreaHasOnlyDim(1,n,o)||ifMarkAreaHasOnlyDim(0,n,o))?!0:zoneFilter(a,s,l):dataFilter(a,s)||dataFilter(a,l)}function getSingleMarkerEndPoint(a,r,n,o,s){var l=o.coordinateSystem,u=a.getItemModel(r),c,d=parsePercent(u.get(n[0]),s.getWidth()),v=parsePercent(u.get(n[1]),s.getHeight());if(!isNaN(d)&&!isNaN(v))c=[d,v];else{if(o.getMarkerPosition)c=o.getMarkerPosition(a.getValues(n,r));else{var g=a.get(n[0],r),y=a.get(n[1],r),_=[g,y];l.clampData&&l.clampData(_,_),c=l.dataToPoint(_,!0)}if(isCoordinateSystemType(l,"cartesian2d")){var S=l.getAxis("x"),x=l.getAxis("y"),g=a.get(n[0],r),y=a.get(n[1],r);isInfinity(g)?c[0]=S.toGlobalCoord(S.getExtent()[n[0]==="x0"?0:1]):isInfinity(y)&&(c[1]=x.toGlobalCoord(x.getExtent()[n[1]==="y0"?0:1]))}isNaN(d)||(c[0]=d),isNaN(v)||(c[1]=v)}return c}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.updateTransform=function(n,o,s){o.eachSeries(function(l){var u=MarkerModel$1.getMarkerModelFromSeries(l,"markArea");if(u){var c=u.getData();c.each(function(d){var v=map$1(dimPermutations,function(y){return getSingleMarkerEndPoint(c,d,y,l,s)});c.setItemLayout(d,v);var g=c.getItemGraphicEl(d);g.setShape("points",v)})}},this)},r.prototype.renderSeries=function(n,o,s,l){var u=n.coordinateSystem,c=n.id,d=n.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,{group:new Group$4});this.group.add(g.group),this.markKeep(g);var y=createList(u,n,o);o.setData(y),y.each(function(_){var S=map$1(dimPermutations,function(D){return getSingleMarkerEndPoint(y,_,D,n,l)}),x=u.getAxis("x").scale,T=u.getAxis("y").scale,b=x.getExtent(),A=T.getExtent(),w=[x.parse(y.get("x0",_)),x.parse(y.get("x1",_))],$=[T.parse(y.get("y0",_)),T.parse(y.get("y1",_))];asc$2(w),asc$2($);var C=!(b[0]>w[1]||b[1]<w[0]||A[0]>$[1]||A[1]<$[0]),P=!C;y.setItemLayout(_,{points:S,allClipped:P});var M=y.getItemModel(_).getModel("itemStyle").getItemStyle(),E=getVisualFromData(d,"color");M.fill||(M.fill=E,isString(M.fill)&&(M.fill=modifyAlpha(M.fill,.4))),M.stroke||(M.stroke=E),y.setItemVisual(_,"style",M)}),y.diff(inner$2(g).data).add(function(_){var S=y.getItemLayout(_);if(!S.allClipped){var x=new Polygon$1({shape:{points:S.points}});y.setItemGraphicEl(_,x),g.group.add(x)}}).update(function(_,S){var x=inner$2(g).data.getItemGraphicEl(S),T=y.getItemLayout(_);T.allClipped?x&&g.group.remove(x):(x?updateProps$1(x,{shape:{points:T.points}},o,_):x=new Polygon$1({shape:{points:T.points}}),y.setItemGraphicEl(_,x),g.group.add(x))}).remove(function(_){var S=inner$2(g).data.getItemGraphicEl(_);g.group.remove(S)}).execute(),y.eachItemGraphicEl(function(_,S){var x=y.getItemModel(S),T=y.getItemVisual(S,"style");_.useStyle(y.getItemVisual(S,"style")),setLabelStyle(_,getLabelStatesModels(x),{labelFetcher:o,labelDataIndex:S,defaultText:y.getName(S)||"",inheritColor:isString(T.fill)?modifyAlpha(T.fill,1):"#000"}),setStatesStylesFromModel(_,x),toggleHoverEmphasis(_,null,null,x.get(["emphasis","disabled"])),getECData(_).dataModel=o}),inner$2(g).data=y,g.group.silent=o.get("silent")||n.get("silent")},r.type="markArea",r}(MarkerView$1);function createList(a,r,n){var o,s,l=["x0","y0","x1","y1"];if(a){var u=map$1(a&&a.dimensions,function(v){var g=r.getData(),y=g.getDimensionInfo(g.mapDimension(v))||{};return extend(extend({},y),{name:v,ordinalMeta:null})});s=map$1(l,function(v,g){return{name:v,type:u[g%2].type}}),o=new SeriesData$1(s,n)}else s=[{name:"value",type:"float"}],o=new SeriesData$1(s,n);var c=map$1(n.get("data"),curry$1(markAreaTransform,r,a,n));a&&(c=filter(c,curry$1(markAreaFilter,a)));var d=a?function(v,g,y,_){var S=v.coord[Math.floor(_/2)][_%2];return parseDataValue(S,s[_])}:function(v,g,y,_){return parseDataValue(v.value,s[_])};return o.initData(c,null,d),o.hasItemOption=!0,o}const MarkAreaView$1=MarkAreaView;function install$c(a){a.registerComponentModel(MarkAreaModel$1),a.registerComponentView(MarkAreaView$1),a.registerPreprocessor(function(r){checkMarkerInSeries(r.series,"markArea")&&(r.markArea=r.markArea||{})})}var getDefaultSelectorOptions=function(a,r){if(r==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(r==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.layoutMode={type:"box",ignoreSize:!0},n}return r.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s),n.selected=n.selected||{},this._updateSelector(n)},r.prototype.mergeOption=function(n,o){a.prototype.mergeOption.call(this,n,o),this._updateSelector(n)},r.prototype._updateSelector=function(n){var o=n.selector,s=this.ecModel;o===!0&&(o=n.selector=["all","inverse"]),isArray$1(o)&&each$f(o,function(l,u){isString(l)&&(l={type:l}),o[u]=merge$1(l,getDefaultSelectorOptions(s,l.type))})},r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var o=!1,s=0;s<n.length;s++){var l=n[s].get("name");if(this.isSelected(l)){this.select(l),o=!0;break}}!o&&this.select(n[0].get("name"))}},r.prototype._updateData=function(n){var o=[],s=[];n.eachRawSeries(function(c){var d=c.name;s.push(d);var v;if(c.legendVisualProvider){var g=c.legendVisualProvider,y=g.getAllNames();n.isSeriesFiltered(c)||(s=s.concat(y)),y.length?o=o.concat(y):v=!0}else v=!0;v&&isNameSpecified(c)&&o.push(c.name)}),this._availableNames=s;var l=this.get("data")||o,u=map$1(l,function(c){return(isString(c)||isNumber(c))&&(c={name:c}),new Model$1(c,this,this.ecModel)},this);this._data=u},r.prototype.getData=function(){return this._data},r.prototype.select=function(n){var o=this.option.selected,s=this.get("selectedMode");if(s==="single"){var l=this._data;each$f(l,function(u){o[u.get("name")]=!1})}o[n]=!0},r.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},r.prototype.toggleSelected=function(n){var o=this.option.selected;o.hasOwnProperty(n)||(o[n]=!0),this[o[n]?"unSelect":"select"](n)},r.prototype.allSelect=function(){var n=this._data,o=this.option.selected;each$f(n,function(s){o[s.get("name",!0)]=!0})},r.prototype.inverseSelect=function(){var n=this._data,o=this.option.selected;each$f(n,function(s){var l=s.get("name",!0);o.hasOwnProperty(l)||(o[l]=!0),o[l]=!o[l]})},r.prototype.isSelected=function(n){var o=this.option.selected;return!(o.hasOwnProperty(n)&&!o[n])&&indexOf(this._availableNames,n)>=0},r.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},r.type="legend.plain",r.dependencies=["series"],r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},r}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.newlineDisabled=!1,n}return r.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},r.prototype.getContentGroup=function(){return this._contentGroup},r.prototype.getSelectorGroup=function(){return this._selectorGroup},r.prototype.render=function(n,o,s){var l=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var u=n.get("align"),c=n.get("orient");(!u||u==="auto")&&(u=n.get("left")==="right"&&c==="vertical"?"right":"left");var d=n.get("selector",!0),v=n.get("selectorPosition",!0);d&&(!v||v==="auto")&&(v=c==="horizontal"?"end":"start"),this.renderInner(u,n,o,s,d,c,v);var g=n.getBoxLayoutParams(),y={width:s.getWidth(),height:s.getHeight()},_=n.get("padding"),S=getLayoutRect(g,y,_),x=this.layoutInner(n,u,S,l,d,v),T=getLayoutRect(defaults({width:x.width,height:x.height},g),y,_);this.group.x=T.x-x.x,this.group.y=T.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(x,n))}},r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},r.prototype.renderInner=function(n,o,s,l,u,c,d){var v=this.getContentGroup(),g=createHashMap(),y=o.get("selectedMode"),_=[];s.eachRawSeries(function(S){!S.get("legendHoverLink")&&_.push(S.id)}),each$3(o.getData(),function(S,x){var T=S.get("name");if(!this.newlineDisabled&&(T===""||T===`
`)){var b=new Group$1;b.newline=!0,v.add(b);return}var A=s.getSeriesByName(T)[0];if(!g.get(T))if(A){var w=A.getData(),$=w.getVisual("legendLineStyle")||{},C=w.getVisual("legendIcon"),P=w.getVisual("style"),M=this._createItem(A,T,x,S,o,n,$,P,C,y,l);M.on("click",curry(dispatchSelectAction,T,null,l,_)).on("mouseover",curry(dispatchHighlightAction,A.name,null,l,_)).on("mouseout",curry(dispatchDownplayAction,A.name,null,l,_)),g.set(T,!0)}else s.eachRawSeries(function(E){if(!g.get(T)&&E.legendVisualProvider){var D=E.legendVisualProvider;if(!D.containName(T))return;var I=D.indexOfName(T),R=D.getItemVisual(I,"style"),L=D.getItemVisual(I,"legendIcon"),O=parse(R.fill);O&&O[3]===0&&(O[3]=.2,R=extend(extend({},R),{fill:stringify(O,"rgba")}));var N=this._createItem(E,T,x,S,o,n,{},R,L,y,l);N.on("click",curry(dispatchSelectAction,null,T,l,_)).on("mouseover",curry(dispatchHighlightAction,null,T,l,_)).on("mouseout",curry(dispatchDownplayAction,null,T,l,_)),g.set(T,!0)}},this)},this),u&&this._createSelector(u,o,l,c,d)},r.prototype._createSelector=function(n,o,s,l,u){var c=this.getSelectorGroup();each$3(n,function(v){var g=v.type,y=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect"})}});c.add(y);var _=o.getModel("selectorLabel"),S=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(y,{normal:_,emphasis:S},{defaultText:v.title}),enableHoverEmphasis(y)})},r.prototype._createItem=function(n,o,s,l,u,c,d,v,g,y,_){var S=n.visualDrawType,x=u.get("itemWidth"),T=u.get("itemHeight"),b=u.isSelected(o),A=l.get("symbolRotate"),w=l.get("symbolKeepAspect"),$=l.get("icon");g=$||g||"roundRect";var C=getLegendStyle(g,l,d,v,S,b,_),P=new Group$1,M=l.getModel("textStyle");if(isFunction(n.getLegendIcon)&&(!$||$==="inherit"))P.add(n.getLegendIcon({itemWidth:x,itemHeight:T,icon:g,iconRotate:A,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:w}));else{var E=$==="inherit"&&n.getData().getVisual("symbol")?A==="inherit"?n.getData().getVisual("symbolRotate"):A:0;P.add(getDefaultLegendIcon({itemWidth:x,itemHeight:T,icon:g,iconRotate:E,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:w}))}var D=c==="left"?x+5:-5,I=c,R=u.get("formatter"),L=o;isString(R)&&R?L=R.replace("{name}",o!=null?o:""):isFunction(R)&&(L=R(o));var O=l.get("inactiveColor");P.add(new ZRText$1({style:createTextStyle(M,{text:L,x:D,y:T/2,fill:b?M.getTextColor():O,align:I,verticalAlign:"middle"})}));var N=new Rect$3({shape:P.getBoundingRect(),invisible:!0}),F=l.getModel("tooltip");return F.get("show")&&setTooltipConfig({el:N,componentModel:u,itemName:o,itemTooltipOption:F.option}),P.add(N),P.eachChild(function(B){B.silent=!0}),N.silent=!y,this.getContentGroup().add(P),enableHoverEmphasis(P),P.__legendDataIndex=s,P},r.prototype.layoutInner=function(n,o,s,l,u,c){var d=this.getContentGroup(),v=this.getSelectorGroup();box(n.get("orient"),d,n.get("itemGap"),s.width,s.height);var g=d.getBoundingRect(),y=[-g.x,-g.y];if(v.markRedraw(),d.markRedraw(),u){box("horizontal",v,n.get("selectorItemGap",!0));var _=v.getBoundingRect(),S=[-_.x,-_.y],x=n.get("selectorButtonGap",!0),T=n.getOrient().index,b=T===0?"width":"height",A=T===0?"height":"width",w=T===0?"y":"x";c==="end"?S[T]+=g[b]+x:y[T]+=_[b]+x,S[1-T]+=g[A]/2-_[A]/2,v.x=S[0],v.y=S[1],d.x=y[0],d.y=y[1];var $={x:0,y:0};return $[b]=g[b]+x+_[b],$[A]=Math.max(g[A],_[A]),$[w]=Math.min(0,_[w]+S[1-T]),$}else return d.x=y[0],d.y=y[1],this.group.getBoundingRect()},r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},r.type="legend.plain",r}(ComponentView$1);function getLegendStyle(a,r,n,o,s,l,u){function c(b,A){b.lineWidth==="auto"&&(b.lineWidth=A.lineWidth>0?2:0),each$3(b,function(w,$){b[$]==="inherit"&&(b[$]=A[$])})}var d=r.getModel("itemStyle"),v=d.getItemStyle(),g=a.lastIndexOf("empty",0)===0?"fill":"stroke",y=d.getShallow("decal");v.decal=!y||y==="inherit"?o.decal:createOrUpdatePatternFromDecal(y,u),v.fill==="inherit"&&(v.fill=o[s]),v.stroke==="inherit"&&(v.stroke=o[g]),v.opacity==="inherit"&&(v.opacity=(s==="fill"?o:n).opacity),c(v,o);var _=r.getModel("lineStyle"),S=_.getLineStyle();if(c(S,n),v.fill==="auto"&&(v.fill=o.fill),v.stroke==="auto"&&(v.stroke=o.fill),S.stroke==="auto"&&(S.stroke=o.fill),!l){var x=r.get("inactiveBorderWidth"),T=v[g];v.lineWidth=x==="auto"?o.lineWidth>0&&T?2:0:v.lineWidth,v.fill=r.get("inactiveColor"),v.stroke=r.get("inactiveBorderColor"),S.stroke=_.get("inactiveColor"),S.lineWidth=_.get("inactiveWidth")}return{itemStyle:v,lineStyle:S}}function getDefaultLegendIcon(a){var r=a.icon||"roundRect",n=createSymbol$1(r,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return n.setStyle(a.itemStyle),n.rotation=(a.iconRotate||0)*Math.PI/180,n.setOrigin([a.itemWidth/2,a.itemHeight/2]),r.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function dispatchSelectAction(a,r,n,o){dispatchDownplayAction(a,r,n,o),n.dispatchAction({type:"legendToggleSelect",name:a!=null?a:r}),dispatchHighlightAction(a,r,n,o)}function isUseHoverLayer(a){for(var r=a.getZr().storage.getDisplayList(),n,o=0,s=r.length;o<s&&!(n=r[o].states.emphasis);)o++;return n&&n.hoverLayer}function dispatchHighlightAction(a,r,n,o){isUseHoverLayer(n)||n.dispatchAction({type:"highlight",seriesName:a,name:r,excludeSeriesId:o})}function dispatchDownplayAction(a,r,n,o){isUseHoverLayer(n)||n.dispatchAction({type:"downplay",seriesName:a,name:r,excludeSeriesId:o})}const LegendView$1=LegendView;function legendFilter(a){var r=a.findComponents({mainType:"legend"});r&&r.length&&a.filterSeries(function(n){for(var o=0;o<r.length;o++)if(!r[o].isSelected(n.name))return!1;return!0})}function legendSelectActionHandler(a,r,n){var o={},s=a==="toggleSelected",l;return n.eachComponent("legend",function(u){s&&l!=null?u[l?"select":"unSelect"](r.name):a==="allSelect"||a==="inverseSelect"?u[a]():(u[a](r.name),l=u.isSelected(r.name));var c=u.getData();each$f(c,function(d){var v=d.get("name");if(!(v===`
`||v==="")){var g=u.isSelected(v);o.hasOwnProperty(v)?o[v]=o[v]&&g:o[v]=g}})}),a==="allSelect"||a==="inverseSelect"?{selected:o}:{name:r.name,selected:o}}function installLegendAction(a){a.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),a.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),a.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(a){a.registerComponentModel(LegendModel$1),a.registerComponentView(LegendView$1),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),a.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(a)}var ScrollableLegendModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},r.prototype.init=function(n,o,s){var l=getLayoutParams(n);a.prototype.init.call(this,n,o,s),mergeAndNormalizeLayoutParams(this,n,l)},r.prototype.mergeOption=function(n,o){a.prototype.mergeOption.call(this,n,o),mergeAndNormalizeLayoutParams(this,this.option,n)},r.type="legend.scroll",r.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),r}(LegendModel$1);function mergeAndNormalizeLayoutParams(a,r,n){var o=a.getOrient(),s=[1,1];s[o.index]=0,mergeLayoutParam(r,n,{type:"box",ignoreSize:!!s})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.newlineDisabled=!0,n._currentIndex=0,n}return r.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},r.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},r.prototype.renderInner=function(n,o,s,l,u,c,d){var v=this;a.prototype.renderInner.call(this,n,o,s,l,u,c,d);var g=this._controllerGroup,y=o.get("pageIconSize",!0),_=isArray$1(y)?y:[y,y];x("pagePrev",0);var S=o.getModel("pageTextStyle");g.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:S.getTextColor(),font:S.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1);function x(T,b){var A=T+"DataIndex",w=createIcon(o.get("pageIcons",!0)[o.getOrient().name][b],{onclick:bind$1(v._pageGo,v,A,o,l)},{x:-_[0]/2,y:-_[1]/2,width:_[0],height:_[1]});w.name=T,g.add(w)}},r.prototype.layoutInner=function(n,o,s,l,u,c){var d=this.getSelectorGroup(),v=n.getOrient().index,g=WH[v],y=XY[v],_=WH[1-v],S=XY[1-v];u&&box("horizontal",d,n.get("selectorItemGap",!0));var x=n.get("selectorButtonGap",!0),T=d.getBoundingRect(),b=[-T.x,-T.y],A=clone$4(s);u&&(A[g]=s[g]-T[g]-x);var w=this._layoutContentAndController(n,l,A,v,g,_,S,y);if(u){if(c==="end")b[v]+=w[g]+x;else{var $=T[g]+x;b[v]-=$,w[y]-=$}w[g]+=T[g]+x,b[1-v]+=w[S]+w[_]/2-T[_]/2,w[_]=Math.max(w[_],T[_]),w[S]=Math.min(w[S],T[S]+b[1-v]),d.x=b[0],d.y=b[1],d.markRedraw()}return w},r.prototype._layoutContentAndController=function(n,o,s,l,u,c,d,v){var g=this.getContentGroup(),y=this._containerGroup,_=this._controllerGroup;box(n.get("orient"),g,n.get("itemGap"),l?s.width:null,l?null:s.height),box("horizontal",_,n.get("pageButtonItemGap",!0));var S=g.getBoundingRect(),x=_.getBoundingRect(),T=this._showController=S[u]>s[u],b=[-S.x,-S.y];o||(b[l]=g[v]);var A=[0,0],w=[-x.x,-x.y],$=retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(T){var C=n.get("pageButtonPosition",!0);C==="end"?w[l]+=s[u]-x[u]:A[l]+=x[u]+$}w[1-l]+=S[c]/2-x[c]/2,g.setPosition(b),y.setPosition(A),_.setPosition(w);var P={x:0,y:0};if(P[u]=T?s[u]:S[u],P[c]=Math.max(S[c],x[c]),P[d]=Math.min(0,x[d]+w[1-l]),y.__rectSize=s[u],T){var M={x:0,y:0};M[u]=Math.max(s[u]-x[u]-$,0),M[c]=P[c],y.setClipPath(new Rect$3({shape:M})),y.__rectSize=M[u]}else _.eachChild(function(D){D.attr({invisible:!0,silent:!0})});var E=this._getPageInfo(n);return E.pageIndex!=null&&updateProps$1(g,{x:E.contentPosition[0],y:E.contentPosition[1]},T?n:null),this._updatePageInfoView(n,E),P},r.prototype._pageGo=function(n,o,s){var l=this._getPageInfo(o)[n];l!=null&&s.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:o.id})},r.prototype._updatePageInfoView=function(n,o){var s=this._controllerGroup;each$f(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",_=o[y]!=null,S=s.childOfName(g);S&&(S.setStyle("fill",_?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),S.cursor=_?"pointer":"default")});var l=s.childOfName("pageText"),u=n.get("pageFormatter"),c=o.pageIndex,d=c!=null?c+1:0,v=o.pageCount;l&&u&&l.setStyle("text",isString(u)?u.replace("{current}",d==null?"":d+"").replace("{total}",v==null?"":v+""):u({current:d,total:v}))},r.prototype._getPageInfo=function(n){var o=n.get("scrollDataIndex",!0),s=this.getContentGroup(),l=this._containerGroup.__rectSize,u=n.getOrient().index,c=WH[u],d=XY[u],v=this._findTargetItemIndex(o),g=s.children(),y=g[v],_=g.length,S=_?1:0,x={contentPosition:[s.x,s.y],pageCount:S,pageIndex:S-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return x;var T=C(y);x.contentPosition[u]=-T.s;for(var b=v+1,A=T,w=T,$=null;b<=_;++b)$=C(g[b]),(!$&&w.e>A.s+l||$&&!P($,A.s))&&(w.i>A.i?A=w:A=$,A&&(x.pageNextDataIndex==null&&(x.pageNextDataIndex=A.i),++x.pageCount)),w=$;for(var b=v-1,A=T,w=T,$=null;b>=-1;--b)$=C(g[b]),(!$||!P(w,$.s))&&A.i<w.i&&(w=A,x.pagePrevDataIndex==null&&(x.pagePrevDataIndex=A.i),++x.pageCount,++x.pageIndex),A=$;return x;function C(M){if(M){var E=M.getBoundingRect(),D=E[d]+M[d];return{s:D,e:D+E[c],i:M.__legendDataIndex}}}function P(M,E){return M.e>=E&&M.s<=E+l}},r.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var o,s=this.getContentGroup(),l;return s.eachChild(function(u,c){var d=u.__legendDataIndex;l==null&&d!=null&&(l=c),d===n&&(o=c)}),o!=null?o:l},r.type="legend.scroll",r}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(a){a.registerAction("legendScroll","legendscroll",function(r,n){var o=r.scrollDataIndex;o!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:r},function(s){s.setScrollDataIndex(o)})})}function install$a(a){use(install$b),a.registerComponentModel(ScrollableLegendModel$1),a.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(a)}function install$9(a){use(install$b),use(install$a)}var InsideZoomModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="dataZoom.inside",r.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),r}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(a,r,n){inner$1(a).coordSysRecordMap.each(function(o){var s=o.dataZoomInfoMap.get(r.uid);s&&(s.getRange=n)})}function disposeCoordSysRecordIfNeeded(a,r){for(var n=inner$1(a).coordSysRecordMap,o=n.keys(),s=0;s<o.length;s++){var l=o[s],u=n.get(l),c=u.dataZoomInfoMap;if(c){var d=r.uid,v=c.get(d);v&&(c.removeKey(d),c.keys().length||disposeCoordSysRecord(n,u))}}}function disposeCoordSysRecord(a,r){if(r){a.removeKey(r.model.uid);var n=r.controller;n&&n.dispose()}}function createCoordSysRecord(a,r){var n={model:r,containsPoint:curry$1(containsPoint,r),dispatchAction:curry$1(dispatchAction,a),dataZoomInfoMap:null,controller:null},o=n.controller=new RoamController$1(a.getZr());return each$f(["pan","zoom","scrollMove"],function(s){o.on(s,function(l){var u=[];n.dataZoomInfoMap.each(function(c){if(!!l.isAvailableBehavior(c.model.option)){var d=(c.getRange||{})[s],v=d&&d(c.dzReferCoordSysInfo,n.model.mainType,n.controller,l);!c.model.get("disabled",!0)&&v&&u.push({dataZoomId:c.model.id,start:v[0],end:v[1]})}}),u.length&&n.dispatchAction(u)})}),n}function dispatchAction(a,r){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:r})}function containsPoint(a,r,n,o){return a.coordinateSystem.containPoint([n,o])}function mergeControllerParams(a){var r,n="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return a.each(function(l){var u=l.model,c=u.get("disabled",!0)?!1:u.get("zoomLock",!0)?"move":!0;o[n+c]>o[n+r]&&(r=c),s=s&&u.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s}}}function installDataZoomRoamProcessor(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(r,n){var o=inner$1(n),s=o.coordSysRecordMap||(o.coordSysRecordMap=createHashMap());s.each(function(l){l.dataZoomInfoMap=null}),r.eachComponent({mainType:"dataZoom",subType:"inside"},function(l){var u=collectReferCoordSysModelInfo(l);each$f(u.infoList,function(c){var d=c.model.uid,v=s.get(d)||s.set(d,createCoordSysRecord(n,c.model)),g=v.dataZoomInfoMap||(v.dataZoomInfoMap=createHashMap());g.set(l.uid,{dzReferCoordSysInfo:c,model:l,getRange:null})})}),s.each(function(l){var u=l.controller,c,d=l.dataZoomInfoMap;if(d){var v=d.keys()[0];v!=null&&(c=d.get(v))}if(!c){disposeCoordSysRecord(s,l);return}var g=mergeControllerParams(d);u.enable(g.controlType,g.opt),u.setPointerChecker(l.containsPoint),createOrUpdate(l,"dispatchAction",c.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return r.prototype.render=function(n,o,s){if(a.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),setViewInfoToCoordSysRecord(s,n,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},r.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},r.type="dataZoom.inside",r}(DataZoomView$1),getRangeHandlers={zoom:function(a,r,n,o){var s=this.range,l=s.slice(),u=a.axisModels[0];if(!!u){var c=getDirectionInfo[r](null,[o.originX,o.originY],u,n,a),d=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(l[1]-l[0])+l[0],v=Math.max(1/o.scale,0);l[0]=(l[0]-d)*v+d,l[1]=(l[1]-d)*v+d;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,l,[0,100],0,g.minSpan,g.maxSpan),this.range=l,s[0]!==l[0]||s[1]!==l[1])return l}},pan:makeMover(function(a,r,n,o,s,l){var u=getDirectionInfo[o]([l.oldX,l.oldY],[l.newX,l.newY],r,s,n);return u.signal*(a[1]-a[0])*u.pixel/u.pixelLength}),scrollMove:makeMover(function(a,r,n,o,s,l){var u=getDirectionInfo[o]([0,0],[l.scrollDelta,l.scrollDelta],r,s,n);return u.signal*(a[1]-a[0])*l.scrollDelta})};function makeMover(a){return function(r,n,o,s){var l=this.range,u=l.slice(),c=r.axisModels[0];if(!!c){var d=a(u,c,r,n,o,s);if(sliderMove(d,u,[0,100],"all"),this.range=u,l[0]!==u[0]||l[1]!==u[1])return u}}}var getDirectionInfo={grid:function(a,r,n,o,s){var l=n.axis,u={},c=s.model.coordinateSystem.getRect();return a=a||[0,0],l.dim==="x"?(u.pixel=r[0]-a[0],u.pixelLength=c.width,u.pixelStart=c.x,u.signal=l.inverse?1:-1):(u.pixel=r[1]-a[1],u.pixelLength=c.height,u.pixelStart=c.y,u.signal=l.inverse?-1:1),u},polar:function(a,r,n,o,s){var l=n.axis,u={},c=s.model.coordinateSystem,d=c.getRadiusAxis().getExtent(),v=c.getAngleAxis().getExtent();return a=a?c.pointToCoord(a):[0,0],r=c.pointToCoord(r),n.mainType==="radiusAxis"?(u.pixel=r[0]-a[0],u.pixelLength=d[1]-d[0],u.pixelStart=d[0],u.signal=l.inverse?1:-1):(u.pixel=r[1]-a[1],u.pixelLength=v[1]-v[0],u.pixelStart=v[0],u.signal=l.inverse?-1:1),u},singleAxis:function(a,r,n,o,s){var l=n.axis,u=s.model.coordinateSystem.getRect(),c={};return a=a||[0,0],l.orient==="horizontal"?(c.pixel=r[0]-a[0],c.pixelLength=u.width,c.pixelStart=u.x,c.signal=l.inverse?1:-1):(c.pixel=r[1]-a[1],c.pixelLength=u.height,c.pixelStart=u.y,c.signal=l.inverse?-1:1),c}};const InsideZoomView$1=InsideZoomView;function install$8(a){installCommon$1(a),a.registerComponentModel(InsideZoomModel$1),a.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(a)}var SliderZoomModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.type="dataZoom.slider",r.layoutMode="box",r.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),r}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._displayables={},n}return r.prototype.init=function(n,o){this.api=o,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},r.prototype.render=function(n,o,s,l){if(a.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!l||l.type!=="dataZoom"||l.from!==this.uid)&&this._buildView(),this._updateView()},r.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},r.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(o),this._positionGroup()},r.prototype._resetLocation=function(){var n=this.dataZoomModel,o=this.api,s=n.get("brushSelect"),l=s?DEFAULT_MOVE_HANDLE_SIZE:0,u=this._findCoordRect(),c={width:o.getWidth(),height:o.getHeight()},d=this._orient===HORIZONTAL?{right:c.width-u.x-u.width,top:c.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-l,width:u.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:u.y,width:DEFAULT_FILLER_SIZE,height:u.height},v=getLayoutParams(n.option);each$f(["right","top","width","height"],function(y){v[y]==="ph"&&(v[y]=d[y])});var g=getLayoutRect(v,c);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===VERTICAL&&this._size.reverse()},r.prototype._positionGroup=function(){var n=this.group,o=this._location,s=this._orient,l=this.dataZoomModel.getFirstTargetAxisModel(),u=l&&l.get("inverse"),c=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(s===HORIZONTAL&&!u?{scaleY:d?1:-1,scaleX:1}:s===HORIZONTAL&&u?{scaleY:d?1:-1,scaleX:-1}:s===VERTICAL&&!u?{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2});var v=n.getBoundingRect([c]);n.x=o.x-v.x,n.y=o.y-v.y,n.markRedraw()},r.prototype._getViewExtent=function(){return[0,this._size[0]]},r.prototype._renderBackground=function(){var n=this.dataZoomModel,o=this._size,s=this._displayables.sliderGroup,l=n.get("brushSelect");s.add(new Rect({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var u=new Rect({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),c=this.api.getZr();l?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),s.add(u)},r.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var o=this._size,s=this._shadowSize||[],l=n.series,u=l.getRawData(),c=l.getShadowDim&&l.getShadowDim(),d=c&&u.getDimensionInfo(c)?l.getShadowDim():n.otherDim;if(d==null)return;var v=this._shadowPolygonPts,g=this._shadowPolylinePts;if(u!==this._shadowData||d!==this._shadowDim||o[0]!==s[0]||o[1]!==s[1]){var y=u.getDataExtent(d),_=(y[1]-y[0])*.3;y=[y[0]-_,y[1]+_];var S=[0,o[1]],x=[0,o[0]],T=[[o[0],0],[0,0]],b=[],A=x[1]/(u.count()-1),w=0,$=Math.round(u.count()/o[0]),C;u.each([d],function(I,R){if($>0&&R%$){w+=A;return}var L=I==null||isNaN(I)||I==="",O=L?0:linearMap$2(I,y,S,!0);L&&!C&&R?(T.push([T[T.length-1][0],0]),b.push([b[b.length-1][0],0])):!L&&C&&(T.push([w,0]),b.push([w,0])),T.push([w,O]),b.push([w,O]),w+=A,C=L}),v=this._shadowPolygonPts=T,g=this._shadowPolylinePts=b}this._shadowData=u,this._shadowDim=d,this._shadowSize=[o[0],o[1]];var P=this.dataZoomModel;function M(I){var R=P.getModel(I?"selectedDataBackground":"dataBackground"),L=new Group$4,O=new Polygon$1({shape:{points:v},segmentIgnoreThreshold:1,style:R.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),N=new Polyline$3({shape:{points:g},segmentIgnoreThreshold:1,style:R.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return L.add(O),L.add(N),L}for(var E=0;E<3;E++){var D=M(E===1);this._displayables.sliderGroup.add(D),this._displayables.dataShadowSegs.push(D)}},r.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,o=n.get("showDataShadow");if(o!==!1){var s,l=this.ecModel;return n.eachTargetAxis(function(u,c){var d=n.getAxisProxy(u,c).getTargetSeriesModels();each$f(d,function(v){if(!s&&!(o!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,v.get("type"))<0)){var g=l.getComponent(getAxisMainType(u),c).axis,y=getOtherDim(u),_,S=v.coordinateSystem;y!=null&&S.getOtherAxis&&(_=S.getOtherAxis(g).inverse),y=v.getData().mapDimension(y),s={thisAxis:g,series:v,thisDim:u,otherDim:y,otherAxisInverse:_}}},this)},this),s}},r.prototype._renderHandle=function(){var n=this.group,o=this._displayables,s=o.handles=[null,null],l=o.handleLabels=[null,null],u=this._displayables.sliderGroup,c=this._size,d=this.dataZoomModel,v=this.api,g=d.get("borderRadius")||0,y=d.get("brushSelect"),_=o.filler=new Rect({silent:y,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});u.add(_),u.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:g},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function($){var C=d.get("handleIcon");!symbolBuildProxies[C]&&C.indexOf("path://")<0&&C.indexOf("image://")<0&&(C="path://"+C);var P=createSymbol$1(C,-1,0,2,2,null,!0);P.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,$),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var M=P.getBoundingRect(),E=d.get("handleSize");this._handleHeight=parsePercent(E,this._size[1]),this._handleWidth=M.width/M.height*this._handleHeight,P.setStyle(d.getModel("handleStyle").getItemStyle()),P.style.strokeNoScale=!0,P.rectHover=!0,P.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(P);var D=d.get("handleColor");D!=null&&(P.style.fill=D),u.add(s[$]=P);var I=d.getModel("textStyle");n.add(l[$]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(I,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:I.getTextColor(),font:I.getFont()}),z2:10}))},this);var S=_;if(y){var x=parsePercent(d.get("moveHandleSize"),c[1]),T=o.moveHandle=new Rect$3({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:x}}),b=x*.8,A=o.moveHandleIcon=createSymbol$1(d.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);A.silent=!0,A.y=c[1]+x/2-.5,T.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var w=Math.min(c[1]/2,Math.max(x,10));S=o.moveZone=new Rect$3({invisible:!0,shape:{y:c[1]-w,height:x+w}}),S.on("mouseover",function(){v.enterEmphasis(T)}).on("mouseout",function(){v.leaveEmphasis(T)}),u.add(T),u.add(A),u.add(S)}S.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},r.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[linearMap$2(n[0],[0,100],o,!0),linearMap$2(n[1],[0,100],o,!0)]},r.prototype._updateInterval=function(n,o){var s=this.dataZoomModel,l=this._handleEnds,u=this._getViewExtent(),c=s.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];sliderMove(o,l,u,s.get("zoomLock")?"all":n,c.minSpan!=null?linearMap$2(c.minSpan,d,u,!0):null,c.maxSpan!=null?linearMap$2(c.maxSpan,d,u,!0):null);var v=this._range,g=this._range=asc$2([linearMap$2(l[0],u,d,!0),linearMap$2(l[1],u,d,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},r.prototype._updateView=function(n){var o=this._displayables,s=this._handleEnds,l=asc$2(s.slice()),u=this._size;each$f([0,1],function(S){var x=o.handles[S],T=this._handleHeight;x.attr({scaleX:T/2,scaleY:T/2,x:s[S]+(S?-1:1),y:u[1]/2-T/2})},this),o.filler.setShape({x:l[0],y:0,width:l[1]-l[0],height:u[1]});var c={x:l[0],width:l[1]-l[0]};o.moveHandle&&(o.moveHandle.setShape(c),o.moveZone.setShape(c),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",c.x+c.width/2));for(var d=o.dataShadowSegs,v=[0,l[0],l[1],u[0]],g=0;g<d.length;g++){var y=d[g],_=y.getClipPath();_||(_=new Rect$3,y.setClipPath(_)),_.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:u[1]})}this._updateDataInfo(n)},r.prototype._updateDataInfo=function(n){var o=this.dataZoomModel,s=this._displayables,l=s.handleLabels,u=this._orient,c=["",""];if(o.get("showDetail")){var d=o.findRepresentativeAxisProxy();if(d){var v=d.getAxisModel().axis,g=this._range,y=n?d.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:d.getDataValueWindow();c=[this._formatLabel(y[0],v),this._formatLabel(y[1],v)]}}var _=asc$2(this._handleEnds.slice());S.call(this,0),S.call(this,1);function S(x){var T=getTransform$1(s.handles[x].parent,this.group),b=transformDirection(x===0?"right":"left",T),A=this._handleWidth/2+LABEL_GAP,w=applyTransform([_[x]+(x===0?-A:A),this._size[1]/2],T);l[x].setStyle({x:w[0],y:w[1],verticalAlign:u===HORIZONTAL?"middle":b,align:u===HORIZONTAL?b:"center",text:c[x]})}},r.prototype._formatLabel=function(n,o){var s=this.dataZoomModel,l=s.get("labelFormatter"),u=s.get("labelPrecision");(u==null||u==="auto")&&(u=o.getPixelPrecision());var c=n==null||isNaN(n)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(u,20));return isFunction(l)?l(n,c):isString(l)?l.replace("{value}",c):c},r.prototype._showDataInfo=function(n){n=this._dragging||n;var o=this._displayables,s=o.handleLabels;s[0].attr("invisible",!n),s[1].attr("invisible",!n),o.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)},r.prototype._onDragMove=function(n,o,s,l){this._dragging=!0,stop(l.event);var u=this._displayables.sliderGroup.getLocalTransform(),c=applyTransform([o,s],u,!0),d=this._updateInterval(n,c[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),d&&v&&this._dispatchZoomAction(!0)},r.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},r.prototype._onClickPanel=function(n){var o=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(s[0]<0||s[0]>o[0]||s[1]<0||s[1]>o[1])){var l=this._handleEnds,u=(l[0]+l[1])/2,c=this._updateInterval("all",s[0]-u);this._updateView(),c&&this._dispatchZoomAction(!1)}},r.prototype._onBrushStart=function(n){var o=n.offsetX,s=n.offsetY;this._brushStart=new Point$1(o,s),this._brushing=!0,this._brushStartTime=+new Date},r.prototype._onBrushEnd=function(n){if(!!this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var s=o.shape,l=+new Date;if(!(l-this._brushStartTime<200&&Math.abs(s.width)<5)){var u=this._getViewExtent(),c=[0,100];this._range=asc$2([linearMap$2(s.x,u,c,!0),linearMap$2(s.x+s.width,u,c,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},r.prototype._onBrush=function(n){this._brushing&&(stop(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},r.prototype._updateBrushRect=function(n,o){var s=this._displayables,l=this.dataZoomModel,u=s.brushRect;u||(u=s.brushRect=new Rect({silent:!0,style:l.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(u)),u.attr("ignore",!1);var c=this._brushStart,d=this._displayables.sliderGroup,v=d.transformCoordToLocal(n,o),g=d.transformCoordToLocal(c.x,c.y),y=this._size;v[0]=Math.max(Math.min(y[0],v[0]),0),u.setShape({x:g[0],y:0,width:v[0]-g[0],height:y[1]})},r.prototype._dispatchZoomAction=function(n){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?REALTIME_ANIMATION_CONFIG:null,start:o[0],end:o[1]})},r.prototype._findCoordRect=function(){var n,o=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!n&&o.length){var s=o[0].model.coordinateSystem;n=s.getRect&&s.getRect()}if(!n){var l=this.api.getWidth(),u=this.api.getHeight();n={x:l*.2,y:u*.2,width:l*.6,height:u*.6}}return n},r.type="dataZoom.slider",r}(DataZoomView$1);function getOtherDim(a){var r={x:"y",y:"x",radius:"angle",angle:"radius"};return r[a]}function getCursor$1(a){return a==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$7(a){a.registerComponentModel(SliderZoomModel$1),a.registerComponentView(SliderZoomView$1),installCommon$1(a)}function install$6(a){use(install$8),use(install$7)}var visualDefault={get:function(a,r,n){var o=clone$4((defaultOption[a]||{})[r]);return n&&isArray$1(o)?o[o.length-1]:o}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return r.prototype.init=function(n,o,s){this.mergeDefaultAndTheme(n,s)},r.prototype.optionUpdated=function(n,o){var s=this.option;!o&&replaceVisualOption(s,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},r.prototype.resetVisual=function(n){var o=this.stateList;n=bind$1(n,this),this.controllerVisuals=createVisualMappings(this.option.controller,o,n),this.targetVisuals=createVisualMappings(this.option.target,o,n)},r.prototype.getItemSymbol=function(){return null},r.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,o=[];return n==null||n==="all"?this.ecModel.eachSeries(function(s,l){o.push(l)}):o=normalizeToArray(n),o},r.prototype.eachTargetSeries=function(n,o){each$f(this.getTargetSeriesIndices(),function(s){var l=this.ecModel.getSeriesByIndex(s);l&&n.call(o,l)},this)},r.prototype.isTargetSeries=function(n){var o=!1;return this.eachTargetSeries(function(s){s===n&&(o=!0)}),o},r.prototype.formatValueText=function(n,o,s){var l=this.option,u=l.precision,c=this.dataBound,d=l.formatter,v;s=s||["<",">"],isArray$1(n)&&(n=n.slice(),v=!0);var g=o?n:v?[y(n[0]),y(n[1])]:y(n);if(isString(d))return d.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g);if(isFunction(d))return v?d(n[0],n[1]):d(n);if(v)return n[0]===c[0]?s[0]+" "+g[1]:n[1]===c[1]?s[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(_){return _===c[0]?"min":_===c[1]?"max":(+_).toFixed(Math.min(u,20))}},r.prototype.resetExtent=function(){var n=this.option,o=asc([n.min,n.max]);this._dataExtent=o},r.prototype.getDataDimensionIndex=function(n){var o=this.option.dimension;if(o!=null)return n.getDimensionIndex(o);for(var s=n.dimensions,l=s.length-1;l>=0;l--){var u=s[l],c=n.getDimensionInfo(u);if(!c.isCalculationCoord)return c.storeDimIndex}},r.prototype.getExtent=function(){return this._dataExtent.slice()},r.prototype.completeVisualOption=function(){var n=this.ecModel,o=this.option,s={inRange:o.inRange,outOfRange:o.outOfRange},l=o.target||(o.target={}),u=o.controller||(o.controller={});merge$1(l,s),merge$1(u,s);var c=this.isCategory();d.call(this,l),d.call(this,u),v.call(this,l,"inRange","outOfRange"),g.call(this,u);function d(y){isArray(o.color)&&!y.inRange&&(y.inRange={color:o.color.slice().reverse()}),y.inRange=y.inRange||{color:n.get("gradientColor")}}function v(y,_,S){var x=y[_],T=y[S];x&&!T&&(T=y[S]={},each$2(x,function(b,A){if(!!VisualMapping$1.isValidType(A)){var w=visualDefault$1.get(A,"inactive",c);w!=null&&(T[A]=w,A==="color"&&!T.hasOwnProperty("opacity")&&!T.hasOwnProperty("colorAlpha")&&(T.opacity=[0,0]))}}))}function g(y){var _=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,S=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,x=this.get("inactiveColor"),T=this.getItemSymbol(),b=T||"roundRect";each$2(this.stateList,function(A){var w=this.itemSize,$=y[A];$||($=y[A]={color:c?x:[x]}),$.symbol==null&&($.symbol=_&&clone$4(_)||(c?b:[b])),$.symbolSize==null&&($.symbolSize=S&&clone$4(S)||(c?w[0]:[w[0],w[0]])),$.symbol=mapVisual($.symbol,function(M){return M==="none"?b:M});var C=$.symbolSize;if(C!=null){var P=-1/0;eachVisual(C,function(M){M>P&&(P=M)}),$.symbolSize=mapVisual(C,function(M){return linearMap$1(M,[0,P],[0,w[0]],!0)})}},this)}},r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},r.prototype.isCategory=function(){return!!this.option.categories},r.prototype.setSelected=function(n){},r.prototype.getSelected=function(){return null},r.prototype.getValueState=function(n){return null},r.prototype.getVisualMeta=function(n){return null},r.type="visualMap",r.dependencies=["series"],r.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},r}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.optionUpdated=function(n,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},r.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=DEFAULT_BAR_BOUND[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=DEFAULT_BAR_BOUND[1])},r.prototype._resetRange=function(){var n=this.getExtent(),o=this.option.range;!o||o.auto?(n.auto=1,this.option.range=n):isArray$1(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],n[0]),o[1]=Math.min(o[1],n[1]))},r.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(n){var o=this.option.controller[n].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},r.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},r.prototype.getSelected=function(){var n=this.getExtent(),o=asc$2((this.get("range")||[]).slice());return o[0]>n[1]&&(o[0]=n[1]),o[1]>n[1]&&(o[1]=n[1]),o[0]<n[0]&&(o[0]=n[0]),o[1]<n[0]&&(o[1]=n[0]),o},r.prototype.getValueState=function(n){var o=this.option.range,s=this.getExtent();return(o[0]<=s[0]||o[0]<=n)&&(o[1]>=s[1]||n<=o[1])?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(n){var o=[];return this.eachTargetSeries(function(s){var l=[],u=s.getData();u.each(this.getDataDimensionIndex(u),function(c,d){n[0]<=c&&c<=n[1]&&l.push(d)},this),o.push({seriesId:s.id,dataIndex:l})},this),o},r.prototype.getVisualMeta=function(n){var o=getColorStopValues(this,"outOfRange",this.getExtent()),s=getColorStopValues(this,"inRange",this.option.range.slice()),l=[];function u(S,x){l.push({value:S,color:n(S,x)})}for(var c=0,d=0,v=s.length,g=o.length;d<g&&(!s.length||o[d]<=s[0]);d++)o[d]<s[c]&&u(o[d],"outOfRange");for(var y=1;c<v;c++,y=0)y&&l.length&&u(s[c],"outOfRange"),u(s[c],"inRange");for(var y=1;d<g;d++)(!s.length||s[s.length-1]<o[d])&&(y&&(l.length&&u(l[l.length-1].value,"outOfRange"),y=0),u(o[d],"outOfRange"));var _=l.length;return{stops:l,outerColors:[_?l[0].color:"transparent",_?l[_-1].color:"transparent"]}},r.type="visualMap.continuous",r.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),r}(VisualMapModel$1);function getColorStopValues(a,r,n){if(n[0]===n[1])return n.slice();for(var o=200,s=(n[1]-n[0])/o,l=n[0],u=[],c=0;c<=o&&l<n[1];c++)u.push(l),l+=s;return u.push(n[1]),u}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return r.prototype.init=function(n,o){this.ecModel=n,this.api=o},r.prototype.render=function(n,o,s,l){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,o,s,l)},r.prototype.renderBackground=function(n){var o=this.visualMapModel,s=normalizeCssArray(o.get("padding")||0),l=n.getBoundingRect();n.add(new Rect$3({z2:-1,silent:!0,shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[3]+s[1],height:l.height+s[0]+s[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},r.prototype.getControllerVisual=function(n,o,s){s=s||{};var l=s.forceState,u=this.visualMapModel,c={};if(o==="color"){var d=u.get("contentColor");c.color=d}function v(S){return c[S]}function g(S,x){c[S]=x}var y=u.controllerVisuals[l||u.getValueState(n)],_=VisualMapping$1.prepareVisualTypes(y);return each$f(_,function(S){var x=y[S];s.convertOpacityToAlpha&&S==="opacity"&&(S="colorAlpha",x=y.__alphaForOpacity),VisualMapping$1.dependsOn(S,o)&&x&&x.applyVisual(n,v,g)}),c[o]},r.prototype.positionGroup=function(n){var o=this.visualMapModel,s=this.api;positionElement(n,o.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},r.prototype.doRender=function(n,o,s,l){},r.type="visualMap",r}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(a,r,n){var o=a.option,s=o.align;if(s!=null&&s!=="auto")return s;for(var l={width:r.getWidth(),height:r.getHeight()},u=o.orient==="horizontal"?1:0,c=paramsSet[u],d=[0,null,10],v={},g=0;g<3;g++)v[paramsSet[1-u][g]]=d[g],v[c[g]]=g===2?n[0]:o[c[g]];var y=[["x","width",3],["y","height",0]][u],_=getLayoutRect(v,l,o.padding);return c[(_.margin[y[2]]||0)+_[y[0]]+_[y[1]]*.5<l[y[1]]*.5?0:1]}function makeHighDownBatch(a,r){return each$f(a||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(r?r.componentIndex:"")}),a}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return r.prototype.doRender=function(n,o,s,l){this._api=s,(!l||l.type!=="selectDataRange"||l.from!==this.uid)&&this._buildView()},r.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,o=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(o);var s=n.get("text");this._renderEndsText(o,s,0),this._renderEndsText(o,s,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},r.prototype._renderEndsText=function(n,o,s){if(!!o){var l=o[1-s];l=l!=null?l+"":"";var u=this.visualMapModel,c=u.get("textGap"),d=u.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([d[0]/2,s===0?-c:d[1]+c],v),y=this._applyTransform(s===0?"bottom":"top",v),_=this._orient,S=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle(S,{x:g[0],y:g[1],verticalAlign:_==="horizontal"?"middle":y,align:_==="horizontal"?y:"center",text:l})}))}},r.prototype._renderBar=function(n){var o=this.visualMapModel,s=this._shapes,l=o.itemSize,u=this._orient,c=this._useHandle,d=getItemAlign(o,this.api,l),v=s.mainGroup=this._createBarGroup(d),g=new Group$4;v.add(g),g.add(s.outOfRange=createPolygon()),g.add(s.inRange=createPolygon(null,c?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),g.setClipPath(new Rect$3({shape:{x:0,y:0,width:l[0],height:l[1],r:3}}));var y=o.textStyleModel.getTextRect("\u56FD"),_=mathMax(y.width,y.height);c&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(o,v,0,l,_,u),this._createHandle(o,v,1,l,_,u)),this._createIndicator(o,v,l,_,u),n.add(v)},r.prototype._createHandle=function(n,o,s,l,u,c){var d=bind$1(this._dragHandle,this,s,!1),v=bind$1(this._dragHandle,this,s,!0),g=parsePercent$1(n.get("handleSize"),l[0]),y=createSymbol$1(n.get("handleIcon"),-g/2,-g/2,g,g,null,!0),_=getCursor(this._orient);y.attr({cursor:_,draggable:!0,drift:d,ondragend:v,onmousemove:function(A){stop(A.event)}}),y.x=l[0]/2,y.useStyle(n.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(y,!0),o.add(y);var S=this.visualMapModel.textStyleModel,x=new ZRText$1({cursor:_,draggable:!0,drift:d,onmousemove:function(A){stop(A.event)},ondragend:v,style:createTextStyle(S,{x:0,y:0,text:""})});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var T=[g,0],b=this._shapes;b.handleThumbs[s]=y,b.handleLabelPoints[s]=T,b.handleLabels[s]=x},r.prototype._createIndicator=function(n,o,s,l,u){var c=parsePercent$1(n.get("indicatorSize"),s[0]),d=createSymbol$1(n.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var v=n.getModel("indicatorStyle").getItemStyle();if(d instanceof ZRImage$1){var g=d.style;d.useStyle(extend({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else d.useStyle(v);o.add(d);var y=this.visualMapModel.textStyleModel,_=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(y,{x:0,y:0,text:""})});this.group.add(_);var S=[(u==="horizontal"?l/2:HOVER_LINK_OUT)+s[0]/2,0],x=this._shapes;x.indicator=d,x.indicatorLabel=_,x.indicatorLabelPoint=S,this._firstShowIndicator=!0},r.prototype._dragHandle=function(n,o,s,l){if(!!this._useHandle){if(this._dragging=!o,!o){var u=this._applyTransform([s,l],this._shapes.mainGroup,!0);this._updateInterval(n,u[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},r.prototype._resetInterval=function(){var n=this.visualMapModel,o=this._dataInterval=n.getSelected(),s=n.getExtent(),l=[0,n.itemSize[1]];this._handleEnds=[linearMap(o[0],s,l,!0),linearMap(o[1],s,l,!0)]},r.prototype._updateInterval=function(n,o){o=o||0;var s=this.visualMapModel,l=this._handleEnds,u=[0,s.itemSize[1]];sliderMove(o,l,u,n,0);var c=s.getExtent();this._dataInterval=[linearMap(l[0],u,c,!0),linearMap(l[1],u,c,!0)]},r.prototype._updateView=function(n){var o=this.visualMapModel,s=o.getExtent(),l=this._shapes,u=[0,o.itemSize[1]],c=n?u:this._handleEnds,d=this._createBarVisual(this._dataInterval,s,c,"inRange"),v=this._createBarVisual(s,s,u,"outOfRange");l.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),l.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(c,d)},r.prototype._createBarVisual=function(n,o,s,l){var u={forceState:l,convertOpacityToAlpha:!0},c=this._makeColorGradient(n,u),d=[this.getControllerVisual(n[0],"symbolSize",u),this.getControllerVisual(n[1],"symbolSize",u)],v=this._createBarPoints(s,d);return{barColor:new LinearGradient$1(0,0,0,1,c),barPoints:v,handlesColor:[c[0].color,c[c.length-1].color]}},r.prototype._makeColorGradient=function(n,o){var s=100,l=[],u=(n[1]-n[0])/s;l.push({color:this.getControllerVisual(n[0],"color",o),offset:0});for(var c=1;c<s;c++){var d=n[0]+u*c;if(d>n[1])break;l.push({color:this.getControllerVisual(d,"color",o),offset:c/s})}return l.push({color:this.getControllerVisual(n[1],"color",o),offset:1}),l},r.prototype._createBarPoints=function(n,o){var s=this.visualMapModel.itemSize;return[[s[0]-o[0],n[0]],[s[0],n[0]],[s[0],n[1]],[s[0]-o[1],n[1]]]},r.prototype._createBarGroup=function(n){var o=this._orient,s=this.visualMapModel.get("inverse");return new Group$4(o==="horizontal"&&!s?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&s?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!s?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},r.prototype._updateHandle=function(n,o){if(!!this._useHandle){var s=this._shapes,l=this.visualMapModel,u=s.handleThumbs,c=s.handleLabels,d=l.itemSize,v=l.getExtent();each$1([0,1],function(g){var y=u[g];y.setStyle("fill",o.handlesColor[g]),y.y=n[g];var _=linearMap(n[g],[0,d[1]],v,!0),S=this.getControllerVisual(_,"symbolSize");y.scaleX=y.scaleY=S/d[0],y.x=d[0]-S/2;var x=applyTransform(s.handleLabelPoints[g],getTransform$1(y,this.group));c[g].setStyle({x:x[0],y:x[1],text:l.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",s.mainGroup):"center"})},this)}},r.prototype._showIndicator=function(n,o,s,l){var u=this.visualMapModel,c=u.getExtent(),d=u.itemSize,v=[0,d[1]],g=this._shapes,y=g.indicator;if(!!y){y.attr("invisible",!1);var _={convertOpacityToAlpha:!0},S=this.getControllerVisual(n,"color",_),x=this.getControllerVisual(n,"symbolSize"),T=linearMap(n,c,v,!0),b=d[0]-x/2,A={x:y.x,y:y.y};y.y=T,y.x=b;var w=applyTransform(g.indicatorLabelPoint,getTransform$1(y,this.group)),$=g.indicatorLabel;$.attr("invisible",!1);var C=this._applyTransform("left",g.mainGroup),P=this._orient,M=P==="horizontal";$.setStyle({text:(s||"")+u.formatValueText(o),verticalAlign:M?C:"middle",align:M?"center":C});var E={x:b,y:T,style:{fill:S}},D={style:{x:w[0],y:w[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var I={duration:100,easing:"cubicInOut",additive:!0};y.x=A.x,y.y=A.y,y.animateTo(E,I),$.animateTo(D,I)}else y.attr(E),$.attr(D);this._firstShowIndicator=!1;var R=this._shapes.handleLabels;if(R)for(var L=0;L<R.length;L++)this._api.enterBlur(R[L])}},r.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(o){if(n._hovering=!0,!n._dragging){var s=n.visualMapModel.itemSize,l=n._applyTransform([o.offsetX,o.offsetY],n._shapes.mainGroup,!0,!0);l[1]=mathMin(mathMax(0,l[1]),s[1]),n._doHoverLinkToSeries(l[1],0<=l[0]&&l[0]<=s[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},r.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},r.prototype._doHoverLinkToSeries=function(n,o){var s=this.visualMapModel,l=s.itemSize;if(!!s.option.hoverLink){var u=[0,l[1]],c=s.getExtent();n=mathMin(mathMax(u[0],n),u[1]);var d=getHalfHoverLinkSize(s,c,u),v=[n-d,n+d],g=linearMap(n,u,c,!0),y=[linearMap(v[0],u,c,!0),linearMap(v[1],u,c,!0)];v[0]<u[0]&&(y[0]=-1/0),v[1]>u[1]&&(y[1]=1/0),o&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",d):y[1]===1/0?this._showIndicator(g,y[0],"> ",d):this._showIndicator(g,g,"\u2248 ",d));var _=this._hoverLinkDataIndices,S=[];(o||useHoverLinkOnHandle(s))&&(S=this._hoverLinkDataIndices=s.findTargetDataIndices(y));var x=compressBatches(_,S);this._dispatchHighDown("downplay",makeHighDownBatch(x[0],s)),this._dispatchHighDown("highlight",makeHighDownBatch(x[1],s))}},r.prototype._hoverLinkFromSeriesMouseOver=function(n){var o;if(findEventDispatcher(n.target,function(d){var v=getECData(d);if(v.dataIndex!=null)return o=v,!0},!0),!!o){var s=this.ecModel.getSeriesByIndex(o.seriesIndex),l=this.visualMapModel;if(!!l.isTargetSeries(s)){var u=s.getData(o.dataType),c=u.getStore().get(l.getDataDimensionIndex(u),o.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},r.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var s=0;s<o.length;s++)this._api.leaveBlur(o[s])},r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(n,this.visualMapModel)),n.length=0},r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},r.prototype._applyTransform=function(n,o,s,l){var u=getTransform$1(o,l?null:this.group);return isArray$1(n)?applyTransform(n,u,s):transformDirection(n,u,s)},r.prototype._dispatchHighDown=function(n,o){o&&o.length&&this.api.dispatchAction({type:n,batch:o})},r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.type="visualMap.continuous",r}(VisualMapView$1);function createPolygon(a,r,n,o){return new Polygon$1({shape:{points:a},draggable:!!n,cursor:r,drift:n,onmousemove:function(s){stop(s.event)},ondragend:o})}function getHalfHoverLinkSize(a,r,n){var o=HOVER_LINK_SIZE/2,s=a.get("hoverLinkDataSize");return s&&(o=linearMap(s,r,n,!0)/2),o}function useHoverLinkOnHandle(a){var r=a.get("hoverLinkOnHandle");return!!(r==null?a.get("realtime"):r)}function getCursor(a){return a==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(a,r){r.eachComponent({mainType:"visualMap",query:a},function(n){n.setSelected(a.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(a,r){var n=[];return r.eachComponent("visualMap",function(o){var s=a.pipelineContext;!o.isTargetSeries(a)||s&&s.large||n.push(incrementalApplyVisual(o.stateList,o.targetVisuals,bind$1(o.getValueState,o),o.getDataDimensionIndex(a.getData())))}),n}},{createOnAllSeries:!0,reset:function(a,r){var n=a.getData(),o=[];r.eachComponent("visualMap",function(s){if(s.isTargetSeries(a)){var l=s.getVisualMeta(bind$1(getColorVisual,null,a,s))||{stops:[],outerColors:[]},u=s.getDataDimensionIndex(n);u>=0&&(l.dimension=u,o.push(l))}}),a.getData().setVisual("visualMeta",o)}}];function getColorVisual(a,r,n,o){for(var s=r.targetVisuals[o],l=VisualMapping$1.prepareVisualTypes(s),u={color:getVisualFromData(a.getData(),"color")},c=0,d=l.length;c<d;c++){var v=l[c],g=s[v==="opacity"?"__alphaForOpacity":v];g&&g.applyVisual(n,y,_)}return u.color;function y(S){return u[S]}function _(S,x){u[S]=x}}var each=each$f;function visualMapPreprocessor(a){var r=a&&a.visualMap;isArray$1(r)||(r=r?[r]:[]),each(r,function(n){if(!!n){has(n,"splitList")&&!has(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var o=n.pieces;o&&isArray$1(o)&&each(o,function(s){isObject$5(s)&&(has(s,"start")&&!has(s,"min")&&(s.min=s.start),has(s,"end")&&!has(s,"max")&&(s.max=s.end))})}})}function has(a,r){return a&&a.hasOwnProperty&&a.hasOwnProperty(r)}var installed=!1;function installCommon(a){installed||(installed=!0,a.registerSubTypeDefaulter("visualMap",function(r){return!r.categories&&(!(r.pieces?r.pieces.length>0:r.splitNumber>0)||r.calculable)?"continuous":"piecewise"}),a.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(r){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,r)}),a.registerPreprocessor(visualMapPreprocessor))}function install$5(a){a.registerComponentModel(ContinuousModel$1),a.registerComponentView(ContinuousView$1),installCommon(a)}var PiecewiseModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n._pieceList=[],n}return r.prototype.optionUpdated=function(n,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(n,o);var l=this.option.categories;this.resetVisual(function(u,c){s==="categories"?(u.mappingMethod="category",u.categories=clone$4(l)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=map$1(this._pieceList,function(d){return d=clone$4(d),c!=="inRange"&&(d.visual=null),d}))})},r.prototype.completeVisualOption=function(){var n=this.option,o={},s=VisualMapping$1.listVisualTypes(),l=this.isCategory();each$f(n.pieces,function(c){each$f(s,function(d){c.hasOwnProperty(d)&&(o[d]=1)})}),each$f(o,function(c,d){var v=!1;each$f(this.stateList,function(g){v=v||u(n,g,d)||u(n.target,g,d)},this),!v&&each$f(this.stateList,function(g){(n[g]||(n[g]={}))[d]=visualDefault$1.get(d,g==="inRange"?"active":"inactive",l)})},this);function u(c,d,v){return c&&c[d]&&c[d].hasOwnProperty(v)}a.prototype.completeVisualOption.apply(this,arguments)},r.prototype._resetSelected=function(n,o){var s=this.option,l=this._pieceList,u=(o?s:n).selected||{};if(s.selected=u,each$f(l,function(d,v){var g=this.getSelectedMapKey(d);u.hasOwnProperty(g)||(u[g]=!0)},this),s.selectedMode==="single"){var c=!1;each$f(l,function(d,v){var g=this.getSelectedMapKey(d);u[g]&&(c?u[g]=!1:c=!0)},this)}},r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},r.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},r.prototype.getPieceList=function(){return this._pieceList},r.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},r.prototype.setSelected=function(n){this.option.selected=clone$4(n)},r.prototype.getValueState=function(n){var o=VisualMapping$1.findPieceIndex(n,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(n){var o=[],s=this._pieceList;return this.eachTargetSeries(function(l){var u=[],c=l.getData();c.each(this.getDataDimensionIndex(c),function(d,v){var g=VisualMapping$1.findPieceIndex(d,s);g===n&&u.push(v)},this),o.push({seriesId:l.id,dataIndex:u})},this),o},r.prototype.getRepresentValue=function(n){var o;if(this.isCategory())o=n.value;else if(n.value!=null)o=n.value;else{var s=n.interval||[];o=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return o},r.prototype.getVisualMeta=function(n){if(this.isCategory())return;var o=[],s=["",""],l=this;function u(g,y){var _=l.getRepresentValue({interval:g});y||(y=l.getValueState(_));var S=n(_,y);g[0]===-1/0?s[0]=S:g[1]===1/0?s[1]=S:o.push({value:g[0],color:S},{value:g[1],color:S})}var c=this._pieceList.slice();if(!c.length)c.push({interval:[-1/0,1/0]});else{var d=c[0].interval[0];d!==-1/0&&c.unshift({interval:[-1/0,d]}),d=c[c.length-1].interval[1],d!==1/0&&c.push({interval:[d,1/0]})}var v=-1/0;return each$f(c,function(g){var y=g.interval;y&&(y[0]>v&&u([v,y[0]],"outOfRange"),u(y.slice()),v=y[1])},this),{stops:o,outerColors:s}},r.type="visualMap.piecewise",r.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),r}(VisualMapModel$1),resetMethods={splitNumber:function(a){var r=this.option,n=Math.min(r.precision,20),o=this.getExtent(),s=r.splitNumber;s=Math.max(parseInt(s,10),1),r.splitNumber=s;for(var l=(o[1]-o[0])/s;+l.toFixed(n)!==l&&n<5;)n++;r.precision=n,l=+l.toFixed(n),r.minOpen&&a.push({interval:[-1/0,o[0]],close:[0,0]});for(var u=0,c=o[0];u<s;c+=l,u++){var d=u===s-1?o[1]:c+l;a.push({interval:[c,d],close:[1,1]})}r.maxOpen&&a.push({interval:[o[1],1/0],close:[0,0]}),reformIntervals(a),each$f(a,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(a){var r=this.option;each$f(r.categories,function(n){a.push({text:this.formatValueText(n,!0),value:n})},this),normalizeReverse(r,a)},pieces:function(a){var r=this.option;each$f(r.pieces,function(n,o){isObject$5(n)||(n={value:n});var s={text:"",index:o};if(n.label!=null&&(s.text=n.label),n.hasOwnProperty("value")){var l=s.value=n.value;s.interval=[l,l],s.close=[1,1]}else{for(var u=s.interval=[],c=s.close=[0,0],d=[1,0,1],v=[-1/0,1/0],g=[],y=0;y<2;y++){for(var _=[["gte","gt","min"],["lte","lt","max"]][y],S=0;S<3&&u[y]==null;S++)u[y]=n[_[S]],c[y]=d[S],g[y]=S===2;u[y]==null&&(u[y]=v[y])}g[0]&&u[1]===1/0&&(c[0]=0),g[1]&&u[0]===-1/0&&(c[1]=0),u[0]===u[1]&&c[0]&&c[1]&&(s.value=u[0])}s.visual=VisualMapping$1.retrieveVisuals(n),a.push(s)},this),normalizeReverse(r,a),reformIntervals(a),each$f(a,function(n){var o=n.close,s=[["<","\u2264"][o[1]],[">","\u2265"][o[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,s)},this)}};function normalizeReverse(a,r){var n=a.inverse;(a.orient==="vertical"?!n:n)&&r.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.doRender=function(){var n=this.group;n.removeAll();var o=this.visualMapModel,s=o.get("textGap"),l=o.textStyleModel,u=l.getFont(),c=l.getTextColor(),d=this._getItemAlign(),v=o.itemSize,g=this._getViewData(),y=g.endsText,_=retrieve(o.get("showLabel",!0),!y);y&&this._renderEndsText(n,y[0],v,_,d),each$f(g.viewPieceList,function(S){var x=S.piece,T=new Group$4;T.onclick=bind$1(this._onItemClick,this,x),this._enableHoverLink(T,S.indexInModelPieceList);var b=o.getRepresentValue(x);if(this._createItemSymbol(T,b,[0,0,v[0],v[1]]),_){var A=this.visualMapModel.getValueState(b);T.add(new ZRText$1({style:{x:d==="right"?-s:v[0]+s,y:v[1]/2,text:x.text,verticalAlign:"middle",align:d,font:u,fill:c,opacity:A==="outOfRange"?.5:1}}))}n.add(T)},this),y&&this._renderEndsText(n,y[1],v,_,d),box(o.get("orient"),n,o.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},r.prototype._enableHoverLink=function(n,o){var s=this;n.on("mouseover",function(){return l("highlight")}).on("mouseout",function(){return l("downplay")});var l=function(u){var c=s.visualMapModel;c.option.hoverLink&&s.api.dispatchAction({type:u,batch:makeHighDownBatch(c.findTargetDataIndices(o),c)})}},r.prototype._getItemAlign=function(){var n=this.visualMapModel,o=n.option;if(o.orient==="vertical")return getItemAlign(n,this.api,n.itemSize);var s=o.align;return(!s||s==="auto")&&(s="left"),s},r.prototype._renderEndsText=function(n,o,s,l,u){if(!!o){var c=new Group$4,d=this.visualMapModel.textStyleModel;c.add(new ZRText$1({style:createTextStyle(d,{x:l?u==="right"?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:l?u:"center",text:o})})),n.add(c)}},r.prototype._getViewData=function(){var n=this.visualMapModel,o=map$1(n.getPieceList(),function(c,d){return{piece:c,indexInModelPieceList:d}}),s=n.get("text"),l=n.get("orient"),u=n.get("inverse");return(l==="horizontal"?u:!u)?o.reverse():s&&(s=s.slice().reverse()),{viewPieceList:o,endsText:s}},r.prototype._createItemSymbol=function(n,o,s){n.add(createSymbol$1(this.getControllerVisual(o,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(o,"color")))},r.prototype._onItemClick=function(n){var o=this.visualMapModel,s=o.option,l=s.selectedMode;if(!!l){var u=clone$4(s.selected),c=o.getSelectedMapKey(n);l==="single"||l===!0?(u[c]=!0,each$f(u,function(d,v){u[v]=v===c})):u[c]=!u[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})}},r.type="visualMap.piecewise",r}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$4(a){a.registerComponentModel(PiecewiseModel$1),a.registerComponentView(PiecewiseView),installCommon(a)}function install$3(a){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(a,r){var n=a.getModel("aria");if(!n.get("enabled"))return;var o=clone$4(DEFAULT_OPTION);merge$1(o.label,a.getLocaleModel().get("aria"),!1),merge$1(n.option,o,!1),s(),l();function s(){var v=n.getModel("decal"),g=v.get("show");if(g){var y=createHashMap();a.eachSeries(function(_){if(!_.isColorBySeries()){var S=y.get(_.type);S||(S={},y.set(_.type,S)),inner(_).scope=S}}),a.eachRawSeries(function(_){if(a.isSeriesFiltered(_))return;if(isFunction(_.enableAriaDecal)){_.enableAriaDecal();return}var S=_.getData();if(_.isColorBySeries()){var w=getDecalFromPalette(_.ecModel,_.name,decalPaletteScope,a.getSeriesCount()),$=S.getVisual("decal");S.setVisual("decal",C($,w))}else{var x=_.getRawData(),T={},b=inner(_).scope;S.each(function(P){var M=S.getRawIndex(P);T[M]=P});var A=x.count();x.each(function(P){var M=T[P],E=x.getName(P)||P+"",D=getDecalFromPalette(_.ecModel,E,b,A),I=S.getItemVisual(M,"decal");S.setItemVisual(M,"decal",C(I,D))})}function C(P,M){var E=P?extend(extend({},M),P):M;return E.dirty=!0,E}})}}function l(){var v=a.getLocaleModel().get("aria"),g=n.getModel("label");if(g.option=defaults(g.option,v),!!g.get("enabled")){var y=r.getZr().dom;if(g.get("description")){y.setAttribute("aria-label",g.get("description"));return}var _=a.getSeriesCount(),S=g.get(["data","maxCount"])||10,x=g.get(["series","maxCount"])||10,T=Math.min(_,x),b;if(!(_<1)){var A=c();if(A){var w=g.get(["general","withTitle"]);b=u(w,{title:A})}else b=g.get(["general","withoutTitle"]);var $=[],C=_>1?g.get(["series","multiple","prefix"]):g.get(["series","single","prefix"]);b+=u(C,{seriesCount:_}),a.eachSeries(function(D,I){if(I<T){var R=void 0,L=D.get("name"),O=L?"withName":"withoutName";R=_>1?g.get(["series","multiple",O]):g.get(["series","single",O]),R=u(R,{seriesId:D.seriesIndex,seriesName:D.get("name"),seriesType:d(D.subType)});var N=D.getData();if(N.count()>S){var F=g.get(["data","partialData"]);R+=u(F,{displayCnt:S})}else R+=g.get(["data","allData"]);for(var B=g.get(["data","separator","middle"]),z=g.get(["data","separator","end"]),U=[],H=0;H<N.count();H++)if(H<S){var Y=N.getName(H),X=N.getValues(H),te=g.get(["data",Y?"withName":"withoutName"]);U.push(u(te,{name:Y,value:X.join(B)}))}R+=U.join(B)+z,$.push(R)}});var P=g.getModel(["series","multiple","separator"]),M=P.get("middle"),E=P.get("end");b+=$.join(M)+E,y.setAttribute("aria-label",b)}}}function u(v,g){if(!isString(v))return v;var y=v;return each$f(g,function(_,S){y=y.replace(new RegExp("\\{\\s*"+S+"\\s*\\}","g"),_)}),y}function c(){var v=a.get("title");return v&&v.length&&(v=v[0]),v&&v.text}function d(v){return a.getLocaleModel().get(["series","typeNames"])[v]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor(a){if(!(!a||!a.aria)){var r=a.aria;r.show!=null&&(r.enabled=r.show),r.label=r.label||{},each$f(["description","general","series","data"],function(n){r[n]!=null&&(r.label[n]=r[n])})}}function install$2(a){a.registerPreprocessor(ariaPreprocessor),a.registerVisual(a.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function a(r){var n=this._condVal=isString(r)?new RegExp(r):isRegExp(r)?r:null;if(n==null){var o="";throwError(o)}}return a.prototype.evaluate=function(r){var n=typeof r;return isString(n)?this._condVal.test(r):isNumber(n)?this._condVal.test(r+""):!1},a}(),ConstConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),AndConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var r=this.children,n=0;n<r.length;n++)if(!r[n].evaluate())return!1;return!0},a}(),OrConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var r=this.children,n=0;n<r.length;n++)if(r[n].evaluate())return!0;return!1},a}(),NotConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),RelationalConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var r=!!this.valueParser,n=this.getValue,o=n(this.valueGetterParam),s=r?this.valueParser(o):null,l=0;l<this.subCondList.length;l++)if(!this.subCondList[l].evaluate(r?s:o))return!1;return!0},a}();function parseOption(a,r){if(a===!0||a===!1){var n=new ConstConditionInternal;return n.value=a,n}var o="";return isObjectNotArray(a)||throwError(o),a.and?parseAndOrOption("and",a,r):a.or?parseAndOrOption("or",a,r):a.not?parseNotOption(a,r):parseRelationalOption(a,r)}function parseAndOrOption(a,r,n){var o=r[a],s="";isArray$1(o)||throwError(s),o.length||throwError(s);var l=a==="and"?new AndConditionInternal:new OrConditionInternal;return l.children=map$1(o,function(u){return parseOption(u,n)}),l.children.length||throwError(s),l}function parseNotOption(a,r){var n=a.not,o="";isObjectNotArray(n)||throwError(o);var s=new NotConditionInternal;return s.child=parseOption(n,r),s.child||throwError(o),s}function parseRelationalOption(a,r){for(var n="",o=r.prepareGetValue(a),s=[],l=keys(a),u=a.parser,c=u?getRawValueParser(u):null,d=0;d<l.length;d++){var v=l[d];if(!(v==="parser"||r.valueGetterAttrMap.get(v))){var g=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,v)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[v]:v,y=a[v],_=c?c(y):y,S=createFilterComparator(g,_)||g==="reg"&&new RegExpEvaluator(_);S||throwError(n),s.push(S)}}s.length||throwError(n);var x=new RelationalConditionInternal;return x.valueGetterParam=o,x.valueParser=c,x.getValue=r.getValue,x.subCondList=s,x}function isObjectNotArray(a){return isObject$5(a)&&!isArrayLike(a)}var ConditionalExpressionParsed=function(){function a(r,n){this._cond=parseOption(r,n)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}();function parseConditionalExpression(a,r){return new ConditionalExpressionParsed(a,r)}var filterTransform={type:"echarts:filter",transform:function(a){for(var r=a.upstream,n,o=parseConditionalExpression(a.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(c){var d="",v=c.dimension;hasOwn(c,"dimension")||throwError(d);var g=r.getDimensionInfo(v);return g||throwError(d),{dimIdx:g.index}},getValue:function(c){return r.retrieveValueFromItem(n,c.dimIdx)}}),s=[],l=0,u=r.count();l<u;l++)n=r.getRawDataItem(l),o.evaluate()&&s.push(n);return{data:s}}},sortTransform={type:"echarts:sort",transform:function(a){var r=a.upstream,n=a.config,o="",s=normalizeToArray(n);s.length||throwError(o);var l=[];each$f(s,function(g){var y=g.dimension,_=g.order,S=g.parser,x=g.incomparable;if(y==null&&throwError(o),_!=="asc"&&_!=="desc"&&throwError(o),x&&x!=="min"&&x!=="max"){var T="";throwError(T)}if(_!=="asc"&&_!=="desc"){var b="";throwError(b)}var A=r.getDimensionInfo(y);A||throwError(o);var w=S?getRawValueParser(S):null;S&&!w&&throwError(o),l.push({dimIdx:A.index,parser:w,comparator:new SortOrderComparator(_,x)})});var u=r.sourceFormat;u!==SOURCE_FORMAT_ARRAY_ROWS&&u!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(o);for(var c=[],d=0,v=r.count();d<v;d++)c.push(r.getRawDataItem(d));return c.sort(function(g,y){for(var _=0;_<l.length;_++){var S=l[_],x=r.retrieveValueFromItem(g,S.dimIdx),T=r.retrieveValueFromItem(y,S.dimIdx);S.parser&&(x=S.parser(x),T=S.parser(T));var b=S.comparator.evaluate(x,T);if(b!==0)return b}return 0}),{data:c}}};function install$1(a){a.registerTransform(filterTransform),a.registerTransform(sortTransform)}var DatasetModel=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="dataset",n}return r.prototype.init=function(n,o,s){a.prototype.init.call(this,n,o,s),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},r.prototype.mergeOption=function(n,o){a.prototype.mergeOption.call(this,n,o),disableTransformOptionMerge(this)},r.prototype.optionUpdated=function(){this._sourceManager.dirty()},r.prototype.getSourceManager=function(){return this._sourceManager},r.type="dataset",r.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},r}(ComponentModel$1),DatasetView=function(a){__extends(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.type="dataset",n}return r.type="dataset",r}(ComponentView$1);function install(a){a.registerComponentModel(DatasetModel),a.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(a,r){return Math.abs(a-r)<1e-5}function pathToBezierCurves(a){var r=a.data,n=a.len(),o=[],s,l=0,u=0,c=0,d=0;function v(N,F){s&&s.length>2&&o.push(s),s=[N,F]}function g(N,F,B,z){aroundEqual(N,B)&&aroundEqual(F,z)||s.push(N,F,B,z,B,z)}function y(N,F,B,z,U,H){var Y=Math.abs(F-N),X=Math.tan(Y/4)*4/3,te=F<N?-1:1,oe=Math.cos(N),ce=Math.sin(N),de=Math.cos(F),Z=Math.sin(F),re=oe*U+B,q=ce*H+z,J=de*U+B,he=Z*H+z,fe=U*X*te,ee=H*X*te;s.push(re-fe*ce,q+ee*oe,J+fe*Z,he-ee*de,J,he)}for(var _,S,x,T,b=0;b<n;){var A=r[b++],w=b===1;switch(w&&(l=r[b],u=r[b+1],c=l,d=u,(A===CMD.L||A===CMD.C||A===CMD.Q)&&(s=[c,d])),A){case CMD.M:l=c=r[b++],u=d=r[b++],v(c,d);break;case CMD.L:_=r[b++],S=r[b++],g(l,u,_,S),l=_,u=S;break;case CMD.C:s.push(r[b++],r[b++],r[b++],r[b++],l=r[b++],u=r[b++]);break;case CMD.Q:_=r[b++],S=r[b++],x=r[b++],T=r[b++],s.push(l+2/3*(_-l),u+2/3*(S-u),x+2/3*(_-x),T+2/3*(S-T),x,T),l=x,u=T;break;case CMD.A:var $=r[b++],C=r[b++],P=r[b++],M=r[b++],E=r[b++],D=r[b++]+E;b+=1;var I=!r[b++];_=Math.cos(E)*P+$,S=Math.sin(E)*M+C,w?(c=_,d=S,v(c,d)):g(l,u,_,S),l=Math.cos(D)*P+$,u=Math.sin(D)*M+C;for(var R=(I?-1:1)*Math.PI/2,L=E;I?L>D:L<D;L+=R){var O=I?Math.max(L+R,D):Math.min(L+R,D);y(L,O,$,C,P,M)}break;case CMD.R:c=l=r[b++],d=u=r[b++],_=c+r[b++],S=d+r[b++],v(_,d),g(_,d,_,S),g(_,S,c,S),g(c,S,c,d),g(c,d,_,d);break;case CMD.Z:s&&g(l,u,c,d),l=c,u=d;break}}return s&&s.length>2&&o.push(s),o}function adpativeBezier(a,r,n,o,s,l,u,c,d,v){if(aroundEqual(a,n)&&aroundEqual(r,o)&&aroundEqual(s,u)&&aroundEqual(l,c)){d.push(u,c);return}var g=2/v,y=g*g,_=u-a,S=c-r,x=Math.sqrt(_*_+S*S);_/=x,S/=x;var T=n-a,b=o-r,A=s-u,w=l-c,$=T*T+b*b,C=A*A+w*w;if($<y&&C<y){d.push(u,c);return}var P=_*T+S*b,M=-_*A-S*w,E=$-P*P,D=C-M*M;if(E<y&&P>=0&&D<y&&M>=0){d.push(u,c);return}var I=[],R=[];cubicSubdivide(a,n,s,u,.5,I),cubicSubdivide(r,o,l,c,.5,R),adpativeBezier(I[0],R[0],I[1],R[1],I[2],R[2],I[3],R[3],d,v),adpativeBezier(I[4],R[4],I[5],R[5],I[6],R[6],I[7],R[7],d,v)}function pathToPolygons(a,r){var n=pathToBezierCurves(a),o=[];r=r||1;for(var s=0;s<n.length;s++){var l=n[s],u=[],c=l[0],d=l[1];u.push(c,d);for(var v=2;v<l.length;){var g=l[v++],y=l[v++],_=l[v++],S=l[v++],x=l[v++],T=l[v++];adpativeBezier(c,d,g,y,_,S,x,T,u,r),c=x,d=T}o.push(u)}return o}function getDividingGrids(a,r,n){var o=a[r],s=a[1-r],l=Math.abs(o/s),u=Math.ceil(Math.sqrt(l*n)),c=Math.floor(n/u);c===0&&(c=1,u=n);for(var d=[],v=0;v<u;v++)d.push(c);var g=u*c,y=n-g;if(y>0)for(var v=0;v<y;v++)d[v%u]+=1;return d}function divideSector(a,r,n){for(var o=a.r0,s=a.r,l=a.startAngle,u=a.endAngle,c=Math.abs(u-l),d=c*s,v=s-o,g=d>Math.abs(v),y=getDividingGrids([d,v],g?0:1,r),_=(g?c:v)/y.length,S=0;S<y.length;S++)for(var x=(g?v:c)/y[S],T=0;T<y[S];T++){var b={};g?(b.startAngle=l+_*S,b.endAngle=l+_*(S+1),b.r0=o+x*T,b.r=o+x*(T+1)):(b.startAngle=l+x*T,b.endAngle=l+x*(T+1),b.r0=o+_*S,b.r=o+_*(S+1)),b.clockwise=a.clockwise,b.cx=a.cx,b.cy=a.cy,n.push(b)}}function divideRect(a,r,n){for(var o=a.width,s=a.height,l=o>s,u=getDividingGrids([o,s],l?0:1,r),c=l?"width":"height",d=l?"height":"width",v=l?"x":"y",g=l?"y":"x",y=a[c]/u.length,_=0;_<u.length;_++)for(var S=a[d]/u[_],x=0;x<u[_];x++){var T={};T[v]=_*y,T[g]=x*S,T[c]=y,T[d]=S,T.x+=a.x,T.y+=a.y,n.push(T)}}function crossProduct2d(a,r,n,o){return a*o-n*r}function lineLineIntersect(a,r,n,o,s,l,u,c){var d=n-a,v=o-r,g=u-s,y=c-l,_=crossProduct2d(g,y,d,v);if(Math.abs(_)<1e-6)return null;var S=a-s,x=r-l,T=crossProduct2d(S,x,g,y)/_;return T<0||T>1?null:new Point$1(T*d+a,T*v+r)}function projPtOnLine(a,r,n){var o=new Point$1;Point$1.sub(o,n,r),o.normalize();var s=new Point$1;Point$1.sub(s,a,r);var l=s.dot(o);return l}function addToPoly(a,r){var n=a[a.length-1];n&&n[0]===r[0]&&n[1]===r[1]||a.push(r)}function splitPolygonByLine(a,r,n){for(var o=a.length,s=[],l=0;l<o;l++){var u=a[l],c=a[(l+1)%o],d=lineLineIntersect(u[0],u[1],c[0],c[1],r.x,r.y,n.x,n.y);d&&s.push({projPt:projPtOnLine(d,r,n),pt:d,idx:l})}if(s.length<2)return[{points:a},{points:a}];s.sort(function(b,A){return b.projPt-A.projPt});var v=s[0],g=s[s.length-1];if(g.idx<v.idx){var y=v;v=g,g=y}for(var _=[v.pt.x,v.pt.y],S=[g.pt.x,g.pt.y],x=[_],T=[S],l=v.idx+1;l<=g.idx;l++)addToPoly(x,a[l].slice());addToPoly(x,S),addToPoly(x,_);for(var l=g.idx+1;l<=v.idx+o;l++)addToPoly(T,a[l%o].slice());return addToPoly(T,_),addToPoly(T,S),[{points:x},{points:T}]}function binaryDividePolygon(a){var r=a.points,n=[],o=[];fromPoints(r,n,o);var s=new BoundingRect$1(n[0],n[1],o[0]-n[0],o[1]-n[1]),l=s.width,u=s.height,c=s.x,d=s.y,v=new Point$1,g=new Point$1;return l>u?(v.x=g.x=c+l/2,v.y=d,g.y=d+u):(v.y=g.y=d+u/2,v.x=c,g.x=c+l),splitPolygonByLine(r,v,g)}function binaryDivideRecursive(a,r,n,o){if(n===1)o.push(r);else{var s=Math.floor(n/2),l=a(r);binaryDivideRecursive(a,l[0],s,o),binaryDivideRecursive(a,l[1],n-s,o)}return o}function clone(a,r){for(var n=[],o=0;o<r;o++)n.push(clonePath(a));return n}function copyPathProps(a,r){r.setStyle(a.style),r.z=a.z,r.z2=a.z2,r.zlevel=a.zlevel}function polygonConvert(a){for(var r=[],n=0;n<a.length;)r.push([a[n++],a[n++]]);return r}function split(a,r){var n=[],o=a.shape,s;switch(a.type){case"rect":divideRect(o,r,n),s=Rect$3;break;case"sector":divideSector(o,r,n),s=Sector$1;break;case"circle":divideSector({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},r,n),s=Sector$1;break;default:var l=a.getComputedTransform(),u=l?Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1],l[2]*l[2]+l[3]*l[3])):1,c=map$1(pathToPolygons(a.getUpdatedPathProxy(),u),function(A){return polygonConvert(A)}),d=c.length;if(d===0)binaryDivideRecursive(binaryDividePolygon,{points:c[0]},r,n);else if(d===r)for(var v=0;v<d;v++)n.push({points:c[v]});else{var g=0,y=map$1(c,function(A){var w=[],$=[];fromPoints(A,w,$);var C=($[1]-w[1])*($[0]-w[0]);return g+=C,{poly:A,area:C}});y.sort(function(A,w){return w.area-A.area});for(var _=r,v=0;v<d;v++){var S=y[v];if(_<=0)break;var x=v===d-1?_:Math.ceil(S.area/g*r);x<0||(binaryDivideRecursive(binaryDividePolygon,{points:S.poly},x,n),_-=x)}}s=Polygon$1;break}if(!s)return clone(a,r);for(var T=[],v=0;v<n.length;v++){var b=new s;b.setShape(n[v]),copyPathProps(a,b),T.push(b)}return T}function alignSubpath(a,r){var n=a.length,o=r.length;if(n===o)return[a,r];for(var s=[],l=[],u=n<o?a:r,c=Math.min(n,o),d=Math.abs(o-n)/6,v=(c-2)/6,g=Math.ceil(d/v)+1,y=[u[0],u[1]],_=d,S=2;S<c;){var x=u[S-2],T=u[S-1],b=u[S++],A=u[S++],w=u[S++],$=u[S++],C=u[S++],P=u[S++];if(_<=0){y.push(b,A,w,$,C,P);continue}for(var M=Math.min(_,g-1)+1,E=1;E<=M;E++){var D=E/M;cubicSubdivide(x,b,w,C,D,s),cubicSubdivide(T,A,$,P,D,l),x=s[3],T=l[3],y.push(s[1],l[1],s[2],l[2],x,T),b=s[5],A=l[5],w=s[6],$=l[6]}_-=M-1}return u===a?[y,r]:[a,y]}function createSubpath(a,r){for(var n=a.length,o=a[n-2],s=a[n-1],l=[],u=0;u<r.length;)l[u++]=o,l[u++]=s;return l}function alignBezierCurves(a,r){for(var n,o,s,l=[],u=[],c=0;c<Math.max(a.length,r.length);c++){var d=a[c],v=r[c],g=void 0,y=void 0;d?v?(n=alignSubpath(d,v),g=n[0],y=n[1],o=g,s=y):(y=createSubpath(s||d,d),g=d):(g=createSubpath(o||v,v),y=v),l.push(g),u.push(y)}return[l,u]}function centroid(a){for(var r=0,n=0,o=0,s=a.length,l=0,u=s-2;l<s;u=l,l+=2){var c=a[u],d=a[u+1],v=a[l],g=a[l+1],y=c*g-v*d;r+=y,n+=(c+v)*y,o+=(d+g)*y}return r===0?[a[0]||0,a[1]||0]:[n/r/3,o/r/3,r]}function findBestRingOffset(a,r,n,o){for(var s=(a.length-2)/6,l=1/0,u=0,c=a.length,d=c-2,v=0;v<s;v++){for(var g=v*6,y=0,_=0;_<c;_+=2){var S=_===0?g:(g+_-2)%d+2,x=a[S]-n[0],T=a[S+1]-n[1],b=r[_]-o[0],A=r[_+1]-o[1],w=b-x,$=A-T;y+=w*w+$*$}y<l&&(l=y,u=v)}return u}function reverse(a){for(var r=[],n=a.length,o=0;o<n;o+=2)r[o]=a[n-o-2],r[o+1]=a[n-o-1];return r}function findBestMorphingRotation(a,r,n,o){for(var s=[],l,u=0;u<a.length;u++){var c=a[u],d=r[u],v=centroid(c),g=centroid(d);l==null&&(l=v[2]<0!=g[2]<0);var y=[],_=[],S=0,x=1/0,T=[],b=c.length;l&&(c=reverse(c));for(var A=findBestRingOffset(c,d,v,g)*6,w=b-2,$=0;$<w;$+=2){var C=(A+$)%w+2;y[$+2]=c[C]-v[0],y[$+3]=c[C+1]-v[1]}if(y[0]=c[A]-v[0],y[1]=c[A+1]-v[1],n>0)for(var P=o/n,M=-o/2;M<=o/2;M+=P){for(var E=Math.sin(M),D=Math.cos(M),I=0,$=0;$<c.length;$+=2){var R=y[$],L=y[$+1],O=d[$]-g[0],N=d[$+1]-g[1],F=O*D-N*E,B=O*E+N*D;T[$]=F,T[$+1]=B;var z=F-R,U=B-L;I+=z*z+U*U}if(I<x){x=I,S=M;for(var H=0;H<T.length;H++)_[H]=T[H]}}else for(var Y=0;Y<b;Y+=2)_[Y]=d[Y]-g[0],_[Y+1]=d[Y+1]-g[1];s.push({from:y,to:_,fromCp:v,toCp:g,rotation:-S})}return s}function isCombineMorphing(a){return a.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(a,r,n){var o=SAVED_METHOD_PREFIX+r,s=a[o]||a[r];a[o]||(a[o]=a[r]);var l=n.replace,u=n.after,c=n.before;a[r]=function(){var d=arguments,v;return c&&c.apply(this,d),l?v=l.apply(this,d):v=s.apply(this,d),u&&u.apply(this,d),v}}function restoreMethod(a,r){var n=SAVED_METHOD_PREFIX+r;a[n]&&(a[r]=a[n],a[n]=null)}function applyTransformOnBeziers(a,r){for(var n=0;n<a.length;n++)for(var o=a[n],s=0;s<o.length;){var l=o[s],u=o[s+1];o[s++]=r[0]*l+r[2]*u+r[4],o[s++]=r[1]*l+r[3]*u+r[5]}}function prepareMorphPath(a,r){var n=a.getUpdatedPathProxy(),o=r.getUpdatedPathProxy(),s=alignBezierCurves(pathToBezierCurves(n),pathToBezierCurves(o)),l=s[0],u=s[1],c=a.getComputedTransform(),d=r.getComputedTransform();function v(){this.transform=null}c&&applyTransformOnBeziers(l,c),d&&applyTransformOnBeziers(u,d),saveAndModifyMethod(r,"updateTransform",{replace:v}),r.transform=null;var g=findBestMorphingRotation(l,u,10,Math.PI),y=[];saveAndModifyMethod(r,"buildPath",{replace:function(_){for(var S=r.__morphT,x=1-S,T=[],b=0;b<g.length;b++){var A=g[b],w=A.from,$=A.to,C=A.rotation*S,P=A.fromCp,M=A.toCp,E=Math.sin(C),D=Math.cos(C);lerp$1(T,P,M,S);for(var I=0;I<w.length;I+=2){var R=w[I],L=w[I+1],O=$[I],N=$[I+1],F=R*x+O*S,B=L*x+N*S;y[I]=F*D-B*E+T[0],y[I+1]=F*E+B*D+T[1]}var z=y[0],U=y[1];_.moveTo(z,U);for(var I=2;I<w.length;){var O=y[I++],N=y[I++],H=y[I++],Y=y[I++],X=y[I++],te=y[I++];z===O&&U===N&&H===X&&Y===te?_.lineTo(X,te):_.bezierCurveTo(O,N,H,Y,X,te),z=X,U=te}}}})}function morphPath(a,r,n){if(!a||!r)return r;var o=n.done,s=n.during;prepareMorphPath(a,r),r.__morphT=0;function l(){restoreMethod(r,"buildPath"),restoreMethod(r,"updateTransform"),r.__morphT=-1,r.createPathProxy(),r.dirtyShape()}return r.animateTo({__morphT:1},defaults({during:function(u){r.dirtyShape(),s&&s(u)},done:function(){l(),o&&o()}},n)),r}function hilbert(a,r,n,o,s,l){var u=16;a=s===n?0:Math.round(32767*(a-n)/(s-n)),r=l===o?0:Math.round(32767*(r-o)/(l-o));for(var c=0,d,v=(1<<u)/2;v>0;v/=2){var g=0,y=0;(a&v)>0&&(g=1),(r&v)>0&&(y=1),c+=v*v*(3*g^y),y===0&&(g===1&&(a=v-1-a,r=v-1-r),d=a,a=r,r=d)}return c}function sortPaths(a){var r=1/0,n=1/0,o=-1/0,s=-1/0,l=map$1(a,function(c){var d=c.getBoundingRect(),v=c.getComputedTransform(),g=d.x+d.width/2+(v?v[4]:0),y=d.y+d.height/2+(v?v[5]:0);return r=Math.min(g,r),n=Math.min(y,n),o=Math.max(g,o),s=Math.max(y,s),[g,y]}),u=map$1(l,function(c,d){return{cp:c,z:hilbert(c[0],c[1],r,n,o,s),path:a[d]}});return u.sort(function(c,d){return c.z-d.z}).map(function(c){return c.path})}function defaultDividePath(a){return split(a.path,a.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(a,r,n){var o=[];function s(P){for(var M=0;M<P.length;M++){var E=P[M];isCombineMorphing(E)?s(E.childrenRef()):E instanceof Path$1&&o.push(E)}}s(a);var l=o.length;if(!l)return createEmptyReturn();var u=n.dividePath||defaultDividePath,c=u({path:r,count:l});if(c.length!==l)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();o=sortPaths(o),c=sortPaths(c);for(var d=n.done,v=n.during,g=n.individualDelay,y=new Transformable$1,_=0;_<l;_++){var S=o[_],x=c[_];x.parent=r,x.copyTransform(y),g||prepareMorphPath(S,x)}r.__isCombineMorphing=!0,r.childrenRef=function(){return c};function T(P){for(var M=0;M<c.length;M++)c[M].addSelfToZr(P)}saveAndModifyMethod(r,"addSelfToZr",{after:function(P){T(P)}}),saveAndModifyMethod(r,"removeSelfFromZr",{after:function(P){for(var M=0;M<c.length;M++)c[M].removeSelfFromZr(P)}});function b(){r.__isCombineMorphing=!1,r.__morphT=-1,r.childrenRef=null,restoreMethod(r,"addSelfToZr"),restoreMethod(r,"removeSelfFromZr")}var A=c.length;if(g)for(var w=A,$=function(){w--,w===0&&(b(),d&&d())},_=0;_<A;_++){var C=g?defaults({delay:(n.delay||0)+g(_,A,o[_],c[_]),done:$},n):n;morphPath(o[_],c[_],C)}else r.__morphT=0,r.animateTo({__morphT:1},defaults({during:function(P){for(var M=0;M<A;M++){var E=c[M];E.__morphT=r.__morphT,E.dirtyShape()}v&&v(P)},done:function(){b();for(var P=0;P<a.length;P++)restoreMethod(a[P],"updateTransform");d&&d()}},n));return r.__zr&&T(r.__zr),{fromIndividuals:o,toIndividuals:c,count:A}}function separateMorph(a,r,n){var o=r.length,s=[],l=n.dividePath||defaultDividePath;function u(S){for(var x=0;x<S.length;x++){var T=S[x];isCombineMorphing(T)?u(T.childrenRef()):T instanceof Path$1&&s.push(T)}}if(isCombineMorphing(a)){u(a.childrenRef());var c=s.length;if(c<o)for(var d=0,v=c;v<o;v++)s.push(clonePath(s[d++%c]));s.length=o}else{s=l({path:a,count:o});for(var g=a.getComputedTransform(),v=0;v<s.length;v++)s[v].setLocalTransform(g);if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}s=sortPaths(s),r=sortPaths(r);for(var y=n.individualDelay,v=0;v<o;v++){var _=y?defaults({delay:(n.delay||0)+y(v,o,s[v],r[v])},n):n;morphPath(s[v],r[v],_)}return{fromIndividuals:s,toIndividuals:r,count:r.length}}function isMultiple(a){return isArray$1(a[0])}function prepareMorphBatches(a,r){for(var n=[],o=a.length,s=0;s<o;s++)n.push({one:a[s],many:[]});for(var s=0;s<r.length;s++){var l=r[s].length,u=void 0;for(u=0;u<l;u++)n[u%o].many.push(r[s][u])}for(var c=0,s=o-1;s>=0;s--)if(!n[s].many.length){var d=n[c].many;if(d.length<=1)if(c)c=0;else return n;var l=d.length,v=Math.ceil(l/2);n[s].many=d.slice(v,l),n[c].many=d.slice(0,v),c++}return n}var pathDividers={clone:function(a){for(var r=[],n=1-Math.pow(1-a.path.style.opacity,1/a.count),o=0;o<a.count;o++){var s=clonePath(a.path);s.setStyle("opacity",n),r.push(s)}return r},split:null};function applyMorphAnimation(a,r,n,o,s,l){if(!a.length||!r.length)return;var u=getAnimationConfig("update",o,s);if(!(u&&u.duration>0))return;var c=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},u),v,g;isMultiple(a)&&(v=a,g=r),isMultiple(r)&&(v=r,g=a);function y(A,w,$,C,P){var M=A.many,E=A.one;if(M.length===1&&!P){var D=w?M[0]:E,I=w?E:M[0];if(isCombineMorphing(D))y({many:[D],one:I},!0,$,C,!0);else{var R=c?defaults({delay:c($,C)},d):d;morphPath(D,I,R),l(D,I,D,I,R)}}else for(var L=defaults({dividePath:pathDividers[n],individualDelay:c&&function(U,H,Y,X){return c(U+$,C)}},d),O=w?combineMorph(M,E,L):separateMorph(E,M,L),N=O.fromIndividuals,F=O.toIndividuals,B=N.length,z=0;z<B;z++){var R=c?defaults({delay:c(z,B)},d):d;l(N[z],F[z],w?M[z]:A.one,w?A.one:M[z],R)}}for(var _=v?v===a:a.length>r.length,S=v?prepareMorphBatches(g,v):prepareMorphBatches(_?r:a,[_?a:r]),x=0,T=0;T<S.length;T++)x+=S[T].many.length;for(var b=0,T=0;T<S.length;T++)y(S[T],_,b,x),b+=S[T].many.length}function getPathList(a){if(!a)return[];if(isArray$1(a)){for(var r=[],n=0;n<a.length;n++)r.push(getPathList(a[n]));return r}var o=[];return a.traverse(function(s){s instanceof Path$1&&!s.disableMorphing&&!s.invisible&&!s.ignore&&o.push(s)}),o}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(a){for(var r=a.dimensions,n=0;n<r.length;n++){var o=a.getDimensionInfo(r[n]);if(o&&o.otherDims.itemGroupId===0)return r[n]}}function flattenDataDiffItems(a){var r=[];return each$f(a,function(n){var o=n.data;if(!(o.count()>DATA_COUNT_THRESHOLD))for(var s=o.getIndices(),l=getGroupIdDimension(o),u=0;u<s.length;u++)r.push({data:o,dim:n.dim||l,divide:n.divide,dataIndex:u})}),r}function fadeInElement(a,r,n){a.traverse(function(o){o instanceof Path$1&&initProps(o,{style:{opacity:0}},r,{dataIndex:n,isFrom:!0})})}function removeEl(a){if(a.parent){var r=a.getComputedTransform();a.setLocalTransform(r),a.parent.remove(a)}}function stopAnimation(a){a.stopAnimation(),a.isGroup&&a.traverse(function(r){r.stopAnimation()})}function animateElementStyles(a,r,n){var o=getAnimationConfig("update",n,r);o&&a.traverse(function(s){if(s instanceof Displayable$1){var l=getOldStyle(s);l&&s.animateFrom({style:l},o)}})}function isAllIdSame(a,r){var n=a.length;if(n!==r.length)return!1;for(var o=0;o<n;o++){var s=a[o],l=r[o];if(s.data.getId(s.dataIndex)!==l.data.getId(l.dataIndex))return!1}return!0}function transitionBetween(a,r,n){var o=flattenDataDiffItems(a),s=flattenDataDiffItems(r);function l(A,w,$,C,P){($||A)&&w.animateFrom({style:$&&$!==A?extend(extend({},$.style),A.style):A.style},P)}function u(A){for(var w=0;w<A.length;w++)if(A[w].dim)return A[w].dim}var c=u(o),d=u(s),v=!1;function g(A,w){return function($){var C=$.data,P=$.dataIndex;if(w)return C.getId(P);var M=C.hostModel&&C.hostModel.get("dataGroupId"),E=A?c||d:d||c,D=E&&C.getDimensionInfo(E),I=D&&D.ordinalMeta;if(D){var R=C.get(D.name,P);return I&&I.categories[R]||R+""}var L=C.getRawDataItem(P);return L&&L.groupId?L.groupId+"":M||C.getId(P)}}var y=isAllIdSame(o,s),_={};if(!y)for(var S=0;S<s.length;S++){var x=s[S],T=x.data.getItemGraphicEl(x.dataIndex);T&&(_[T.id]=!0)}function b(A,w){var $=o[w],C=s[A],P=C.data.hostModel,M=$.data.getItemGraphicEl($.dataIndex),E=C.data.getItemGraphicEl(C.dataIndex);if(M===E){E&&animateElementStyles(E,C.dataIndex,P);return}M&&_[M.id]||E&&(stopAnimation(E),M?(stopAnimation(M),removeEl(M),v=!0,applyMorphAnimation(getPathList(M),getPathList(E),C.divide,P,A,l)):fadeInElement(E,P,A))}new DataDiffer$1(o,s,g(!0,y),g(!1,y),null,"multiple").update(b).updateManyToOne(function(A,w){var $=s[A],C=$.data,P=C.hostModel,M=C.getItemGraphicEl($.dataIndex),E=filter(map$1(w,function(D){return o[D].data.getItemGraphicEl(o[D].dataIndex)}),function(D){return D&&D!==M&&!_[D.id]});M&&(stopAnimation(M),E.length?(each$f(E,function(D){stopAnimation(D),removeEl(D)}),v=!0,applyMorphAnimation(getPathList(E),getPathList(M),$.divide,P,A,l)):fadeInElement(M,P,$.dataIndex))}).updateOneToMany(function(A,w){var $=o[w],C=$.data.getItemGraphicEl($.dataIndex);if(!(C&&_[C.id])){var P=filter(map$1(A,function(E){return s[E].data.getItemGraphicEl(s[E].dataIndex)}),function(E){return E&&E!==C}),M=s[A[0]].data.hostModel;P.length&&(each$f(P,function(E){return stopAnimation(E)}),C?(stopAnimation(C),removeEl(C),v=!0,applyMorphAnimation(getPathList(C),getPathList(P),$.divide,M,A[0],l)):each$f(P,function(E){return fadeInElement(E,M,A[0])}))}}).updateManyToMany(function(A,w){new DataDiffer$1(w,A,function($){return o[$].data.getId(o[$].dataIndex)},function($){return s[$].data.getId(s[$].dataIndex)}).update(function($,C){b(A[$],w[C])}).execute()}).execute(),v&&each$f(r,function(A){var w=A.data,$=w.hostModel,C=$&&n.getViewOfSeriesModel($),P=getAnimationConfig("update",$,0);C&&$.isAnimationEnabled()&&P&&P.duration>0&&C.group.traverse(function(M){M instanceof Path$1&&!M.animators.length&&M.animateFrom({style:{opacity:0}},P)})})}function getSeriesTransitionKey(a){var r=a.getModel("universalTransition").get("seriesKey");return r||a.id}function convertArraySeriesKeyToString(a){return isArray$1(a)?a.sort().join(","):a}function getDivideShapeFromData(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(a,r){var n=createHashMap(),o=createHashMap(),s=createHashMap();return each$f(a.oldSeries,function(l,u){var c=a.oldData[u],d=getSeriesTransitionKey(l),v=convertArraySeriesKeyToString(d);o.set(v,c),isArray$1(d)&&each$f(d,function(g){s.set(g,{data:c,key:v})})}),each$f(r.updatedSeries,function(l){if(l.isUniversalTransitionEnabled()&&l.isAnimationEnabled()){var u=l.getData(),c=getSeriesTransitionKey(l),d=convertArraySeriesKeyToString(c),v=o.get(d);if(v)n.set(d,{oldSeries:[{divide:getDivideShapeFromData(v),data:v}],newSeries:[{divide:getDivideShapeFromData(u),data:u}]});else if(isArray$1(c)){var g=[];each$f(c,function(S){var x=o.get(S);x&&g.push({divide:getDivideShapeFromData(x),data:x})}),g.length&&n.set(d,{oldSeries:g,newSeries:[{data:u,divide:getDivideShapeFromData(u)}]})}else{var y=s.get(c);if(y){var _=n.get(y.key);_||(_={oldSeries:[{data:y.data,divide:getDivideShapeFromData(y.data)}],newSeries:[]},n.set(y.key,_)),_.newSeries.push({data:u,divide:getDivideShapeFromData(u)})}}}}),n}function querySeries(a,r){for(var n=0;n<a.length;n++){var o=r.seriesIndex!=null&&r.seriesIndex===a[n].seriesIndex||r.seriesId!=null&&r.seriesId===a[n].id;if(o)return n}}function transitionSeriesFromOpt(a,r,n,o){var s=[],l=[];each$f(normalizeToArray(a.from),function(u){var c=querySeries(r.oldSeries,u);c>=0&&s.push({data:r.oldData[c],divide:getDivideShapeFromData(r.oldData[c]),dim:u.dimension})}),each$f(normalizeToArray(a.to),function(u){var c=querySeries(n.updatedSeries,u);if(c>=0){var d=n.updatedSeries[c].getData();l.push({data:d,divide:getDivideShapeFromData(d),dim:u.dimension})}}),s.length>0&&l.length>0&&transitionBetween(s,l,o)}function installUniversalTransition(a){a.registerUpdateLifecycle("series:beforeupdate",function(r,n,o){each$f(normalizeToArray(o.seriesTransition),function(s){each$f(normalizeToArray(s.to),function(l){for(var u=o.updatedSeries,c=0;c<u.length;c++)(l.seriesIndex!=null&&l.seriesIndex===u[c].seriesIndex||l.seriesId!=null&&l.seriesId===u[c].id)&&(u[c][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(r,n,o){var s=getUniversalTransitionGlobalStore(n);if(s.oldSeries&&o.updatedSeries&&o.optionChanged){var l=o.seriesTransition;if(l)each$f(normalizeToArray(l),function(_){transitionSeriesFromOpt(_,s,o,n)});else{var u=findTransitionSeriesBatches(s,o);each$f(u.keys(),function(_){var S=u.get(_);transitionBetween(S.oldSeries,S.newSeries,n)})}each$f(o.updatedSeries,function(_){_[SERIES_UNIVERSAL_TRANSITION_PROP]&&(_[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var c=r.getSeries(),d=s.oldSeries=[],v=s.oldData=[],g=0;g<c.length;g++){var y=c[g].getData();y.count()<DATA_COUNT_THRESHOLD&&(d.push(c[g]),v.push(y))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(a){var r=hasOwnProperty.call(a,symToStringTag$1),n=a[symToStringTag$1];try{a[symToStringTag$1]=void 0;var o=!0}catch{}var s=nativeObjectToString$1.call(a);return o&&(r?a[symToStringTag$1]=n:delete a[symToStringTag$1]),s}var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString(a){return nativeObjectToString.call(a)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(a){return a==null?a===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(a)?getRawTag(a):objectToString(a)}function isObjectLike(a){return a!=null&&typeof a=="object"}var symbolTag="[object Symbol]";function isSymbol(a){return typeof a=="symbol"||isObjectLike(a)&&baseGetTag(a)==symbolTag}var reWhitespace=/\s/;function trimmedEndIndex(a){for(var r=a.length;r--&&reWhitespace.test(a.charAt(r)););return r}var reTrimStart=/^\s+/;function baseTrim(a){return a&&a.slice(0,trimmedEndIndex(a)+1).replace(reTrimStart,"")}function isObject$1(a){var r=typeof a;return a!=null&&(r=="object"||r=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(a){if(typeof a=="number")return a;if(isSymbol(a))return NAN;if(isObject$1(a)){var r=typeof a.valueOf=="function"?a.valueOf():a;a=isObject$1(r)?r+"":r}if(typeof a!="string")return a===0?a:+a;a=baseTrim(a);var n=reIsBinary.test(a);return n||reIsOctal.test(a)?freeParseInt(a.slice(2),n?2:8):reIsBadHex.test(a)?NAN:+a}var now=function(){return root$1.Date.now()};const now$1=now;var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(a,r,n){var o,s,l,u,c,d,v=0,g=!1,y=!1,_=!0;if(typeof a!="function")throw new TypeError(FUNC_ERROR_TEXT);r=toNumber(r)||0,isObject$1(n)&&(g=!!n.leading,y="maxWait"in n,l=y?nativeMax(toNumber(n.maxWait)||0,r):l,_="trailing"in n?!!n.trailing:_);function S(M){var E=o,D=s;return o=s=void 0,v=M,u=a.apply(D,E),u}function x(M){return v=M,c=setTimeout(A,r),g?S(M):u}function T(M){var E=M-d,D=M-v,I=r-E;return y?nativeMin(I,l-D):I}function b(M){var E=M-d,D=M-v;return d===void 0||E>=r||E<0||y&&D>=l}function A(){var M=now$1();if(b(M))return w(M);c=setTimeout(A,T(M))}function w(M){return c=void 0,_&&o?S(M):(o=s=void 0,u)}function $(){c!==void 0&&clearTimeout(c),v=0,o=d=s=c=void 0}function C(){return c===void 0?u:w(now$1())}function P(){var M=now$1(),E=b(M);if(o=arguments,s=this,d=M,E){if(c===void 0)return x(d);if(y)return clearTimeout(c),c=setTimeout(A,r),S(d)}return c===void 0&&(c=setTimeout(A,r)),u}return P.cancel=$,P.flush=C,P}var raf=null;function requestAnimationFrame$1(a){return raf||(raf=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(r){return setTimeout(r,16)}).bind(window)),raf(a)}var caf=null;function cancelAnimationFrame(a){caf||(caf=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(r){clearTimeout(r)}).bind(window)),caf(a)}function createStyles(a){var r=document.createElement("style");return r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),(document.querySelector("head")||document.body).appendChild(r),r}function createElement(a,r){r===void 0&&(r={});var n=document.createElement(a);return Object.keys(r).forEach(function(o){n[o]=r[o]}),n}function getComputedStyle(a,r,n){var o=window.getComputedStyle(a,n||null)||{display:"none"};return o[r]}function getRenderInfo(a){if(!document.documentElement.contains(a))return{detached:!0,rendered:!1};for(var r=a;r!==document;){if(getComputedStyle(r,"display")==="none")return{detached:!1,rendered:!1};r=r.parentNode}return{detached:!1,rendered:!0}}var css_248z='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',total=0,style=null;function addListener(a,r){a.__resize_mutation_handler__||(a.__resize_mutation_handler__=handleMutation.bind(a));var n=a.__resize_listeners__;if(!n){if(a.__resize_listeners__=[],window.ResizeObserver){var o=a.offsetWidth,s=a.offsetHeight,l=new ResizeObserver(function(){!a.__resize_observer_triggered__&&(a.__resize_observer_triggered__=!0,a.offsetWidth===o&&a.offsetHeight===s)||runCallbacks(a)}),u=getRenderInfo(a),c=u.detached,d=u.rendered;a.__resize_observer_triggered__=c===!1&&d===!1,a.__resize_observer__=l,l.observe(a)}else if(a.attachEvent&&a.addEventListener)a.__resize_legacy_resize_handler__=function(){runCallbacks(a)},a.attachEvent("onresize",a.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",a.__resize_mutation_handler__);else if(total||(style=createStyles(css_248z)),initTriggers(a),a.__resize_rendered__=getRenderInfo(a).rendered,window.MutationObserver){var v=new MutationObserver(a.__resize_mutation_handler__);v.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),a.__resize_mutation_observer__=v}}a.__resize_listeners__.push(r),total++}function removeListener(a,r){var n=a.__resize_listeners__;if(!!n){if(r&&n.splice(n.indexOf(r),1),!n.length||!r){if(a.detachEvent&&a.removeEventListener){a.detachEvent("onresize",a.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",a.__resize_mutation_handler__);return}a.__resize_observer__?(a.__resize_observer__.unobserve(a),a.__resize_observer__.disconnect(),a.__resize_observer__=null):(a.__resize_mutation_observer__&&(a.__resize_mutation_observer__.disconnect(),a.__resize_mutation_observer__=null),a.removeEventListener("scroll",handleScroll),a.removeChild(a.__resize_triggers__.triggers),a.__resize_triggers__=null),a.__resize_listeners__=null}!--total&&style&&style.parentNode.removeChild(style)}}function getUpdatedSize(a){var r=a.__resize_last__,n=r.width,o=r.height,s=a.offsetWidth,l=a.offsetHeight;return s!==n||l!==o?{width:s,height:l}:null}function handleMutation(){var a=getRenderInfo(this),r=a.rendered,n=a.detached;r!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(resetTriggers(this),this.addEventListener("scroll",handleScroll,!0)),this.__resize_rendered__=r,runCallbacks(this))}function handleScroll(){var a=this;resetTriggers(this),this.__resize_raf__&&cancelAnimationFrame(this.__resize_raf__),this.__resize_raf__=requestAnimationFrame$1(function(){var r=getUpdatedSize(a);r&&(a.__resize_last__=r,runCallbacks(a))})}function runCallbacks(a){!a||!a.__resize_listeners__||a.__resize_listeners__.forEach(function(r){r.call(a,a)})}function initTriggers(a){var r=getComputedStyle(a,"position");(!r||r==="static")&&(a.style.position="relative"),a.__resize_old_position__=r,a.__resize_last__={};var n=createElement("div",{className:"resize-triggers"}),o=createElement("div",{className:"resize-expand-trigger"}),s=createElement("div"),l=createElement("div",{className:"resize-contract-trigger"});o.appendChild(s),n.appendChild(o),n.appendChild(l),a.appendChild(n),a.__resize_triggers__={triggers:n,expand:o,expandChild:s,contract:l},resetTriggers(a),a.addEventListener("scroll",handleScroll,!0),a.__resize_last__={width:a.offsetWidth,height:a.offsetHeight}}function resetTriggers(a){var r=a.__resize_triggers__,n=r.expand,o=r.expandChild,s=r.contract,l=s.scrollWidth,u=s.scrollHeight,c=n.offsetWidth,d=n.offsetHeight,v=n.scrollWidth,g=n.scrollHeight;s.scrollLeft=l,s.scrollTop=u,o.style.width=c+1+"px",o.style.height=d+1+"px",n.scrollLeft=v,n.scrollTop=g}const contrastColor="rgba(255, 255, 255, 0.65)",backgroundColor="transparent",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"red"},subtextStyle:{color:"rgba(255, 255, 255, 0.65)"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor}},candlestick:{itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}};theme.categoryAxis.splitLine.show=!1;const _sfc_main$1=defineComponent({__name:"index",props:{option:Object},setup(a){const r=a;registerTheme("dark-chart",theme);const n=ref();let o=null;const s=inject("isRealDark",ref(!1)),u=debounce(()=>{o==null||o.resize()},300),c=()=>{n.value&&removeListener(n.value,u),o==null||o.dispose(),o=null},d=()=>{c(),n.value&&(o=init$1(n.value,s.value?"dark-chart":void 0),o.setOption(r.option),addListener(n.value,u))};return watch(s,()=>{d()},{flush:"post"}),onMounted(()=>{watch(()=>r.option,()=>{o==null||o.setOption(r.option)},{deep:!0,flush:"post"}),d()}),onUnmounted(()=>{c()}),(v,g)=>(openBlock(),createElementBlock("div",{ref_key:"chartDom",ref:n},null,512))}}),_hoisted_1={class:"container"},_hoisted_2={class:"chart"},_hoisted_3={class:"chart item"},_hoisted_4={class:"chart item"},_sfc_main=defineComponent({__name:"index",setup(a){const r={title:{},tooltip:{},xAxis:{data:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708"]},yAxis:{},series:[{name:"sales",type:"bar",data:[5,20,36,10,10,20]}]},n={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]},o={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Pressure",type:"gauge",detail:{formatter:"{value}"},data:[{value:50,name:"SCORE"}]}]},s=ref(r),l=ref(n),u=ref(o),c=()=>history.back();return(d,v)=>{const g=NavBar;return openBlock(),createElementBlock(Fragment,null,[createVNode$1(g,{title:"\u{1F4CA} charts",onClickLeft:c,"left-arrow":"",fixed:""}),createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode$1(unref(_sfc_main$1),{option:s.value,style:{height:"330px"}},null,8,["option"])]),createBaseVNode("div",_hoisted_3,[createVNode$1(unref(_sfc_main$1),{option:l.value,style:{height:"330px"}},null,8,["option"])]),createBaseVNode("div",_hoisted_4,[createVNode$1(unref(_sfc_main$1),{option:u.value,style:{height:"330px"}},null,8,["option"])])])],64)}}}),index_vue_vue_type_style_index_0_scoped_9c3dde2f_lang="",charts=_export_sfc(_sfc_main,[["__scopeId","data-v-9c3dde2f"]]);NProgress.configure({showSpinner:!0});const routes=[{path:"/",name:"\u5458\u5DE5\u8EAB\u4EFD\u9A8C\u8BC1",component:mian},{path:"/mock",name:"mock",component:mock},{path:"/charts",name:"charts",component:charts}],router=createRouter({history:createWebHistory(),routes,scrollBehavior(){return{top:0}}});router.beforeEach((a,r,n)=>{NProgress.start(),n()});router.afterEach(()=>{NProgress.done()});function isObject(a){return typeof a=="object"&&a!==null}function normalizeOptions(a,r){return a=isObject(a)?a:Object.create(null),new Proxy(a,{get(n,o,s){return Reflect.get(n,o,s)||Reflect.get(r,o,s)}})}function isObject2(a){return a!==null&&typeof a=="object"}function merge(a,r){const n=Array.isArray(a)&&Array.isArray(r),o=isObject2(a)&&isObject2(r);if(!n&&!o)throw new Error("Can only merge object with object or array with array");const s=n?[]:{};return[...Object.keys(a),...Object.keys(r)].forEach(u=>{Array.isArray(a[u])&&Array.isArray(r[u])?s[u]=[...Object.values(merge(a[u],r[u]))]:r[u]!==null&&typeof r[u]=="object"&&typeof a[u]=="object"?s[u]=merge(a[u],r[u]):a[u]!==void 0&&r[u]===void 0?s[u]=a[u]:a[u]===void 0&&r[u]!==void 0&&(s[u]=r[u])}),s}function get(a,r){return r.reduce((n,o)=>o==="[]"&&Array.isArray(n)?n:n==null?void 0:n[o],a)}function set(a,r,n){const o=r.slice(0,-1).reduce((s,l)=>/^(__proto__)$/.test(l)?{}:s[l]=s[l]||{},a);if(Array.isArray(o[r[r.length-1]])&&Array.isArray(n)){const s=o[r[r.length-1]].map((l,u)=>Array.isArray(l)&&typeof l!="object"?[...l,...n[u]]:typeof l=="object"&&l!==null&&Object.keys(l).some(c=>Array.isArray(l[c]))?merge(l,n[u]):{...l,...n[u]});o[r[r.length-1]]=s}else r[r.length-1]===void 0&&Array.isArray(o)&&Array.isArray(n)?o.push(...n):o[r[r.length-1]]=n;return a}function pick(a,r){return r.reduce((n,o)=>{const s=o.split(".");if(!s.includes("[]"))return set(n,s,get(a,s));const l=s.indexOf("[]"),u=s.slice(0,l),c=s.slice(0,l+1),d=s.slice(l+1),v=get(a,c),g=[];for(const y of v)d.length!==0&&(Array.isArray(y)||typeof y=="object")?g.push(pick(y,[d.join(".")])):g.push(y);return set(n,u,g)},Array.isArray(a)?[]:{})}function hydrateStore(a,r,n,o){try{const s=r==null?void 0:r.getItem(o);s&&a.$patch(n==null?void 0:n.deserialize(s))}catch{}}function createPersistedState(a={}){return r=>{const{options:{persist:n},store:o}=r;if(!n)return;const s=(Array.isArray(n)?n.map(l=>normalizeOptions(l,a)):[normalizeOptions(n,a)]).map(({storage:l=localStorage,beforeRestore:u=null,afterRestore:c=null,serializer:d={serialize:JSON.stringify,deserialize:JSON.parse},key:v=o.$id,paths:g=null})=>({storage:l,beforeRestore:u,afterRestore:c,serializer:d,key:v,paths:g}));s.forEach(l=>{const{storage:u,serializer:c,key:d,paths:v,beforeRestore:g,afterRestore:y}=l;g==null||g(r),hydrateStore(o,u,c,d),y==null||y(r),o.$subscribe((_,S)=>{try{const x=Array.isArray(v)?pick(S,v):S;u.setItem(d,c.serialize(x))}catch{}},{detached:!0})}),o.$hydrate=({runHooks:l=!0}={})=>{s.forEach(u=>{const{beforeRestore:c,afterRestore:d,storage:v,serializer:g,key:y}=u;l&&(c==null||c(r)),hydrateStore(o,v,g,y),l&&(d==null||d(r))})}}}var src_default=createPersistedState();const app$1="";(function(){if(typeof window>"u")return;var a,r="ontouchstart"in window;document.createTouch||(document.createTouch=function(g,y,_,S,x,T,b){return new n(y,_,{pageX:S,pageY:x,screenX:T,screenY:b,clientX:S-window.pageXOffset,clientY:x-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var g=o(),y=0;y<arguments.length;y++)g[y]=arguments[y];return g.length=arguments.length,g}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(g){var y=this;do{if(y.matches(g))return y;y=y.parentElement||y.parentNode}while(y!==null&&y.nodeType===1);return null});var n=function(y,_,S,x,T){x=x||0,T=T||0,this.identifier=_,this.target=y,this.clientX=S.clientX+x,this.clientY=S.clientY+T,this.screenX=S.screenX+x,this.screenY=S.screenY+T,this.pageX=S.pageX+x,this.pageY=S.pageY+T};function o(){var g=[];return g.item=function(y){return this[y]||null},g.identifiedTouch=function(y){return this[y+1]||null},g}var s=!1;function l(g){return function(y){y.type==="mousedown"&&(s=!0),y.type==="mouseup"&&(s=!1),!(y.type==="mousemove"&&!s)&&((y.type==="mousedown"||!a||a&&!a.dispatchEvent)&&(a=y.target),a.closest("[data-no-touch-simulate]")==null&&u(g,y),y.type==="mouseup"&&(a=null))}}function u(g,y){var _=document.createEvent("Event");_.initEvent(g,!0,!0),_.altKey=y.altKey,_.ctrlKey=y.ctrlKey,_.metaKey=y.metaKey,_.shiftKey=y.shiftKey,_.touches=d(y),_.targetTouches=d(y),_.changedTouches=c(y),a.dispatchEvent(_)}function c(g){var y=o();return y.push(new n(a,1,g,0,0)),y}function d(g){return g.type==="mouseup"?o():c(g)}function v(){window.addEventListener("mousedown",l("touchstart"),!0),window.addEventListener("mousemove",l("touchmove"),!0),window.addEventListener("mouseup",l("touchend"),!0)}v.multiTouchOffset=75,r||new v})();const index="",app=createApp(_sfc_main$4),pinia=createPinia();pinia.use(src_default);app.use(router).use(pinia);app.mount("#app");export{__vite_legacy_guard};
